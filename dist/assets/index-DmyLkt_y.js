(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var xh={exports:{}},Yi={},gh={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bn=Symbol.for("react.element"),Sp=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Dp=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),Tp=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Pp=Symbol.for("react.memo"),Bp=Symbol.for("react.lazy"),Td=Symbol.iterator;function Ip(e){return e===null||typeof e!="object"?null:(e=Td&&e[Td]||e["@@iterator"],typeof e=="function"?e:null)}var vh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yh=Object.assign,bh={};function fr(e,t,s){this.props=e,this.context=t,this.refs=bh,this.updater=s||vh}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wh(){}wh.prototype=fr.prototype;function wc(e,t,s){this.props=e,this.context=t,this.refs=bh,this.updater=s||vh}var _c=wc.prototype=new wh;_c.constructor=wc;yh(_c,fr.prototype);_c.isPureReactComponent=!0;var Fd=Array.isArray,_h=Object.prototype.hasOwnProperty,Nc={current:null},Nh={key:!0,ref:!0,__self:!0,__source:!0};function jh(e,t,s){var r,n={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)_h.call(t,r)&&!Nh.hasOwnProperty(r)&&(n[r]=t[r]);var u=arguments.length-2;if(u===1)n.children=s;else if(1<u){for(var c=Array(u),o=0;o<u;o++)c[o]=arguments[o+2];n.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)n[r]===void 0&&(n[r]=u[r]);return{$$typeof:bn,type:e,key:i,ref:l,props:n,_owner:Nc.current}}function Mp(e,t){return{$$typeof:bn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===bn}function Op(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Pd=/\/+/g;function wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Op(""+e.key):t.toString(36)}function ti(e,t,s,r,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case bn:case Sp:l=!0}}if(l)return l=e,n=n(l),e=r===""?"."+wl(l,0):r,Fd(n)?(s="",e!=null&&(s=e.replace(Pd,"$&/")+"/"),ti(n,t,s,"",function(o){return o})):n!=null&&(jc(n)&&(n=Mp(n,s+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(Pd,"$&/")+"/")+e)),t.push(n)),1;if(l=0,r=r===""?".":r+":",Fd(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+wl(i,u);l+=ti(i,t,s,c,n)}else if(c=Ip(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+wl(i,u++),l+=ti(i,t,s,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function En(e,t,s){if(e==null)return e;var r=[],n=0;return ti(e,r,"","",function(i){return t.call(s,i,n++)}),r}function zp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},si={transition:null},Up={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:si,ReactCurrentOwner:Nc};function Ch(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:En,forEach:function(e,t,s){En(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return En(e,function(){t++}),t},toArray:function(e){return En(e,function(t){return t})||[]},only:function(e){if(!jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=fr;_e.Fragment=kp;_e.Profiler=Lp;_e.PureComponent=wc;_e.StrictMode=Rp;_e.Suspense=Fp;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Up;_e.act=Ch;_e.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yh({},e.props),n=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Nc.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_h.call(t,c)&&!Nh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){u=Array(c);for(var o=0;o<c;o++)u[o]=arguments[o+2];r.children=u}return{$$typeof:bn,type:e.type,key:n,ref:i,props:r,_owner:l}};_e.createContext=function(e){return e={$$typeof:Ep,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dp,_context:e},e.Consumer=e};_e.createElement=jh;_e.createFactory=function(e){var t=jh.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:Tp,render:e}};_e.isValidElement=jc;_e.lazy=function(e){return{$$typeof:Bp,_payload:{_status:-1,_result:e},_init:zp}};_e.memo=function(e,t){return{$$typeof:Pp,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=si.transition;si.transition={};try{e()}finally{si.transition=t}};_e.unstable_act=Ch;_e.useCallback=function(e,t){return pt.current.useCallback(e,t)};_e.useContext=function(e){return pt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return pt.current.useEffect(e,t)};_e.useId=function(){return pt.current.useId()};_e.useImperativeHandle=function(e,t,s){return pt.current.useImperativeHandle(e,t,s)};_e.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return pt.current.useMemo(e,t)};_e.useReducer=function(e,t,s){return pt.current.useReducer(e,t,s)};_e.useRef=function(e){return pt.current.useRef(e)};_e.useState=function(e){return pt.current.useState(e)};_e.useSyncExternalStore=function(e,t,s){return pt.current.useSyncExternalStore(e,t,s)};_e.useTransition=function(){return pt.current.useTransition()};_e.version="18.3.1";gh.exports=_e;var O=gh.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp=O,$p=Symbol.for("react.element"),Vp=Symbol.for("react.fragment"),Qp=Object.prototype.hasOwnProperty,Wp=qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gp={key:!0,ref:!0,__self:!0,__source:!0};function Sh(e,t,s){var r,n={},i=null,l=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Qp.call(t,r)&&!Gp.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:$p,type:e,key:i,ref:l,props:n,_owner:Wp.current}}Yi.Fragment=Vp;Yi.jsx=Sh;Yi.jsxs=Sh;xh.exports=Yi;var a=xh.exports,kh={exports:{}},Et={},Rh={exports:{}},Lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,P){var W=z.length;z.push(P);e:for(;0<W;){var B=W-1>>>1,M=z[B];if(0<n(M,P))z[B]=P,z[W]=M,W=B;else break e}}function s(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var P=z[0],W=z.pop();if(W!==P){z[0]=W;e:for(var B=0,M=z.length,te=M>>>1;B<te;){var se=2*(B+1)-1,X=z[se],re=se+1,Ne=z[re];if(0>n(X,W))re<M&&0>n(Ne,X)?(z[B]=Ne,z[re]=W,B=re):(z[B]=X,z[se]=W,B=se);else if(re<M&&0>n(Ne,W))z[B]=Ne,z[re]=W,B=re;else break e}}return P}function n(z,P){var W=z.sortIndex-P.sortIndex;return W!==0?W:z.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],o=[],d=1,h=null,A=3,f=!1,x=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var P=s(o);P!==null;){if(P.callback===null)r(o);else if(P.startTime<=z)r(o),P.sortIndex=P.expirationTime,t(c,P);else break;P=s(o)}}function w(z){if(m=!1,v(z),!x)if(s(c)!==null)x=!0,V(j);else{var P=s(o);P!==null&&F(w,P.startTime-z)}}function j(z,P){x=!1,m&&(m=!1,g(E),E=-1),f=!0;var W=A;try{for(v(P),h=s(c);h!==null&&(!(h.expirationTime>P)||z&&!U());){var B=h.callback;if(typeof B=="function"){h.callback=null,A=h.priorityLevel;var M=B(h.expirationTime<=P);P=e.unstable_now(),typeof M=="function"?h.callback=M:h===s(c)&&r(c),v(P)}else r(c);h=s(c)}if(h!==null)var te=!0;else{var se=s(o);se!==null&&F(w,se.startTime-P),te=!1}return te}finally{h=null,A=W,f=!1}}var C=!1,L=null,E=-1,k=5,R=-1;function U(){return!(e.unstable_now()-R<k)}function _(){if(L!==null){var z=e.unstable_now();R=z;var P=!0;try{P=L(!0,z)}finally{P?I():(C=!1,L=null)}}else C=!1}var I;if(typeof p=="function")I=function(){p(_)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,S=b.port2;b.port1.onmessage=_,I=function(){S.postMessage(null)}}else I=function(){y(_,0)};function V(z){L=z,C||(C=!0,I())}function F(z,P){E=y(function(){z(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,V(j))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(z){switch(A){case 1:case 2:case 3:var P=3;break;default:P=A}var W=A;A=P;try{return z()}finally{A=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=A;A=z;try{return P()}finally{A=W}},e.unstable_scheduleCallback=function(z,P,W){var B=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=W+M,z={id:d++,callback:P,priorityLevel:z,startTime:W,expirationTime:M,sortIndex:-1},W>B?(z.sortIndex=W,t(o,z),s(c)===null&&z===s(o)&&(m?(g(E),E=-1):m=!0,F(w,W-B))):(z.sortIndex=M,t(c,z),x||f||(x=!0,V(j))),z},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(z){var P=A;return function(){var W=A;A=P;try{return z.apply(this,arguments)}finally{A=W}}}})(Lh);Rh.exports=Lh;var Hp=Rh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=O,Dt=Hp;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,Zr={};function va(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(Zr[e]=t,e=0;e<t.length;e++)Dh.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,Kp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bd={},Id={};function Jp(e){return co.call(Id,e)?!0:co.call(Bd,e)?!1:Kp.test(e)?Id[e]=!0:(Bd[e]=!0,!1)}function Yp(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zp(e,t,s,r){if(t===null||typeof t>"u"||Yp(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,s,r,n,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cc,Sc);nt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cc,Sc);nt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cc,Sc);nt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function kc(e,t,s,r){var n=nt.hasOwnProperty(t)?nt[t]:null;(n!==null?n.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zp(t,s,n,r)&&(s=null),r||n===null?Jp(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,r=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Ns=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tn=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),uo=Symbol.for("react.profiler"),Eh=Symbol.for("react.provider"),Th=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),Fh=Symbol.for("react.offscreen"),Md=Symbol.iterator;function wr(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,_l;function Er(e){if(_l===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var Nl=!1;function jl(e,t){if(!e||Nl)return"";Nl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var r=o}Reflect.construct(e,[],t)}else{try{t.call()}catch(o){r=o}e.call(t.prototype)}else{try{throw Error()}catch(o){r=o}e()}}catch(o){if(o&&r&&typeof o.stack=="string"){for(var n=o.stack.split(`
`),i=r.stack.split(`
`),l=n.length-1,u=i.length-1;1<=l&&0<=u&&n[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(n[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||n[l]!==i[u]){var c=`
`+n[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Nl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Er(e):""}function e0(e){switch(e.tag){case 5:return Er(e.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return e=jl(e.type,!1),e;case 11:return e=jl(e.type.render,!1),e;case 1:return e=jl(e.type,!0),e;default:return""}}function mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pa:return"Fragment";case Fa:return"Portal";case uo:return"Profiler";case Rc:return"StrictMode";case ho:return"Suspense";case fo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Th:return(e.displayName||"Context")+".Consumer";case Eh:return(e._context.displayName||"Context")+".Provider";case Lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dc:return t=e.displayName||null,t!==null?t:mo(e.type)||"Memo";case ks:t=e._payload,e=e._init;try{return mo(e(t))}catch{}}return null}function t0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(t);case 8:return t===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ph(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s0(e){var t=Ph(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fn(e){e._valueTracker||(e._valueTracker=s0(e))}function Bh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Ph(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function po(e,t){var s=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Od(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Qs(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ih(e,t){t=t.checked,t!=null&&kc(e,"checked",t,!1)}function Ao(e,t){Ih(e,t);var s=Qs(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,s):t.hasOwnProperty("defaultValue")&&xo(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zd(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function xo(e,t,s){(t!=="number"||vi(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Tr=Array.isArray;function Ka(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Qs(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function go(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ud(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Z(92));if(Tr(s)){if(1<s.length)throw Error(Z(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Qs(s)}}function Mh(e,t){var s=Qs(t.value),r=Qs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function qd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pn,zh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function en(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a0=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){a0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function Uh(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function qh(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,n=Uh(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}var r0=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(e,t){if(t){if(r0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function Ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _o=null,Ja=null,Ya=null;function $d(e){if(e=Nn(e)){if(typeof _o!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=al(t),_o(e.stateNode,e.type,t))}}function $h(e){Ja?Ya?Ya.push(e):Ya=[e]:Ja=e}function Vh(){if(Ja){var e=Ja,t=Ya;if(Ya=Ja=null,$d(e),t)for(e=0;e<t.length;e++)$d(t[e])}}function Qh(e,t){return e(t)}function Wh(){}var Cl=!1;function Gh(e,t,s){if(Cl)return e(t,s);Cl=!0;try{return Qh(e,t,s)}finally{Cl=!1,(Ja!==null||Ya!==null)&&(Wh(),Vh())}}function tn(e,t){var s=e.stateNode;if(s===null)return null;var r=al(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Z(231,t,typeof s));return s}var No=!1;if(gs)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){No=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{No=!1}function n0(e,t,s,r,n,i,l,u,c){var o=Array.prototype.slice.call(arguments,3);try{t.apply(s,o)}catch(d){this.onError(d)}}var zr=!1,yi=null,bi=!1,jo=null,i0={onError:function(e){zr=!0,yi=e}};function l0(e,t,s,r,n,i,l,u,c){zr=!1,yi=null,n0.apply(i0,arguments)}function o0(e,t,s,r,n,i,l,u,c){if(l0.apply(this,arguments),zr){if(zr){var o=yi;zr=!1,yi=null}else throw Error(Z(198));bi||(bi=!0,jo=o)}}function ya(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Hh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vd(e){if(ya(e)!==e)throw Error(Z(188))}function c0(e){var t=e.alternate;if(!t){if(t=ya(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(r=n.return,r!==null){s=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return Vd(n),e;if(i===r)return Vd(n),t;i=i.sibling}throw Error(Z(188))}if(s.return!==r.return)s=n,r=i;else{for(var l=!1,u=n.child;u;){if(u===s){l=!0,s=n,r=i;break}if(u===r){l=!0,r=n,s=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===s){l=!0,s=i,r=n;break}if(u===r){l=!0,r=i,s=n;break}u=u.sibling}if(!l)throw Error(Z(189))}}if(s.alternate!==r)throw Error(Z(190))}if(s.tag!==3)throw Error(Z(188));return s.stateNode.current===s?e:t}function Xh(e){return e=c0(e),e!==null?Kh(e):null}function Kh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kh(e);if(t!==null)return t;e=e.sibling}return null}var Jh=Dt.unstable_scheduleCallback,Qd=Dt.unstable_cancelCallback,d0=Dt.unstable_shouldYield,u0=Dt.unstable_requestPaint,Ve=Dt.unstable_now,h0=Dt.unstable_getCurrentPriorityLevel,Tc=Dt.unstable_ImmediatePriority,Yh=Dt.unstable_UserBlockingPriority,wi=Dt.unstable_NormalPriority,f0=Dt.unstable_LowPriority,Zh=Dt.unstable_IdlePriority,Zi=null,is=null;function m0(e){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:x0,p0=Math.log,A0=Math.LN2;function x0(e){return e>>>=0,e===0?32:31-(p0(e)/A0|0)|0}var Bn=64,In=4194304;function Fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,n=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var u=l&~n;u!==0?r=Fr(u):(i&=l,i!==0&&(r=Fr(i)))}else l=s&~n,l!==0?r=Fr(l):i!==0&&(r=Fr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&n)&&(n=r&-r,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Jt(t),n=1<<s,r|=e[s],t&=~n;return r}function g0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v0(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Jt(i),u=1<<l,c=n[l];c===-1?(!(u&s)||u&r)&&(n[l]=g0(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Co(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ef(){var e=Bn;return Bn<<=1,!(Bn&4194240)&&(Bn=64),e}function Sl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function wn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=s}function y0(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Jt(s),i=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~i}}function Fc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Jt(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var Re=0;function tf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sf,Pc,af,rf,nf,So=!1,Mn=[],Bs=null,Is=null,Ms=null,sn=new Map,an=new Map,Ds=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":sn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(t.pointerId)}}function Nr(e,t,s,r,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Nn(t),t!==null&&Pc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function w0(e,t,s,r,n){switch(t){case"focusin":return Bs=Nr(Bs,e,t,s,r,n),!0;case"dragenter":return Is=Nr(Is,e,t,s,r,n),!0;case"mouseover":return Ms=Nr(Ms,e,t,s,r,n),!0;case"pointerover":var i=n.pointerId;return sn.set(i,Nr(sn.get(i)||null,e,t,s,r,n)),!0;case"gotpointercapture":return i=n.pointerId,an.set(i,Nr(an.get(i)||null,e,t,s,r,n)),!0}return!1}function lf(e){var t=ia(e.target);if(t!==null){var s=ya(t);if(s!==null){if(t=s.tag,t===13){if(t=Hh(s),t!==null){e.blockedOn=t,nf(e.priority,function(){af(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ko(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);wo=r,s.target.dispatchEvent(r),wo=null}else return t=Nn(s),t!==null&&Pc(t),e.blockedOn=s,!1;t.shift()}return!0}function Gd(e,t,s){ai(e)&&s.delete(t)}function _0(){So=!1,Bs!==null&&ai(Bs)&&(Bs=null),Is!==null&&ai(Is)&&(Is=null),Ms!==null&&ai(Ms)&&(Ms=null),sn.forEach(Gd),an.forEach(Gd)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,So||(So=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,_0)))}function rn(e){function t(n){return jr(n,e)}if(0<Mn.length){jr(Mn[0],e);for(var s=1;s<Mn.length;s++){var r=Mn[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Bs!==null&&jr(Bs,e),Is!==null&&jr(Is,e),Ms!==null&&jr(Ms,e),sn.forEach(t),an.forEach(t),s=0;s<Ds.length;s++)r=Ds[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ds.length&&(s=Ds[0],s.blockedOn===null);)lf(s),s.blockedOn===null&&Ds.shift()}var Za=Ns.ReactCurrentBatchConfig,Ni=!0;function N0(e,t,s,r){var n=Re,i=Za.transition;Za.transition=null;try{Re=1,Bc(e,t,s,r)}finally{Re=n,Za.transition=i}}function j0(e,t,s,r){var n=Re,i=Za.transition;Za.transition=null;try{Re=4,Bc(e,t,s,r)}finally{Re=n,Za.transition=i}}function Bc(e,t,s,r){if(Ni){var n=ko(e,t,s,r);if(n===null)Il(e,t,r,ji,s),Wd(e,r);else if(w0(n,e,t,s,r))r.stopPropagation();else if(Wd(e,r),t&4&&-1<b0.indexOf(e)){for(;n!==null;){var i=Nn(n);if(i!==null&&sf(i),i=ko(e,t,s,r),i===null&&Il(e,t,r,ji,s),i===n)break;n=i}n!==null&&r.stopPropagation()}else Il(e,t,r,null,s)}}var ji=null;function ko(e,t,s,r){if(ji=null,e=Ec(r),e=ia(e),e!==null)if(t=ya(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Hh(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ji=e,null}function of(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h0()){case Tc:return 1;case Yh:return 4;case wi:case f0:return 16;case Zh:return 536870912;default:return 16}default:return 16}}var Fs=null,Ic=null,ri=null;function cf(){if(ri)return ri;var e,t=Ic,s=t.length,r,n="value"in Fs?Fs.value:Fs.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var l=s-e;for(r=1;r<=l&&t[s-r]===n[i-r];r++);return ri=n.slice(e,1<r?1-r:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function On(){return!0}function Hd(){return!1}function Tt(e){function t(s,r,n,i,l){this._reactName=s,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(s=e[u],this[u]=s?s(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?On:Hd,this.isPropagationStopped=Hd,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=Tt(mr),_n=Ue({},mr,{view:0,detail:0}),C0=Tt(_n),kl,Rl,Cr,el=Ue({},_n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(kl=e.screenX-Cr.screenX,Rl=e.screenY-Cr.screenY):Rl=kl=0,Cr=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),Xd=Tt(el),S0=Ue({},el,{dataTransfer:0}),k0=Tt(S0),R0=Ue({},_n,{relatedTarget:0}),Ll=Tt(R0),L0=Ue({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=Tt(L0),E0=Ue({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=Tt(E0),F0=Ue({},mr,{data:0}),Kd=Tt(F0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I0[e])?!!t[e]:!1}function Oc(){return M0}var O0=Ue({},_n,{key:function(e){if(e.key){var t=P0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z0=Tt(O0),U0=Ue({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=Tt(U0),q0=Ue({},_n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),$0=Tt(q0),V0=Ue({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=Tt(V0),W0=Ue({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=Tt(W0),H0=[9,13,27,32],zc=gs&&"CompositionEvent"in window,Ur=null;gs&&"documentMode"in document&&(Ur=document.documentMode);var X0=gs&&"TextEvent"in window&&!Ur,df=gs&&(!zc||Ur&&8<Ur&&11>=Ur),Yd=" ",Zd=!1;function uf(e,t){switch(e){case"keyup":return H0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ba=!1;function K0(e,t){switch(e){case"compositionend":return hf(t);case"keypress":return t.which!==32?null:(Zd=!0,Yd);case"textInput":return e=t.data,e===Yd&&Zd?null:e;default:return null}}function J0(e,t){if(Ba)return e==="compositionend"||!zc&&uf(e,t)?(e=cf(),ri=Ic=Fs=null,Ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return df&&t.locale!=="ko"?null:t.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y0[e.type]:t==="textarea"}function ff(e,t,s,r){$h(r),t=Ci(t,"onChange"),0<t.length&&(s=new Mc("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var qr=null,nn=null;function Z0(e){Nf(e,0)}function tl(e){var t=Oa(e);if(Bh(t))return e}function eA(e,t){if(e==="change")return t}var mf=!1;if(gs){var Dl;if(gs){var El="oninput"in document;if(!El){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),El=typeof tu.oninput=="function"}Dl=El}else Dl=!1;mf=Dl&&(!document.documentMode||9<document.documentMode)}function su(){qr&&(qr.detachEvent("onpropertychange",pf),nn=qr=null)}function pf(e){if(e.propertyName==="value"&&tl(nn)){var t=[];ff(t,nn,e,Ec(e)),Gh(Z0,t)}}function tA(e,t,s){e==="focusin"?(su(),qr=t,nn=s,qr.attachEvent("onpropertychange",pf)):e==="focusout"&&su()}function sA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(nn)}function aA(e,t){if(e==="click")return tl(t)}function rA(e,t){if(e==="input"||e==="change")return tl(t)}function nA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var es=typeof Object.is=="function"?Object.is:nA;function ln(e,t){if(es(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!co.call(t,n)||!es(e[n],t[n]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var s=au(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=au(s)}}function Af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xf(){for(var e=window,t=vi();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=vi(e.document)}return t}function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iA(e){var t=xf(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Af(s.ownerDocument.documentElement,s)){if(r!==null&&Uc(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(r.start,n);r=r.end===void 0?i:Math.min(r.end,n),!e.extend&&i>r&&(n=r,r=i,i=n),n=ru(s,i);var l=ru(s,r);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lA=gs&&"documentMode"in document&&11>=document.documentMode,Ia=null,Ro=null,$r=null,Lo=!1;function nu(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lo||Ia==null||Ia!==vi(r)||(r=Ia,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&ln($r,r)||($r=r,r=Ci(Ro,"onSelect"),0<r.length&&(t=new Mc("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Ia)))}function zn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ma={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionend:zn("Transition","TransitionEnd")},Tl={},gf={};gs&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function sl(e){if(Tl[e])return Tl[e];if(!Ma[e])return e;var t=Ma[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in gf)return Tl[e]=t[s];return e}var vf=sl("animationend"),yf=sl("animationiteration"),bf=sl("animationstart"),wf=sl("transitionend"),_f=new Map,iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(e,t){_f.set(e,t),va(t,[e])}for(var Fl=0;Fl<iu.length;Fl++){var Pl=iu[Fl],oA=Pl.toLowerCase(),cA=Pl[0].toUpperCase()+Pl.slice(1);Hs(oA,"on"+cA)}Hs(vf,"onAnimationEnd");Hs(yf,"onAnimationIteration");Hs(bf,"onAnimationStart");Hs("dblclick","onDoubleClick");Hs("focusin","onFocus");Hs("focusout","onBlur");Hs(wf,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function lu(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,o0(r,t,void 0,e),e.currentTarget=null}function Nf(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,o=u.currentTarget;if(u=u.listener,c!==i&&n.isPropagationStopped())break e;lu(n,u,o),i=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,o=u.currentTarget,u=u.listener,c!==i&&n.isPropagationStopped())break e;lu(n,u,o),i=c}}}if(bi)throw e=jo,bi=!1,jo=null,e}function Fe(e,t){var s=t[Po];s===void 0&&(s=t[Po]=new Set);var r=e+"__bubble";s.has(r)||(jf(t,e,2,!1),s.add(r))}function Bl(e,t,s){var r=0;t&&(r|=4),jf(s,e,r,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function on(e){if(!e[Un]){e[Un]=!0,Dh.forEach(function(s){s!=="selectionchange"&&(dA.has(s)||Bl(s,!1,e),Bl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Un]||(t[Un]=!0,Bl("selectionchange",!1,t))}}function jf(e,t,s,r){switch(of(t)){case 1:var n=N0;break;case 4:n=j0;break;default:n=Bc}s=n.bind(null,t,s,e),n=void 0,!No||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Il(e,t,s,r,n){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===n||u.nodeType===8&&u.parentNode===n)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;u!==null;){if(l=ia(u),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}u=u.parentNode}}r=r.return}Gh(function(){var o=i,d=Ec(s),h=[];e:{var A=_f.get(e);if(A!==void 0){var f=Mc,x=e;switch(e){case"keypress":if(ni(s)===0)break e;case"keydown":case"keyup":f=z0;break;case"focusin":x="focus",f=Ll;break;case"focusout":x="blur",f=Ll;break;case"beforeblur":case"afterblur":f=Ll;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=k0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=$0;break;case vf:case yf:case bf:f=D0;break;case wf:f=Q0;break;case"scroll":f=C0;break;case"wheel":f=G0;break;case"copy":case"cut":case"paste":f=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Jd}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?A!==null?A+"Capture":null:A;m=[];for(var p=o,v;p!==null;){v=p;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=tn(p,g),w!=null&&m.push(cn(p,w,v)))),y)break;p=p.return}0<m.length&&(A=new f(A,x,null,s,d),h.push({event:A,listeners:m}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",A&&s!==wo&&(x=s.relatedTarget||s.fromElement)&&(ia(x)||x[vs]))break e;if((f||A)&&(A=d.window===d?d:(A=d.ownerDocument)?A.defaultView||A.parentWindow:window,f?(x=s.relatedTarget||s.toElement,f=o,x=x?ia(x):null,x!==null&&(y=ya(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=o),f!==x)){if(m=Xd,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=Jd,w="onPointerLeave",g="onPointerEnter",p="pointer"),y=f==null?A:Oa(f),v=x==null?A:Oa(x),A=new m(w,p+"leave",f,s,d),A.target=y,A.relatedTarget=v,w=null,ia(d)===o&&(m=new m(g,p+"enter",x,s,d),m.target=v,m.relatedTarget=y,w=m),y=w,f&&x)t:{for(m=f,g=x,p=0,v=m;v;v=_a(v))p++;for(v=0,w=g;w;w=_a(w))v++;for(;0<p-v;)m=_a(m),p--;for(;0<v-p;)g=_a(g),v--;for(;p--;){if(m===g||g!==null&&m===g.alternate)break t;m=_a(m),g=_a(g)}m=null}else m=null;f!==null&&ou(h,A,f,m,!1),x!==null&&y!==null&&ou(h,y,x,m,!0)}}e:{if(A=o?Oa(o):window,f=A.nodeName&&A.nodeName.toLowerCase(),f==="select"||f==="input"&&A.type==="file")var j=eA;else if(eu(A))if(mf)j=rA;else{j=sA;var C=tA}else(f=A.nodeName)&&f.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(j=aA);if(j&&(j=j(e,o))){ff(h,j,s,d);break e}C&&C(e,A,o),e==="focusout"&&(C=A._wrapperState)&&C.controlled&&A.type==="number"&&xo(A,"number",A.value)}switch(C=o?Oa(o):window,e){case"focusin":(eu(C)||C.contentEditable==="true")&&(Ia=C,Ro=o,$r=null);break;case"focusout":$r=Ro=Ia=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,nu(h,s,d);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":nu(h,s,d)}var L;if(zc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ba?uf(e,s)&&(E="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(E="onCompositionStart");E&&(df&&s.locale!=="ko"&&(Ba||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ba&&(L=cf()):(Fs=d,Ic="value"in Fs?Fs.value:Fs.textContent,Ba=!0)),C=Ci(o,E),0<C.length&&(E=new Kd(E,e,null,s,d),h.push({event:E,listeners:C}),L?E.data=L:(L=hf(s),L!==null&&(E.data=L)))),(L=X0?K0(e,s):J0(e,s))&&(o=Ci(o,"onBeforeInput"),0<o.length&&(d=new Kd("onBeforeInput","beforeinput",null,s,d),h.push({event:d,listeners:o}),d.data=L))}Nf(h,t)})}function cn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ci(e,t){for(var s=t+"Capture",r=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=tn(e,s),i!=null&&r.unshift(cn(e,i,n)),i=tn(e,t),i!=null&&r.push(cn(e,i,n))),e=e.return}return r}function _a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ou(e,t,s,r,n){for(var i=t._reactName,l=[];s!==null&&s!==r;){var u=s,c=u.alternate,o=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&o!==null&&(u=o,n?(c=tn(s,i),c!=null&&l.unshift(cn(s,c,u))):n||(c=tn(s,i),c!=null&&l.push(cn(s,c,u)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var uA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function cu(e){return(typeof e=="string"?e:""+e).replace(uA,`
`).replace(hA,"")}function qn(e,t,s){if(t=cu(t),cu(e)!==t&&s)throw Error(Z(425))}function Si(){}var Do=null,Eo=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,du=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof du<"u"?function(e){return du.resolve(null).then(e).catch(pA)}:Fo;function pA(e){setTimeout(function(){throw e})}function Ml(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){e.removeChild(n),rn(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=n}while(s);rn(t)}function Os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),ns="__reactFiber$"+pr,dn="__reactProps$"+pr,vs="__reactContainer$"+pr,Po="__reactEvents$"+pr,AA="__reactListeners$"+pr,xA="__reactHandles$"+pr;function ia(e){var t=e[ns];if(t)return t;for(var s=e.parentNode;s;){if(t=s[vs]||s[ns]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=uu(e);e!==null;){if(s=e[ns])return s;e=uu(e)}return t}e=s,s=e.parentNode}return null}function Nn(e){return e=e[ns]||e[vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function al(e){return e[dn]||null}var Bo=[],za=-1;function Xs(e){return{current:e}}function Pe(e){0>za||(e.current=Bo[za],Bo[za]=null,za--)}function Ee(e,t){za++,Bo[za]=e.current,e.current=t}var Ws={},dt=Xs(Ws),bt=Xs(!1),ma=Ws;function rr(e,t){var s=e.type.contextTypes;if(!s)return Ws;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function wt(e){return e=e.childContextTypes,e!=null}function ki(){Pe(bt),Pe(dt)}function hu(e,t,s){if(dt.current!==Ws)throw Error(Z(168));Ee(dt,t),Ee(bt,s)}function Cf(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(Z(108,t0(e)||"Unknown",n));return Ue({},s,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ws,ma=dt.current,Ee(dt,e),Ee(bt,bt.current),!0}function fu(e,t,s){var r=e.stateNode;if(!r)throw Error(Z(169));s?(e=Cf(e,t,ma),r.__reactInternalMemoizedMergedChildContext=e,Pe(bt),Pe(dt),Ee(dt,e)):Pe(bt),Ee(bt,s)}var fs=null,rl=!1,Ol=!1;function Sf(e){fs===null?fs=[e]:fs.push(e)}function gA(e){rl=!0,Sf(e)}function Ks(){if(!Ol&&fs!==null){Ol=!0;var e=0,t=Re;try{var s=fs;for(Re=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}fs=null,rl=!1}catch(n){throw fs!==null&&(fs=fs.slice(e+1)),Jh(Tc,Ks),n}finally{Re=t,Ol=!1}}return null}var Ua=[],qa=0,Li=null,Di=0,Bt=[],It=0,pa=null,ps=1,As="";function sa(e,t){Ua[qa++]=Di,Ua[qa++]=Li,Li=e,Di=t}function kf(e,t,s){Bt[It++]=ps,Bt[It++]=As,Bt[It++]=pa,pa=e;var r=ps;e=As;var n=32-Jt(r)-1;r&=~(1<<n),s+=1;var i=32-Jt(t)+n;if(30<i){var l=n-n%5;i=(r&(1<<l)-1).toString(32),r>>=l,n-=l,ps=1<<32-Jt(t)+n|s<<n|r,As=i+e}else ps=1<<i|s<<n|r,As=e}function qc(e){e.return!==null&&(sa(e,1),kf(e,1,0))}function $c(e){for(;e===Li;)Li=Ua[--qa],Ua[qa]=null,Di=Ua[--qa],Ua[qa]=null;for(;e===pa;)pa=Bt[--It],Bt[It]=null,As=Bt[--It],Bt[It]=null,ps=Bt[--It],Bt[It]=null}var Lt=null,Rt=null,Ie=!1,Kt=null;function Rf(e,t){var s=Ot(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function mu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Rt=Os(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=pa!==null?{id:ps,overflow:As}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ot(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Lt=e,Rt=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mo(e){if(Ie){var t=Rt;if(t){var s=t;if(!mu(e,t)){if(Io(e))throw Error(Z(418));t=Os(s.nextSibling);var r=Lt;t&&mu(e,t)?Rf(r,s):(e.flags=e.flags&-4097|2,Ie=!1,Lt=e)}}else{if(Io(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Ie=!1,Lt=e}}}function pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function $n(e){if(e!==Lt)return!1;if(!Ie)return pu(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=Rt)){if(Io(e))throw Lf(),Error(Z(418));for(;t;)Rf(e,t),t=Os(t.nextSibling)}if(pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Rt=Os(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Lt?Os(e.stateNode.nextSibling):null;return!0}function Lf(){for(var e=Rt;e;)e=Os(e.nextSibling)}function nr(){Rt=Lt=null,Ie=!1}function Vc(e){Kt===null?Kt=[e]:Kt.push(e)}var vA=Ns.ReactCurrentBatchConfig;function Sr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Z(309));var r=s.stateNode}if(!r)throw Error(Z(147,e));var n=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=n.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!s._owner)throw Error(Z(290,e))}return e}function Vn(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Au(e){var t=e._init;return t(e._payload)}function Df(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function s(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function n(g,p){return g=$s(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,p,v,w){return p===null||p.tag!==6?(p=Wl(v,g.mode,w),p.return=g,p):(p=n(p,v),p.return=g,p)}function c(g,p,v,w){var j=v.type;return j===Pa?d(g,p,v.props.children,w,v.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ks&&Au(j)===p.type)?(w=n(p,v.props),w.ref=Sr(g,p,v),w.return=g,w):(w=hi(v.type,v.key,v.props,null,g.mode,w),w.ref=Sr(g,p,v),w.return=g,w)}function o(g,p,v,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Gl(v,g.mode,w),p.return=g,p):(p=n(p,v.children||[]),p.return=g,p)}function d(g,p,v,w,j){return p===null||p.tag!==7?(p=ha(v,g.mode,w,j),p.return=g,p):(p=n(p,v),p.return=g,p)}function h(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Wl(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tn:return v=hi(p.type,p.key,p.props,null,g.mode,v),v.ref=Sr(g,null,p),v.return=g,v;case Fa:return p=Gl(p,g.mode,v),p.return=g,p;case ks:var w=p._init;return h(g,w(p._payload),v)}if(Tr(p)||wr(p))return p=ha(p,g.mode,v,null),p.return=g,p;Vn(g,p)}return null}function A(g,p,v,w){var j=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:u(g,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Tn:return v.key===j?c(g,p,v,w):null;case Fa:return v.key===j?o(g,p,v,w):null;case ks:return j=v._init,A(g,p,j(v._payload),w)}if(Tr(v)||wr(v))return j!==null?null:d(g,p,v,w,null);Vn(g,v)}return null}function f(g,p,v,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,u(p,g,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tn:return g=g.get(w.key===null?v:w.key)||null,c(p,g,w,j);case Fa:return g=g.get(w.key===null?v:w.key)||null,o(p,g,w,j);case ks:var C=w._init;return f(g,p,v,C(w._payload),j)}if(Tr(w)||wr(w))return g=g.get(v)||null,d(p,g,w,j,null);Vn(p,w)}return null}function x(g,p,v,w){for(var j=null,C=null,L=p,E=p=0,k=null;L!==null&&E<v.length;E++){L.index>E?(k=L,L=null):k=L.sibling;var R=A(g,L,v[E],w);if(R===null){L===null&&(L=k);break}e&&L&&R.alternate===null&&t(g,L),p=i(R,p,E),C===null?j=R:C.sibling=R,C=R,L=k}if(E===v.length)return s(g,L),Ie&&sa(g,E),j;if(L===null){for(;E<v.length;E++)L=h(g,v[E],w),L!==null&&(p=i(L,p,E),C===null?j=L:C.sibling=L,C=L);return Ie&&sa(g,E),j}for(L=r(g,L);E<v.length;E++)k=f(L,g,E,v[E],w),k!==null&&(e&&k.alternate!==null&&L.delete(k.key===null?E:k.key),p=i(k,p,E),C===null?j=k:C.sibling=k,C=k);return e&&L.forEach(function(U){return t(g,U)}),Ie&&sa(g,E),j}function m(g,p,v,w){var j=wr(v);if(typeof j!="function")throw Error(Z(150));if(v=j.call(v),v==null)throw Error(Z(151));for(var C=j=null,L=p,E=p=0,k=null,R=v.next();L!==null&&!R.done;E++,R=v.next()){L.index>E?(k=L,L=null):k=L.sibling;var U=A(g,L,R.value,w);if(U===null){L===null&&(L=k);break}e&&L&&U.alternate===null&&t(g,L),p=i(U,p,E),C===null?j=U:C.sibling=U,C=U,L=k}if(R.done)return s(g,L),Ie&&sa(g,E),j;if(L===null){for(;!R.done;E++,R=v.next())R=h(g,R.value,w),R!==null&&(p=i(R,p,E),C===null?j=R:C.sibling=R,C=R);return Ie&&sa(g,E),j}for(L=r(g,L);!R.done;E++,R=v.next())R=f(L,g,E,R.value,w),R!==null&&(e&&R.alternate!==null&&L.delete(R.key===null?E:R.key),p=i(R,p,E),C===null?j=R:C.sibling=R,C=R);return e&&L.forEach(function(_){return t(g,_)}),Ie&&sa(g,E),j}function y(g,p,v,w){if(typeof v=="object"&&v!==null&&v.type===Pa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Tn:e:{for(var j=v.key,C=p;C!==null;){if(C.key===j){if(j=v.type,j===Pa){if(C.tag===7){s(g,C.sibling),p=n(C,v.props.children),p.return=g,g=p;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ks&&Au(j)===C.type){s(g,C.sibling),p=n(C,v.props),p.ref=Sr(g,C,v),p.return=g,g=p;break e}s(g,C);break}else t(g,C);C=C.sibling}v.type===Pa?(p=ha(v.props.children,g.mode,w,v.key),p.return=g,g=p):(w=hi(v.type,v.key,v.props,null,g.mode,w),w.ref=Sr(g,p,v),w.return=g,g=w)}return l(g);case Fa:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){s(g,p.sibling),p=n(p,v.children||[]),p.return=g,g=p;break e}else{s(g,p);break}else t(g,p);p=p.sibling}p=Gl(v,g.mode,w),p.return=g,g=p}return l(g);case ks:return C=v._init,y(g,p,C(v._payload),w)}if(Tr(v))return x(g,p,v,w);if(wr(v))return m(g,p,v,w);Vn(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(s(g,p.sibling),p=n(p,v),p.return=g,g=p):(s(g,p),p=Wl(v,g.mode,w),p.return=g,g=p),l(g)):s(g,p)}return y}var ir=Df(!0),Ef=Df(!1),Ei=Xs(null),Ti=null,$a=null,Qc=null;function Wc(){Qc=$a=Ti=null}function Gc(e){var t=Ei.current;Pe(Ei),e._currentValue=t}function Oo(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function er(e,t){Ti=e,Qc=$a=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Qc!==e)if(e={context:e,memoizedValue:t,next:null},$a===null){if(Ti===null)throw Error(Z(308));$a=e,Ti.dependencies={lanes:0,firstContext:e}}else $a=$a.next=e;return t}var la=null;function Hc(e){la===null?la=[e]:la.push(e)}function Tf(e,t,s,r){var n=t.interleaved;return n===null?(s.next=s,Hc(t)):(s.next=n.next,n.next=s),t.interleaved=s,ys(e,r)}function ys(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Rs=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ff(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var n=r.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t,ys(e,s)}return n=r.interleaved,n===null?(t.next=t,Hc(r)):(t.next=n.next,n.next=t),r.interleaved=t,ys(e,s)}function ii(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Fc(e,s)}}function xu(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Fi(e,t,s,r){var n=e.updateQueue;Rs=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var c=u,o=c.next;c.next=null,l===null?i=o:l.next=o,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==l&&(u===null?d.firstBaseUpdate=o:u.next=o,d.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;l=0,d=o=c=null,u=i;do{var A=u.lane,f=u.eventTime;if((r&A)===A){d!==null&&(d=d.next={eventTime:f,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=e,m=u;switch(A=t,f=s,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(f,h,A);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,A=typeof x=="function"?x.call(f,h,A):x,A==null)break e;h=Ue({},h,A);break e;case 2:Rs=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,A=n.effects,A===null?n.effects=[u]:A.push(u))}else f={eventTime:f,lane:A,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(o=d=f,c=h):d=d.next=f,l|=A;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;A=u,u=A.next,A.next=null,n.lastBaseUpdate=A,n.shared.pending=null}}while(!0);if(d===null&&(c=h),n.baseState=c,n.firstBaseUpdate=o,n.lastBaseUpdate=d,t=n.shared.interleaved,t!==null){n=t;do l|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);xa|=l,e.lanes=l,e.memoizedState=h}}function gu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(n!==null){if(r.callback=null,r=s,typeof n!="function")throw Error(Z(191,n));n.call(r)}}}var jn={},ls=Xs(jn),un=Xs(jn),hn=Xs(jn);function oa(e){if(e===jn)throw Error(Z(174));return e}function Kc(e,t){switch(Ee(hn,t),Ee(un,e),Ee(ls,jn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vo(t,e)}Pe(ls),Ee(ls,t)}function lr(){Pe(ls),Pe(un),Pe(hn)}function Pf(e){oa(hn.current);var t=oa(ls.current),s=vo(t,e.type);t!==s&&(Ee(un,e),Ee(ls,s))}function Jc(e){un.current===e&&(Pe(ls),Pe(un))}var Me=Xs(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zl=[];function Yc(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var li=Ns.ReactCurrentDispatcher,Ul=Ns.ReactCurrentBatchConfig,Aa=0,ze=null,He=null,Ke=null,Bi=!1,Vr=!1,fn=0,yA=0;function it(){throw Error(Z(321))}function Zc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!es(e[s],t[s]))return!1;return!0}function ed(e,t,s,r,n,i){if(Aa=i,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?NA:jA,e=s(r,n),Vr){i=0;do{if(Vr=!1,fn=0,25<=i)throw Error(Z(301));i+=1,Ke=He=null,t.updateQueue=null,li.current=CA,e=s(r,n)}while(Vr)}if(li.current=Ii,t=He!==null&&He.next!==null,Aa=0,Ke=He=ze=null,Bi=!1,t)throw Error(Z(300));return e}function td(){var e=fn!==0;return fn=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ze.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Vt(){if(He===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ke===null?ze.memoizedState:Ke.next;if(t!==null)Ke=t,He=e;else{if(e===null)throw Error(Z(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ke===null?ze.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function mn(e,t){return typeof t=="function"?t(e):t}function ql(e){var t=Vt(),s=t.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=e;var r=He,n=r.baseQueue,i=s.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}r.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,r=r.baseState;var u=l=null,c=null,o=i;do{var d=o.lane;if((Aa&d)===d)c!==null&&(c=c.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),r=o.hasEagerState?o.eagerState:e(r,o.action);else{var h={lane:d,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};c===null?(u=c=h,l=r):c=c.next=h,ze.lanes|=d,xa|=d}o=o.next}while(o!==null&&o!==i);c===null?l=r:c.next=u,es(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){n=e;do i=n.lane,ze.lanes|=i,xa|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function $l(e){var t=Vt(),s=t.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);es(i,t.memoizedState)||(yt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function Bf(){}function If(e,t){var s=ze,r=Vt(),n=t(),i=!es(r.memoizedState,n);if(i&&(r.memoizedState=n,yt=!0),r=r.queue,sd(zf.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,pn(9,Of.bind(null,s,r,n,t),void 0,null),Ye===null)throw Error(Z(349));Aa&30||Mf(s,t,n)}return n}function Mf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Of(e,t,s,r){t.value=s,t.getSnapshot=r,Uf(t)&&qf(e)}function zf(e,t,s){return s(function(){Uf(t)&&qf(e)})}function Uf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!es(e,s)}catch{return!0}}function qf(e){var t=ys(e,1);t!==null&&Yt(t,e,1,-1)}function vu(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t.queue=e,e=e.dispatch=_A.bind(null,ze,e),[t.memoizedState,e]}function pn(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function $f(){return Vt().memoizedState}function oi(e,t,s,r){var n=as();ze.flags|=e,n.memoizedState=pn(1|t,s,void 0,r===void 0?null:r)}function nl(e,t,s,r){var n=Vt();r=r===void 0?null:r;var i=void 0;if(He!==null){var l=He.memoizedState;if(i=l.destroy,r!==null&&Zc(r,l.deps)){n.memoizedState=pn(t,s,i,r);return}}ze.flags|=e,n.memoizedState=pn(1|t,s,i,r)}function yu(e,t){return oi(8390656,8,e,t)}function sd(e,t){return nl(2048,8,e,t)}function Vf(e,t){return nl(4,2,e,t)}function Qf(e,t){return nl(4,4,e,t)}function Wf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gf(e,t,s){return s=s!=null?s.concat([e]):null,nl(4,4,Wf.bind(null,t,e),s)}function ad(){}function Hf(e,t){var s=Vt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Xf(e,t){var s=Vt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Kf(e,t,s){return Aa&21?(es(s,t)||(s=ef(),ze.lanes|=s,xa|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=s)}function bA(e,t){var s=Re;Re=s!==0&&4>s?s:4,e(!0);var r=Ul.transition;Ul.transition={};try{e(!1),t()}finally{Re=s,Ul.transition=r}}function Jf(){return Vt().memoizedState}function wA(e,t,s){var r=qs(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Yf(e))Zf(t,s);else if(s=Tf(e,t,s,r),s!==null){var n=mt();Yt(s,e,r,n),em(s,t,r)}}function _A(e,t,s){var r=qs(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yf(e))Zf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,s);if(n.hasEagerState=!0,n.eagerState=u,es(u,l)){var c=t.interleaved;c===null?(n.next=n,Hc(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=Tf(e,t,n,r),s!==null&&(n=mt(),Yt(s,e,r,n),em(s,t,r))}}function Yf(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Zf(e,t){Vr=Bi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function em(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Fc(e,s)}}var Ii={readContext:$t,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},NA={readContext:$t,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:yu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,oi(4194308,4,Wf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return oi(4,2,e,t)},useMemo:function(e,t){var s=as();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=as();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wA.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:vu,useDebugValue:ad,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=vu(!1),t=e[0];return e=bA.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ze,n=as();if(Ie){if(s===void 0)throw Error(Z(407));s=s()}else{if(s=t(),Ye===null)throw Error(Z(349));Aa&30||Mf(r,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,yu(zf.bind(null,r,i,e),[e]),r.flags|=2048,pn(9,Of.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=as(),t=Ye.identifierPrefix;if(Ie){var s=As,r=ps;s=(r&~(1<<32-Jt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=fn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=yA++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jA={readContext:$t,useCallback:Hf,useContext:$t,useEffect:sd,useImperativeHandle:Gf,useInsertionEffect:Vf,useLayoutEffect:Qf,useMemo:Xf,useReducer:ql,useRef:$f,useState:function(){return ql(mn)},useDebugValue:ad,useDeferredValue:function(e){var t=Vt();return Kf(t,He.memoizedState,e)},useTransition:function(){var e=ql(mn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:If,useId:Jf,unstable_isNewReconciler:!1},CA={readContext:$t,useCallback:Hf,useContext:$t,useEffect:sd,useImperativeHandle:Gf,useInsertionEffect:Vf,useLayoutEffect:Qf,useMemo:Xf,useReducer:$l,useRef:$f,useState:function(){return $l(mn)},useDebugValue:ad,useDeferredValue:function(e){var t=Vt();return He===null?t.memoizedState=e:Kf(t,He.memoizedState,e)},useTransition:function(){var e=$l(mn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Bf,useSyncExternalStore:If,useId:Jf,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function zo(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Ue({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var il={isMounted:function(e){return(e=e._reactInternals)?ya(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=mt(),n=qs(e),i=xs(r,n);i.payload=t,s!=null&&(i.callback=s),t=zs(e,i,n),t!==null&&(Yt(t,e,n,r),ii(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=mt(),n=qs(e),i=xs(r,n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=zs(e,i,n),t!==null&&(Yt(t,e,n,r),ii(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=mt(),r=qs(e),n=xs(s,r);n.tag=2,t!=null&&(n.callback=t),t=zs(e,n,r),t!==null&&(Yt(t,e,r,s),ii(t,e,r))}};function bu(e,t,s,r,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!ln(s,r)||!ln(n,i):!0}function tm(e,t,s){var r=!1,n=Ws,i=t.contextType;return typeof i=="object"&&i!==null?i=$t(i):(n=wt(t)?ma:dt.current,r=t.contextTypes,i=(r=r!=null)?rr(e,n):Ws),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function wu(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function Uo(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Xc(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=$t(i):(i=wt(t)?ma:dt.current,n.context=rr(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zo(e,t,i,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&il.enqueueReplaceState(n,n.state,null),Fi(e,s,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function or(e,t){try{var s="",r=t;do s+=e0(r),r=r.return;while(r);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Vl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function qo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var SA=typeof WeakMap=="function"?WeakMap:Map;function sm(e,t,s){s=xs(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Oi||(Oi=!0,Yo=r),qo(e,t)},s}function am(e,t,s){s=xs(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){qo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){qo(e,t),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function _u(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new SA;var n=new Set;r.set(t,n)}else n=r.get(t),n===void 0&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=UA.bind(null,e,t,s),t.then(e,e))}function Nu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ju(e,t,s,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=xs(-1,1),t.tag=2,zs(s,t,1))),s.lanes|=1),e)}var kA=Ns.ReactCurrentOwner,yt=!1;function ft(e,t,s,r){t.child=e===null?Ef(t,null,s,r):ir(t,e.child,s,r)}function Cu(e,t,s,r,n){s=s.render;var i=t.ref;return er(t,n),r=ed(e,t,s,r,i,n),s=td(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,bs(e,t,n)):(Ie&&s&&qc(t),t.flags|=1,ft(e,t,r,n),t.child)}function Su(e,t,s,r,n){if(e===null){var i=s.type;return typeof i=="function"&&!ud(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,rm(e,t,i,r,n)):(e=hi(s.type,null,r,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:ln,s(l,r)&&e.ref===t.ref)return bs(e,t,n)}return t.flags|=1,e=$s(i,r),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,s,r,n){if(e!==null){var i=e.memoizedProps;if(ln(i,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=i,(e.lanes&n)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,bs(e,t,n)}return $o(e,t,s,r,n)}function nm(e,t,s){var r=t.pendingProps,n=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Qa,Ct),Ct|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Qa,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,Ee(Qa,Ct),Ct|=r}else i!==null?(r=i.baseLanes|s,t.memoizedState=null):r=s,Ee(Qa,Ct),Ct|=r;return ft(e,t,n,s),t.child}function im(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function $o(e,t,s,r,n){var i=wt(s)?ma:dt.current;return i=rr(t,i),er(t,n),s=ed(e,t,s,r,i,n),r=td(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,bs(e,t,n)):(Ie&&r&&qc(t),t.flags|=1,ft(e,t,s,n),t.child)}function ku(e,t,s,r,n){if(wt(s)){var i=!0;Ri(t)}else i=!1;if(er(t,n),t.stateNode===null)ci(e,t),tm(t,s,r),Uo(t,s,r,n),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,o=s.contextType;typeof o=="object"&&o!==null?o=$t(o):(o=wt(s)?ma:dt.current,o=rr(t,o));var d=s.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==o)&&wu(t,l,r,o),Rs=!1;var A=t.memoizedState;l.state=A,Fi(t,r,l,n),c=t.memoizedState,u!==r||A!==c||bt.current||Rs?(typeof d=="function"&&(zo(t,s,d,r),c=t.memoizedState),(u=Rs||bu(t,s,u,r,A,c,o))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=o,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ff(e,t),u=t.memoizedProps,o=t.type===t.elementType?u:Gt(t.type,u),l.props=o,h=t.pendingProps,A=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=$t(c):(c=wt(s)?ma:dt.current,c=rr(t,c));var f=s.getDerivedStateFromProps;(d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==h||A!==c)&&wu(t,l,r,c),Rs=!1,A=t.memoizedState,l.state=A,Fi(t,r,l,n);var x=t.memoizedState;u!==h||A!==x||bt.current||Rs?(typeof f=="function"&&(zo(t,s,f,r),x=t.memoizedState),(o=Rs||bu(t,s,o,r,A,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=c,r=o):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return Vo(e,t,s,r,i,n)}function Vo(e,t,s,r,n,i){im(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return n&&fu(t,s,!1),bs(e,t,i);r=t.stateNode,kA.current=t;var u=l&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ir(t,e.child,null,i),t.child=ir(t,null,u,i)):ft(e,t,u,i),t.memoizedState=r.state,n&&fu(t,s,!0),t.child}function lm(e){var t=e.stateNode;t.pendingContext?hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hu(e,t.context,!1),Kc(e,t.containerInfo)}function Ru(e,t,s,r,n){return nr(),Vc(n),t.flags|=256,ft(e,t,s,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function om(e,t,s){var r=t.pendingProps,n=Me.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(n&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ee(Me,n&1),e===null)return Mo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=cl(l,r,0,null),e=ha(e,r,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wo(s),t.memoizedState=Qo,e):rd(t,l));if(n=e.memoizedState,n!==null&&(u=n.dehydrated,u!==null))return RA(e,t,l,r,u,n,s);if(i){i=r.fallback,l=t.mode,n=e.child,u=n.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==n?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=$s(n,c),r.subtreeFlags=n.subtreeFlags&14680064),u!==null?i=$s(u,i):(i=ha(i,l,s,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Wo(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,t.memoizedState=Qo,r}return i=e.child,e=i.sibling,r=$s(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function rd(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qn(e,t,s,r){return r!==null&&Vc(r),ir(t,e.child,null,s),e=rd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RA(e,t,s,r,n,i,l){if(s)return t.flags&256?(t.flags&=-257,r=Vl(Error(Z(422))),Qn(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,n=t.mode,r=cl({mode:"visible",children:r.children},n,0,null),i=ha(i,n,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ir(t,e.child,null,l),t.child.memoizedState=Wo(l),t.memoizedState=Qo,i);if(!(t.mode&1))return Qn(e,t,l,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(Z(419)),r=Vl(i,r,void 0),Qn(e,t,l,r)}if(u=(l&e.childLanes)!==0,yt||u){if(r=Ye,r!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,ys(e,n),Yt(r,e,n,-1))}return dd(),r=Vl(Error(Z(421))),Qn(e,t,l,r)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=qA.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Rt=Os(n.nextSibling),Lt=t,Ie=!0,Kt=null,e!==null&&(Bt[It++]=ps,Bt[It++]=As,Bt[It++]=pa,ps=e.id,As=e.overflow,pa=t),t=rd(t,r.children),t.flags|=4096,t)}function Lu(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oo(e.return,t,s)}function Ql(e,t,s,r,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=n)}function cm(e,t,s){var r=t.pendingProps,n=r.revealOrder,i=r.tail;if(ft(e,t,r.children,s),r=Me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lu(e,s,t);else if(e.tag===19)Lu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Me,r),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Pi(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Ql(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Pi(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Ql(t,!0,s,null,i);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),xa|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,s=$s(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=$s(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function LA(e,t,s){switch(t.tag){case 3:lm(t),nr();break;case 5:Pf(t);break;case 1:wt(t.type)&&Ri(t);break;case 4:Kc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Ee(Ei,r._currentValue),r._currentValue=n;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Me,Me.current&1),t.flags|=128,null):s&t.child.childLanes?om(e,t,s):(Ee(Me,Me.current&1),e=bs(e,t,s),e!==null?e.sibling:null);Ee(Me,Me.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return cm(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ee(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,nm(e,t,s)}return bs(e,t,s)}var dm,Go,um,hm;dm=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Go=function(){};um=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,oa(ls.current);var i=null;switch(s){case"input":n=po(e,n),r=po(e,r),i=[];break;case"select":n=Ue({},n,{value:void 0}),r=Ue({},r,{value:void 0}),i=[];break;case"textarea":n=go(e,n),r=go(e,r),i=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Si)}yo(s,r);var l;s=null;for(o in n)if(!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&n[o]!=null)if(o==="style"){var u=n[o];for(l in u)u.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zr.hasOwnProperty(o)?i||(i=[]):(i=i||[]).push(o,null));for(o in r){var c=r[o];if(u=n!=null?n[o]:void 0,r.hasOwnProperty(o)&&c!==u&&(c!=null||u!=null))if(o==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(o,s)),s=c;else o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(o,c)):o==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(o,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(o)?(c!=null&&o==="onScroll"&&Fe("scroll",e),i||u===c||(i=[])):(i=i||[]).push(o,c))}s&&(i=i||[]).push("style",s);var o=i;(t.updateQueue=o)&&(t.flags|=4)}};hm=function(e,t,s,r){s!==r&&(t.flags|=4)};function kr(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function DA(e,t,s){var r=t.pendingProps;switch($c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return wt(t.type)&&ki(),lt(t),null;case 3:return r=t.stateNode,lr(),Pe(bt),Pe(dt),Yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($n(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kt!==null&&(tc(Kt),Kt=null))),Go(e,t),lt(t),null;case 5:Jc(t);var n=oa(hn.current);if(s=t.type,e!==null&&t.stateNode!=null)um(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return lt(t),null}if(e=oa(ls.current),$n(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[ns]=t,r[dn]=i,e=(t.mode&1)!==0,s){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(n=0;n<Pr.length;n++)Fe(Pr[n],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Od(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":Ud(r,i),Fe("invalid",r)}yo(s,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&qn(r.textContent,u,e),n=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&qn(r.textContent,u,e),n=["children",""+u]):Zr.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Fe("scroll",r)}switch(s){case"input":Fn(r),zd(r,i,!0);break;case"textarea":Fn(r),qd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Si)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oh(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(s,{is:r.is}):(e=l.createElement(s),s==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,s),e[ns]=t,e[dn]=r,dm(e,t,!1,!1),t.stateNode=e;e:{switch(l=bo(s,r),s){case"dialog":Fe("cancel",e),Fe("close",e),n=r;break;case"iframe":case"object":case"embed":Fe("load",e),n=r;break;case"video":case"audio":for(n=0;n<Pr.length;n++)Fe(Pr[n],e);n=r;break;case"source":Fe("error",e),n=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),n=r;break;case"details":Fe("toggle",e),n=r;break;case"input":Od(e,r),n=po(e,r),Fe("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=Ue({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":Ud(e,r),n=go(e,r),Fe("invalid",e);break;default:n=r}yo(s,n),u=n;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?qh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zh(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&en(e,c):typeof c=="number"&&en(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",e):c!=null&&kc(e,i,c,l))}switch(s){case"input":Fn(e),zd(e,r,!1);break;case"textarea":Fn(e),qd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ka(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ka(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Si)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)hm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(s=oa(hn.current),oa(ls.current),$n(t)){if(r=t.stateNode,s=t.memoizedProps,r[ns]=t,(i=r.nodeValue!==s)&&(e=Lt,e!==null))switch(e.tag){case 3:qn(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qn(r.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[ns]=t,t.stateNode=r}return lt(t),null;case 13:if(Pe(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Rt!==null&&t.mode&1&&!(t.flags&128))Lf(),nr(),t.flags|=98560,i=!1;else if(i=$n(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[ns]=t}else nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),i=!1}else Kt!==null&&(tc(Kt),Kt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Xe===0&&(Xe=3):dd())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return lr(),Go(e,t),e===null&&on(t.stateNode.containerInfo),lt(t),null;case 10:return Gc(t.type._context),lt(t),null;case 17:return wt(t.type)&&ki(),lt(t),null;case 19:if(Pe(Me),i=t.memoizedState,i===null)return lt(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)kr(i,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Pi(e),l!==null){for(t.flags|=128,kr(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)i=s,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ee(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ve()>cr&&(t.flags|=128,r=!0,kr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Pi(l),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ie)return lt(t),null}else 2*Ve()-i.renderingStartTime>cr&&s!==1073741824&&(t.flags|=128,r=!0,kr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(s=i.last,s!==null?s.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ve(),t.sibling=null,s=Me.current,Ee(Me,r?s&1|2:s&1),t):(lt(t),null);case 22:case 23:return cd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function EA(e,t){switch($c(t),t.tag){case 1:return wt(t.type)&&ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lr(),Pe(bt),Pe(dt),Yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jc(t),null;case 13:if(Pe(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Me),null;case 4:return lr(),null;case 10:return Gc(t.type._context),null;case 22:case 23:return cd(),null;case 24:return null;default:return null}}var Wn=!1,ot=!1,TA=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Va(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){qe(e,t,r)}else s.current=null}function Ho(e,t,s){try{s()}catch(r){qe(e,t,r)}}var Du=!1;function FA(e,t){if(Do=Ni,e=xf(),Uc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,u=-1,c=-1,o=0,d=0,h=e,A=null;t:for(;;){for(var f;h!==s||n!==0&&h.nodeType!==3||(u=l+n),h!==i||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(f=h.firstChild)!==null;)A=h,h=f;for(;;){if(h===e)break t;if(A===s&&++o===n&&(u=l),A===i&&++d===r&&(c=l),(f=h.nextSibling)!==null)break;h=A,A=h.parentNode}h=f}s=u===-1||c===-1?null:{start:u,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Eo={focusedElem:e,selectionRange:s},Ni=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,y=x.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Gt(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(w){qe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return x=Du,Du=!1,x}function Qr(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Ho(t,s,i)}n=n.next}while(n!==r)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Xo(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function fm(e){var t=e.alternate;t!==null&&(e.alternate=null,fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ns],delete t[dn],delete t[Po],delete t[AA],delete t[xA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mm(e){return e.tag===5||e.tag===3||e.tag===4}function Eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Si));else if(r!==4&&(e=e.child,e!==null))for(Ko(e,t,s),e=e.sibling;e!==null;)Ko(e,t,s),e=e.sibling}function Jo(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jo(e,t,s),e=e.sibling;e!==null;)Jo(e,t,s),e=e.sibling}var et=null,Ht=!1;function js(e,t,s){for(s=s.child;s!==null;)pm(e,t,s),s=s.sibling}function pm(e,t,s){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Zi,s)}catch{}switch(s.tag){case 5:ot||Va(s,t);case 6:var r=et,n=Ht;et=null,js(e,t,s),et=r,Ht=n,et!==null&&(Ht?(e=et,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):et.removeChild(s.stateNode));break;case 18:et!==null&&(Ht?(e=et,s=s.stateNode,e.nodeType===8?Ml(e.parentNode,s):e.nodeType===1&&Ml(e,s),rn(e)):Ml(et,s.stateNode));break;case 4:r=et,n=Ht,et=s.stateNode.containerInfo,Ht=!0,js(e,t,s),et=r,Ht=n;break;case 0:case 11:case 14:case 15:if(!ot&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ho(s,t,l),n=n.next}while(n!==r)}js(e,t,s);break;case 1:if(!ot&&(Va(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(u){qe(s,t,u)}js(e,t,s);break;case 21:js(e,t,s);break;case 22:s.mode&1?(ot=(r=ot)||s.memoizedState!==null,js(e,t,s),ot=r):js(e,t,s);break;default:js(e,t,s)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new TA),t.forEach(function(r){var n=$A.bind(null,e,r);s.has(r)||(s.add(r),r.then(n,n))})}}function Qt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var n=s[r];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:et=u.stateNode,Ht=!1;break e;case 3:et=u.stateNode.containerInfo,Ht=!0;break e;case 4:et=u.stateNode.containerInfo,Ht=!0;break e}u=u.return}if(et===null)throw Error(Z(160));pm(i,l,n),et=null,Ht=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(o){qe(n,t,o)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Am(t,e),t=t.sibling}function Am(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),ss(e),r&4){try{Qr(3,e,e.return),ll(3,e)}catch(m){qe(e,e.return,m)}try{Qr(5,e,e.return)}catch(m){qe(e,e.return,m)}}break;case 1:Qt(t,e),ss(e),r&512&&s!==null&&Va(s,s.return);break;case 5:if(Qt(t,e),ss(e),r&512&&s!==null&&Va(s,s.return),e.flags&32){var n=e.stateNode;try{en(n,"")}catch(m){qe(e,e.return,m)}}if(r&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Ih(n,i),bo(u,l);var o=bo(u,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?qh(n,h):d==="dangerouslySetInnerHTML"?zh(n,h):d==="children"?en(n,h):kc(n,d,h,o)}switch(u){case"input":Ao(n,i);break;case"textarea":Mh(n,i);break;case"select":var A=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ka(n,!!i.multiple,f,!1):A!==!!i.multiple&&(i.defaultValue!=null?Ka(n,!!i.multiple,i.defaultValue,!0):Ka(n,!!i.multiple,i.multiple?[]:"",!1))}n[dn]=i}catch(m){qe(e,e.return,m)}}break;case 6:if(Qt(t,e),ss(e),r&4){if(e.stateNode===null)throw Error(Z(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(m){qe(e,e.return,m)}}break;case 3:if(Qt(t,e),ss(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{rn(t.containerInfo)}catch(m){qe(e,e.return,m)}break;case 4:Qt(t,e),ss(e);break;case 13:Qt(t,e),ss(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(ld=Ve())),r&4&&Tu(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(ot=(o=ot)||d,Qt(t,e),ot=o):Qt(t,e),ss(e),r&8192){if(o=e.memoizedState!==null,(e.stateNode.isHidden=o)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(h=ie=d;ie!==null;){switch(A=ie,f=A.child,A.tag){case 0:case 11:case 14:case 15:Qr(4,A,A.return);break;case 1:Va(A,A.return);var x=A.stateNode;if(typeof x.componentWillUnmount=="function"){r=A,s=A.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){qe(r,s,m)}}break;case 5:Va(A,A.return);break;case 22:if(A.memoizedState!==null){Pu(h);continue}}f!==null?(f.return=A,ie=f):Pu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,o?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Uh("display",l))}catch(m){qe(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=o?"":h.memoizedProps}catch(m){qe(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qt(t,e),ss(e),r&4&&Tu(e);break;case 21:break;default:Qt(t,e),ss(e)}}function ss(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(mm(s)){var r=s;break e}s=s.return}throw Error(Z(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(en(n,""),r.flags&=-33);var i=Eu(e);Jo(e,i,n);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Eu(e);Ko(e,u,l);break;default:throw Error(Z(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PA(e,t,s){ie=e,xm(e)}function xm(e,t,s){for(var r=(e.mode&1)!==0;ie!==null;){var n=ie,i=n.child;if(n.tag===22&&r){var l=n.memoizedState!==null||Wn;if(!l){var u=n.alternate,c=u!==null&&u.memoizedState!==null||ot;u=Wn;var o=ot;if(Wn=l,(ot=c)&&!o)for(ie=n;ie!==null;)l=ie,c=l.child,l.tag===22&&l.memoizedState!==null?Bu(n):c!==null?(c.return=l,ie=c):Bu(n);for(;i!==null;)ie=i,xm(i),i=i.sibling;ie=n,Wn=u,ot=o}Fu(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,ie=i):Fu(e)}}function Fu(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(s===null)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:Gt(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gu(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}gu(t,l,s)}break;case 5:var u=t.stateNode;if(s===null&&t.flags&4){s=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var o=t.alternate;if(o!==null){var d=o.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&rn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}ot||t.flags&512&&Xo(t)}catch(A){qe(t,t.return,A)}}if(t===e){ie=null;break}if(s=t.sibling,s!==null){s.return=t.return,ie=s;break}ie=t.return}}function Pu(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ie=s;break}ie=t.return}}function Bu(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ll(4,t)}catch(c){qe(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var n=t.return;try{r.componentDidMount()}catch(c){qe(t,n,c)}}var i=t.return;try{Xo(t)}catch(c){qe(t,i,c)}break;case 5:var l=t.return;try{Xo(t)}catch(c){qe(t,l,c)}}}catch(c){qe(t,t.return,c)}if(t===e){ie=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ie=u;break}ie=t.return}}var BA=Math.ceil,Mi=Ns.ReactCurrentDispatcher,nd=Ns.ReactCurrentOwner,Ut=Ns.ReactCurrentBatchConfig,Se=0,Ye=null,Qe=null,at=0,Ct=0,Qa=Xs(0),Xe=0,An=null,xa=0,ol=0,id=0,Wr=null,xt=null,ld=0,cr=1/0,ds=null,Oi=!1,Yo=null,Us=null,Gn=!1,Ps=null,zi=0,Gr=0,Zo=null,di=-1,ui=0;function mt(){return Se&6?Ve():di!==-1?di:di=Ve()}function qs(e){return e.mode&1?Se&2&&at!==0?at&-at:vA.transition!==null?(ui===0&&(ui=ef()),ui):(e=Re,e!==0||(e=window.event,e=e===void 0?16:of(e.type)),e):1}function Yt(e,t,s,r){if(50<Gr)throw Gr=0,Zo=null,Error(Z(185));wn(e,s,r),(!(Se&2)||e!==Ye)&&(e===Ye&&(!(Se&2)&&(ol|=s),Xe===4&&Es(e,at)),_t(e,r),s===1&&Se===0&&!(t.mode&1)&&(cr=Ve()+500,rl&&Ks()))}function _t(e,t){var s=e.callbackNode;v0(e,t);var r=_i(e,e===Ye?at:0);if(r===0)s!==null&&Qd(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Qd(s),t===1)e.tag===0?gA(Iu.bind(null,e)):Sf(Iu.bind(null,e)),mA(function(){!(Se&6)&&Ks()}),s=null;else{switch(tf(r)){case 1:s=Tc;break;case 4:s=Yh;break;case 16:s=wi;break;case 536870912:s=Zh;break;default:s=wi}s=jm(s,gm.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function gm(e,t){if(di=-1,ui=0,Se&6)throw Error(Z(327));var s=e.callbackNode;if(tr()&&e.callbackNode!==s)return null;var r=_i(e,e===Ye?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ui(e,r);else{t=r;var n=Se;Se|=2;var i=ym();(Ye!==e||at!==t)&&(ds=null,cr=Ve()+500,ua(e,t));do try{OA();break}catch(u){vm(e,u)}while(!0);Wc(),Mi.current=i,Se=n,Qe!==null?t=0:(Ye=null,at=0,t=Xe)}if(t!==0){if(t===2&&(n=Co(e),n!==0&&(r=n,t=ec(e,n))),t===1)throw s=An,ua(e,0),Es(e,r),_t(e,Ve()),s;if(t===6)Es(e,r);else{if(n=e.current.alternate,!(r&30)&&!IA(n)&&(t=Ui(e,r),t===2&&(i=Co(e),i!==0&&(r=i,t=ec(e,i))),t===1))throw s=An,ua(e,0),Es(e,r),_t(e,Ve()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:aa(e,xt,ds);break;case 3:if(Es(e,r),(r&130023424)===r&&(t=ld+500-Ve(),10<t)){if(_i(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Fo(aa.bind(null,e,xt,ds),t);break}aa(e,xt,ds);break;case 4:if(Es(e,r),(r&4194240)===r)break;for(t=e.eventTimes,n=-1;0<r;){var l=31-Jt(r);i=1<<l,l=t[l],l>n&&(n=l),r&=~i}if(r=n,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BA(r/1960))-r,10<r){e.timeoutHandle=Fo(aa.bind(null,e,xt,ds),r);break}aa(e,xt,ds);break;case 5:aa(e,xt,ds);break;default:throw Error(Z(329))}}}return _t(e,Ve()),e.callbackNode===s?gm.bind(null,e):null}function ec(e,t){var s=Wr;return e.current.memoizedState.isDehydrated&&(ua(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=xt,xt=s,t!==null&&tc(t)),e}function tc(e){xt===null?xt=e:xt.push.apply(xt,e)}function IA(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var n=s[r],i=n.getSnapshot;n=n.value;try{if(!es(i(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Es(e,t){for(t&=~id,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Jt(t),r=1<<s;e[s]=-1,t&=~r}}function Iu(e){if(Se&6)throw Error(Z(327));tr();var t=_i(e,0);if(!(t&1))return _t(e,Ve()),null;var s=Ui(e,t);if(e.tag!==0&&s===2){var r=Co(e);r!==0&&(t=r,s=ec(e,r))}if(s===1)throw s=An,ua(e,0),Es(e,t),_t(e,Ve()),s;if(s===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aa(e,xt,ds),_t(e,Ve()),null}function od(e,t){var s=Se;Se|=1;try{return e(t)}finally{Se=s,Se===0&&(cr=Ve()+500,rl&&Ks())}}function ga(e){Ps!==null&&Ps.tag===0&&!(Se&6)&&tr();var t=Se;Se|=1;var s=Ut.transition,r=Re;try{if(Ut.transition=null,Re=1,e)return e()}finally{Re=r,Ut.transition=s,Se=t,!(Se&6)&&Ks()}}function cd(){Ct=Qa.current,Pe(Qa)}function ua(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,fA(s)),Qe!==null)for(s=Qe.return;s!==null;){var r=s;switch($c(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ki();break;case 3:lr(),Pe(bt),Pe(dt),Yc();break;case 5:Jc(r);break;case 4:lr();break;case 13:Pe(Me);break;case 19:Pe(Me);break;case 10:Gc(r.type._context);break;case 22:case 23:cd()}s=s.return}if(Ye=e,Qe=e=$s(e.current,null),at=Ct=t,Xe=0,An=null,id=ol=xa=0,xt=Wr=null,la!==null){for(t=0;t<la.length;t++)if(s=la[t],r=s.interleaved,r!==null){s.interleaved=null;var n=r.next,i=s.pending;if(i!==null){var l=i.next;i.next=n,r.next=l}s.pending=r}la=null}return e}function vm(e,t){do{var s=Qe;try{if(Wc(),li.current=Ii,Bi){for(var r=ze.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Bi=!1}if(Aa=0,Ke=He=ze=null,Vr=!1,fn=0,nd.current=null,s===null||s.return===null){Xe=1,An=t,Qe=null;break}e:{var i=e,l=s.return,u=s,c=t;if(t=at,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var o=c,d=u,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var A=d.alternate;A?(d.updateQueue=A.updateQueue,d.memoizedState=A.memoizedState,d.lanes=A.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Nu(l);if(f!==null){f.flags&=-257,ju(f,l,u,i,t),f.mode&1&&_u(i,o,t),t=f,c=o;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){_u(i,o,t),dd();break e}c=Error(Z(426))}}else if(Ie&&u.mode&1){var y=Nu(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ju(y,l,u,i,t),Vc(or(c,u));break e}}i=c=or(c,u),Xe!==4&&(Xe=2),Wr===null?Wr=[i]:Wr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=sm(i,c,t);xu(i,g);break e;case 1:u=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Us===null||!Us.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=am(i,u,t);xu(i,w);break e}}i=i.return}while(i!==null)}wm(s)}catch(j){t=j,Qe===s&&s!==null&&(Qe=s=s.return);continue}break}while(!0)}function ym(){var e=Mi.current;return Mi.current=Ii,e===null?Ii:e}function dd(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),Ye===null||!(xa&268435455)&&!(ol&268435455)||Es(Ye,at)}function Ui(e,t){var s=Se;Se|=2;var r=ym();(Ye!==e||at!==t)&&(ds=null,ua(e,t));do try{MA();break}catch(n){vm(e,n)}while(!0);if(Wc(),Se=s,Mi.current=r,Qe!==null)throw Error(Z(261));return Ye=null,at=0,Xe}function MA(){for(;Qe!==null;)bm(Qe)}function OA(){for(;Qe!==null&&!d0();)bm(Qe)}function bm(e){var t=Nm(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?wm(e):Qe=t,nd.current=null}function wm(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=EA(s,t),s!==null){s.flags&=32767,Qe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Qe=null;return}}else if(s=DA(s,t,Ct),s!==null){Qe=s;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Xe===0&&(Xe=5)}function aa(e,t,s){var r=Re,n=Ut.transition;try{Ut.transition=null,Re=1,zA(e,t,s,r)}finally{Ut.transition=n,Re=r}return null}function zA(e,t,s,r){do tr();while(Ps!==null);if(Se&6)throw Error(Z(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(y0(e,i),e===Ye&&(Qe=Ye=null,at=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Gn||(Gn=!0,jm(wi,function(){return tr(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var l=Re;Re=1;var u=Se;Se|=4,nd.current=null,FA(e,s),Am(s,e),iA(Eo),Ni=!!Do,Eo=Do=null,e.current=s,PA(s),u0(),Se=u,Re=l,Ut.transition=i}else e.current=s;if(Gn&&(Gn=!1,Ps=e,zi=n),i=e.pendingLanes,i===0&&(Us=null),m0(s.stateNode),_t(e,Ve()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(Oi)throw Oi=!1,e=Yo,Yo=null,e;return zi&1&&e.tag!==0&&tr(),i=e.pendingLanes,i&1?e===Zo?Gr++:(Gr=0,Zo=e):Gr=0,Ks(),null}function tr(){if(Ps!==null){var e=tf(zi),t=Ut.transition,s=Re;try{if(Ut.transition=null,Re=16>e?16:e,Ps===null)var r=!1;else{if(e=Ps,Ps=null,zi=0,Se&6)throw Error(Z(331));var n=Se;for(Se|=4,ie=e.current;ie!==null;){var i=ie,l=i.child;if(ie.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var o=u[c];for(ie=o;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:Qr(8,d,i)}var h=d.child;if(h!==null)h.return=d,ie=h;else for(;ie!==null;){d=ie;var A=d.sibling,f=d.return;if(fm(d),d===o){ie=null;break}if(A!==null){A.return=f,ie=A;break}ie=f}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ie=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ie=l;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ie=g;break e}ie=i.return}}var p=e.current;for(ie=p;ie!==null;){l=ie;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,ie=v;else e:for(l=p;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ll(9,u)}}catch(j){qe(u,u.return,j)}if(u===l){ie=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,ie=w;break e}ie=u.return}}if(Se=n,Ks(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Zi,e)}catch{}r=!0}return r}finally{Re=s,Ut.transition=t}}return!1}function Mu(e,t,s){t=or(s,t),t=sm(e,t,1),e=zs(e,t,1),t=mt(),e!==null&&(wn(e,1,t),_t(e,t))}function qe(e,t,s){if(e.tag===3)Mu(e,e,s);else for(;t!==null;){if(t.tag===3){Mu(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){e=or(s,e),e=am(t,e,1),t=zs(t,e,1),e=mt(),t!==null&&(wn(t,1,e),_t(t,e));break}}t=t.return}}function UA(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&s,Ye===e&&(at&s)===s&&(Xe===4||Xe===3&&(at&130023424)===at&&500>Ve()-ld?ua(e,0):id|=s),_t(e,t)}function _m(e,t){t===0&&(e.mode&1?(t=In,In<<=1,!(In&130023424)&&(In=4194304)):t=1);var s=mt();e=ys(e,t),e!==null&&(wn(e,t,s),_t(e,s))}function qA(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),_m(e,s)}function $A(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),_m(e,s)}var Nm;Nm=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)yt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return yt=!1,LA(e,t,s);yt=!!(e.flags&131072)}else yt=!1,Ie&&t.flags&1048576&&kf(t,Di,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ci(e,t),e=t.pendingProps;var n=rr(t,dt.current);er(t,s),n=ed(null,t,r,e,n,s);var i=td();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(i=!0,Ri(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Xc(t),n.updater=il,t.stateNode=n,n._reactInternals=t,Uo(t,r,e,s),t=Vo(null,t,r,!0,i,s)):(t.tag=0,Ie&&i&&qc(t),ft(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,n=r._init,r=n(r._payload),t.type=r,n=t.tag=QA(r),e=Gt(r,e),n){case 0:t=$o(null,t,r,e,s);break e;case 1:t=ku(null,t,r,e,s);break e;case 11:t=Cu(null,t,r,e,s);break e;case 14:t=Su(null,t,r,Gt(r.type,e),s);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Gt(r,n),$o(e,t,r,n,s);case 1:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Gt(r,n),ku(e,t,r,n,s);case 3:e:{if(lm(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,n=i.element,Ff(e,t),Fi(t,r,null,s);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=or(Error(Z(423)),t),t=Ru(e,t,r,s,n);break e}else if(r!==n){n=or(Error(Z(424)),t),t=Ru(e,t,r,s,n);break e}else for(Rt=Os(t.stateNode.containerInfo.firstChild),Lt=t,Ie=!0,Kt=null,s=Ef(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(nr(),r===n){t=bs(e,t,s);break e}ft(e,t,r,s)}t=t.child}return t;case 5:return Pf(t),e===null&&Mo(t),r=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,To(r,n)?l=null:i!==null&&To(r,i)&&(t.flags|=32),im(e,t),ft(e,t,l,s),t.child;case 6:return e===null&&Mo(t),null;case 13:return om(e,t,s);case 4:return Kc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ir(t,null,r,s):ft(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Gt(r,n),Cu(e,t,r,n,s);case 7:return ft(e,t,t.pendingProps,s),t.child;case 8:return ft(e,t,t.pendingProps.children,s),t.child;case 12:return ft(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,Ee(Ei,r._currentValue),r._currentValue=l,i!==null)if(es(i.value,l)){if(i.children===n.children&&!bt.current){t=bs(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xs(-1,s&-s),c.tag=2;var o=i.updateQueue;if(o!==null){o=o.shared;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Oo(i.return,s,t),u.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Z(341));l.lanes|=s,u=l.alternate,u!==null&&(u.lanes|=s),Oo(l,s,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ft(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,er(t,s),n=$t(n),r=r(n),t.flags|=1,ft(e,t,r,s),t.child;case 14:return r=t.type,n=Gt(r,t.pendingProps),n=Gt(r.type,n),Su(e,t,r,n,s);case 15:return rm(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Gt(r,n),ci(e,t),t.tag=1,wt(r)?(e=!0,Ri(t)):e=!1,er(t,s),tm(t,r,n),Uo(t,r,n,s),Vo(null,t,r,!0,e,s);case 19:return cm(e,t,s);case 22:return nm(e,t,s)}throw Error(Z(156,t.tag))};function jm(e,t){return Jh(e,t)}function VA(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,s,r){return new VA(e,t,s,r)}function ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QA(e){if(typeof e=="function")return ud(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lc)return 11;if(e===Dc)return 14}return 2}function $s(e,t){var s=e.alternate;return s===null?(s=Ot(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function hi(e,t,s,r,n,i){var l=2;if(r=e,typeof e=="function")ud(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Pa:return ha(s.children,n,i,t);case Rc:l=8,n|=8;break;case uo:return e=Ot(12,s,t,n|2),e.elementType=uo,e.lanes=i,e;case ho:return e=Ot(13,s,t,n),e.elementType=ho,e.lanes=i,e;case fo:return e=Ot(19,s,t,n),e.elementType=fo,e.lanes=i,e;case Fh:return cl(s,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Eh:l=10;break e;case Th:l=9;break e;case Lc:l=11;break e;case Dc:l=14;break e;case ks:l=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Ot(l,s,t,n),t.elementType=e,t.type=r,t.lanes=i,t}function ha(e,t,s,r){return e=Ot(7,e,r,t),e.lanes=s,e}function cl(e,t,s,r){return e=Ot(22,e,r,t),e.elementType=Fh,e.lanes=s,e.stateNode={isHidden:!1},e}function Wl(e,t,s){return e=Ot(6,e,null,t),e.lanes=s,e}function Gl(e,t,s){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WA(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function hd(e,t,s,r,n,i,l,u,c){return e=new WA(e,t,s,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xc(i),e}function GA(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function Cm(e){if(!e)return Ws;e=e._reactInternals;e:{if(ya(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var s=e.type;if(wt(s))return Cf(e,s,t)}return t}function Sm(e,t,s,r,n,i,l,u,c){return e=hd(s,r,!0,e,n,i,l,u,c),e.context=Cm(null),s=e.current,r=mt(),n=qs(s),i=xs(r,n),i.callback=t??null,zs(s,i,n),e.current.lanes=n,wn(e,n,r),_t(e,r),e}function dl(e,t,s,r){var n=t.current,i=mt(),l=qs(n);return s=Cm(s),t.context===null?t.context=s:t.pendingContext=s,t=xs(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zs(n,t,l),e!==null&&(Yt(e,n,l,i),ii(e,n,l)),l}function qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function fd(e,t){Ou(e,t),(e=e.alternate)&&Ou(e,t)}function HA(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function md(e){this._internalRoot=e}ul.prototype.render=md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));dl(e,t,null,null)};ul.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ga(function(){dl(null,e,null,null)}),t[vs]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=rf();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ds.length&&t!==0&&t<Ds[s].priority;s++);Ds.splice(s,0,e),s===0&&lf(e)}};function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zu(){}function XA(e,t,s,r,n){if(n){if(typeof r=="function"){var i=r;r=function(){var o=qi(l);i.call(o)}}var l=Sm(t,r,e,0,null,!1,!1,"",zu);return e._reactRootContainer=l,e[vs]=l.current,on(e.nodeType===8?e.parentNode:e),ga(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var u=r;r=function(){var o=qi(c);u.call(o)}}var c=hd(e,0,!1,null,null,!1,!1,"",zu);return e._reactRootContainer=c,e[vs]=c.current,on(e.nodeType===8?e.parentNode:e),ga(function(){dl(t,c,s,r)}),c}function fl(e,t,s,r,n){var i=s._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var u=n;n=function(){var c=qi(l);u.call(c)}}dl(t,l,e,n)}else l=XA(s,t,e,n,r);return qi(l)}sf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Fr(t.pendingLanes);s!==0&&(Fc(t,s|1),_t(t,Ve()),!(Se&6)&&(cr=Ve()+500,Ks()))}break;case 13:ga(function(){var r=ys(e,1);if(r!==null){var n=mt();Yt(r,e,1,n)}}),fd(e,1)}};Pc=function(e){if(e.tag===13){var t=ys(e,134217728);if(t!==null){var s=mt();Yt(t,e,134217728,s)}fd(e,134217728)}};af=function(e){if(e.tag===13){var t=qs(e),s=ys(e,t);if(s!==null){var r=mt();Yt(s,e,t,r)}fd(e,t)}};rf=function(){return Re};nf=function(e,t){var s=Re;try{return Re=e,t()}finally{Re=s}};_o=function(e,t,s){switch(t){case"input":if(Ao(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=al(r);if(!n)throw Error(Z(90));Bh(r),Ao(r,n)}}}break;case"textarea":Mh(e,s);break;case"select":t=s.value,t!=null&&Ka(e,!!s.multiple,t,!1)}};Qh=od;Wh=ga;var KA={usingClientEntryPoint:!1,Events:[Nn,Oa,al,$h,Vh,od]},Rr={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JA={bundleType:Rr.bundleType,version:Rr.version,rendererPackageName:Rr.rendererPackageName,rendererConfig:Rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xh(e),e===null?null:e.stateNode},findFiberByHostInstance:Rr.findFiberByHostInstance||HA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hn.isDisabled&&Hn.supportsFiber)try{Zi=Hn.inject(JA),is=Hn}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KA;Et.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(t))throw Error(Z(200));return GA(e,t,null,s)};Et.createRoot=function(e,t){if(!pd(e))throw Error(Z(299));var s=!1,r="",n=km;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=hd(e,1,!1,null,null,s,!1,r,n),e[vs]=t.current,on(e.nodeType===8?e.parentNode:e),new md(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Xh(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return ga(e)};Et.hydrate=function(e,t,s){if(!hl(t))throw Error(Z(200));return fl(null,e,t,!0,s)};Et.hydrateRoot=function(e,t,s){if(!pd(e))throw Error(Z(405));var r=s!=null&&s.hydratedSources||null,n=!1,i="",l=km;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=Sm(t,null,e,1,s??null,n,!1,i,l),e[vs]=t.current,on(e),r)for(e=0;e<r.length;e++)s=r[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new ul(t)};Et.render=function(e,t,s){if(!hl(t))throw Error(Z(200));return fl(null,e,t,!1,s)};Et.unmountComponentAtNode=function(e){if(!hl(e))throw Error(Z(40));return e._reactRootContainer?(ga(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[vs]=null})}),!0):!1};Et.unstable_batchedUpdates=od;Et.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!hl(s))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return fl(e,t,s,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function Rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rm)}catch(e){console.error(e)}}Rm(),kh.exports=Et;var YA=kh.exports,Lm,Uu=YA;Lm=Uu.createRoot,Uu.hydrateRoot;const ZA="modulepreload",ex=function(e){return"/"+e},qu={},ws=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=ex(c),c in qu)return;qu[c]=!0;const o=c.endsWith(".css"),d=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":ZA,o||(h.as="script"),h.crossOrigin="",h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),o)return new Promise((A,f)=>{h.addEventListener("load",A),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return n.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},tx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class Ad extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class sx extends Ad{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $u extends Ad{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vu extends Ad{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sc||(sc={}));var ax=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};class rx{constructor(t,{headers:s={},customFetch:r,region:n=sc.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=tx(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return ax(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:l}=s;let u={},{region:c}=s;c||(c=this.region);const o=new URL(`${this.url}/${t}`);c&&c!=="any"&&(u["x-region"]=c,o.searchParams.set("forceFunctionRegion",c));let d;l&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(u["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(u["Content-Type"]="application/json",d=JSON.stringify(l)));const h=yield this.fetch(o.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),n),body:d}).catch(m=>{throw new sx(m)}),A=h.headers.get("x-relay-error");if(A&&A==="true")throw new $u(h);if(!h.ok)throw new Vu(h);let f=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield h.json():f==="application/octet-stream"?x=yield h.blob():f==="text/event-stream"?x=h:f==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof Vu||n instanceof $u?n.context:void 0}}})}}var gt={},xd={},ml={},Cn={},pl={},Al={},nx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dr=nx();const ix=dr.fetch,Dm=dr.fetch.bind(dr),Em=dr.Headers,lx=dr.Request,ox=dr.Response,Ar=Object.freeze(Object.defineProperty({__proto__:null,Headers:Em,Request:lx,Response:ox,default:Dm,fetch:ix},Symbol.toStringTag,{value:"Module"})),cx=Cp(Ar);var xl={};Object.defineProperty(xl,"__esModule",{value:!0});let dx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xl.default=dx;var Tm=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Al,"__esModule",{value:!0});const ux=Tm(cx),hx=Tm(xl);let fx=class{constructor(t){var s,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(s=t.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ux.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=new Headers(this.headers),this.headers.set(t,s),this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,u,c,o;let d=null,h=null,A=null,f=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const y=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&g&&g.length>1&&(A=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,A=null,f=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(h=[],d=null,f=200,x="OK")}catch{i.status===404&&y===""?(f=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((o=d==null?void 0:d.details)===null||o===void 0)&&o.includes("0 rows"))&&(d=null,f=200,x="OK"),d&&this.shouldThrowOnError)throw new hx.default(d)}return{error:d,data:h,count:A,status:f,statusText:x}});return this.shouldThrowOnError||(n=n.catch(i=>{var l,u,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(u=i==null?void 0:i.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,s)}returns(){return this}overrideTypes(){return this}};Al.default=fx;var mx=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const px=mx(Al);let Ax=class extends px.default{select(t){let s=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:l="text"}={}){var u;const c=[t?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${o}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};pl.default=Ax;var xx=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});const gx=xx(pl);let vx=class extends gx.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${l}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};Cn.default=vx;var yx=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const Lr=yx(Cn);let bx=class{constructor(t,{headers:s={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(s),this.schema=r,this.fetch=n}select(t,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new Lr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:s,defaultToNull:r=!0}={}){var n;const i="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Lr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((o,d)=>o.concat(Object.keys(d)),[]);if(c.length>0){const o=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",o.join(","))}}return new Lr.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:s}={}){var r;const n="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Lr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var s;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Lr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ml.default=bx;var Fm=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xd,"__esModule",{value:!0});const wx=Fm(ml),_x=Fm(Cn);let Nx=class Pm{constructor(t,{headers:s={},schema:r,fetch:n}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.fetch=n}from(t){const s=new URL(`${this.url}/${t}`);return new wx.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:n=!1,count:i}={}){var l;let u;const c=new URL(`${this.url}/rpc/${t}`);let o;r||n?(u=r?"HEAD":"GET",Object.entries(s).filter(([h,A])=>A!==void 0).map(([h,A])=>[h,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([h,A])=>{c.searchParams.append(h,A)})):(u="POST",o=s);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new _x.default({method:u,url:c,headers:d,schema:this.schemaName,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};xd.default=Nx;var xr=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;const Bm=xr(xd);gt.PostgrestClient=Bm.default;const Im=xr(ml);gt.PostgrestQueryBuilder=Im.default;const Mm=xr(Cn);gt.PostgrestFilterBuilder=Mm.default;const Om=xr(pl);gt.PostgrestTransformBuilder=Om.default;const zm=xr(Al);gt.PostgrestBuilder=zm.default;const Um=xr(xl);gt.PostgrestError=Um.default;var jx=gt.default={PostgrestClient:Bm.default,PostgrestQueryBuilder:Im.default,PostgrestFilterBuilder:Mm.default,PostgrestTransformBuilder:Om.default,PostgrestBuilder:zm.default,PostgrestError:Um.default};const{PostgrestClient:Cx,PostgrestQueryBuilder:wb,PostgrestFilterBuilder:_b,PostgrestTransformBuilder:Nb,PostgrestBuilder:jb,PostgrestError:Cb}=jx;class Sx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kx="2.15.5",Rx=`realtime-js/${kx}`,Lx="1.0.0",ac=1e4,Dx=1e3,Ex=100;var Hr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hr||(Hr={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var Xt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xt||(Xt={}));var rc;(function(e){e.websocket="websocket"})(rc||(rc={}));var na;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(na||(na={}));class Tx{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+n));l=l+n;const c=r.decode(t.slice(l,l+i));l=l+i;const o=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:c,payload:o}}}class qm{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const Qu=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,l)=>(i[l]=Fx(l,e,t,n),i),{})},Fx=(e,t,s,r)=>{const n=t.find(u=>u.name===e),i=n==null?void 0:n.type,l=s[e];return i&&!r.includes(i)?$m(i,l):nc(l)},$m=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Mx(t,s)}switch(e){case De.bool:return Px(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return Bx(t);case De.json:case De.jsonb:return Ix(t);case De.timestamp:return Ox(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return nc(t);default:return nc(t)}},nc=e=>e,Px=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ix=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Mx=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const l=e.slice(1,s);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(u=>$m(t,u))}return e},Ox=e=>typeof e=="string"?e.replace(" ","T"):e,Vm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Hl{constructor(t,s,r={},n=ac){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Wu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Wu||(Wu={}));class Xr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xr.syncState(this.state,n,i,l),this.pendingDiffs.forEach(c=>{this.state=Xr.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Xr.syncDiff(this.state,n,i,l),u())}),this.onJoin((n,i,l)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:l})}),this.onLeave((n,i,l)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),l=this.transformState(s),u={},c={};return this.map(i,(o,d)=>{l[o]||(c[o]=d)}),this.map(l,(o,d)=>{const h=i[o];if(h){const A=d.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),x=d.filter(y=>f.indexOf(y.presence_ref)<0),m=h.filter(y=>A.indexOf(y.presence_ref)<0);x.length>0&&(u[o]=x),m.length>0&&(c[o]=m)}else u[o]=d}),this.syncDiff(i,{joins:u,leaves:c},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:l}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(u,c)=>{var o;const d=(o=t[u])!==null&&o!==void 0?o:[];if(t[u]=this.cloneDeep(c),d.length>0){const h=t[u].map(f=>f.presence_ref),A=d.filter(f=>h.indexOf(f.presence_ref)<0);t[u].unshift(...A)}r(u,d,c)}),this.map(l,(u,c)=>{let o=t[u];if(!o)return;const d=c.map(h=>h.presence_ref);o=o.filter(h=>d.indexOf(h.presence_ref)<0),t[u]=o,n(u,o,c),o.length===0&&delete t[u]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gu||(Gu={}));var Kr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kr||(Kr={}));var us;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(us||(us={}));class gd{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Hl(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new qm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Xr(this),this.broadcastEndpointURL=Vm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,o=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Kr.PRESENCE]&&this.bindings[Kr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},A={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:d}),postgres_changes:o,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(us.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(us.CLOSED)),this.updateJoinPayload(Object.assign({config:A},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var x;if(this.socket.setAuth(),f===void 0){t==null||t(us.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,g=[];for(let p=0;p<y;p++){const v=m[p],{filter:{event:w,schema:j,table:C,filter:L}}=v,E=f&&f[p];if(E&&E.event===w&&E.schema===j&&E.table===C&&E.filter===L)g.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),this.state=We.errored,t==null||t(us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(us.SUBSCRIBED);return}}).receive("error",f=>{this.state=We.errored,t==null||t(us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===We.joined&&t===Kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=o.body)===null||n===void 0?void 0:n.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,u,c;const o=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),o.receive("ok",()=>i("ok")),o.receive("error",()=>i("error")),o.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Hl(this,Xt.leave,{},t),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),l}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Hl(this,t,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ex){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const l=t.toLocaleLowerCase(),{close:u,error:c,leave:o,join:d}=Xt;if(r&&[u,c,o,d].indexOf(l)>=0&&r!==this._joinRef())return;let A=this._onMessage(l,s,r);if(s&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var x,m,y;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===l}).map(f=>f.callback(A,r)):(i=this.bindings[l])===null||i===void 0||i.filter(f=>{var x,m,y,g,p,v;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in f){const w=f.id,j=(x=f.filter)===null||x===void 0?void 0:x.event;return w&&((m=s.ids)===null||m===void 0?void 0:m.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(p=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((v=s==null?void 0:s.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===l}).map(f=>{if(typeof A=="object"&&"ids"in A){const x=A.data,{schema:m,table:y,commit_timestamp:g,type:p,errors:v}=x;A=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(x))}f.callback(A,r)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&gd.isEqual(n.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xt.close,{},t)}_onError(t){this._on(Xt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Qu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Qu(t.columns,t.old_record)),s}}const Xl=()=>{},Xn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zx=[1e3,2e3,5e3,1e4],Ux=1e4,qx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $x{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ac,this.transport=null,this.heartbeatIntervalMs=Xn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xl,this.ref=0,this.reconnectTimer=null,this.logger=Xl,this.conn=null,this.sendBuffer=[],this.serializer=new Tx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...l)=>ws(async()=>{const{default:u}=await Promise.resolve().then(()=>Ar);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${rc.websocket}`,this.httpEndpoint=Vm(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lx}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hr.connecting:return na.Connecting;case Hr.open:return na.Open;case Hr.closing:return na.Closing;default:return na.Closed}}isConnected(){return this.connectionState()===na.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new gd(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:r,payload:n,ref:i}=t,l=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Dx,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Xn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:l}=s,u=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${n} ${u}`.trim(),i),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(n,i,l)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([qx],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Rx};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Xt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new qm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,n,i,l,u,c,o,d;if(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ac,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:Xn.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Xl,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>zx[h-1]||Ux,this.encode=(o=t==null?void 0:t.encode)!==null&&o!==void 0?o:(h,A)=>A(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Vx extends vd{constructor(t,s,r){super(t),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ic extends vd{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Qx=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};const Qm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Wx=()=>Qx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ws(()=>Promise.resolve().then(()=>Ar),void 0)).Response:Response}),lc=e=>{if(Array.isArray(e))return e.map(s=>lc(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=lc(r)}),t},Gx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ba=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};const Kl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hx=(e,t,s)=>ba(void 0,void 0,void 0,function*(){const r=yield Wx();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{const i=e.status||500,l=(n==null?void 0:n.statusCode)||i+"";t(new Vx(Kl(n),i,l))}).catch(n=>{t(new ic(Kl(n),n))}):t(new ic(Kl(e),e))}),Xx=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?n:(Gx(r)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(r)):n.body=r,t!=null&&t.duplex&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),s))};function Sn(e,t,s,r,n,i){return ba(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(s,Xx(t,r,n,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Hx(c,u,r))})})}function $i(e,t,s,r){return ba(this,void 0,void 0,function*(){return Sn(e,"GET",t,s,r)})}function rs(e,t,s,r,n){return ba(this,void 0,void 0,function*(){return Sn(e,"POST",t,r,n,s)})}function oc(e,t,s,r,n){return ba(this,void 0,void 0,function*(){return Sn(e,"PUT",t,r,n,s)})}function Kx(e,t,s,r){return ba(this,void 0,void 0,function*(){return Sn(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Wm(e,t,s,r,n){return ba(this,void 0,void 0,function*(){return Sn(e,"DELETE",t,r,n,s)})}var ht=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};const Jx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yx{constructor(t,s={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=r,this.fetch=Qm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,r,n){return ht(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Hu),n);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(u=Object.assign(Object.assign({},u),n.headers));const o=this._removeEmptyFolders(s),d=this._getFinalPath(o),h=yield(t=="PUT"?oc:rs)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:o,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}upload(t,s,r){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return ht(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",s);try{let c;const o=Object.assign({upsert:Hu.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",o.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",o.cacheControl)):(c=r,d["cache-control"]=`max-age=${o.cacheControl}`,d["content-type"]=o.contentType);const h=yield oc(this.fetch,u.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return ht(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield rs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),l=new URL(this.url+i.url),u=l.searchParams.get("token");if(!u)throw new vd("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}update(t,s,r){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return ht(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}copy(t,s,r){return ht(this,void 0,void 0,function*(){try{return{data:{path:(yield rs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield rs(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return ht(this,void 0,void 0,function*(){try{const n=yield rs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}download(t,s){return ht(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),l=i?`?${i}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield $i(this.fetch,`${this.url}/${n}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}info(t){return ht(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield $i(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:lc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}exists(t){return ht(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Kx(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r)&&r instanceof ic){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const u=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${o}`)}}}remove(t){return ht(this,void 0,void 0,function*(){try{return{data:yield Wm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}list(t,s,r){return ht(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Jx),s),{prefix:t||""});return{data:yield rs(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}listV2(t,s){return ht(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield rs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Zx="2.12.1",eg={"X-Client-Info":`storage-js/${Zx}`};var Na=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};class tg{constructor(t,s={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},eg),s),this.fetch=Qm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Na(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return Na(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Na(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return Na(this,void 0,void 0,function*(){try{return{data:yield oc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Na(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Na(this,void 0,void 0,function*(){try{return{data:yield Wm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}}class sg extends tg{constructor(t,s={},r,n){super(t,s,r,n)}from(t){return new Yx(this.url,this.headers,t,this.fetch)}}const ag="2.57.4";let Br="";typeof Deno<"u"?Br="deno":typeof document<"u"?Br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Br="react-native":Br="node";const rg={"X-Client-Info":`supabase-js-${Br}/${ag}`},ng={headers:rg},ig={schema:"public"},lg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},og={};var cg=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};const dg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Dm:t=fetch,(...s)=>t(...s)},ug=()=>typeof Headers>"u"?Em:Headers,hg=(e,t,s)=>{const r=dg(s),n=ug();return(i,l)=>cg(void 0,void 0,void 0,function*(){var u;const c=(u=yield t())!==null&&u!==void 0?u:e;let o=new n(l==null?void 0:l.headers);return o.has("apikey")||o.set("apikey",e),o.has("Authorization")||o.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},l),{headers:o}))})};var fg=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};function mg(e){return e.endsWith("/")?e:e+"/"}function pg(e,t){var s,r;const{db:n,auth:i,realtime:l,global:u}=e,{db:c,auth:o,realtime:d,global:h}=t,A={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},o),i),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),u),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fg(this,void 0,void 0,function*(){return""})};return e.accessToken?A.accessToken=e.accessToken:delete A.accessToken,A}function Ag(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mg(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Gm="2.71.1",Ea=30*1e3,cc=3,Jl=cc*Ea,xg="http://localhost:9999",gg="supabase.auth.token",vg={"X-Client-Info":`gotrue-js/${Gm}`},dc="X-Supabase-Api-Version",Hm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bg=10*60*1e3;class yd extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wg extends yd{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function _g(e){return ve(e)&&e.name==="AuthApiError"}class Xm extends yd{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Js extends yd{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class Ss extends Js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ng(e){return ve(e)&&e.name==="AuthSessionMissingError"}class Kn extends Js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jn extends Js{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yn extends Js{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xu extends Js{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uc extends Js{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Yl(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class Ku extends Js{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class hc extends Js{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ju=` 	
\r=`.split(""),Cg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ju.length;t+=1)e[Ju[t].charCodeAt(0)]=-2;for(let t=0;t<Vi.length;t+=1)e[Vi[t].charCodeAt(0)]=t;return e})();function Yu(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(Vi[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(Vi[r]),t.queuedBits-=6}}function Km(e,t,s){const r=Cg[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zu(e){const t=[],s=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=l=>{Rg(l,r,s)};for(let l=0;l<e.length;l+=1)Km(e.charCodeAt(l),n,i);return t.join("")}function Sg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kg(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Sg(r,t)}}function Rg(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Lg(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Km(e.charCodeAt(n),s,r);return new Uint8Array(t)}function Dg(e){const t=[];return kg(e,s=>t.push(s)),new Uint8Array(t)}function Eg(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};return e.forEach(n=>Yu(n,s,r)),Yu(null,s,r),t.join("")}function Tg(e){return Math.round(Date.now()/1e3)+e}function Fg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Wt=()=>typeof window<"u"&&typeof document<"u",Ys={tested:!1,writable:!1},Jm=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ys.tested)return Ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ys.tested=!0,Ys.writable=!0}catch{Ys.tested=!0,Ys.writable=!1}return Ys.writable};function Pg(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Ym=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ws(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Bg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ta=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Zs=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Cs=async(e,t)=>{await e.removeItem(t)};class gl{constructor(){this.promise=new gl.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}gl.promiseConstructor=Promise;function Zl(e){const t=e.split(".");if(t.length!==3)throw new hc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!yg.test(t[r]))throw new hc("JWT not in base64url format");return{header:JSON.parse(Zu(t[0])),payload:JSON.parse(Zu(t[1])),signature:Lg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ig(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Mg(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){r(l);return}}catch(l){if(!t(i,l)){n(l);return}}})()})}function Og(e){return("0"+e.toString(16)).substr(-2)}function zg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Og).join("")}async function Ug(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function qg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Ug(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ja(e,t,s=!1){const r=zg();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ta(e,`${t}-code-verifier`,n);const i=await qg(r);return[i,r===i?"plain":"s256"]}const $g=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vg(e){const t=e.headers.get(dc);if(!t||!t.match($g))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Qg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ca(e){if(!Gg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eo(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eh(e){return JSON.parse(JSON.stringify(e))}var Hg=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const ra=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xg=[502,503,504];async function th(e){var t;if(!Bg(e))throw new uc(ra(e),0);if(Xg.includes(e.status))throw new uc(ra(e),e.status);let s;try{s=await e.json()}catch(i){throw new Xm(ra(i),i)}let r;const n=Vg(e);if(n&&n.getTime()>=Hm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ku(ra(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ss}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Ku(ra(s),e.status,s.weak_password.reasons);throw new wg(ra(s),e.status||500,r)}const Kg=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function be(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[dc]||(i[dc]=Hm["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Jg(e,t,s+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Jg(e,t,s,r,n,i){const l=Kg(t,r,n,i);let u;try{u=await e(s,Object.assign({},l))}catch(c){throw console.error(c),new uc(ra(c),0)}if(u.ok||await th(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await th(c)}}function cs(e){var t;let s=null;tv(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Tg(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function sh(e){const t=cs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Yg(e){return{data:e,error:null}}function Zg(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,l=Hg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function ev(e){return e}function tv(e){return e.access_token&&e.refresh_token&&e.expires_in}const to=["global","local","others"];var sv=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class av{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Ym(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=to[0]){if(to.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${to.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ts})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=sv(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Zg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ve(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ts})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,l,u,c;try{const o={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ev});if(d.error)throw d.error;const h=await d.json(),A=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(c=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);o[`${y}Page`]=m}),o.total=parseInt(A)),{data:Object.assign(Object.assign({},h),o),error:null}}catch(o){if(ve(o))return{data:{users:[]},error:o};throw o}}async getUserById(t){Ca(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ts})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Ca(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ts})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Ca(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ts})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ca(t.userId);try{const{data:s,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Ca(t.userId),Ca(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}}function ah(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function rv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sa={debug:!!(globalThis&&Jm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nv extends Zm{}async function iv(e,t,s){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}rv();const lv={url:xg,storageKey:gg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rh(e,t,s){return await s()}const ka={};class xn{constructor(t){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xn.nextInstanceID,xn.nextInstanceID+=1,this.instanceID>0&&Wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},lv),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new av({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ym(n.fetch),this.lock=n.lock||rh,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Wt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=iv:this.lock=rh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Jm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ah(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ah(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=ka[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=ka[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Pg(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Wt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jg(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:u}=n;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ve(s)?{error:s}:{error:new Xm("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:cs}),{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,o=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:d,password:h,options:A}=t;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await ja(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:d,password:h,data:(s=A==null?void 0:A.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:f,code_challenge_method:x},xform:cs})}else if("phone"in t){const{phone:d,password:h,options:A}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},channel:(n=A==null?void 0:A.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:cs})}else throw new Jn("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,o=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:l,options:u}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sh})}else if("phone"in t){const{phone:i,password:l,options:u}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sh})}else throw new Jn("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,r,n,i,l,u,c,o,d,h,A,f;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:y,wallet:g,statement:p,options:v}=t;let w;if(Wt())if(typeof g=="object")w=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const j=new URL((s=v==null?void 0:v.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in w&&w.signIn){const C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let L;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")L=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)L=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)x=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),m=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(n=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const C=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:y,error:g}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Eg(m)},!((A=t.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:cs});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Kn}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if(ve(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const s=await Zs(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:l}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:cs});if(await Cs(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Kn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:l})}catch(i){if(ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:l}=t,u=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:cs}),{data:c,error:o}=u;return o?{data:{user:null,session:null},error:o}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:o})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,l;try{if("email"in t){const{email:u,options:c}=t;let o=null,d=null;this.flowType==="pkce"&&([o,d]=await ja(this.storage,this.storageKey));const{error:h}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:o,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:u,options:c}=t,{data:o,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:d}}throw new Jn("You must provide either an email or phone number.")}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:cs});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,o=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await ja(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Yg})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Ss;const{error:n}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:l}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:l,error:u}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Jn("You must provide either an email or phone number and a type")}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Jl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Zs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=eo()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,o,d)=>(!l&&o==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,o,d))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ts}):await this._useSession(async s=>{var r,n,i;const{data:l,error:u}=s;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ss}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ts})})}catch(s){if(ve(s))return Ng(s)&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Ss;const l=n.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await ja(this.storage,this.storageKey));const{data:o,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:Ts});if(d)throw d;return l.user=o.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ss;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:l}=Zl(t.access_token);if(l.exp&&(r=l.exp,n=r<=s),n){const{session:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(ve(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:l,error:u}=s;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ss;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Wt())throw new Yn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xu("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:l,expires_in:u,expires_at:c,token_type:o}=t;if(!i||!u||!l||!o)throw new Yn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(u);let A=d+h;c&&(A=parseInt(c));const f=A-d;f*1e3<=Ea&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const x=A-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,A,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,A,d);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:A,refresh_token:l,token_type:o,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const l=(r=n.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(_g(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Fg(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:l}=s;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ja(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var l,u,c,o,d;const{data:h,error:A}=i;if(A)throw A;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return Wt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:l}=s;if(l)throw l;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Mg(async n=>(n>0&&await Ig(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cs})),(n,i)=>{const l=200*Math.pow(2,n);return i&&Yl(i)&&Date.now()+l-r<Ea})}catch(r){if(this._debug(s,"error",r),ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Wt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Zs(this.storage,this.storageKey);if(n&&this.userStorage){let l=await Zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:n.user},await Ta(this.userStorage,this.storageKey+"-user",l)),n.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:eo()}else if(n&&!n.user&&!n.user){const l=await Zs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(n.user=l.user,await Cs(this.storage,this.storageKey+"-user"),await Ta(this.storage,this.storageKey,n)):n.user=eo()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Jl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Jl}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),Yl(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(n.access_token);!u&&(l!=null&&l.user)?(n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Ss;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new gl;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Ss;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(n,"error",i),ve(i)){const l={session:null,error:i};return Yl(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,s)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Ta(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=eh(n);await Ta(this.storage,this.storageKey,i)}else{const n=eh(s);await Ta(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Cs(this.storage,this.storageKey),await Cs(this.storage,this.storageKey+"-code-verifier"),await Cs(this.storage,this.storageKey+"-user"),this.userStorage&&await Cs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ea);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/Ea);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ea}ms, refresh threshold is ${cc} ticks`),n<=cc&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,l]=await ja(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});n.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:l}=s;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:o}=await be(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(t.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:l,error:u}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Zl(n.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(u=>u.kid===t);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+bg>n)return r;const{data:i,error:l}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:f,error:x}=await this.getSession();if(x||!f.session)return{data:null,error:x};r=f.session.access_token}const{header:n,payload:i,signature:l,raw:{header:u,payload:c}}=Zl(r);s!=null&&s.allowExpired||Qg(i.exp);const o=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!o){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:n,signature:l},error:null}}const d=Wg(n.alg),h=await crypto.subtle.importKey("jwk",o,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,Dg(`${u}.${c}`)))throw new hc("Invalid JWT signature");return{data:{claims:i,header:n,signature:l},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}xn.nextInstanceID=0;const ov=xn;class cv extends ov{constructor(t){super(t)}}var dv=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,t||[])).next())})};class uv{constructor(t,s,r){var n,i,l;this.supabaseUrl=t,this.supabaseKey=s;const u=Ag(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,o={db:ig,realtime:og,auth:Object.assign(Object.assign({},lg),{storageKey:c}),global:ng},d=pg(r??{},o);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=hg(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Cx(new URL("rest/v1",u).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new sg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new rx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return dv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:l,flowType:u,lock:c,debug:o},d,h){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cv({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),d),storageKey:l,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,flowType:u,lock:c,debug:o,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new $x(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hv=(e,t,s)=>new uv(e,t,s);function fv(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}fv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mv="https://xbqyiqgfkhbckszhvqni.supabase.co",pv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhicXlpcWdma2hiY2tzemh2cW5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MTY5NzYsImV4cCI6MjA3OTA5Mjk3Nn0.28MosVd5GJ9Z46Cg0-WQifZqmb-n5VgEIn9rJe95PE8",J=hv(mv,pv);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const s=O.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...o},d)=>O.createElement("svg",{ref:d,...Av,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:["lucide",`lucide-${xv(e)}`,u].join(" "),...o},[...t.map(([h,A])=>O.createElement(h,A)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=le("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=le("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=le("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=le("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=le("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=le("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=le("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=le("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=le("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=le("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);async function Lv(){const e=[{user_id:null,entity_code:"SSC",entity_name:"State Street Corporation",entity_type:"parent",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Parent Holding Company"],description:"Top-tier bank holding company"},{user_id:null,entity_code:"SSBT",entity_name:"State Street Bank and Trust Company",entity_type:"subsidiary",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody","Investment Servicing","Investment Management"],description:"Principal banking subsidiary providing custody and investment servicing"},{user_id:null,entity_code:"SSIF",entity_name:"State Street Intermediate Funding LLC",entity_type:"funding_entity",jurisdiction:"United States (DE)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Internal Funding"],description:"Intermediate funding entity for capital and liquidity distribution"},{user_id:null,entity_code:"SSIH",entity_name:"State Street International Holdings",entity_type:"material_entity",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"Edge corporation holding international subsidiaries"},{user_id:null,entity_code:"SSTCC",entity_name:"State Street Trust Company Canada",entity_type:"material_entity",jurisdiction:"Canada",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"Canadian trust company for custody services"},{user_id:null,entity_code:"SSGA",entity_name:"State Street Global Advisors",entity_type:"material_entity",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Investment Management"],description:"Investment management division"},{user_id:null,entity_code:"SSBEL",entity_name:"State Street Bank Europe Limited",entity_type:"material_entity",jurisdiction:"Ireland",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody","Investment Servicing"],description:"European banking operations"},{user_id:null,entity_code:"SSLUX",entity_name:"State Street Bank International GmbH",entity_type:"material_entity",jurisdiction:"Germany",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"German banking subsidiary"},{user_id:null,entity_code:"SSAPAC",entity_name:"State Street Australia Limited",entity_type:"material_entity",jurisdiction:"Australia",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"Asia-Pacific custody operations"},{user_id:null,entity_code:"SSTZ",entity_name:"State Street Technology (Zhejiang) Co. Ltd",entity_type:"material_entity",jurisdiction:"China",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Technology Services"],description:"IT development and technology services"}],{data:t,error:s}=await J.from("legal_entities").insert(e).select();if(s)throw console.error("Error seeding legal entities:",s),console.error("Error details:",{code:s.code,message:s.message,details:s.details,hint:s.hint}),new Error(`Failed to insert legal entities: ${s.message}`);if(!t||t.length===0)throw new Error("No legal entities were inserted");const r={};return t.forEach(n=>{r[n.entity_code]=n.id}),console.log(` Successfully inserted ${t.length} legal entities`),{entities:t,entityMap:r}}async function Dv(){const e=[{user_id:null,feed_name:"Core Banking System",feed_type:"core_banking",source_system:"State Street Core",status:"active",last_successful_run:new Date(Date.now()-72e5).toISOString(),last_run_at:new Date(Date.now()-72e5).toISOString(),records_loaded:2547891,error_count:0,freshness_threshold_hours:4,is_stale:!1,connection_status:"connected",notes:"Primary source for account balances and transactions"},{user_id:null,feed_name:"Treasury Management System",feed_type:"treasury",source_system:"TMS Pro",status:"active",last_successful_run:new Date(Date.now()-36e5).toISOString(),last_run_at:new Date(Date.now()-36e5).toISOString(),records_loaded:156432,error_count:0,freshness_threshold_hours:2,is_stale:!1,connection_status:"connected",notes:"Cash positions and liquidity forecasts"},{user_id:null,feed_name:"Market Data Feed",feed_type:"market_data",source_system:"Bloomberg",status:"active",last_successful_run:new Date(Date.now()-9e5).toISOString(),last_run_at:new Date(Date.now()-9e5).toISOString(),records_loaded:89234,error_count:0,freshness_threshold_hours:1,is_stale:!1,connection_status:"connected",notes:"Real-time pricing and FX rates"},{user_id:null,feed_name:"Regulatory Reporting",feed_type:"regulatory",source_system:"Federal Reserve",status:"active",last_successful_run:new Date(Date.now()-864e5).toISOString(),last_run_at:new Date(Date.now()-864e5).toISOString(),records_loaded:45678,error_count:0,freshness_threshold_hours:24,is_stale:!1,connection_status:"connected",notes:"FR 2052a and other regulatory submissions"},{user_id:null,feed_name:"Securities Reference Data",feed_type:"market_data",source_system:"DTCC",status:"active",last_successful_run:new Date(Date.now()-216e5).toISOString(),last_run_at:new Date(Date.now()-216e5).toISOString(),records_loaded:342109,error_count:2,freshness_threshold_hours:12,is_stale:!1,connection_status:"connected",notes:"Securities master data and corporate actions"},{user_id:null,feed_name:"Payment Systems",feed_type:"core_banking",source_system:"Fedwire/CHIPS",status:"active",last_successful_run:new Date(Date.now()-18e5).toISOString(),last_run_at:new Date(Date.now()-18e5).toISOString(),records_loaded:12456,error_count:0,freshness_threshold_hours:1,is_stale:!1,connection_status:"connected",notes:"Intraday payment flows and settlement data"}],t=[{user_id:null,check_name:"Balance Sheet Reconciliation",check_type:"reconciliation",data_source:"balance_sheet_metrics",status:"passed",total_records:12,passed_records:12,failed_records:0,execution_time_ms:245,last_run_at:new Date(Date.now()-3*60*60*1e3).toISOString()},{user_id:null,check_name:"LCR HQLA Validation",check_type:"input",data_source:"lcr_metrics",status:"passed",total_records:8,passed_records:8,failed_records:0,execution_time_ms:189,last_run_at:new Date(Date.now()-2*60*60*1e3).toISOString()},{user_id:null,check_name:"NSFR Component Check",check_type:"transformation",data_source:"nsfr_metrics",status:"passed",total_records:8,passed_records:8,failed_records:0,execution_time_ms:312,last_run_at:new Date(Date.now()-2*60*60*1e3).toISOString()},{user_id:null,check_name:"Interest Rate Risk Data Quality",check_type:"input",data_source:"interest_rate_risk_metrics",status:"passed",total_records:48,passed_records:48,failed_records:0,execution_time_ms:523,last_run_at:new Date(Date.now()-4*60*60*1e3).toISOString()},{user_id:null,check_name:"Resolution Liquidity Completeness",check_type:"output",data_source:"resolution_liquidity_metrics",status:"passed",total_records:8,passed_records:8,failed_records:0,execution_time_ms:198,last_run_at:new Date(Date.now()-3*60*60*1e3).toISOString()},{user_id:null,check_name:"Stress Test Scenario Validation",check_type:"transformation",data_source:"liquidity_stress_tests",status:"warning",total_records:30,passed_records:28,failed_records:2,error_message:"2 scenarios missing severity classification",execution_time_ms:445,last_run_at:new Date(Date.now()-5*60*60*1e3).toISOString()},{user_id:null,check_name:"Legal Entity Hierarchy",check_type:"reconciliation",data_source:"legal_entities",status:"passed",total_records:10,passed_records:10,failed_records:0,execution_time_ms:134,last_run_at:new Date(Date.now()-1*60*60*1e3).toISOString()},{user_id:null,check_name:"Account Balance Cross-Check",check_type:"reconciliation",data_source:"accounts",status:"passed",total_records:4,passed_records:4,failed_records:0,execution_time_ms:87,last_run_at:new Date(Date.now()-2*60*60*1e3).toISOString()},{user_id:null,check_name:"Transaction Category Mapping",check_type:"transformation",data_source:"transactions",status:"passed",total_records:450,passed_records:450,failed_records:0,execution_time_ms:678,last_run_at:new Date(Date.now()-1*60*60*1e3).toISOString()}],s=[{user_id:null,source_system:"Core Banking",source_table:"accounts",source_column:"current_balance",target_system:"Analytics",target_table:"balance_sheet_metrics",target_column:"cash_and_due_from_banks",transformation_rule:"SUM(current_balance) WHERE account_type IN ('checking', 'savings')",transformation_type:"aggregated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Core Banking",source_table:"accounts",source_column:"current_balance",target_system:"Analytics",target_table:"balance_sheet_metrics",target_column:"total_assets",transformation_rule:"SUM(current_balance) WHERE current_balance > 0",transformation_type:"aggregated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Treasury Management",source_table:"securities_holdings",source_column:"market_value",target_system:"Analytics",target_table:"lcr_metrics",target_column:"hqla_level_1",transformation_rule:"SUM(market_value) WHERE security_type = 'US Treasury' AND maturity <= 90",transformation_type:"calculated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Analytics",source_table:"lcr_metrics",source_column:"total_hqla",target_system:"Reporting",target_table:"fr2052a_data",target_column:"hqla_amount",transformation_rule:"Direct mapping with date alignment",transformation_type:"direct",dependency_level:2,is_critical:!0},{user_id:null,source_system:"Analytics",source_table:"balance_sheet_metrics",source_column:"tier1_capital",target_system:"Analytics",target_table:"resolution_liquidity_metrics",target_column:"rcap_amount",transformation_rule:"tier1_capital * stress_factor WHERE scenario = 'resolution'",transformation_type:"derived",dependency_level:2,is_critical:!0},{user_id:null,source_system:"Market Data",source_table:"yield_curves",source_column:"rate",target_system:"Analytics",target_table:"interest_rate_risk_metrics",target_column:"eve_change_amount",transformation_rule:"Apply shock scenarios to rate curve and revalue portfolio",transformation_type:"calculated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Core Banking",source_table:"deposits",source_column:"balance",target_system:"Analytics",target_table:"nsfr_metrics",target_column:"required_stable_funding",transformation_rule:"Apply RSF factors based on deposit type and maturity",transformation_type:"calculated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Payment Systems",source_table:"fedwire_transactions",source_column:"amount",target_system:"Analytics",target_table:"intraday_liquidity",target_column:"peak_usage",transformation_rule:"MAX(cumulative_debit_position) GROUP BY business_day",transformation_type:"aggregated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Legal Entity Master",source_table:"entity_structure",source_column:"entity_id",target_system:"Analytics",target_table:"legal_entities",target_column:"id",transformation_rule:"Direct synchronization with enrichment",transformation_type:"direct",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Analytics",source_table:"lcr_metrics",source_column:"lcr_ratio",target_system:"Analytics",target_table:"liquidity_stress_tests",target_column:"baseline_liquidity",transformation_rule:"Use current LCR as baseline for stress scenarios",transformation_type:"derived",dependency_level:2,is_critical:!1}],{error:r}=await J.from("data_feeds").insert(e);r&&console.error("Error seeding data feeds:",r);const{error:n}=await J.from("data_quality_checks").insert(t);n&&console.error("Error seeding quality checks:",n);const{error:i}=await J.from("data_lineage").insert(s);i&&console.error("Error seeding data lineage:",i),console.log("Data quality data seeded:",e.length,"feeds,",t.length,"checks,",s.length,"lineage mappings")}async function fc(){const e=[{user_id:null,name:"Operating Account",account_type:"checking",currency:"USD",current_balance:245e4,institution:"State Street Bank",is_active:!0},{user_id:null,name:"Money Market Fund",account_type:"savings",currency:"USD",current_balance:58e5,institution:"State Street Global Advisors",is_active:!0},{user_id:null,name:"Investment Portfolio",account_type:"investment",currency:"USD",current_balance:125e5,institution:"State Street Investments",is_active:!0},{user_id:null,name:"Credit Facility",account_type:"credit",currency:"USD",current_balance:-12e5,institution:"State Street Bank",is_active:!0}],t=new Date,s=[];for(let r=0;r<90;r++){const n=new Date(t);n.setDate(n.getDate()-r);const i=n.toISOString().split("T")[0];r%3===0&&s.push({user_id:null,transaction_date:i,description:"Client Service Fees",amount:75e4+Math.random()*2e5,transaction_type:"credit",category:"Revenue"}),r%2===0&&s.push({user_id:null,transaction_date:i,description:"Operational Expenses",amount:-(8e4+Math.random()*6e4),transaction_type:"debit",category:"Operations"}),r%4===0&&s.push({user_id:null,transaction_date:i,description:"Securities Trading Revenue",amount:3e5+Math.random()*25e4,transaction_type:"credit",category:"Trading"}),r%5===0&&s.push({user_id:null,transaction_date:i,description:"Custody Fees",amount:6e5+Math.random()*15e4,transaction_type:"credit",category:"Revenue"}),r%7===1&&s.push({user_id:null,transaction_date:i,description:"Technology Infrastructure",amount:-(7e4+Math.random()*4e4),transaction_type:"debit",category:"Technology"}),r%6===0&&s.push({user_id:null,transaction_date:i,description:"Management Fees",amount:45e4+Math.random()*18e4,transaction_type:"credit",category:"Revenue"}),r%14===0&&s.push({user_id:null,transaction_date:i,description:"Compensation & Benefits",amount:-(28e4+Math.random()*8e4),transaction_type:"debit",category:"Personnel"}),r%5===2&&s.push({user_id:null,transaction_date:i,description:"FX Trading Revenue",amount:2e5+Math.random()*15e4,transaction_type:"credit",category:"Trading"}),r%10===0&&s.push({user_id:null,transaction_date:i,description:"Regulatory Compliance",amount:-(5e4+Math.random()*3e4),transaction_type:"debit",category:"Compliance"}),r%4===1&&s.push({user_id:null,transaction_date:i,description:"Investment Advisory Fees",amount:65e4+Math.random()*18e4,transaction_type:"credit",category:"Revenue"})}try{await J.from("transactions").delete().is("user_id",null),await J.from("accounts").delete().is("user_id",null);const r=await J.from("accounts").insert(e).select();if(r.error)return console.error("Error inserting accounts:",r.error),{success:!1,error:r.error};const n=r.data.map(u=>u.id),i=s.map((u,c)=>({...u,account_id:n[c%n.length]}));console.log("Inserting",i.length,"transactions");const l=await J.from("transactions").insert(i);return l.error?(console.error("Error inserting transactions:",l.error),{success:!1,error:l.error}):(console.log("Successfully seeded",n.length,"accounts and",i.length,"transactions"),{success:!0,message:"Dashboard data seeded successfully"})}catch(r){return console.error("Error seeding dashboard data:",r),{success:!1,error:r}}}async function ip(){try{console.log("Clearing existing data from tables...");const c=["fr2052a_data_rows","lcr_metrics","nsfr_metrics","balance_sheet_metrics","interest_rate_risk_metrics","resolution_metrics","reg_k_metrics","resolution_liquidity_metrics","liquidity_stress_tests","data_lineage","data_quality_checks","data_feeds","legal_entities"];for(const o of c)try{await J.from(o).delete().is("user_id",null)}catch{console.log(`Note: Could not clear ${o}, may not exist or be empty`)}console.log(" Existing data cleared")}catch{console.log("Note: Some tables may not exist yet or have no data to delete")}let e,t;try{const c=await Lv();e=c.entities,t=c.entityMap,console.log(" Seeded legal entities:",e.length)}catch(c){return console.error(" Failed to seed legal entities:",c),{success:!1,error:c instanceof Error?c.message:"Failed to seed legal entities"}}try{await Dv(),console.log(" Seeded data quality data")}catch(c){return console.error(" Failed to seed data quality data:",c),{success:!1,error:c instanceof Error?c.message:"Failed to seed data quality data"}}const s=[{user_id:null,report_date:"2024-12-31",total_assets:3105e8,total_liabilities:2817e8,total_equity:288e8,cash_and_due_from_banks:468e8,securities_available_for_sale:1012e8,securities_held_to_maturity:127e8,loans_gross:429e8,allowance_for_loan_losses:-37e7,deposits_total:2584e8,deposits_noninterest_bearing:1001e8,deposits_interest_bearing:1583e8,short_term_borrowings:79e8,long_term_debt:153e8,tier1_capital:232e8,total_risk_weighted_assets:1645e8,tier1_capital_ratio:.141,leverage_ratio:.075,notes:"Q4 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-11-30",total_assets:3082e8,total_liabilities:2801e8,total_equity:281e8,cash_and_due_from_banks:462e8,securities_available_for_sale:1001e8,securities_held_to_maturity:125e8,loans_gross:426e8,allowance_for_loan_losses:-36e7,deposits_total:2569e8,deposits_noninterest_bearing:994e8,deposits_interest_bearing:1575e8,short_term_borrowings:8e9,long_term_debt:152e8,tier1_capital:228e8,total_risk_weighted_assets:1636e8,tier1_capital_ratio:.139,leverage_ratio:.074,notes:"Nov 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-10-31",total_assets:3071e8,total_liabilities:2792e8,total_equity:279e8,cash_and_due_from_banks:458e8,securities_available_for_sale:996e8,securities_held_to_maturity:124e8,loans_gross:424e8,allowance_for_loan_losses:-355e6,deposits_total:2558e8,deposits_noninterest_bearing:99e9,deposits_interest_bearing:1568e8,short_term_borrowings:81e8,long_term_debt:153e8,tier1_capital:226e8,total_risk_weighted_assets:1631e8,tier1_capital_ratio:.139,leverage_ratio:.074,notes:"Oct 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-09-30",total_assets:3058e8,total_liabilities:2782e8,total_equity:276e8,cash_and_due_from_banks:452e8,securities_available_for_sale:985e8,securities_held_to_maturity:123e8,loans_gross:421e8,allowance_for_loan_losses:-35e7,deposits_total:2548e8,deposits_noninterest_bearing:982e8,deposits_interest_bearing:1566e8,short_term_borrowings:82e8,long_term_debt:152e8,tier1_capital:224e8,total_risk_weighted_assets:1623e8,tier1_capital_ratio:.138,leverage_ratio:.072,notes:"Q3 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-08-31",total_assets:3042e8,total_liabilities:2768e8,total_equity:274e8,cash_and_due_from_banks:448e8,securities_available_for_sale:979e8,securities_held_to_maturity:122e8,loans_gross:418e8,allowance_for_loan_losses:-345e6,deposits_total:2534e8,deposits_noninterest_bearing:976e8,deposits_interest_bearing:1558e8,short_term_borrowings:83e8,long_term_debt:151e8,tier1_capital:222e8,total_risk_weighted_assets:1617e8,tier1_capital_ratio:.137,leverage_ratio:.073,notes:"Aug 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-07-31",total_assets:3021e8,total_liabilities:2752e8,total_equity:269e8,cash_and_due_from_banks:441e8,securities_available_for_sale:968e8,securities_held_to_maturity:121e8,loans_gross:415e8,allowance_for_loan_losses:-34e7,deposits_total:2512e8,deposits_noninterest_bearing:968e8,deposits_interest_bearing:1544e8,short_term_borrowings:85e8,long_term_debt:155e8,tier1_capital:221e8,total_risk_weighted_assets:1608e8,tier1_capital_ratio:.137,leverage_ratio:.073,notes:"Jul 2024 - State Street Corporation Balance Sheet"}],r=[{user_id:null,report_date:"2024-09-30",scenario_type:"+200bp Parallel Shift",nii_current:52e8,nii_scenario:56264e5,nii_change_amount:4264e5,nii_change_percent:.082,eve_current:276e8,eve_scenario:26496e6,eve_change_amount:-1104e6,eve_change_percent:-.04,duration_gap:.35,notes:"Q3 2024 - Asset sensitive position"},{user_id:null,report_date:"2024-09-30",scenario_type:"+100bp Parallel Shift",nii_current:52e8,nii_scenario:5408e6,nii_change_amount:208e6,nii_change_percent:.04,eve_current:276e8,eve_scenario:27048e6,eve_change_amount:-552e6,eve_change_percent:-.02,duration_gap:.35,notes:"Q3 2024 - Moderate rate increase"},{user_id:null,report_date:"2024-09-30",scenario_type:"-100bp Parallel Shift",nii_current:52e8,nii_scenario:4992e6,nii_change_amount:-208e6,nii_change_percent:-.04,eve_current:276e8,eve_scenario:28152e6,eve_change_amount:552e6,eve_change_percent:.02,duration_gap:.35,notes:"Q3 2024 - Rate decrease scenario"}],n=[{user_id:null,report_date:"2024-09-30",total_loss_absorbing_capacity:352e8,tlac_ratio:.217,qualified_ltd:128e8,operational_deposit_capacity:982e8,resolution_liquidity_requirement:45e9,resolution_liquidity_available:59e9,critical_operations_count:8,material_entities_count:12,cross_border_exposures:1568e8,is_resolution_ready:!0,notes:"Q3 2024 - Resolution Planning Metrics"}],i=[{user_id:null,report_date:"2024-09-30",total_foreign_exposures:1568e8,country_risk_rating:"Investment Grade",cross_currency_funding_gap:123e8,foreign_office_assets:1425e8,foreign_office_liabilities:1302e8,fx_swap_notional:856e8,net_stable_funding_ratio_foreign:1.185,notes:"Q3 2024 - Significant operations in UK, Europe, APAC"}],l=[{user_id:null,report_date:"2024-09-30",rcap_amount:284e8,rcap_ratio:1.175,rcap_requirement:242e8,rcap_surplus_deficit:42e8,rcen_amount:185e8,rcen_ratio:1.085,rcen_requirement:1705e7,rlap_amount:628e8,rlap_ratio:1.256,rlap_requirement:5e10,rlap_surplus_deficit:128e8,rlen_amount:382e8,rlen_ratio:1.146,rlen_requirement:3335e7,resolution_strategy:"Single Point of Entry (SPE)",material_entities_count:12,is_compliant:!0,notes:"Q3 2024 - All resolution metrics exceed minimum thresholds"},{user_id:null,report_date:"2024-06-30",rcap_amount:278e8,rcap_ratio:1.165,rcap_requirement:2385e7,rcap_surplus_deficit:395e7,rcen_amount:181e8,rcen_ratio:1.075,rcen_requirement:1684e7,rlap_amount:615e8,rlap_ratio:1.242,rlap_requirement:495e8,rlap_surplus_deficit:12e9,rlen_amount:376e8,rlen_ratio:1.138,rlen_requirement:3305e7,resolution_strategy:"Single Point of Entry (SPE)",material_entities_count:12,is_compliant:!0,notes:"Q2 2024 - Resolution readiness maintained"}],u=[{user_id:null,report_date:"2024-09-30",scenario_name:"Severe Market Stress - 30 Day",scenario_type:"30_day_short_term",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:428e8,stressed_cash_inflows:85e8,stressed_cash_outflows:247e8,stressed_net_cash_flow:-162e8,liquidity_shortfall:0,survival_days:30,stress_severity:"Severe",deposit_runoff_rate:.15,wholesale_funding_rollover_rate:.25,credit_line_drawdown_rate:.35,asset_liquidation_haircut:.12,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"30-day severe stress - passes all internal thresholds with adequate buffer"},{user_id:null,report_date:"2024-09-30",scenario_name:"Baseline Adverse - 30 Day",scenario_type:"30_day_short_term",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:482e8,stressed_cash_inflows:124e8,stressed_cash_outflows:232e8,stressed_net_cash_flow:-108e8,liquidity_shortfall:0,survival_days:30,stress_severity:"Moderate",deposit_runoff_rate:.08,wholesale_funding_rollover_rate:.15,credit_line_drawdown_rate:.2,asset_liquidation_haircut:.08,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"30-day baseline adverse - comfortable liquidity position maintained"},{user_id:null,report_date:"2024-09-30",scenario_name:"Extended Crisis - 1 Year",scenario_type:"1_year_extended",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:385e8,stressed_cash_inflows:452e8,stressed_cash_outflows:657e8,stressed_net_cash_flow:-205e8,liquidity_shortfall:0,survival_days:365,stress_severity:"Severe",deposit_runoff_rate:.25,wholesale_funding_rollover_rate:.5,credit_line_drawdown_rate:.6,asset_liquidation_haircut:.2,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"1-year extended crisis - survives full year with liquidity buffer intact"},{user_id:null,report_date:"2024-09-30",scenario_name:"Idiosyncratic Stress - 1 Year",scenario_type:"1_year_extended",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:442e8,stressed_cash_inflows:528e8,stressed_cash_outflows:676e8,stressed_net_cash_flow:-148e8,liquidity_shortfall:0,survival_days:365,stress_severity:"Moderate",deposit_runoff_rate:.18,wholesale_funding_rollover_rate:.35,credit_line_drawdown_rate:.45,asset_liquidation_haircut:.15,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"1-year idiosyncratic stress - maintains adequate liquidity throughout period"}];try{const o=(await Promise.all([J.from("balance_sheet_metrics").insert(s),J.from("interest_rate_risk_metrics").insert(r),J.from("resolution_metrics").insert(n),J.from("reg_k_metrics").insert(i),J.from("resolution_liquidity_metrics").insert(l),J.from("liquidity_stress_tests").insert(u)])).filter(d=>d.error);return o.length>0?(console.error("Errors seeding data:",o),{success:!1,errors:o}):{success:!0,message:"State Street Corporation data seeded successfully"}}catch(c){return console.error("Error seeding data:",c),{success:!1,error:c}}}function Ev(e,t){const s=[],n=[{category:"deposits",counterpartyTypes:["retail","wholesale","financial_institution"],subProducts:["stable","less_stable","operational","non_operational"],maturities:["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year"],isHQLA:!1},{category:"loans",counterpartyTypes:["retail","corporate","sme","financial_institution"],subProducts:["mortgage","consumer","commercial","revolving"],maturities:["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year"],assetClasses:["residential","commercial","unsecured"],isHQLA:!1},{category:"securities",counterpartyTypes:["government","corporate","financial_institution","sovereign"],subProducts:["treasury","agency","municipal","corporate_bond","equity"],maturities:["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year"],assetClasses:["government","corporate","covered_bond","equity"],isHQLA:!0},{category:"derivatives",counterpartyTypes:["financial_institution","corporate","hedge_fund"],subProducts:["interest_rate_swap","fx_forward","credit_default_swap","equity_option"],maturities:["overnight","8-30days","31-90days","91-180days","181-365days","gt_1year"],assetClasses:["interest_rate","fx","credit","equity"],isHQLA:!1},{category:"secured_funding",counterpartyTypes:["financial_institution","central_bank","corporate"],subProducts:["repo","reverse_repo","securities_lending","collateral_swap"],maturities:["overnight","2-7days","8-30days","31-90days"],assetClasses:["government","corporate","equity"],isHQLA:!1},{category:"credit_facilities",counterpartyTypes:["retail","corporate","sme"],subProducts:["committed","uncommitted","standby_letter_of_credit"],maturities:["open","gt_1year"],isHQLA:!1},{category:"liquidity_facilities",counterpartyTypes:["special_purpose_vehicle","financial_institution"],subProducts:["conduit","asset_backed_commercial_paper"],maturities:["open","8-30days","31-90days"],isHQLA:!1},{category:"capital",counterpartyTypes:["shareholder"],subProducts:["common_equity","preferred_stock","retained_earnings"],maturities:["open"],isHQLA:!1},{category:"other_assets",counterpartyTypes:["various"],subProducts:["cash","central_bank_reserves","fixed_assets","intangibles"],maturities:["overnight","open","gt_1year"],assetClasses:["cash","property","intangible"],isHQLA:!0},{category:"other_liabilities",counterpartyTypes:["various","trade_creditor"],subProducts:["accounts_payable","accrued_expenses","deferred_revenue"],maturities:["8-30days","31-90days","open"],isHQLA:!1}];let i=1;return n.forEach(l=>{l.counterpartyTypes.forEach(u=>{(l.subProducts||["standard"]).forEach(c=>{(l.maturities||["standard"]).forEach(o=>{(l.assetClasses||["standard"]).forEach(h=>{const A=["deposits","secured_funding","other_liabilities","capital"].includes(l.category),f=["loans","securities","other_assets"].includes(l.category),x=["credit_facilities","liquidity_facilities","derivatives"].includes(l.category),m=`FR2052A-${l.category.toUpperCase()}-${i.toString().padStart(6,"0")}`,y=`${l.category} - ${c} - ${u} - ${o}${h!=="standard"?` - ${h}`:""}`;let g=!1,p,v=0;l.category==="securities"?h==="government"&&c==="treasury"?(g=!0,p=1,v=0):h==="government"||c==="agency"?(g=!0,p=2,v=.15):h==="corporate"&&c==="corporate_bond"&&(g=!0,p=3,v=.5):l.category==="other_assets"&&(c==="cash"||c==="central_bank_reserves")&&(g=!0,p=1,v=0);let w=0,j=0;if(f&&l.category!=="securities"){const _=Xi(o);_<=30?w=1e6*.15:_<=90&&(w=1e6*.05)}A&&l.category==="deposits"?j=1e6*dh(u,c):l.category==="secured_funding"?j=1e6*.25:x&&(j=1e6*.05);let C;l.category==="deposits"&&(C=dh(u,c));let L,E;(A||l.category==="capital")&&(L=Tv(l.category,u,c,o)),(f||x)&&(E=Fv(l.category,c,o,g,p));const k=g?1e6*.1:0,R=["AAA","AA","A","BBB","BB","B"],U=R[Math.floor(Math.random()*R.length)];s.push({productId:m,productName:y,productCategory:l.category,subProduct:c,maturityBucket:o,counterpartyType:u,assetClass:h!=="standard"?h:void 0,currency:"USD",outstandingBalance:1e6,projectedCashInflow:w,projectedCashOutflow:j,isHQLA:g,hqlaLevel:p,haircut:v,runoffRate:C,requiredStableFundingFactor:E,availableStableFundingFactor:L,encumberedAmount:k,internalRating:U,reportDate:e}),i++})})})})}),s}function Xi(e){return{overnight:1,"2-7days":5,"8-30days":20,"31-90days":60,"91-180days":135,"181-365days":270,gt_1year:730,open:9999}[e]||0}function dh(e,t){return e==="retail"?t==="stable"?.03:.1:e==="wholesale"?t==="operational"?.25:.4:e==="financial_institution"?1:.4}function Tv(e,t,s,r){if(e==="capital")return 1;if(e==="deposits"){if(t==="retail")return s==="stable"?.95:.9;if(t==="wholesale"||t==="financial_institution"){if(s==="operational")return .5;const n=Xi(r);return n<180?0:n<365?.5:1}}return e==="secured_funding"?Xi(r)<180?0:.5:0}function Fv(e,t,s,r,n){if(r&&n===1)return 0;if(r&&n===2)return .15;if(r&&n===3)return .5;if(e==="loans")return Xi(s)>=365&&(t==="mortgage"||t==="consumer")?.65:.85;if(e==="securities")return .85;if(e==="derivatives")return 1;if(e==="credit_facilities"||e==="liquidity_facilities")return .05;if(e==="other_assets"){if(t==="cash"||t==="central_bank_reserves")return 0;if(t==="fixed_assets"||t==="intangibles")return 1}return 1}class Pv{constructor(t){this.data=t}calculateLCR(){const t=this.calculateHQLA(),s=this.calculateCashOutflows(),r=this.calculateCashInflows(),n=Math.max(s.total-Math.min(r.total,s.total*.75),s.total*.25),i=n>0?t.total/n:0;return{totalHQLA:t.total,level1Assets:t.level1,level2aAssets:t.level2a,level2bAssets:t.level2b,totalCashOutflows:s.total,totalCashInflows:r.total,netCashOutflows:n,lcrRatio:i,isCompliant:i>=1,details:{retailDepositOutflows:s.retailDeposits,wholesaleFundingOutflows:s.wholesaleFunding,securedFundingOutflows:s.securedFunding,derivativesOutflows:s.derivatives,otherContractualOutflows:s.otherContractual,otherContingentOutflows:s.otherContingent,cappedInflows:Math.min(r.total,s.total*.75)}}}calculateNSFR(){const t=this.calculateAvailableStableFunding(),s=this.calculateRequiredStableFunding(),r=s.total>0?t.total/s.total:0;return{availableStableFunding:t.total,requiredStableFunding:s.total,nsfrRatio:r,isCompliant:r>=1,details:{capitalASF:t.capital,retailDepositsASF:t.retailDeposits,wholesaleFundingASF:t.wholesaleFunding,otherLiabilitiesASF:t.otherLiabilities,level1AssetsRSF:s.level1Assets,level2aAssetsRSF:s.level2aAssets,level2bAssetsRSF:s.level2bAssets,loansRSF:s.loans,otherAssetsRSF:s.otherAssets}}}calculateHQLA(){let t=0,s=0,r=0;this.data.forEach(l=>{if(!l.isHQLA)return;const c=(l.outstandingBalance-l.encumberedAmount)*(1-l.haircut);l.hqlaLevel===1?t+=c:l.hqlaLevel===2?(l.productCategory==="securities"&&l.assetClass,s+=c*.85):l.hqlaLevel===3&&(r+=c*.5)});const n=t*(2/3),i=t*(15/85);return s=Math.min(s,n),r=Math.min(r,i),{level1:t,level2a:s,level2b:r,total:t+s+r}}calculateCashOutflows(){let t=0,s=0,r=0,n=0,i=0,l=0;this.data.forEach(c=>{if(!(c.projectedCashOutflow<=0&&c.productCategory!=="deposits"))if(c.productCategory==="deposits"){if(c.counterpartyType==="retail"){const o=this.getRetailDepositRunoffRate(c);t+=c.outstandingBalance*o}else if(c.counterpartyType==="wholesale"||c.counterpartyType==="financial_institution"){const o=this.getWholesaleRunoffRate(c);s+=c.outstandingBalance*o}}else c.productCategory==="secured_funding"?r+=this.getSecuredFundingOutflow(c):c.productCategory==="derivatives"?n+=c.projectedCashOutflow:c.maturityBucket==="overnight"||c.maturityBucket==="2-7days"||c.maturityBucket==="8-30days"?i+=c.projectedCashOutflow:(c.productCategory==="credit_facilities"||c.productCategory==="liquidity_facilities")&&(l+=c.outstandingBalance*.05)});const u=t+s+r+n+i+l;return{retailDeposits:t,wholesaleFunding:s,securedFunding:r,derivatives:n,otherContractual:i,otherContingent:l,total:u}}calculateCashInflows(){let t=0;return this.data.forEach(s=>{s.projectedCashInflow>0&&(s.productCategory==="loans"?this.getMaturityDays(s.maturityBucket)<=30&&(t+=s.projectedCashInflow*.5):t+=s.projectedCashInflow)}),{total:t}}calculateAvailableStableFunding(){let t=0,s=0,r=0,n=0;return this.data.forEach(i=>{if(i.productCategory==="equity"||i.productCategory==="capital")t+=i.outstandingBalance*1;else if(i.productCategory==="deposits"&&i.counterpartyType==="retail"){const l=i.availableStableFundingFactor||this.getRetailDepositASFFactor(i);s+=i.outstandingBalance*l}else if(i.productCategory==="deposits"&&(i.counterpartyType==="wholesale"||i.counterpartyType==="financial_institution")){const l=i.availableStableFundingFactor||this.getWholesaleASFFactor(i);r+=i.outstandingBalance*l}else if(i.productCategory==="other_liabilities"){const l=i.availableStableFundingFactor||0;n+=i.outstandingBalance*l}}),{capital:t,retailDeposits:s,wholesaleFunding:r,otherLiabilities:n,total:t+s+r+n}}calculateRequiredStableFunding(){let t=0,s=0,r=0,n=0,i=0;return this.data.forEach(l=>{if(l.productCategory==="deposits"||l.productCategory==="capital"||l.productCategory==="equity")return;const u=l.requiredStableFundingFactor||this.getRSFFactor(l),c=l.outstandingBalance*u;l.isHQLA&&l.hqlaLevel===1?t+=c:l.isHQLA&&l.hqlaLevel===2?s+=c:l.isHQLA&&l.hqlaLevel===3?r+=c:l.productCategory==="loans"?n+=c:i+=c}),{level1Assets:t,level2aAssets:s,level2bAssets:r,loans:n,otherAssets:i,total:t+s+r+n+i}}getRetailDepositRunoffRate(t){return t.runoffRate?t.runoffRate:t.subProduct==="stable"?.03:(t.subProduct==="less_stable",.1)}getWholesaleRunoffRate(t){return t.runoffRate?t.runoffRate:t.subProduct==="operational"?.25:t.counterpartyType==="financial_institution"?1:.4}getSecuredFundingOutflow(t){return t.isHQLA&&t.hqlaLevel===1?t.outstandingBalance*0:t.outstandingBalance*1}getRetailDepositASFFactor(t){return t.subProduct==="stable"?.95:(t.subProduct==="less_stable",.9)}getWholesaleASFFactor(t){if(t.subProduct==="operational")return .5;const s=this.getMaturityDays(t.maturityBucket);return s<180?0:s<365?.5:1}getRSFFactor(t){return t.isHQLA&&t.hqlaLevel===1?0:t.isHQLA&&t.hqlaLevel===2?.15:t.isHQLA&&t.hqlaLevel===3?.5:t.productCategory==="loans"?t.counterpartyType==="retail"&&t.maturityBucket==="gt_1year"?.65:.85:t.productCategory==="securities"?.85:1}getMaturityDays(t){return{overnight:1,"2-7days":5,"8-30days":20,"31-90days":60,"91-180days":135,"181-365days":270,gt_1year:730,open:9999}[t]||0}}function Bv(e,t){return{deposits:t.includes("retail")?"Retail":"Wholesale",loans:"Asset",securities:"Asset",derivatives:"Derivative",secured_funding:"Secured",credit_facilities:"Unsecured",liquidity_facilities:"Wholesale",capital:"Asset",other_assets:"Asset",other_liabilities:"Unsecured"}[e]||"Asset"}function Iv(e){return{overnight:"Overnight","2-7days":"4-7 Days","8-30days":"8-14 Days","31-90days":"31-90 Days","91-180days":"91-180 Days","181-365days":"181-365 Days",gt_1year:">365 Days",open:"Open"}[e]||"Open"}async function jd(){var x;console.log("=== FR 2052a Data Generation Started ==="),console.log("Step 0: Verifying tables exist...");const{error:e}=await J.from("fr2052a_data_rows").select("id").limit(1);if(e)return console.error(" ERROR: fr2052a_data_rows table not accessible:",e),{success:!1,error:`Table fr2052a_data_rows error: ${e.message}`};console.log(" fr2052a_data_rows table exists");const{error:t}=await J.from("lcr_metrics").select("id").limit(1);if(t)return console.error(" ERROR: lcr_metrics table not accessible:",t),{success:!1,error:`Table lcr_metrics error: ${t.message}`};console.log(" lcr_metrics table exists");const{error:s}=await J.from("nsfr_metrics").select("id").limit(1);if(s)return console.error(" ERROR: nsfr_metrics table not accessible:",s),{success:!1,error:`Table nsfr_metrics error: ${s.message}`};console.log(" nsfr_metrics table exists"),console.log("Step 1: Fetching legal entities (limit for performance)...");const r=Date.now(),{data:n,error:i}=await J.from("legal_entities").select("id, entity_name").is("user_id",null).limit(3);if(console.log(`  Fetch took ${Date.now()-r}ms`),i)return console.error("ERROR fetching legal entities:",i),{success:!1,error:i.message};if(!n||n.length===0)return console.error("No legal entities found. Please create entities first."),{success:!1,error:"No legal entities found"};console.log(` Found ${n.length} legal entities:`,n.map(m=>m.entity_name));const l=["2024-12-31","2024-11-30","2024-10-31"],u={totalRecords:0,totalEntities:0,totalPeriods:0,lcrCalculations:[],nsfrCalculations:[]};for(const m of n){console.log(`
Processing entity ${u.totalEntities+1}/${n.length}: ${m.entity_name}`),u.totalEntities++;for(const y of l){const g=u.totalPeriods+1;console.log(`  Period ${g}/$(entities.length * reportDates.length)}: Generating data for ${y}...`);const p=Date.now(),v=Ev(y,m.id);console.log(`  Generated ${v.length} FR 2052a line items (${Date.now()-p}ms)`);const w=v.map(B=>({user_id:null,legal_entity_id:m.id,report_date:y,table_name:"FR2052a",reporting_entity:m.entity_name,product:Bv(B.productCategory,B.counterpartyType),sub_product:B.subProduct||null,sub_product2:B.assetClass||null,counterparty:B.counterpartyType,maturity_bucket:Iv(B.maturityBucket),currency:B.currency,amount:B.outstandingBalance,market_value:B.outstandingBalance,fair_value:B.outstandingBalance,asset_class:B.assetClass||null,is_hqla:B.isHQLA,hqla_level:B.hqlaLevel||null,haircut_rate:B.haircut,runoff_rate:B.runoffRate||null,rsf_factor:B.requiredStableFundingFactor||null,asf_factor:B.availableStableFundingFactor||null,projected_inflow:B.projectedCashInflow,projected_outflow:B.projectedCashOutflow,encumbered_amount:B.encumberedAmount,internal_rating:B.internalRating||null}));console.log(`  Step 2a: Inserting ${w.length} rows to database...`);const j=Date.now(),C=1e3;let L=0;const E=Math.ceil(w.length/C);for(let B=0;B<w.length;B+=C){const M=Math.floor(B/C)+1,te=w.slice(B,B+C),se=Date.now(),{error:X}=await J.from("fr2052a_data_rows").insert(te);if(X)return console.error(`   ERROR inserting batch ${M}/${E}:`,X),{success:!1,error:X.message};L+=te.length;const re=Date.now()-se,Ne=(Date.now()-j)/M,ge=(E-M)*Ne;E>1&&console.log(`  ... batch ${M}/${E} (${te.length} rows in ${re}ms, ~${Math.round(ge/1e3)}s remaining)`)}console.log(`   Successfully inserted ${L} rows (total time: ${Math.round((Date.now()-j)/1e3)}s)`),u.totalRecords+=w.length,u.totalPeriods++,console.log("  Step 2b: Calculating LCR and NSFR...");const k=Date.now(),R=new Pv(v),U=R.calculateLCR(),_=R.calculateNSFR();console.log(`   LCR: ${(U.lcrRatio*100).toFixed(2)}%, NSFR: ${(_.nsfrRatio*100).toFixed(2)}% (${Date.now()-k}ms)`);const I={user_id:null,legal_entity_id:m.id,report_date:y,hqla_level_1:U.level1Assets,hqla_level_2a:U.level2aAssets,hqla_level_2b:U.level2bAssets,total_hqla:U.totalHQLA,total_net_cash_outflows:U.netCashOutflows,lcr_ratio:U.lcrRatio,is_compliant:U.isCompliant,notes:`FR2052a calculation - ${w.length} records processed`};console.log("  Step 2c: Saving metrics...");const b=Date.now(),{error:S}=await J.from("lcr_metrics").upsert(I,{onConflict:"legal_entity_id,report_date"});if(S)return console.error("   ERROR saving LCR metrics:",S),{success:!1,error:S.message};u.lcrCalculations.push(U);const V={user_id:null,legal_entity_id:m.id,report_date:y,available_stable_funding:_.availableStableFunding,required_stable_funding:_.requiredStableFunding,nsfr_ratio:_.nsfrRatio,is_compliant:_.isCompliant,retail_deposits:_.details.retailDepositsASF||0,wholesale_funding:_.details.wholesaleFundingASF||0,notes:`FR2052a calculation - ${w.length} records processed`},{error:F}=await J.from("nsfr_metrics").upsert(V,{onConflict:"legal_entity_id,report_date"});if(F)return console.error("   ERROR saving NSFR metrics:",F),{success:!1,error:F.message};console.log(`   Metrics saved (${Date.now()-b}ms)`),u.nsfrCalculations.push(_),console.log("  Step 2e: Creating FR2052a submission record...");const z={user_id:null,submission_date:new Date().toISOString().split("T")[0],reporting_period:y,submission_type:"system_generated",legal_entity_id:m.id,total_hqla:U.totalHQLA,total_outflows:U.totalCashOutflows,total_inflows:U.totalCashInflows,net_cash_outflow:U.netCashOutflows,lcr_ratio:U.lcrRatio,is_submitted:!0,submission_status:"completed",notes:`Auto-generated from ${w.length} FR2052a records`},{data:P,error:W}=await J.from("fr2052a_submissions").insert(z).select().maybeSingle();W?console.error("   Warning: Could not create submission record:",W.message):(console.log(`   Submission record created (${(x=P==null?void 0:P.id)==null?void 0:x.substring(0,8)}...)`),P&&(u.nsfrCalculations[u.nsfrCalculations.length-1].submissionId=P.id))}}console.log(`
=== FR 2052a Generation & Calculation Summary ===`),console.log(`Total Entities Processed: ${u.totalEntities}`),console.log(`Total Periods Generated: ${u.totalPeriods}`),console.log(`Total FR 2052a Records: ${u.totalRecords}`),console.log(`LCR Calculations: ${u.lcrCalculations.length}`),console.log(`NSFR Calculations: ${u.nsfrCalculations.length}`),console.log(`================================================
`),console.log("Step 3: Quick verification (spot check)...");const{data:c,error:o}=await J.from("fr2052a_data_rows").select("id").is("user_id",null).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:d,error:h}=await J.from("lcr_metrics").select("id").is("user_id",null).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:A,error:f}=await J.from("nsfr_metrics").select("id").is("user_id",null).order("created_at",{ascending:!1}).limit(1).maybeSingle();return console.log(`
=== Quick Verification ===`),console.log(` FR 2052a data exists: ${c?"YES":"NO"}`),console.log(` LCR metrics exist: ${d?"YES":"NO"}`),console.log(` NSFR metrics exist: ${A?"YES":"NO"}`),console.log(`Expected records: ~${u.totalRecords}`),console.log(`==========================
`),c?d?A?(console.log(" All data successfully generated and verified in database!"),console.log(`
  Validations NOT executed automatically.`),console.log("   Execute validations on-demand from the FR2052a Validation screen."),console.log(`
=== FR 2052a Generation Summary ===`),console.log(`Total Entities: ${u.totalEntities}`),console.log(`Total Periods: ${u.totalPeriods}`),console.log(`Total Records: ${u.totalRecords}`),console.log(`LCR Calculations: ${u.lcrCalculations.length}`),console.log(`NSFR Calculations: ${u.nsfrCalculations.length}`),console.log(`Submissions Created: ${u.totalEntities*u.totalPeriods}`),console.log("Validations: NOT EXECUTED (execute via UI)"),console.log(`=====================================
`),{success:!0,results:{...u,message:"Data generation complete. Execute validations from UI."}}):(console.error(" WARNING: No NSFR metrics found in database after generation!"),{success:!1,error:"NSFR calculation failed - no records in database"}):(console.error(" WARNING: No LCR metrics found in database after generation!"),{success:!1,error:"LCR calculation failed - no records in database"}):(console.error(" WARNING: No FR 2052a data found in database after generation!"),{success:!1,error:"Data generation failed - no records in database"})}const lp=O.createContext(void 0);function Mv({children:e}){const[t]=O.useState(null),[s]=O.useState(!1),r=async(l,u,c)=>({error:null}),n=async(l,u)=>({error:null}),i=async()=>{};return a.jsx(lp.Provider,{value:{user:t,loading:s,signUp:r,signIn:n,signOut:i},children:e})}function ut(){const e=O.useContext(lp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function op({metricName:e,targetTable:t,targetColumn:s,onClose:r}){ut();const[n,i]=O.useState([]),[l,u]=O.useState(!0);O.useEffect(()=>{c()},[t,s]);const c=async()=>{try{const{data:h,error:A}=await J.from("data_lineage").select("*").is("user_id",null).eq("target_table",t).eq("target_column",s).order("dependency_level",{ascending:!0});if(A)throw A;i(h||[])}catch(h){console.error("Error loading lineage data:",h)}finally{u(!1)}},o=n.reduce((h,A)=>{const f=A.dependency_level;return h[f]||(h[f]=[]),h[f].push(A),h},{}),d=Object.keys(o).map(Number).sort((h,A)=>h-A);return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Data Lineage"}),a.jsx("p",{className:"text-sm text-blue-100 mt-1",children:e})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-white"})})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading lineage data..."}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(vn,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600",children:"No lineage data available for this metric"})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Oe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Target Metric"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-slate-700",children:[a.jsx("span",{className:"font-medium",children:"Table:"})," ",t]}),a.jsxs("p",{className:"text-slate-700",children:[a.jsx("span",{className:"font-medium",children:"Column:"})," ",s]})]})]})]})}),d.map((h,A)=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-slate-700 text-white text-sm font-bold",children:h}),a.jsxs("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:["Dependency Level ",h]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-11",children:o[h].map(f=>a.jsxs("div",{className:`relative rounded-lg border-2 p-4 ${f.is_critical?"bg-red-50 border-red-300":"bg-slate-50 border-slate-200"}`,children:[f.is_critical&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-semibold rounded",children:"CRITICAL"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"SOURCE"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:f.source_system}),a.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[f.source_table,".",f.source_column]})]})}),a.jsx(gv,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"TARGET"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:f.target_system}),a.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[f.target_table,".",f.target_column]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${f.transformation_type==="direct"?"bg-green-100 text-green-700":f.transformation_type==="calculated"?"bg-blue-100 text-blue-700":f.transformation_type==="aggregated"?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:f.transformation_type.toUpperCase()})}),a.jsx("p",{className:"text-xs text-slate-700",children:f.transformation_rule})]})]})]},f.id))}),A<d.length-1&&a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-0.5 h-8 bg-slate-300"})})]},h))]})}),a.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-6 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-green-100 border border-green-300"}),a.jsx("span",{className:"text-slate-600",children:"Direct Mapping"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-blue-100 border border-blue-300"}),a.jsx("span",{className:"text-slate-600",children:"Calculated"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-purple-100 border border-purple-300"}),a.jsx("span",{className:"text-slate-600",children:"Aggregated"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-amber-100 border border-amber-300"}),a.jsx("span",{className:"text-slate-600",children:"Derived"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-red-50 border-2 border-red-300"}),a.jsx("span",{className:"text-slate-600",children:"Critical Path"})]})]})})]})})}function Ov({metricName:e,dataSource:t,onClose:s}){ut();const[r,n]=O.useState([]),[i,l]=O.useState([]),[u,c]=O.useState(!0);O.useEffect(()=>{o()},[t]);const o=async()=>{try{const[x,m]=await Promise.all([J.from("data_quality_checks").select("*").is("user_id",null).eq("data_source",t).order("last_run_at",{ascending:!1}).limit(10),J.from("data_feeds").select("*").is("user_id",null).ilike("feed_name",`%${t}%`).order("last_run_at",{ascending:!1}).limit(5)]);if(x.error)throw x.error;if(m.error)throw m.error;n(x.data||[]),l(m.data||[])}catch(x){console.error("Error loading quality data:",x)}finally{c(!1)}},d=x=>({completeness:{label:"Completeness Check",description:"Validates that required fields are populated and not null",color:"bg-blue-100 text-blue-700 border-blue-300"},accuracy:{label:"Accuracy Check",description:"Ensures data values are correct and match expected patterns",color:"bg-green-100 text-green-700 border-green-300"},consistency:{label:"Consistency Check",description:"Verifies data consistency across related tables and fields",color:"bg-purple-100 text-purple-700 border-purple-300"},timeliness:{label:"Timeliness Check",description:"Checks if data is fresh and updated within expected timeframes",color:"bg-amber-100 text-amber-700 border-amber-300"},uniqueness:{label:"Uniqueness Check",description:"Validates that records do not contain duplicates",color:"bg-cyan-100 text-cyan-700 border-cyan-300"},validity:{label:"Validity Check",description:"Ensures values conform to defined business rules and constraints",color:"bg-indigo-100 text-indigo-700 border-indigo-300"},variance:{label:"Variance Analysis",description:"Detects unusual changes or anomalies in input values",color:"bg-rose-100 text-rose-700 border-rose-300"}})[x]||{label:x,description:"Data quality validation",color:"bg-slate-100 text-slate-700 border-slate-300"},h=x=>{switch(x){case"passed":return a.jsx(ue,{className:"w-5 h-5 text-green-600"});case"failed":return a.jsx(Nt,{className:"w-5 h-5 text-red-600"});case"warning":return a.jsx(Be,{className:"w-5 h-5 text-amber-600"});default:return a.jsx(_s,{className:"w-5 h-5 text-slate-400"})}},A=x=>new Date(x).toLocaleString(),f=x=>x.total_records===0?0:(x.passed_records/x.total_records*100).toFixed(1);return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Data Quality & Feeds"}),a.jsx("p",{className:"text-sm text-green-100 mt-1",children:e})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-green-500 rounded-lg transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-white"})})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:u?a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading quality data..."}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[a.jsx(Oe,{className:"w-5 h-5 text-green-600"}),"Data Feeds"]}),i.length===0?a.jsxs("div",{className:"bg-slate-50 rounded-lg p-8 text-center",children:[a.jsx(Oe,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600",children:"No data feeds configured for this metric"})]}):a.jsx("div",{className:"space-y-3",children:i.map(x=>a.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900",children:x.feed_name}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:x.source_system})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${x.status==="active"?"bg-green-100 text-green-700":x.status==="error"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:x.status.toUpperCase()}),x.is_stale&&a.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-amber-100 text-amber-700",children:"STALE"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Records Loaded"}),a.jsx("p",{className:"font-semibold text-slate-900",children:x.records_loaded.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Errors"}),a.jsx("p",{className:"font-semibold text-slate-900",children:x.error_count})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Last Run"}),a.jsx("p",{className:"font-semibold text-slate-900 text-xs",children:A(x.last_run_at)})]})]})]},x.id))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[a.jsx(ue,{className:"w-5 h-5 text-green-600"}),"Quality Checks"]}),r.length===0?a.jsxs("div",{className:"bg-slate-50 rounded-lg p-8 text-center",children:[a.jsx(ue,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600",children:"No quality checks configured for this metric"})]}):a.jsx("div",{className:"space-y-4",children:r.map(x=>{const m=d(x.check_type),y=f(x);return a.jsx("div",{className:"bg-white rounded-lg border-2 border-slate-200 overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h(x.status),a.jsx("h4",{className:"font-semibold text-slate-900",children:x.check_name})]}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${m.color}`,children:m.label})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-2xl font-bold ${parseFloat(y)>=95?"text-green-600":parseFloat(y)>=80?"text-amber-600":"text-red-600"}`,children:[y,"%"]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Pass Rate"})]})]}),a.jsx("div",{className:"bg-slate-50 rounded-lg p-3 mb-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(tt,{className:"w-4 h-4 text-slate-500 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-slate-700",children:m.description})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Total Records"}),a.jsx("p",{className:"font-semibold text-slate-900",children:x.total_records.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Passed"}),a.jsx("p",{className:"font-semibold text-green-600",children:x.passed_records.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Failed"}),a.jsx("p",{className:"font-semibold text-red-600",children:x.failed_records.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Execution Time"}),a.jsxs("p",{className:"font-semibold text-slate-900",children:[x.execution_time_ms,"ms"]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 text-xs text-slate-500",children:["Last run: ",A(x.last_run_at)]}),x.error_message&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-700",children:x.error_message})})]})},x.id)})})]})]})})]})})}function zv({children:e,metricName:t,targetTable:s,targetColumn:r,dataSource:n,className:i=""}){const[l,u]=O.useState(!1),[c,o]=O.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`relative group ${i}`,children:[e,a.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[a.jsx("button",{onClick:()=>o(!0),className:"p-1.5 bg-white/90 hover:bg-white rounded-lg shadow-md border border-slate-200 transition-all hover:scale-105",title:"View Data Quality Checks",children:a.jsx(wa,{className:"w-4 h-4 text-green-600"})}),a.jsx("button",{onClick:()=>u(!0),className:"p-1.5 bg-white/90 hover:bg-white rounded-lg shadow-md border border-slate-200 transition-all hover:scale-105",title:"View Data Lineage",children:a.jsx(vn,{className:"w-4 h-4 text-blue-600"})})]})]}),l&&a.jsx(op,{metricName:t,targetTable:s,targetColumn:r,onClose:()=>u(!1)}),c&&a.jsx(Ov,{metricName:t,dataSource:n,onClose:()=>o(!1)})]})}function uh({onNavigate:e}={}){const[t,s]=O.useState({totalAssets:0,totalLiabilities:0,netLiquidity:0,lcrRatio:null,lcrSurplus:null,nsfrRatio:null,nsfrSurplus:null,tier1Ratio:null,rcapRatio:null,rcapSurplus:null,rcenRatio:null,rlapRatio:null,rlapSurplus:null,rlenRatio:null,cashGap:0,bindingCashGapHorizon:"30-day",bindingStressScenario:"None",bindingStressLiquidity:null,intradayPeak:0,bindingEveScenario:"None",bindingEveChange:null,niiChangePercent:null,dataQualityScore:0}),[r,n]=O.useState(!0);O.useState(!1);const[i,l]=O.useState(!1);O.useEffect(()=>{u()},[]);const u=async()=>{var Te,Ae,de,pe,N,G,Q,T,D,q;const[d,h,A,f,x,m,y,g,p]=await Promise.all([J.from("accounts").select("*").eq("is_active",!0),J.from("transactions").select("*").order("transaction_date",{ascending:!1}).limit(100),J.from("lcr_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),J.from("nsfr_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),J.from("balance_sheet_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),J.from("interest_rate_risk_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),J.from("resolution_liquidity_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),J.from("liquidity_stress_tests").select("*").order("report_date",{ascending:!1}).limit(10),J.from("interest_rate_risk_metrics").select("*").order("report_date",{ascending:!1}).limit(10)]),v=d.data||[],w=h.data||[],j=v.filter(H=>["checking","savings","investment"].includes(H.account_type)).reduce((H,K)=>H+K.current_balance,0),C=v.filter(H=>["credit","loan"].includes(H.account_type)).reduce((H,K)=>H+Math.abs(K.current_balance),0),L=w.filter(H=>H.amount>0).reduce((H,K)=>H+K.amount,0),E=w.filter(H=>H.amount<0).reduce((H,K)=>H+Math.abs(K.amount),0),k=L-E,R="30-day",U=j*.15,_=A.data?A.data.total_hqla-A.data.total_net_cash_outflows:null,I=f.data?f.data.available_stable_funding-f.data.required_stable_funding:null,b=((Te=y.data)==null?void 0:Te.rcap_ratio)||null,S=((Ae=y.data)==null?void 0:Ae.rcap_surplus_deficit)||null,V=((de=y.data)==null?void 0:de.rcen_ratio)||null,F=((pe=y.data)==null?void 0:pe.rlap_ratio)||null,z=((N=y.data)==null?void 0:N.rlap_surplus_deficit)||null,P=((G=y.data)==null?void 0:G.rlen_ratio)||null,W=g.data||[];let B="None",M=null;if(W.length>0){const K=[...W].sort(($,ee)=>$.stressed_liquidity-ee.stressed_liquidity)[0];B=K.scenario_type==="30_day_short_term"?"30-day":"1-year",M=K.stressed_liquidity}const te=p.data||[];let se="None",X=null;if(te.length>0){const K=[...te].sort(($,ee)=>Math.abs(ee.eve_change_percent)-Math.abs($.eve_change_percent))[0];se=K.scenario_type||"Unknown",X=K.eve_change_percent}const re=((Q=m.data)==null?void 0:Q.nii_change_percent)||null,Ne=[v.length>0,w.length>0,A.data!==null,f.data!==null,x.data!==null],ge=Ne.filter(Boolean).length/Ne.length*100,ye=v.length>0||A.data||f.data||x.data;l(ye),s({totalAssets:j,totalLiabilities:C,netLiquidity:j-C,lcrRatio:((T=A.data)==null?void 0:T.lcr_ratio)||null,lcrSurplus:_,nsfrRatio:((D=f.data)==null?void 0:D.nsfr_ratio)||null,nsfrSurplus:I,tier1Ratio:((q=x.data)==null?void 0:q.tier1_capital_ratio)||null,rcapRatio:b,rcapSurplus:S,rcenRatio:V,rlapRatio:F,rlapSurplus:z,rlenRatio:P,cashGap:k,bindingCashGapHorizon:R,bindingStressScenario:B,bindingStressLiquidity:M,intradayPeak:U,bindingEveScenario:se,bindingEveChange:X,niiChangePercent:re,dataQualityScore:ge}),n(!1)},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(d),o=d=>d===null?"N/A":`${(d*100).toFixed(2)}%`;return r?a.jsx("div",{className:"text-slate-600",children:"Loading dashboard..."}):a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:a.jsx(ap,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Executive Dashboard"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Comprehensive liquidity and regulatory overview"})]})]})}),!i&&!r&&a.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"No Data Found"}),a.jsxs("p",{className:"text-sm text-slate-700 mb-3",children:["To populate this dashboard with comprehensive State Street Corporation sample data, navigate to the",a.jsx("span",{className:"font-semibold text-blue-700",children:" Data Setup "}),"page and generate sample data."]}),a.jsx("button",{onClick:()=>e==null?void 0:e("data-setup"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:"Go to Data Setup"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[a.jsxs("button",{onClick:()=>e==null?void 0:e("balance-sheet"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-blue-500 hover:shadow-md transition-all text-left",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5 text-blue-600"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Balance Sheet"})]}),a.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"Balance Sheet & IRRBB"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Total Assets"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.totalAssets)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Total Equity"}),a.jsx("span",{className:"text-sm font-semibold text-green-600",children:c(t.netLiquidity)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-slate-600",children:["Binding EVE (",t.bindingEveScenario,")"]}),a.jsx("span",{className:`text-sm font-semibold ${t.bindingEveChange&&t.bindingEveChange<0?"text-red-600":"text-slate-900"}`,children:t.bindingEveChange!==null?o(t.bindingEveChange):"N/A"})]}),a.jsx("div",{className:"pt-2 border-t border-slate-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-medium text-slate-700",children:"NII Change"}),a.jsx("span",{className:`text-sm font-bold ${t.niiChangePercent&&t.niiChangePercent>=0?"text-green-600":"text-red-600"}`,children:t.niiChangePercent!==null?o(t.niiChangePercent):"N/A"})]})})]})]}),a.jsxs("button",{onClick:()=>e==null?void 0:e("capital-metrics"),className:`rounded-xl shadow-sm p-6 border-2 hover:shadow-md transition-all text-left ${t.tier1Ratio&&t.tier1Ratio>=.08&&t.rcapSurplus&&t.rcapSurplus>=0?"bg-green-50 border-green-300 hover:border-green-500":"bg-amber-50 border-amber-300 hover:border-amber-500"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Capital Metrics"})]}),a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Regulatory & Resolution Capital"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Tier 1 Ratio"}),a.jsx("span",{className:`text-sm font-semibold ${t.tier1Ratio&&t.tier1Ratio>=.08?"text-green-600":"text-amber-600"}`,children:t.tier1Ratio!==null?o(t.tier1Ratio):"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"RCAP Surplus"}),a.jsx("span",{className:`text-sm font-semibold ${t.rcapSurplus&&t.rcapSurplus>=0?"text-green-600":"text-red-600"}`,children:t.rcapSurplus!==null?c(t.rcapSurplus):"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"RCEN"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:t.rcenRatio!==null?o(t.rcenRatio):"N/A"})]}),a.jsx("div",{className:"pt-2 border-t border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[t.tier1Ratio&&t.tier1Ratio>=.08&&t.rcapSurplus&&t.rcapSurplus>=0?a.jsx(ue,{className:"w-4 h-4 text-green-600"}):a.jsx(Be,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"text-xs font-medium text-slate-700",children:t.tier1Ratio&&t.tier1Ratio>=.08&&t.rcapSurplus&&t.rcapSurplus>=0?"Well Capitalized":"Monitor"})]})})]})]}),a.jsx(zv,{metricName:"Liquidity Coverage Ratio (LCR)",targetTable:"lcr_metrics",targetColumn:"lcr_ratio",dataSource:"Analytics",children:a.jsxs("button",{onClick:()=>e==null?void 0:e("liquidity-metrics"),className:`rounded-xl shadow-sm p-6 border-2 hover:shadow-md transition-all text-left w-full ${t.lcrRatio&&t.lcrRatio>=1&&t.nsfrRatio&&t.nsfrRatio>=1&&t.rlapSurplus&&t.rlapSurplus>=0?"bg-green-50 border-green-300 hover:border-green-500":"bg-amber-50 border-amber-300 hover:border-amber-500"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(gn,{className:"w-5 h-5 text-blue-600"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Liquidity Metrics"})]}),a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Regulatory & Resolution Liquidity"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"LCR"}),a.jsx("span",{className:`text-sm font-semibold ${t.lcrRatio&&t.lcrRatio>=1?"text-green-600":"text-red-600"}`,children:t.lcrRatio!==null?o(t.lcrRatio):"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"NSFR"}),a.jsx("span",{className:`text-sm font-semibold ${t.nsfrRatio&&t.nsfrRatio>=1?"text-green-600":"text-red-600"}`,children:t.nsfrRatio!==null?o(t.nsfrRatio):"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"RLAP Surplus"}),a.jsx("span",{className:`text-sm font-semibold ${t.rlapSurplus&&t.rlapSurplus>=0?"text-green-600":"text-red-600"}`,children:t.rlapSurplus!==null?c(t.rlapSurplus):"N/A"})]}),a.jsx("div",{className:"pt-2 border-t border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[t.lcrRatio&&t.lcrRatio>=1&&t.nsfrRatio&&t.nsfrRatio>=1?a.jsx(ue,{className:"w-4 h-4 text-green-600"}):a.jsx(Be,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"text-xs font-medium text-slate-700",children:t.lcrRatio&&t.lcrRatio>=1&&t.nsfrRatio&&t.nsfrRatio>=1?"Compliant":"Monitor"})]})})]})]})}),a.jsxs("button",{onClick:()=>e==null?void 0:e("cash-flow"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-green-500 hover:shadow-md transition-all text-left",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(wa,{className:"w-5 h-5 text-green-600"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Cash Flows"})]}),a.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"Cash Flow Analysis"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Cash Gap (30-day)"}),a.jsx("span",{className:`text-sm font-semibold ${t.cashGap>=0?"text-green-600":"text-red-600"}`,children:c(t.cashGap)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Net Liquidity (Point-in-Time)"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.netLiquidity)})]}),a.jsx("div",{className:"pt-2 border-t border-slate-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Binding Gap Horizon"}),a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:t.bindingCashGapHorizon})]})})]})]}),a.jsxs("button",{onClick:()=>e==null?void 0:e("intraday-liquidity"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-purple-500 hover:shadow-md transition-all text-left",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(_s,{className:"w-5 h-5 text-purple-600"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Intraday"})]}),a.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"Intraday Liquidity"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Peak Requirement"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.intradayPeak)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Available"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.totalAssets)})]}),a.jsx("div",{className:"pt-2 border-t border-slate-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Coverage"}),a.jsx("span",{className:"text-base font-bold text-green-600",children:t.totalAssets>0?`${(t.totalAssets/(t.intradayPeak||1)*100).toFixed(0)}%`:"N/A"})]})})]})]}),a.jsxs("button",{onClick:()=>e==null?void 0:e("fr2052a"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-blue-500 hover:shadow-md transition-all text-left",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(rt,{className:"w-5 h-5 text-blue-600"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Regulatory Reporting"})]}),a.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"FR 2052a"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Report Status"}),a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Current"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:"Last Submission"}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Today"})]}),a.jsx("div",{className:"pt-2 border-t border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Quality Validated"})]})})]})]}),a.jsxs("button",{onClick:()=>e==null?void 0:e("data-quality"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-emerald-500 hover:shadow-md transition-all text-left md:col-span-2 lg:col-span-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:a.jsx(Oe,{className:"w-5 h-5 text-emerald-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"Data Quality Assessment"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Coverage across all data sources - Click for details"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[t.dataQualityScore.toFixed(0),"%"]}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Overall Score"})]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 mb-4",children:a.jsx("div",{className:`h-3 rounded-full transition-all ${t.dataQualityScore>=80?"bg-green-500":t.dataQualityScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.dataQualityScore}%`}})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.totalAssets>0?"bg-green-500":"bg-slate-300"}`}),a.jsx("p",{className:"text-xs text-slate-600",children:"Accounts"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.cashGap!==0?"bg-green-500":"bg-slate-300"}`}),a.jsx("p",{className:"text-xs text-slate-600",children:"Transactions"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.lcrRatio!==null?"bg-green-500":"bg-slate-300"}`}),a.jsx("p",{className:"text-xs text-slate-600",children:"LCR Data"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.nsfrRatio!==null?"bg-green-500":"bg-slate-300"}`}),a.jsx("p",{className:"text-xs text-slate-600",children:"NSFR Data"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.tier1Ratio!==null?"bg-green-500":"bg-slate-300"}`}),a.jsx("p",{className:"text-xs text-slate-600",children:"Balance Sheet"})]})]})]})]})]})}function Uv(){ut();const[e,t]=O.useState([]),[s,r]=O.useState(!0),[n,i]=O.useState(!1),[l,u]=O.useState(!1);O.useEffect(()=>{c()},[]);const c=async()=>{const{data:m,error:y}=await J.from("accounts").select("*").is("user_id",null).order("created_at",{ascending:!1});console.log("Accounts loaded:",{data:m,error:y}),m&&t(m),r(!1)},o=async()=>{i(!0);try{const m=await fc();m.success?(await c(),alert("Sample accounts loaded successfully!")):(console.error("Seed error:",m.error),alert("Error loading data. Check console for details."))}catch(m){console.error("Error seeding data:",m),alert("Error loading data. Check console for details.")}i(!1)},d=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),h=m=>["checking","savings","investment"].includes(m)?a.jsx(st,{className:"w-5 h-5 text-green-600"}):a.jsx(Hi,{className:"w-5 h-5 text-red-600"}),A=m=>["checking","savings","investment"].includes(m)?"bg-green-50 border-green-200":"bg-red-50 border-red-200",f=e.filter(m=>["checking","savings","investment"].includes(m.account_type)).reduce((m,y)=>m+y.current_balance,0),x=e.filter(m=>["credit","loan"].includes(m.account_type)).reduce((m,y)=>m+Math.abs(y.current_balance),0);return s?a.jsx("div",{className:"text-slate-600",children:"Loading accounts..."}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-green-600 p-2 rounded-lg",children:a.jsx(pi,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Accounts"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Manage your accounts and balances"})]})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(rp,{className:"w-4 h-4"}),"Add Account"]})]}),e.length===0&&!s&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"No Accounts Found"}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Load sample accounts to get started with the liquidity management system."}),a.jsxs("button",{onClick:o,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[a.jsx(Oe,{className:"w-4 h-4"}),n?"Loading Data...":"Load Sample Accounts"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(st,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Assets"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:d(f)})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Hi,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Liabilities"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:d(x)})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(pi,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Active Accounts"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.length})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"p-6 border-b border-slate-200",children:a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"All Accounts"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Institution"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Balance"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(m=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${A(m.account_type)}`,children:h(m.account_type)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900",children:m.name}),a.jsx("p",{className:"text-sm text-slate-500",children:m.currency})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 capitalize",children:m.account_type})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:m.institution||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("p",{className:`font-semibold ${m.current_balance>=0?"text-green-600":"text-red-600"}`,children:d(m.current_balance)})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(Nv,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(kv,{className:"w-4 h-4"})})]})})]},m.id))})]})}),e.length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(pi,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No accounts found. Create your first account to get started."})]})]}),l&&a.jsx(qv,{onClose:()=>u(!1),onSuccess:()=>{u(!1),c()}})]})}function qv({onClose:e,onSuccess:t}){ut();const[s,r]=O.useState({name:"",account_type:"checking",currency:"USD",current_balance:0,institution:""}),[n,i]=O.useState(!1),l=async u=>{u.preventDefault(),i(!0);const{error:c}=await J.from("accounts").insert([{...s,user_id:null,is_active:!0}]);if(i(!1),c){alert("Error creating account: "+c.message);return}t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Add New Account"}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Name"}),a.jsx("input",{type:"text",value:s.name,onChange:u=>r({...s,name:u.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Operating Account"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Type"}),a.jsxs("select",{value:s.account_type,onChange:u=>r({...s,account_type:u.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"checking",children:"Checking"}),a.jsx("option",{value:"savings",children:"Savings"}),a.jsx("option",{value:"investment",children:"Investment"}),a.jsx("option",{value:"credit",children:"Credit"}),a.jsx("option",{value:"loan",children:"Loan"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Institution"}),a.jsx("input",{type:"text",value:s.institution,onChange:u=>r({...s,institution:u.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., State Street Bank"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Initial Balance"}),a.jsx("input",{type:"number",step:"0.01",value:s.current_balance,onChange:u=>r({...s,current_balance:parseFloat(u.target.value)}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:n?"Adding...":"Add Account"})]})]})]})})}function $v(){ut();const[e,t]=O.useState([]),[s,r]=O.useState([]),[n,i]=O.useState(!0),[l,u]=O.useState(!1),[c,o]=O.useState("all");O.useEffect(()=>{d()},[]);const d=async()=>{var w,j;const[p,v]=await Promise.all([J.from("transactions").select("*").is("user_id",null).order("transaction_date",{ascending:!1}),J.from("accounts").select("id, name, account_type").is("user_id",null)]);console.log("Transactions loaded:",{transactions:((w=p.data)==null?void 0:w.length)||0,accounts:((j=v.data)==null?void 0:j.length)||0}),p.data&&t(p.data),v.data&&r(v.data),i(!1)},h=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),A=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=p=>{const v=s.find(w=>w.id===p);return(v==null?void 0:v.name)||"Unknown Account"},x=c==="all"?e:e.filter(p=>c==="inflow"?p.amount>0:p.amount<0),m=e.filter(p=>p.amount>0).reduce((p,v)=>p+v.amount,0),y=e.filter(p=>p.amount<0).reduce((p,v)=>p+Math.abs(v.amount),0),g=m-y;return n?a.jsx("div",{className:"text-slate-600",children:"Loading transactions..."}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-purple-600 p-2 rounded-lg",children:a.jsx(mi,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Transactions"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Track all account transactions"})]})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx(rp,{className:"w-4 h-4"}),"Add Transaction"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ih,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Inflow"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:h(m)})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(nh,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Outflow"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:h(y)})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${g>=0?"bg-green-100":"bg-red-100"}`,children:a.jsx(mi,{className:`w-5 h-5 ${g>=0?"text-green-600":"text-red-600"}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Net Cash Flow"}),a.jsx("p",{className:`text-2xl font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:h(g)})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"p-6 border-b border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"All Transactions"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sp,{className:"w-4 h-4 text-slate-600"}),a.jsxs("select",{value:c,onChange:p=>o(p.target.value),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Transactions"}),a.jsx("option",{value:"inflow",children:"Inflows Only"}),a.jsx("option",{value:"outflow",children:"Outflows Only"})]})]})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:x.map(p=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:A(p.transaction_date)}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${p.amount>0?"bg-green-100":"bg-red-100"}`,children:p.amount>0?a.jsx(ih,{className:"w-4 h-4 text-green-600"}):a.jsx(nh,{className:"w-4 h-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900",children:p.description}),a.jsx("p",{className:"text-xs text-slate-500",children:p.transaction_type})]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:f(p.account_id)}),a.jsx("td",{className:"px-6 py-4",children:p.category&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:p.category})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("p",{className:`font-semibold ${p.amount>=0?"text-green-600":"text-red-600"}`,children:h(p.amount)})})]},p.id))})]})}),x.length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(mi,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No transactions found."})]})]}),l&&a.jsx(Vv,{accounts:s,onClose:()=>u(!1),onSuccess:()=>{u(!1),d()}})]})}function Vv({accounts:e,onClose:t,onSuccess:s}){var c;ut();const[r,n]=O.useState({account_id:((c=e[0])==null?void 0:c.id)||"",description:"",amount:0,transaction_type:"credit",category:"",transaction_date:new Date().toISOString().split("T")[0]}),[i,l]=O.useState(!1),u=async o=>{o.preventDefault(),l(!0);const{error:d}=await J.from("transactions").insert([{...r,user_id:null}]);if(l(!1),d){alert("Error creating transaction: "+d.message);return}s()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Add New Transaction"}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account"}),a.jsx("select",{value:r.account_id,onChange:o=>n({...r,account_id:o.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:e.map(o=>a.jsx("option",{value:o.id,children:o.name},o.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description"}),a.jsx("input",{type:"text",value:r.description,onChange:o=>n({...r,description:o.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Client Service Fees"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",value:r.amount,onChange:o=>n({...r,amount:parseFloat(o.target.value)}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Use negative for expenses"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Type"}),a.jsxs("select",{value:r.transaction_type,onChange:o=>n({...r,transaction_type:o.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[a.jsx("option",{value:"credit",children:"Credit"}),a.jsx("option",{value:"debit",children:"Debit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Category"}),a.jsx("input",{type:"text",value:r.category,onChange:o=>n({...r,category:o.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Revenue, Operations"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date"}),a.jsx("input",{type:"date",value:r.transaction_date,onChange:o=>n({...r,transaction_date:o.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:i?"Adding...":"Add Transaction"})]})]})]})})}function Qv(){ut();const[e,t]=O.useState([]),[s,r]=O.useState(!0),[n,i]=O.useState(!1);O.useEffect(()=>{l()},[]);const l=async()=>{const{data:h}=await J.from("liquidity_reports").select("*").is("user_id",null).order("report_date",{ascending:!1});h&&t(h),r(!1)},u=async(h,A)=>{const{data:f}=await J.from("accounts").select("*").is("user_id",null).eq("is_active",!0);if(!f)return;const x=f.filter(w=>["checking","savings","investment"].includes(w.account_type)).reduce((w,j)=>w+j.current_balance,0),m=f.filter(w=>["credit","loan"].includes(w.account_type)).reduce((w,j)=>w+Math.abs(j.current_balance),0),y=x-m,g=m>0?x/m:null,p=m>0?x*.9/m:null,{error:v}=await J.from("liquidity_reports").insert({user_id:null,report_type:h,total_assets:x,total_liabilities:m,net_liquidity:y,cash_ratio:g,quick_ratio:p,notes:A||null});v||(i(!1),l())},c=h=>{var y,g;const A=[["Liquidity Report"],["Date",new Date(h.report_date).toLocaleDateString()],["Type",h.report_type],[""],["Metric","Value"],["Total Assets",h.total_assets.toFixed(2)],["Total Liabilities",h.total_liabilities.toFixed(2)],["Net Liquidity",h.net_liquidity.toFixed(2)],["Cash Ratio",((y=h.cash_ratio)==null?void 0:y.toFixed(4))||"N/A"],["Quick Ratio",((g=h.quick_ratio)==null?void 0:g.toFixed(4))||"N/A"],[""],["Notes",h.notes||""]].map(p=>p.join(",")).join(`
`),f=new Blob([A],{type:"text/csv"}),x=window.URL.createObjectURL(f),m=document.createElement("a");m.href=x,m.download=`liquidity-report-${h.report_date}.csv`,m.click(),window.URL.revokeObjectURL(x)},o=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),d=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s?a.jsx("div",{className:"text-slate-600",children:"Loading reports..."}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(rt,{className:"w-5 h-5 text-blue-600"})}),a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Liquidity Reports"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(st,{className:"w-4 h-4"}),"Generate Report"]})]}),e.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[a.jsx(rt,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 mb-2",children:"No reports generated yet"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Generate your first liquidity report to track your financial position"})]}):a.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(h=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(bd,{className:"w-5 h-5 text-slate-500"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:d(h.report_date)})]}),a.jsxs("p",{className:"text-sm text-slate-600 capitalize",children:[h.report_type," Report"]})]}),a.jsxs("button",{onClick:()=>c(h),className:"flex items-center gap-2 px-3 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",children:[a.jsx(wd,{className:"w-4 h-4"}),"Export CSV"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Total Assets"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:o(h.total_assets)})]}),a.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("p",{className:"text-sm text-red-700 mb-1",children:"Total Liabilities"}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:o(h.total_liabilities)})]}),a.jsxs("div",{className:`p-4 rounded-lg border ${h.net_liquidity>=0?"bg-blue-50 border-blue-200":"bg-orange-50 border-orange-200"}`,children:[a.jsx("p",{className:`text-sm mb-1 ${h.net_liquidity>=0?"text-blue-700":"text-orange-700"}`,children:"Net Liquidity"}),a.jsx("p",{className:`text-2xl font-bold ${h.net_liquidity>=0?"text-blue-900":"text-orange-900"}`,children:o(h.net_liquidity)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Cash Ratio"}),a.jsx("p",{className:"text-xl font-semibold text-slate-900",children:h.cash_ratio?h.cash_ratio.toFixed(4):"N/A"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Quick Ratio"}),a.jsx("p",{className:"text-xl font-semibold text-slate-900",children:h.quick_ratio?h.quick_ratio.toFixed(4):"N/A"})]})]}),h.notes&&a.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Notes"}),a.jsx("p",{className:"text-slate-900",children:h.notes})]})]},h.id))}),n&&a.jsx(Wv,{onClose:()=>i(!1),onGenerate:u})]})}function Wv({onClose:e,onGenerate:t}){const[s,r]=O.useState("monthly"),[n,i]=O.useState(""),[l,u]=O.useState(!1),c=async o=>{o.preventDefault(),u(!0),await t(s,n),u(!1)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Generate Liquidity Report"}),a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Report Type"}),a.jsxs("select",{value:s,onChange:o=>r(o.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"quarterly",children:"Quarterly"}),a.jsx("option",{value:"annual",children:"Annual"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes (Optional)"}),a.jsx("textarea",{value:n,onChange:o=>i(o.target.value),rows:4,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any observations or context for this report..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:l?"Generating...":"Generate Report"})]})]})]})})}function kn({selectedEntityId:e,onEntityChange:t,showMaterialOnly:s=!1}){ut();const[r,n]=O.useState([]),[i,l]=O.useState(!0),[u,c]=O.useState(!1);O.useEffect(()=>{o()},[s]);const o=async()=>{let h=J.from("legal_entities").select("*").is("user_id",null).order("entity_code");s&&(h=h.eq("is_material_entity",!0));const{data:A,error:f}=await h;A&&n(A),l(!1)},d=r.find(h=>h.id===e);return a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Legal Entity View"}),a.jsxs("button",{onClick:()=>c(!u),className:"w-full flex items-center justify-between gap-3 px-4 py-2 bg-white border border-slate-300 rounded-lg hover:border-slate-400 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lh,{className:"w-4 h-4 text-slate-600"}),a.jsx("span",{className:"text-sm text-slate-900",children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-semibold",children:d.entity_code}),d.is_material_entity&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Material Entity"})]}):"Consolidated (All Entities)"})]}),a.jsx(Vs,{className:`w-4 h-4 text-slate-600 transition-transform ${u?"rotate-180":""}`})]}),u&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),a.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[a.jsx("button",{onClick:()=>{t(null),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors border-b border-slate-100 ${e?"":"bg-blue-50"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lh,{className:"w-4 h-4 text-slate-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Consolidated View"}),a.jsx("p",{className:"text-xs text-slate-500",children:"All legal entities aggregated"})]})]})}),i?a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading entities..."}):r.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No legal entities found"}):r.map(h=>a.jsx("button",{onClick:()=>{t(h.id),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors ${e===h.id?"bg-blue-50":""}`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:h.entity_code}),h.is_material_entity&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Material Entity"})]}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:h.entity_name}),a.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[h.jurisdiction,"  ",h.entity_type]})]})})},h.id))]})]})]})}function cp({metricName:e,metricValue:t,targetTable:s,targetColumn:r,dataSource:n,onClose:i}){ut();const[l,u]=O.useState(!0),[c,o]=O.useState("lineage"),[d,h]=O.useState([]),[A,f]=O.useState([]),[x,m]=O.useState([]),[y,g]=O.useState([]),[p,v]=O.useState(new Set),[w,j]=O.useState(null);O.useEffect(()=>{C()},[s,r]);const C=async()=>{try{const[_,I,b]=await Promise.all([J.from("data_quality_checks").select("*").is("user_id",null).eq("data_source",n).order("last_run_at",{ascending:!1}).limit(10),J.from("data_feeds").select("*").is("user_id",null).ilike("source_system",`%${n}%`).order("last_run_at",{ascending:!1}).limit(5),J.from("data_lineage").select("*").is("user_id",null).eq("target_table",s).eq("target_column",r).order("dependency_level",{ascending:!0})]);if(_.error)throw _.error;if(I.error)throw I.error;if(b.error)throw b.error;h(_.data||[]),f(I.data||[]),m(b.data||[]);const S=(b.data||[]).map(V=>({table:V.source_table,column:V.source_column,system:V.source_system,transformationType:V.transformation_type,transformationRule:V.transformation_rule,isCritical:V.is_critical,dependencyLevel:V.dependency_level}));g(S)}catch(_){console.error("Error loading metric details:",_)}finally{u(!1)}},L=_=>_?new Date(_).toLocaleString():"Never",E=_=>_.total_records===0?0:(_.passed_records/_.total_records*100).toFixed(1),k=_=>{switch(_){case"direct":return"bg-green-100 text-green-700 border-green-300";case"calculated":return"bg-blue-100 text-blue-700 border-blue-300";case"aggregated":return"bg-purple-100 text-purple-700 border-purple-300";case"derived":return"bg-amber-100 text-amber-700 border-amber-300";default:return"bg-slate-100 text-slate-700 border-slate-300"}},R=_=>{j(_)},U=_=>{v(I=>{const b=new Set(I);return b.has(_)?b.delete(_):b.add(_),b})};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:e}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("span",{className:"text-3xl font-bold text-white",children:t}),a.jsxs("span",{className:"px-3 py-1 bg-blue-500/50 rounded-full text-sm text-white",children:[s,".",r]})]})]}),a.jsx("button",{onClick:i,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-white"})})]}),a.jsx("div",{className:"flex gap-2 mt-4",children:["lineage","quality","feeds"].map(_=>a.jsxs("button",{onClick:()=>o(_),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${c===_?"bg-white text-blue-600":"bg-blue-500/30 text-white hover:bg-blue-500/50"}`,children:[_==="lineage"&&"Data Lineage",_==="quality"&&"Quality Checks",_==="feeds"&&"Data Feeds"]},_))})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading metric details..."}):a.jsxs(a.Fragment,{children:[c==="lineage"&&a.jsx("div",{className:"space-y-6",children:y.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(vn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No predecessor data found"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Current Metric"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-slate-700",children:[a.jsx("span",{className:"font-medium",children:"Table:"})," ",s]}),a.jsxs("p",{className:"text-slate-700",children:[a.jsx("span",{className:"font-medium",children:"Column:"})," ",r]}),a.jsxs("p",{className:"text-slate-700",children:[a.jsx("span",{className:"font-medium",children:"Value:"})," ",t]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Predecessor Data"}),a.jsx("div",{className:"space-y-3",children:y.map((_,I)=>{const b=`${_.table}.${_.column}`,S=p.has(b);return a.jsx("div",{className:`border-2 rounded-lg overflow-hidden ${_.isCritical?"border-red-300 bg-red-50":"border-slate-200 bg-white"}`,children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("button",{onClick:()=>U(b),className:"p-1 hover:bg-slate-100 rounded",children:S?a.jsx(Vs,{className:"w-4 h-4 text-slate-600"}):a.jsx(fa,{className:"w-4 h-4 text-slate-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:"font-semibold text-slate-900",children:[_.table,".",_.column]}),_.isCritical&&a.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-semibold rounded",children:"CRITICAL"})]}),a.jsx("p",{className:"text-sm text-slate-600",children:_.system})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${k(_.transformationType)}`,children:_.transformationType.toUpperCase()}),a.jsx("button",{onClick:()=>R(_),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors border border-slate-200",title:"View details for this predecessor",children:a.jsx(Wi,{className:"w-4 h-4 text-blue-600"})})]})]}),S&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"TRANSFORMATION RULE"}),a.jsx("p",{className:"text-sm text-slate-700",children:_.transformationRule})]}),a.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[a.jsx("span",{className:"font-medium",children:"Dependency Level:"})," ",_.dependencyLevel]})]})]})},I)})})]}),a.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:a.jsxs("p",{className:"text-sm text-slate-700",children:[a.jsx("strong",{children:"Note:"})," Click the ",a.jsx(Wi,{className:"w-4 h-4 inline mx-1 text-blue-600"})," icon next to any predecessor to view its own data quality, feeds, and lineage information."]})})]})}),c==="quality"&&a.jsx("div",{className:"space-y-4",children:d.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ue,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No quality checks configured"})]}):d.map(_=>{const I=E(_);return a.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:_.check_name}),a.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:_.check_type})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-3xl font-bold ${parseFloat(I)>=95?"text-green-600":parseFloat(I)>=80?"text-amber-600":"text-red-600"}`,children:[I,"%"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Pass Rate"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:_.total_records.toLocaleString()}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Total"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.passed_records.toLocaleString()}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Passed"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.failed_records.toLocaleString()}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Failed"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.execution_time_ms}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"ms"})]})]}),a.jsxs("div",{className:"text-sm text-slate-500",children:["Last run: ",L(_.last_run_at)]}),_.error_message&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-700",children:_.error_message})})]},_.id)})}),c==="feeds"&&a.jsx("div",{className:"space-y-4",children:A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Oe,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No data feeds configured"})]}):A.map(_=>a.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:_.feed_name}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:_.source_system})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_.status==="active"?"bg-green-100 text-green-700":_.status==="error"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:_.status.toUpperCase()}),_.is_stale&&a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700",children:"STALE"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.records_loaded.toLocaleString()}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Records Loaded"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.error_count}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Errors"})]}),a.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:L(_.last_run_at)}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Last Run"})]})]})]},_.id))})]})})]})}),w&&a.jsx(cp,{metricName:`${w.table}.${w.column}`,metricValue:"Predecessor Data",targetTable:w.table,targetColumn:w.column,dataSource:w.system,onClose:()=>j(null)})]})}const Gv={"Tier 1 Capital":[{title:"Basel III: Finalising Post-Crisis Reforms",description:"Defines Tier 1 capital composition, including Common Equity Tier 1 (CET1) and Additional Tier 1 capital components.",url:"https://www.bis.org/bcbs/publ/d424.htm",section:"Part 1: Minimum Capital Requirements"},{title:"Federal Reserve - Capital Requirements",description:"US implementation of Basel III capital standards, including minimum ratios and buffer requirements for banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/topics/capital.htm"},{title:"12 CFR Part 217 - Capital Adequacy",description:"Federal regulation establishing minimum capital requirements for national banks and federal savings associations.",url:"https://www.ecfr.gov/current/title-12/chapter-II/subchapter-A/part-217",section:"Subpart B: Capital Ratio Requirements"}],"Tier 1 Capital Ratio":[{title:"Basel III: Finalising Post-Crisis Reforms",description:"Minimum Tier 1 capital ratio requirement of 6% of risk-weighted assets.",url:"https://www.bis.org/bcbs/publ/d424.htm",section:"Part 1: Minimum Capital Requirements"},{title:"Federal Reserve SR 15-18",description:"Guidance on capital planning for Category I and II banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/srletters/sr1518.htm"}],"Leverage Ratio":[{title:"Basel III Leverage Ratio Framework",description:"Minimum 3% leverage ratio requirement, with enhanced requirements for G-SIBs.",url:"https://www.bis.org/bcbs/publ/d270.htm"},{title:"Enhanced Supplementary Leverage Ratio (eSLR)",description:"US G-SIBs must maintain a minimum 5% supplementary leverage ratio (3% base + 2% buffer).",url:"https://www.federalreserve.gov/supervisionreg/topics/supplementary_leverage_ratio.htm"},{title:"12 CFR 217.10 - Minimum Capital Requirements",description:"Federal regulation establishing leverage ratio requirements.",url:"https://www.ecfr.gov/current/title-12/section-217.10"}],"Liquidity Coverage Ratio (LCR)":[{title:"Basel III: The Liquidity Coverage Ratio (BCBS 238)",description:"Requires banks to hold sufficient high-quality liquid assets (HQLA) to cover 30 days of net cash outflows under stress.",url:"https://www.bis.org/publ/bcbs238.htm"},{title:"Federal Reserve LCR Rule",description:"US implementation requiring minimum 100% LCR for covered banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/topics/liquidity_coverage_ratio.htm"},{title:"12 CFR Part 249 - Liquidity Risk Measurement",description:"Federal regulation establishing LCR requirements and calculation methodology.",url:"https://www.ecfr.gov/current/title-12/chapter-II/subchapter-A/part-249"}],"Total High-Quality Liquid Assets (HQLA)":[{title:"Basel III: The Liquidity Coverage Ratio (BCBS 238)",description:"Defines HQLA composition: Level 1 (100%), Level 2A (85%), and Level 2B (50%) assets.",url:"https://www.bis.org/publ/bcbs238.htm",section:"Section II: HQLA Definition"},{title:"12 CFR 249.20 - HQLA Amount",description:"US regulatory definition and calculation of high-quality liquid assets.",url:"https://www.ecfr.gov/current/title-12/section-249.20"}],"Total Net Cash Outflows (30-day)":[{title:"Basel III: The Liquidity Coverage Ratio (BCBS 238)",description:"Defines net cash outflow calculation methodology for 30-day stressed scenario.",url:"https://www.bis.org/publ/bcbs238.htm",section:"Section III: Net Cash Outflows"},{title:"12 CFR 249.30 - Total Net Cash Outflow Amount",description:"US regulatory methodology for calculating stressed net cash outflows.",url:"https://www.ecfr.gov/current/title-12/section-249.30"}],"Net Stable Funding Ratio (NSFR)":[{title:"Basel III: The Net Stable Funding Ratio (BCBS 295)",description:"Requires minimum 100% ratio of available stable funding to required stable funding over one year.",url:"https://www.bis.org/bcbs/publ/d295.htm"},{title:"Federal Reserve NSFR Rule",description:"US implementation of NSFR requirements for Category I-III banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/topics/net_stable_funding_ratio.htm"},{title:"12 CFR Part 329 - Net Stable Funding Ratio",description:"Federal regulation establishing NSFR requirements and calculation standards.",url:"https://www.ecfr.gov/current/title-12/chapter-III/subchapter-B/part-329"}],"Available Stable Funding (ASF)":[{title:"Basel III: The Net Stable Funding Ratio (BCBS 295)",description:"Defines ASF factors for various funding sources (capital, deposits, long-term borrowings).",url:"https://www.bis.org/bcbs/publ/d295.htm",section:"Section II: Available Stable Funding"}],"Required Stable Funding (RSF)":[{title:"Basel III: The Net Stable Funding Ratio (BCBS 295)",description:"Defines RSF factors for assets and off-balance sheet exposures.",url:"https://www.bis.org/bcbs/publ/d295.htm",section:"Section III: Required Stable Funding"}],"Resolution Capital Adequacy Position (RCAP) Ratio":[{title:"Federal Reserve - Resolution Planning",description:"Requirements for resolution capital adequacy under Title I of Dodd-Frank Act.",url:"https://www.federalreserve.gov/supervisionreg/resolution-plans.htm"},{title:"Federal Reserve SR 19-7",description:"Guidance on resolution planning for large banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/srletters/sr1907.htm"},{title:"Dodd-Frank Act Section 165(d)",description:"Requires resolution plans demonstrating rapid and orderly resolution.",url:"https://www.govinfo.gov/content/pkg/PLAW-111publ203/html/PLAW-111publ203.htm",section:"Section 165(d): Resolution Plans"}],"Total Assets":[{title:"FASB ASC 210 - Balance Sheet",description:"US GAAP accounting standards for asset recognition and measurement.",url:"https://www.fasb.org/standards"}],"Total Liabilities":[{title:"FASB ASC 210 - Balance Sheet",description:"US GAAP accounting standards for liability recognition and measurement.",url:"https://www.fasb.org/standards"}],"Total Equity":[{title:"FASB ASC 505 - Equity",description:"US GAAP accounting standards for equity instruments and transactions.",url:"https://www.fasb.org/standards"}]};function Hv({metricName:e,onClose:t}){const s=Gv[e]||[{title:"General Regulatory Framework",description:"This metric is subject to various regulatory requirements. Please consult relevant Basel III standards and Federal Reserve guidance.",url:"https://www.bis.org/bcbs/publ/d424.htm"}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(rt,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Regulatory References"}),a.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:e})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-slate-600"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("div",{className:"space-y-4",children:s.map((r,n)=>a.jsx("div",{className:"bg-slate-50 rounded-lg p-5 border border-slate-200 hover:border-blue-300 transition-colors",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:r.title}),r.section&&a.jsx("p",{className:"text-xs font-medium text-blue-600 mb-2",children:r.section}),a.jsx("p",{className:"text-sm text-slate-700 mb-3",children:r.description}),a.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"View Regulatory Text"})]})]})})},n))}),a.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-slate-700",children:[a.jsx("strong",{className:"text-slate-900",children:"Note:"})," These references provide the regulatory context and requirements relevant to this metric. Always consult the most current regulatory guidance and work with compliance teams for interpretation and application."]})})]}),a.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:a.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium",children:"Close"})})]})})}function Xv({metricName:e,targetTable:t,targetColumn:s,onClose:r}){const[n,i]=O.useState([]),[l,u]=O.useState(!0),[c,o]=O.useState(null),[d,h]=O.useState([]);O.useEffect(()=>{A()},[t]);const A=async()=>{try{u(!0),o(null);const{data:y,error:g}=await J.from(t).select("*").order("report_date",{ascending:!1}).limit(10);if(g)throw g;y&&y.length>0?(i(y),h(Object.keys(y[0]))):(i([]),h([]))}catch(y){console.error("Error fetching data:",y),o(y.message||"Failed to fetch data")}finally{u(!1)}},f=y=>{if(y==null)return"-";if(typeof y=="boolean")return y?"Yes":"No";if(typeof y=="number")return y>1e6?`$${(y/1e6).toFixed(2)}M`:y<1&&y>0?`${(y*100).toFixed(2)}%`:y.toLocaleString();if(typeof y=="string"){if(y.length>50)return y.substring(0,47)+"...";if(y.match(/^\d{4}-\d{2}-\d{2}/))return new Date(y).toLocaleDateString()}return String(y)},x=y=>y.split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" "),m=()=>{if(n.length===0)return;const y=d.join(","),g=n.map(C=>d.map(L=>{const E=C[L];return E==null?"":typeof E=="string"&&E.includes(",")?`"${E}"`:E}).join(",")),p=[y,...g].join(`
`),v=new Blob([p],{type:"text/csv"}),w=URL.createObjectURL(v),j=document.createElement("a");j.href=w,j.download=`${t}_${s}_${new Date().toISOString().split("T")[0]}.csv`,j.click(),URL.revokeObjectURL(w)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(np,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Raw Data Table"}),a.jsxs("p",{className:"text-sm text-slate-600 mt-0.5",children:[e," - ",t,".",s]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[n.length>0&&a.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[a.jsx(wd,{className:"w-4 h-4"}),"Export CSV"]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-slate-600"})})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-slate-600",children:"Loading data..."})}):c?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Error:"})," ",c]})}):n.length===0?a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-amber-800",children:"No data available in this table."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-slate-700",children:[a.jsx("strong",{children:"Table:"})," ",t," | ",a.jsx("strong",{children:"Records:"})," ",n.length," (showing most recent 10)"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-slate-100 border-b-2 border-slate-300",children:d.map(y=>a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider whitespace-nowrap",children:x(y)},y))})}),a.jsx("tbody",{children:n.map((y,g)=>a.jsx("tr",{className:`border-b border-slate-200 hover:bg-slate-50 ${g%2===0?"bg-white":"bg-slate-50"}`,children:d.map(p=>a.jsx("td",{className:`px-4 py-3 text-sm text-slate-900 whitespace-nowrap ${p===s?"font-semibold bg-yellow-50":""}`,title:String(y[p]||""),children:f(y[p])},p))},g))})]})}),a.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-slate-700",children:[a.jsx("strong",{children:"Highlighted Column:"})," The ",a.jsx("span",{className:"font-mono bg-yellow-100 px-1 py-0.5 rounded",children:s}),' column (highlighted in yellow) contains the data used for calculating the "',e,'" metric.']})})]})}),a.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:a.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium",children:"Close"})})]})})}const Kv={"Tier 1 Capital":{delta:"+$2.3B (+3.2%)",trend:"up",drivers:["Retained earnings increased by $1.8B due to strong quarterly net income, driven by higher net interest income and improved fee-based revenue from asset servicing","Common stock issuance of $800M through employee compensation programs and dividend reinvestment plans","Regulatory deductions decreased by $300M following the phase-out of certain goodwill and intangible assets under Basel III transition rules"]},"Tier 1 Capital Ratio":{delta:"+0.45% (from 13.2% to 13.65%)",trend:"up",drivers:["Tier 1 capital increased by $2.3B (3.2%) while risk-weighted assets grew by only $1.1B (0.8%), resulting in improved capital efficiency","Risk-weighted asset optimization through strategic balance sheet management, including reduction in lower-yielding, higher-risk-weight corporate loans","Migration of certain exposures to lower risk-weight categories following credit rating upgrades of investment-grade counterparties"]},"Leverage Ratio":{delta:"+0.12% (from 6.8% to 6.92%)",trend:"up",drivers:["Tier 1 capital growth of $2.3B outpaced total leverage exposure growth of $8.5B (2.1%), improving the ratio","Strategic reduction in repo financing activities and optimization of securities financing transactions, reducing leverage exposure","Enhanced capital planning and stress testing results demonstrating capacity to support higher leverage ratio buffers"]},"Liquidity Coverage Ratio (LCR)":{delta:"+3.2% (from 118% to 121.2%)",trend:"up",drivers:["High-Quality Liquid Assets (HQLA) increased by $5.2B through strategic accumulation of Level 1 assets, including central bank reserves and U.S. Treasury securities","Net cash outflows declined by $1.8B due to reduced reliance on less stable wholesale funding sources and increased proportion of operational deposits","Improved deposit mix with higher proportion of retail and small business deposits qualifying for lower outflow rates under LCR rules"]},"Total High-Quality Liquid Assets (HQLA)":{delta:"+$5.2B (+4.8%)",trend:"up",drivers:["Increased holdings of U.S. Treasury securities by $3.5B as part of proactive liquidity management and HQLA optimization strategy","Growth in central bank reserve deposits by $1.2B following strong deposit inflows and reduced loan demand","Acquisition of $500M in highly-rated sovereign bonds qualifying as Level 1 HQLA, enhancing liquidity buffer diversification"]},"Total Net Cash Outflows (30-day)":{delta:"-$1.8B (-3.9%)",trend:"down",drivers:["Deposit base stabilization with 8% increase in retail deposits subject to lower stress outflow assumptions (5-10% vs. 25-40% for wholesale)","Extension of wholesale funding maturity profile, with $2.1B of short-term funding rolled into tenors beyond 30 days","Reduced reliance on secured funding through securities lending and repo transactions, lowering expected collateral calls in stress scenarios"]},"Net Stable Funding Ratio (NSFR)":{delta:"+2.1% (from 115% to 117.1%)",trend:"up",drivers:["Available Stable Funding (ASF) increased by $4.7B through issuance of $3.2B in long-term debt and growth in stable deposit balances","Required Stable Funding (RSF) decreased by $1.8B due to portfolio rebalancing toward more liquid, lower RSF-weighted assets","Maturity extension of derivative liabilities reduced RSF requirements by optimizing the funding stability profile"]},"Available Stable Funding (ASF)":{delta:"+$4.7B (+3.2%)",trend:"up",drivers:["Long-term debt issuance of $3.2B in senior unsecured notes with maturities beyond one year, providing 100% ASF factor","Core retail and small business deposits grew by $2.8B, qualifying for 95% ASF factors due to stable funding characteristics","Growth in equity by $1.5B through retained earnings, offsetting partial reduction from less stable wholesale deposits"]},"Required Stable Funding (RSF)":{delta:"-$1.8B (-1.4%)",trend:"down",drivers:["Portfolio rebalancing with $2.5B shift from less liquid corporate loans (85% RSF) to Level 1 HQLA securities (5% RSF)","Maturity profile optimization of securities portfolio, reducing weighted average maturity and associated RSF requirements","Derivative asset reduction of $800M following netting arrangement enhancements and trade compression initiatives"]},"Resolution Capital Adequacy Position (RCAP) Ratio":{delta:"+1.8% (from 125% to 126.8%)",trend:"up",drivers:["RCAP numerator increased by $2.1B through issuance of long-term debt instruments eligible for resolution recapitalization","Pre-positioned capital buffers enhanced through improved internal loss-absorbing capacity planning and stress testing","RCEN (Resolution Capital Execution Need) remained stable while capital position improved, demonstrating enhanced resolvability"]},"Total Assets":{delta:"+$12.5B (+4.2%)",trend:"up",drivers:["Strong deposit growth of $8.3B drove corresponding increase in liquid asset holdings, particularly central bank reserves and securities","Loan portfolio expansion of $4.8B concentrated in secured lending to financial institutions and trade finance activities","Investment securities portfolio increased by $3.5B through strategic allocation to high-quality sovereign and agency securities"]},"Total Liabilities":{delta:"+$10.2B (+4.0%)",trend:"up",drivers:["Customer deposit growth of $8.3B driven by corporate treasury services and institutional asset servicing businesses","Long-term debt issuance of $3.2B to support TLAC (Total Loss-Absorbing Capacity) and NSFR regulatory requirements","Short-term borrowings decreased by $1.5B as deposit funding displaced higher-cost wholesale funding sources"]},"Total Equity":{delta:"+$2.3B (+5.1%)",trend:"up",drivers:["Net income of $2.1B for the quarter, primarily from asset servicing fees, securities lending revenue, and net interest income","Common stock issuance of $800M through employee stock compensation and dividend reinvestment programs","Accumulated other comprehensive income decreased by $600M due to unrealized losses on available-for-sale securities from rising rates"]}};function Jv(e,t,s){const r=["Prior period comparison data is currently being collected and will be available in the next reporting cycle","Historical analysis requires at least two consecutive reporting periods to identify meaningful trends and drivers","Contact the Data Quality team for historical data requests and custom period-over-period analysis"];if(!s||!t)return r;const n=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]/g,"")):t,i=typeof s=="string"?parseFloat(s.replace(/[^0-9.-]/g,"")):s;if(isNaN(n)||isNaN(i))return r;const l=(n-i)/Math.abs(i)*100,u=l>0?"increase":"decrease",c=Math.abs(l);return e.toLowerCase().includes("capital")?[`Tier 1 Capital ${u}d primarily due to ${c>5?"strong":"moderate"} retained earnings from ${c>5?"exceptional":"solid"} quarterly performance and strategic capital management initiatives`,`Risk-weighted assets ${l>0?"increased moderately":"decreased"}, reflecting ${l>0?"portfolio growth in higher-rated assets":"strategic deleveraging and portfolio optimization"}`,`Regulatory capital planning and stress testing outcomes supported ${l>0?"increased":"maintained"} capital buffers above minimum requirements`]:e.toLowerCase().includes("liquidity")||e.toLowerCase().includes("lcr")?[`High-Quality Liquid Assets (HQLA) ${u}d by ${c.toFixed(1)}% through ${l>0?"strategic accumulation":"planned deployment"} of Level 1 assets including central bank reserves and government securities`,`Net cash outflows ${l>0?"declined":"increased"}, driven by ${l>0?"improved deposit stability and reduced wholesale funding reliance":"seasonal variations in funding mix and deposit flows"}`,`Balance sheet composition changes, including ${l>0?"optimization":"adjustment"} of funding sources and liquidity buffer management strategies`]:e.toLowerCase().includes("nsfr")?[`Available Stable Funding (ASF) ${u}d through ${l>0?"issuance of long-term debt and growth in stable deposits":"maturity of certain funding instruments and deposit mix changes"}`,`Required Stable Funding (RSF) ${l>0?"declined":"increased"} due to ${l>0?"portfolio rebalancing toward more liquid assets":"asset composition changes and portfolio growth"}`,`Strategic funding management initiatives focused on ${l>0?"extending":"optimizing"} the maturity profile of liabilities and assets`]:e.toLowerCase().includes("asset")?[`Total assets ${u}d by ${c.toFixed(1)}%, driven by ${l>0?"strong deposit inflows and strategic portfolio expansion":"planned balance sheet optimization and asset redeployment"}`,`Loan portfolio ${l>0?"expanded":"contracted"} in line with ${l>0?"business growth objectives":"risk management strategies"} and market conditions`,`Investment securities and liquid assets ${l>0?"increased":"decreased"} reflecting ${l>0?"strategic allocation decisions":"portfolio rebalancing activities"}`]:r}function Yv(e,t){if(!t||!e)return{deltaText:"N/A",trend:"stable"};const s=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]/g,"")):e,r=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]/g,"")):t;if(isNaN(s)||isNaN(r))return{deltaText:"N/A",trend:"stable"};const n=s-r,i=n/Math.abs(r)*100,l=typeof e=="string"&&e.includes("%"),u=typeof e=="string"&&(e.includes("$")||e.includes("B")||e.includes("M"));let c="";if(u){const d=Math.abs(n),h=n>=0?"+":"-";d>=1?c=`${h}$${d.toFixed(2)}B (${i>=0?"+":""}${i.toFixed(1)}%)`:c=`${h}$${(d*1e3).toFixed(0)}M (${i>=0?"+":""}${i.toFixed(1)}%)`}else l?c=`${n>=0?"+":""}${n.toFixed(2)}%`:c=`${i>=0?"+":""}${i.toFixed(1)}%`;const o=n>.1?"up":n<-.1?"down":"stable";return{deltaText:c,trend:o}}function Zv({metricName:e,currentValue:t,priorValue:s,currentDate:r,priorDate:n,availablePeriods:i,onClose:l}){var p;const[u,c]=O.useState(n||(i&&i.length>1?i[1].date:"")),o=i&&u&&((p=i.find(v=>v.date===u))==null?void 0:p.value)||s,d=i&&u?u:n,h=Kv[e],A=Jv(e,t,o),f=Yv(t,o),x=h||{delta:f.deltaText,trend:f.trend,drivers:A},m=x.trend==="up"?st:x.trend==="down"?Hi:wa,y=x.trend==="up"?"text-green-600":x.trend==="down"?"text-red-600":"text-slate-600",g=x.trend==="up"?"bg-green-50":x.trend==="down"?"bg-red-50":"bg-slate-50";return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 ${g} rounded-lg`,children:a.jsx(m,{className:`w-5 h-5 ${y}`})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Change Analysis"}),a.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:e})]})]}),a.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-slate-600"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Current Value"}),r&&a.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(",r,")"]})]}),a.jsx("span",{className:"text-lg font-bold text-slate-900",children:t})]}),o&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Prior Period"}),i&&i.length>1?a.jsx("select",{value:u,onChange:v=>c(v.target.value),className:"ml-2 text-xs border border-slate-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.slice(1).map(v=>a.jsx("option",{value:v.date,children:v.date},v.date))}):d&&a.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(",d,")"]})]}),a.jsx("span",{className:"text-lg font-semibold text-slate-700",children:o})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Change"}),a.jsxs("span",{className:`text-lg font-bold flex items-center gap-2 ${y}`,children:[a.jsx(m,{className:"w-5 h-5"}),x.delta]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Key Drivers of Change"}),a.jsx("div",{className:"space-y-3",children:x.drivers.map((v,w)=>a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:w+1}),a.jsx("p",{className:"text-sm text-slate-700 flex-1",children:v})]})},w))})]}),a.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-slate-700",children:[a.jsx("strong",{className:"text-slate-900",children:"Analysis Period:"})," This analysis compares the current period to the immediate prior reporting period. Drivers identified represent the primary quantitative and qualitative factors contributing to the observed change based on internal management analysis and regulatory reporting data."]})})]}),a.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:a.jsx("button",{onClick:l,className:"w-full px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium",children:"Close"})})]})})}function Je({value:e,metricName:t,targetTable:s,targetColumn:r,dataSource:n,className:i="",priorValue:l,currentDate:u,priorDate:c,availablePeriods:o}){const[d,h]=O.useState(!1),[A,f]=O.useState(!1),[x,m]=O.useState(!1),[y,g]=O.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx("span",{className:i,children:e}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("button",{onClick:p=>{p.stopPropagation(),h(!0)},className:"flex-shrink-0 p-1 hover:bg-blue-100 rounded transition-colors",title:"View data quality, feeds, and lineage",children:a.jsx(Wi,{className:"w-4 h-4 text-blue-600 hover:text-blue-700"})}),a.jsx("button",{onClick:p=>{p.stopPropagation(),f(!0)},className:"flex-shrink-0 p-1 hover:bg-purple-100 rounded transition-colors",title:"View regulatory references",children:a.jsx(rt,{className:"w-4 h-4 text-purple-600 hover:text-purple-700"})}),a.jsx("button",{onClick:p=>{p.stopPropagation(),m(!0)},className:"flex-shrink-0 p-1 hover:bg-green-100 rounded transition-colors",title:"View raw data table",children:a.jsx(np,{className:"w-4 h-4 text-green-600 hover:text-green-700"})}),a.jsx("button",{onClick:p=>{p.stopPropagation(),g(!0)},className:"flex-shrink-0 p-1 hover:bg-orange-100 rounded transition-colors",title:"View change drivers and analysis",children:a.jsx(st,{className:"w-4 h-4 text-orange-600 hover:text-orange-700"})})]})]}),d&&a.jsx(cp,{metricName:t,metricValue:e,targetTable:s,targetColumn:r,dataSource:n,onClose:()=>h(!1)}),A&&a.jsx(Hv,{metricName:t,onClose:()=>f(!1)}),x&&a.jsx(Xv,{metricName:t,targetTable:s,targetColumn:r,onClose:()=>m(!1)}),y&&a.jsx(Zv,{metricName:t,currentValue:e,priorValue:l,currentDate:u,priorDate:c,availablePeriods:o,onClose:()=>g(!1)})]})}function vl({items:e}){var t;return a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[a.jsxs("button",{onClick:(t=e[0])==null?void 0:t.onClick,className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[a.jsx(yv,{className:"w-4 h-4"}),a.jsx("span",{children:"Dashboard"})]}),e.slice(1).map((s,r)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fa,{className:"w-4 h-4 text-slate-400"}),s.onClick?a.jsx("button",{onClick:s.onClick,className:"hover:text-blue-600 transition-colors",children:s.label}):a.jsx("span",{className:"text-slate-900 font-medium",children:s.label})]},r))]})}function Zn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dp={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(s){e.exports=s()})(function(){return function s(r,n,i){function l(o,d){if(!n[o]){if(!r[o]){var h=typeof Zn=="function"&&Zn;if(!d&&h)return h(o,!0);if(u)return u(o,!0);var A=new Error("Cannot find module '"+o+"'");throw A.code="MODULE_NOT_FOUND",A}var f=n[o]={exports:{}};r[o][0].call(f.exports,function(x){var m=r[o][1][x];return l(m||x)},f,f.exports,s,r,n,i)}return n[o].exports}for(var u=typeof Zn=="function"&&Zn,c=0;c<i.length;c++)l(i[c]);return l}({1:[function(s,r,n){var i=s("./utils"),l=s("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(c){for(var o,d,h,A,f,x,m,y=[],g=0,p=c.length,v=p,w=i.getTypeOf(c)!=="string";g<c.length;)v=p-g,h=w?(o=c[g++],d=g<p?c[g++]:0,g<p?c[g++]:0):(o=c.charCodeAt(g++),d=g<p?c.charCodeAt(g++):0,g<p?c.charCodeAt(g++):0),A=o>>2,f=(3&o)<<4|d>>4,x=1<v?(15&d)<<2|h>>6:64,m=2<v?63&h:64,y.push(u.charAt(A)+u.charAt(f)+u.charAt(x)+u.charAt(m));return y.join("")},n.decode=function(c){var o,d,h,A,f,x,m=0,y=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var p,v=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===u.charAt(64)&&v--,c.charAt(c.length-2)===u.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=l.uint8array?new Uint8Array(0|v):new Array(0|v);m<c.length;)o=u.indexOf(c.charAt(m++))<<2|(A=u.indexOf(c.charAt(m++)))>>4,d=(15&A)<<4|(f=u.indexOf(c.charAt(m++)))>>2,h=(3&f)<<6|(x=u.indexOf(c.charAt(m++))),p[y++]=o,f!==64&&(p[y++]=d),x!==64&&(p[y++]=h);return p}},{"./support":30,"./utils":32}],2:[function(s,r,n){var i=s("./external"),l=s("./stream/DataWorker"),u=s("./stream/Crc32Probe"),c=s("./stream/DataLengthProbe");function o(d,h,A,f,x){this.compressedSize=d,this.uncompressedSize=h,this.crc32=A,this.compression=f,this.compressedContent=x}o.prototype={getContentWorker:function(){var d=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(d,h,A){return d.pipe(new u).pipe(new c("uncompressedSize")).pipe(h.compressWorker(A)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},r.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,r,n){var i=s("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,r,n){var i=s("./utils"),l=function(){for(var u,c=[],o=0;o<256;o++){u=o;for(var d=0;d<8;d++)u=1&u?3988292384^u>>>1:u>>>1;c[o]=u}return c}();r.exports=function(u,c){return u!==void 0&&u.length?i.getTypeOf(u)!=="string"?function(o,d,h,A){var f=l,x=A+h;o^=-1;for(var m=A;m<x;m++)o=o>>>8^f[255&(o^d[m])];return-1^o}(0|c,u,u.length,0):function(o,d,h,A){var f=l,x=A+h;o^=-1;for(var m=A;m<x;m++)o=o>>>8^f[255&(o^d.charCodeAt(m))];return-1^o}(0|c,u,u.length,0):0}},{"./utils":32}],5:[function(s,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(s,r,n){var i=null;i=typeof Promise<"u"?Promise:s("lie"),r.exports={Promise:i}},{lie:37}],7:[function(s,r,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=s("pako"),u=s("./utils"),c=s("./stream/GenericWorker"),o=i?"uint8array":"array";function d(h,A){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=A,this.meta={}}n.magic="\b\0",u.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(o,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(A){h.push({data:A,meta:h.meta})}},n.compressWorker=function(h){return new d("Deflate",h)},n.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,r,n){function i(f,x){var m,y="";for(m=0;m<x;m++)y+=String.fromCharCode(255&f),f>>>=8;return y}function l(f,x,m,y,g,p){var v,w,j=f.file,C=f.compression,L=p!==o.utf8encode,E=u.transformTo("string",p(j.name)),k=u.transformTo("string",o.utf8encode(j.name)),R=j.comment,U=u.transformTo("string",p(R)),_=u.transformTo("string",o.utf8encode(R)),I=k.length!==j.name.length,b=_.length!==R.length,S="",V="",F="",z=j.dir,P=j.date,W={crc32:0,compressedSize:0,uncompressedSize:0};x&&!m||(W.crc32=f.crc32,W.compressedSize=f.compressedSize,W.uncompressedSize=f.uncompressedSize);var B=0;x&&(B|=8),L||!I&&!b||(B|=2048);var M=0,te=0;z&&(M|=16),g==="UNIX"?(te=798,M|=function(X,re){var Ne=X;return X||(Ne=re?16893:33204),(65535&Ne)<<16}(j.unixPermissions,z)):(te=20,M|=function(X){return 63&(X||0)}(j.dosPermissions)),v=P.getUTCHours(),v<<=6,v|=P.getUTCMinutes(),v<<=5,v|=P.getUTCSeconds()/2,w=P.getUTCFullYear()-1980,w<<=4,w|=P.getUTCMonth()+1,w<<=5,w|=P.getUTCDate(),I&&(V=i(1,1)+i(d(E),4)+k,S+="up"+i(V.length,2)+V),b&&(F=i(1,1)+i(d(U),4)+_,S+="uc"+i(F.length,2)+F);var se="";return se+=`
\0`,se+=i(B,2),se+=C.magic,se+=i(v,2),se+=i(w,2),se+=i(W.crc32,4),se+=i(W.compressedSize,4),se+=i(W.uncompressedSize,4),se+=i(E.length,2),se+=i(S.length,2),{fileRecord:h.LOCAL_FILE_HEADER+se+E+S,dirRecord:h.CENTRAL_FILE_HEADER+i(te,2)+se+i(U.length,2)+"\0\0\0\0"+i(M,4)+i(y,4)+E+S+U}}var u=s("../utils"),c=s("../stream/GenericWorker"),o=s("../utf8"),d=s("../crc32"),h=s("../signature");function A(f,x,m,y){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=m,this.encodeFileName=y,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(A,c),A.prototype.push=function(f){var x=f.meta.percent||0,m=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(x+100*(m-y-1))/m:100}}))},A.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var x=this.streamFiles&&!f.file.dir;if(x){var m=l(f,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},A.prototype.closedSource=function(f){this.accumulate=!1;var x=this.streamFiles&&!f.file.dir,m=l(f,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),x)this.push({data:function(y){return h.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},A.prototype.flush=function(){for(var f=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var m=this.bytesWritten-f,y=function(g,p,v,w,j){var C=u.transformTo("string",j(w));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(p,4)+i(v,4)+i(C.length,2)+C}(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},A.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},A.prototype.registerPrevious=function(f){this._sources.push(f);var x=this;return f.on("data",function(m){x.processChunk(m)}),f.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),f.on("error",function(m){x.error(m)}),this},A.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},A.prototype.error=function(f){var x=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var m=0;m<x.length;m++)try{x[m].error(f)}catch{}return!0},A.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,x=0;x<f.length;x++)f[x].lock()},r.exports=A},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,r,n){var i=s("../compressions"),l=s("./ZipFileWorker");n.generateWorker=function(u,c,o){var d=new l(c.streamFiles,o,c.platform,c.encodeFileName),h=0;try{u.forEach(function(A,f){h++;var x=function(p,v){var w=p||v,j=i[w];if(!j)throw new Error(w+" is not a valid compression method !");return j}(f.options.compression,c.compression),m=f.options.compressionOptions||c.compressionOptions||{},y=f.dir,g=f.date;f._compressWorker(x,m).withStreamInfo("file",{name:A,dir:y,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(A){d.error(A)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,r,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(i.prototype=s("./object")).loadAsync=s("./load"),i.support=s("./support"),i.defaults=s("./defaults"),i.version="3.10.1",i.loadAsync=function(l,u){return new i().loadAsync(l,u)},i.external=s("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,r,n){var i=s("./utils"),l=s("./external"),u=s("./utf8"),c=s("./zipEntries"),o=s("./stream/Crc32Probe"),d=s("./nodejsUtils");function h(A){return new l.Promise(function(f,x){var m=A.decompressed.getContentWorker().pipe(new o);m.on("error",function(y){x(y)}).on("end",function(){m.streamInfo.crc32!==A.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(A,f){var x=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),d.isNode&&d.isStream(A)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",A,!0,f.optimizedBinaryString,f.base64).then(function(m){var y=new c(f);return y.load(m),y}).then(function(m){var y=[l.Promise.resolve(m)],g=m.files;if(f.checkCRC32)for(var p=0;p<g.length;p++)y.push(h(g[p]));return l.Promise.all(y)}).then(function(m){for(var y=m.shift(),g=y.files,p=0;p<g.length;p++){var v=g[p],w=v.fileNameStr,j=i.resolve(v.fileNameStr);x.file(j,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:f.createFolders}),v.dir||(x.file(j).unsafeOriginalName=w)}return y.zipComment.length&&(x.comment=y.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,r,n){var i=s("../utils"),l=s("../stream/GenericWorker");function u(c,o){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(o)}i.inherits(u,l),u.prototype._bindStream=function(c){var o=this;(this._stream=c).pause(),c.on("data",function(d){o.push({data:d,meta:{percent:0}})}).on("error",function(d){o.isPaused?this.generatedError=d:o.error(d)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,r,n){var i=s("readable-stream").Readable;function l(u,c,o){i.call(this,c),this._helper=u;var d=this;u.on("data",function(h,A){d.push(h)||d._helper.pause(),o&&o(A)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}s("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(s,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(s,r,n){function i(j,C,L){var E,k=u.getTypeOf(C),R=u.extend(L||{},d);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(j=g(j)),R.createFolders&&(E=y(j))&&p.call(this,E,!0);var U=k==="string"&&R.binary===!1&&R.base64===!1;L&&L.binary!==void 0||(R.binary=!U),(C instanceof h&&C.uncompressedSize===0||R.dir||!C||C.length===0)&&(R.base64=!1,R.binary=!0,C="",R.compression="STORE",k="string");var _=null;_=C instanceof h||C instanceof c?C:x.isNode&&x.isStream(C)?new m(j,C):u.prepareContent(j,C,R.binary,R.optimizedBinaryString,R.base64);var I=new A(j,_,R);this.files[j]=I}var l=s("./utf8"),u=s("./utils"),c=s("./stream/GenericWorker"),o=s("./stream/StreamHelper"),d=s("./defaults"),h=s("./compressedObject"),A=s("./zipObject"),f=s("./generate"),x=s("./nodejsUtils"),m=s("./nodejs/NodejsStreamInputAdapter"),y=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var C=j.lastIndexOf("/");return 0<C?j.substring(0,C):""},g=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},p=function(j,C){return C=C!==void 0?C:d.createFolders,j=g(j),this.files[j]||i.call(this,j,null,{dir:!0,createFolders:C}),this.files[j]};function v(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var C,L,E;for(C in this.files)E=this.files[C],(L=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&j(L,E)},filter:function(j){var C=[];return this.forEach(function(L,E){j(L,E)&&C.push(E)}),C},file:function(j,C,L){if(arguments.length!==1)return j=this.root+j,i.call(this,j,C,L),this;if(v(j)){var E=j;return this.filter(function(R,U){return!U.dir&&E.test(R)})}var k=this.files[this.root+j];return k&&!k.dir?k:null},folder:function(j){if(!j)return this;if(v(j))return this.filter(function(k,R){return R.dir&&j.test(k)});var C=this.root+j,L=p.call(this,C),E=this.clone();return E.root=L.name,E},remove:function(j){j=this.root+j;var C=this.files[j];if(C||(j.slice(-1)!=="/"&&(j+="/"),C=this.files[j]),C&&!C.dir)delete this.files[j];else for(var L=this.filter(function(k,R){return R.name.slice(0,j.length)===j}),E=0;E<L.length;E++)delete this.files[L[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var C,L={};try{if((L=u.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");u.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var E=L.comment||this.comment||"";C=f.generateWorker(this,L,E)}catch(k){(C=new c("error")).error(k)}return new o(C,L.type||"string",L.mimeType)},generateAsync:function(j,C){return this.generateInternalStream(j).accumulate(C)},generateNodeStream:function(j,C){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(C)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,r,n){r.exports=s("stream")},{stream:void 0}],17:[function(s,r,n){var i=s("./DataReader");function l(u){i.call(this,u);for(var c=0;c<this.data.length;c++)u[c]=255&u[c]}s("../utils").inherits(l,i),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var c=u.charCodeAt(0),o=u.charCodeAt(1),d=u.charCodeAt(2),h=u.charCodeAt(3),A=this.length-4;0<=A;--A)if(this.data[A]===c&&this.data[A+1]===o&&this.data[A+2]===d&&this.data[A+3]===h)return A-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var c=u.charCodeAt(0),o=u.charCodeAt(1),d=u.charCodeAt(2),h=u.charCodeAt(3),A=this.readData(4);return c===A[0]&&o===A[1]&&d===A[2]&&h===A[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(s,r,n){var i=s("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var c,o=0;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)o=(o<<8)+this.byteAt(c);return this.index+=u,o},readString:function(u){return i.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=l},{"../utils":32}],19:[function(s,r,n){var i=s("./Uint8ArrayReader");function l(u){i.call(this,u)}s("../utils").inherits(l,i),l.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,r,n){var i=s("./DataReader");function l(u){i.call(this,u)}s("../utils").inherits(l,i),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(s,r,n){var i=s("./ArrayReader");function l(u){i.call(this,u)}s("../utils").inherits(l,i),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(s,r,n){var i=s("../utils"),l=s("../support"),u=s("./ArrayReader"),c=s("./StringReader"),o=s("./NodeBufferReader"),d=s("./Uint8ArrayReader");r.exports=function(h){var A=i.getTypeOf(h);return i.checkSupport(A),A!=="string"||l.uint8array?A==="nodebuffer"?new o(h):l.uint8array?new d(i.transformTo("uint8array",h)):new u(i.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,r,n){var i=s("./GenericWorker"),l=s("../utils");function u(c){i.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(u,i),u.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(s,r,n){var i=s("./GenericWorker"),l=s("../crc32");function u(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(u,i),u.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,r,n){var i=s("../utils"),l=s("./GenericWorker");function u(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(u,l),u.prototype.processChunk=function(c){if(c){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+c.data.length}l.prototype.processChunk.call(this,c)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(s,r,n){var i=s("../utils"),l=s("./GenericWorker");function u(c){l.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){o.dataIsReady=!0,o.data=d,o.max=d&&d.length||0,o.type=i.getTypeOf(d),o.isPaused||o._tickAndRepeat()},function(d){o.error(d)})}i.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,o);break;case"uint8array":c=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":c=this.data.slice(this.index,o)}return this.index=o,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(s,r,n){function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(c){u.processChunk(c)}),l.on("end",function(){u.end()}),l.on("error",function(c){u.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=i},{}],29:[function(s,r,n){var i=s("../utils"),l=s("./ConvertWorker"),u=s("./GenericWorker"),c=s("../base64"),o=s("../support"),d=s("../external"),h=null;if(o.nodestream)try{h=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function A(x,m){return new d.Promise(function(y,g){var p=[],v=x._internalType,w=x._outputType,j=x._mimeType;x.on("data",function(C,L){p.push(C),m&&m(L)}).on("error",function(C){p=[],g(C)}).on("end",function(){try{var C=function(L,E,k){switch(L){case"blob":return i.newBlob(i.transformTo("arraybuffer",E),k);case"base64":return c.encode(E);default:return i.transformTo(L,E)}}(w,function(L,E){var k,R=0,U=null,_=0;for(k=0;k<E.length;k++)_+=E[k].length;switch(L){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(U=new Uint8Array(_),k=0;k<E.length;k++)U.set(E[k],R),R+=E[k].length;return U;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+L+"'")}}(v,p),j);y(C)}catch(L){g(L)}p=[]}).resume()})}function f(x,m,y){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=y,i.checkSupport(g),this._worker=x.pipe(new l(g)),x.lock()}catch(p){this._worker=new u("error"),this._worker.error(p)}}f.prototype={accumulate:function(x){return A(this,x)},on:function(x,m){var y=this;return x==="data"?this._worker.on(x,function(g){m.call(y,g.data,g.meta)}):this._worker.on(x,function(){i.delay(m,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),n.blob=l.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!s("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(s,r,n){for(var i=s("./utils"),l=s("./support"),u=s("./nodejsUtils"),c=s("./stream/GenericWorker"),o=new Array(256),d=0;d<256;d++)o[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;o[254]=o[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function A(){c.call(this,"utf-8 encode")}n.utf8encode=function(f){return l.nodebuffer?u.newBufferFrom(f,"utf-8"):function(x){var m,y,g,p,v,w=x.length,j=0;for(p=0;p<w;p++)(64512&(y=x.charCodeAt(p)))==55296&&p+1<w&&(64512&(g=x.charCodeAt(p+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),p++),j+=y<128?1:y<2048?2:y<65536?3:4;for(m=l.uint8array?new Uint8Array(j):new Array(j),p=v=0;v<j;p++)(64512&(y=x.charCodeAt(p)))==55296&&p+1<w&&(64512&(g=x.charCodeAt(p+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),p++),y<128?m[v++]=y:(y<2048?m[v++]=192|y>>>6:(y<65536?m[v++]=224|y>>>12:(m[v++]=240|y>>>18,m[v++]=128|y>>>12&63),m[v++]=128|y>>>6&63),m[v++]=128|63&y);return m}(f)},n.utf8decode=function(f){return l.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(x){var m,y,g,p,v=x.length,w=new Array(2*v);for(m=y=0;m<v;)if((g=x[m++])<128)w[y++]=g;else if(4<(p=o[g]))w[y++]=65533,m+=p-1;else{for(g&=p===2?31:p===3?15:7;1<p&&m<v;)g=g<<6|63&x[m++],p--;1<p?w[y++]=65533:g<65536?w[y++]=g:(g-=65536,w[y++]=55296|g>>10&1023,w[y++]=56320|1023&g)}return w.length!==y&&(w.subarray?w=w.subarray(0,y):w.length=y),i.applyFromCharCode(w)}(f=i.transformTo(l.uint8array?"uint8array":"array",f))},i.inherits(h,c),h.prototype.processChunk=function(f){var x=i.transformTo(l.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var m=x;(x=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),x.set(m,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var y=function(p,v){var w;for((v=v||p.length)>p.length&&(v=p.length),w=v-1;0<=w&&(192&p[w])==128;)w--;return w<0||w===0?v:w+o[p[w]]>v?w:v}(x),g=x;y!==x.length&&(l.uint8array?(g=x.subarray(0,y),this.leftOver=x.subarray(y,x.length)):(g=x.slice(0,y),this.leftOver=x.slice(y,x.length))),this.push({data:n.utf8decode(g),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=h,i.inherits(A,c),A.prototype.processChunk=function(f){this.push({data:n.utf8encode(f.data),meta:f.meta})},n.Utf8EncodeWorker=A},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,r,n){var i=s("./support"),l=s("./base64"),u=s("./nodejsUtils"),c=s("./external");function o(m){return m}function d(m,y){for(var g=0;g<m.length;++g)y[g]=255&m.charCodeAt(g);return y}s("setimmediate"),n.newBlob=function(m,y){n.checkSupport("blob");try{return new Blob([m],{type:y})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,y,g){var p=[],v=0,w=m.length;if(w<=g)return String.fromCharCode.apply(null,m);for(;v<w;)y==="array"||y==="nodebuffer"?p.push(String.fromCharCode.apply(null,m.slice(v,Math.min(v+g,w)))):p.push(String.fromCharCode.apply(null,m.subarray(v,Math.min(v+g,w)))),v+=g;return p.join("")},stringifyByChar:function(m){for(var y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function A(m){var y=65536,g=n.getTypeOf(m),p=!0;if(g==="uint8array"?p=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(p=h.applyCanBeUsed.nodebuffer),p)for(;1<y;)try{return h.stringifyByChunk(m,g,y)}catch{y=Math.floor(y/2)}return h.stringifyByChar(m)}function f(m,y){for(var g=0;g<m.length;g++)y[g]=m[g];return y}n.applyFromCharCode=A;var x={};x.string={string:o,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return x.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,u.allocBuffer(m.length))}},x.array={string:A,array:o,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return u.newBufferFrom(m)}},x.arraybuffer={string:function(m){return A(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:o,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return u.newBufferFrom(new Uint8Array(m))}},x.uint8array={string:A,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:o,nodebuffer:function(m){return u.newBufferFrom(m)}},x.nodebuffer={string:A,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return x.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:o},n.transformTo=function(m,y){if(y=y||"",!m)return y;n.checkSupport(m);var g=n.getTypeOf(y);return x[g][m](y)},n.resolve=function(m){for(var y=m.split("/"),g=[],p=0;p<y.length;p++){var v=y[p];v==="."||v===""&&p!==0&&p!==y.length-1||(v===".."?g.pop():g.push(v))}return g.join("/")},n.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&u.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(m){var y,g,p="";for(g=0;g<(m||"").length;g++)p+="\\x"+((y=m.charCodeAt(g))<16?"0":"")+y.toString(16).toUpperCase();return p},n.delay=function(m,y,g){setImmediate(function(){m.apply(g||null,y||[])})},n.inherits=function(m,y){function g(){}g.prototype=y.prototype,m.prototype=new g},n.extend=function(){var m,y,g={};for(m=0;m<arguments.length;m++)for(y in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],y)&&g[y]===void 0&&(g[y]=arguments[m][y]);return g},n.prepareContent=function(m,y,g,p,v){return c.Promise.resolve(y).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new c.Promise(function(j,C){var L=new FileReader;L.onload=function(E){j(E.target.result)},L.onerror=function(E){C(E.target.error)},L.readAsArrayBuffer(w)}):w}).then(function(w){var j=n.getTypeOf(w);return j?(j==="arraybuffer"?w=n.transformTo("uint8array",w):j==="string"&&(v?w=l.decode(w):g&&p!==!0&&(w=function(C){return d(C,i.uint8array?new Uint8Array(C.length):new Array(C.length))}(w))),w):c.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,r,n){var i=s("./reader/readerFor"),l=s("./utils"),u=s("./signature"),c=s("./zipEntry"),o=s("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var A=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(A)+", expected "+l.pretty(h)+")")}},isSignature:function(h,A){var f=this.reader.index;this.reader.setIndex(h);var x=this.reader.readString(4)===A;return this.reader.setIndex(f),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),A=o.uint8array?"uint8array":"array",f=l.transformTo(A,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,A,f,x=this.zip64EndOfCentralSize-44;0<x;)h=this.reader.readInt(2),A=this.reader.readInt(4),f=this.reader.readData(A),this.zip64ExtensibleData[h]={id:h,length:A,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,A;for(h=0;h<this.files.length;h++)A=this.files[h],this.reader.setIndex(A.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),A.readLocalPart(this.reader),A.handleUTF8(),A.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var A=h;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var x=A-f;if(0<x)this.isSignature(A,u.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,r,n){var i=s("./reader/readerFor"),l=s("./utils"),u=s("./compressedObject"),c=s("./crc32"),o=s("./utf8"),d=s("./compressions"),h=s("./support");function A(f,x){this.options=f,this.loadOptions=x}A.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var x,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(y){for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)&&d[g].magic===y)return d[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,x,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var x=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(x),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var x,m,y,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)x=f.readInt(2),m=f.readInt(2),y=f.readData(m),this.extraFields[x]={id:x,length:m,value:y};f.setIndex(g)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var m=l.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var g=l.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var x=i(f.value);return x.readInt(1)!==1||c(this.fileName)!==x.readInt(4)?null:o.utf8decode(x.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var x=i(f.value);return x.readInt(1)!==1||c(this.fileComment)!==x.readInt(4)?null:o.utf8decode(x.readData(f.length-5))}return null}},r.exports=A},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,r,n){function i(x,m,y){this.name=x,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=m,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var l=s("./stream/StreamHelper"),u=s("./stream/DataWorker"),c=s("./utf8"),o=s("./compressedObject"),d=s("./stream/GenericWorker");i.prototype={internalStream:function(x){var m=null,y="string";try{if(!x)throw new Error("No output type specified.");var g=(y=x.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),m=this._decompressWorker();var p=!this._dataBinary;p&&!g&&(m=m.pipe(new c.Utf8EncodeWorker)),!p&&g&&(m=m.pipe(new c.Utf8DecodeWorker))}catch(v){(m=new d("error")).error(v)}return new l(m,y,"")},async:function(x,m){return this.internalStream(x).accumulate(m)},nodeStream:function(x,m){return this.internalStream(x||"nodebuffer").toNodejsStream(m)},_compressWorker:function(x,m){if(this._data instanceof o&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new c.Utf8EncodeWorker)),o.createWorkerFrom(y,x,m)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof d?this._data:new u(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],A=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)i.prototype[h[f]]=A;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,r,n){(function(i){var l,u,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var o=0,d=new c(x),h=i.document.createTextNode("");d.observe(h,{characterData:!0}),l=function(){h.data=o=++o%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){x(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(x,0)};else{var A=new i.MessageChannel;A.port1.onmessage=x,l=function(){A.port2.postMessage(0)}}var f=[];function x(){var m,y;u=!0;for(var g=f.length;g;){for(y=f,f=[],m=-1;++m<g;)y[m]();g=f.length}u=!1}r.exports=function(m){f.push(m)!==1||u||l()}}).call(this,typeof ct<"u"?ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,r,n){var i=s("immediate");function l(){}var u={},c=["REJECTED"],o=["FULFILLED"],d=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,g!==l&&m(this,g)}function A(g,p,v){this.promise=g,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function f(g,p,v){i(function(){var w;try{w=p(v)}catch(j){return u.reject(g,j)}w===g?u.reject(g,new TypeError("Cannot resolve promise with itself")):u.resolve(g,w)})}function x(g){var p=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof p=="function")return function(){p.apply(g,arguments)}}function m(g,p){var v=!1;function w(L){v||(v=!0,u.reject(g,L))}function j(L){v||(v=!0,u.resolve(g,L))}var C=y(function(){p(j,w)});C.status==="error"&&w(C.value)}function y(g,p){var v={};try{v.value=g(p),v.status="success"}catch(w){v.status="error",v.value=w}return v}(r.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var p=this.constructor;return this.then(function(v){return p.resolve(g()).then(function(){return v})},function(v){return p.resolve(g()).then(function(){throw v})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,p){if(typeof g!="function"&&this.state===o||typeof p!="function"&&this.state===c)return this;var v=new this.constructor(l);return this.state!==d?f(v,this.state===o?g:p,this.outcome):this.queue.push(new A(v,g,p)),v},A.prototype.callFulfilled=function(g){u.resolve(this.promise,g)},A.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},A.prototype.callRejected=function(g){u.reject(this.promise,g)},A.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},u.resolve=function(g,p){var v=y(x,p);if(v.status==="error")return u.reject(g,v.value);var w=v.value;if(w)m(g,w);else{g.state=o,g.outcome=p;for(var j=-1,C=g.queue.length;++j<C;)g.queue[j].callFulfilled(p)}return g},u.reject=function(g,p){g.state=c,g.outcome=p;for(var v=-1,w=g.queue.length;++v<w;)g.queue[v].callRejected(p);return g},h.resolve=function(g){return g instanceof this?g:u.resolve(new this(l),g)},h.reject=function(g){var p=new this(l);return u.reject(p,g)},h.all=function(g){var p=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=g.length,w=!1;if(!v)return this.resolve([]);for(var j=new Array(v),C=0,L=-1,E=new this(l);++L<v;)k(g[L],L);return E;function k(R,U){p.resolve(R).then(function(_){j[U]=_,++C!==v||w||(w=!0,u.resolve(E,j))},function(_){w||(w=!0,u.reject(E,_))})}},h.race=function(g){var p=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=g.length,w=!1;if(!v)return this.resolve([]);for(var j=-1,C=new this(l);++j<v;)L=g[j],p.resolve(L).then(function(E){w||(w=!0,u.resolve(C,E))},function(E){w||(w=!0,u.reject(C,E))});var L;return C}},{immediate:36}],38:[function(s,r,n){var i={};(0,s("./lib/utils/common").assign)(i,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,r,n){var i=s("./zlib/deflate"),l=s("./utils/common"),u=s("./utils/strings"),c=s("./zlib/messages"),o=s("./zlib/zstream"),d=Object.prototype.toString,h=0,A=-1,f=0,x=8;function m(g){if(!(this instanceof m))return new m(g);this.options=l.assign({level:A,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var v=i.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(v!==h)throw new Error(c[v]);if(p.header&&i.deflateSetHeader(this.strm,p.header),p.dictionary){var w;if(w=typeof p.dictionary=="string"?u.string2buf(p.dictionary):d.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(v=i.deflateSetDictionary(this.strm,w))!==h)throw new Error(c[v]);this._dict_set=!0}}function y(g,p){var v=new m(p);if(v.push(g,!0),v.err)throw v.msg||c[v.err];return v.result}m.prototype.push=function(g,p){var v,w,j=this.strm,C=this.options.chunkSize;if(this.ended)return!1;w=p===~~p?p:p===!0?4:0,typeof g=="string"?j.input=u.string2buf(g):d.call(g)==="[object ArrayBuffer]"?j.input=new Uint8Array(g):j.input=g,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new l.Buf8(C),j.next_out=0,j.avail_out=C),(v=i.deflate(j,w))!==1&&v!==h)return this.onEnd(v),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(j.output,j.next_out))):this.onData(l.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&v!==1);return w===4?(v=i.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===h):w!==2||(this.onEnd(h),!(j.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},n.Deflate=m,n.deflate=y,n.deflateRaw=function(g,p){return(p=p||{}).raw=!0,y(g,p)},n.gzip=function(g,p){return(p=p||{}).gzip=!0,y(g,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,r,n){var i=s("./zlib/inflate"),l=s("./utils/common"),u=s("./utils/strings"),c=s("./zlib/constants"),o=s("./zlib/messages"),d=s("./zlib/zstream"),h=s("./zlib/gzheader"),A=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},m||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||m&&m.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,y.windowBits);if(g!==c.Z_OK)throw new Error(o[g]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function x(m,y){var g=new f(y);if(g.push(m,!0),g.err)throw g.msg||o[g.err];return g.result}f.prototype.push=function(m,y){var g,p,v,w,j,C,L=this.strm,E=this.options.chunkSize,k=this.options.dictionary,R=!1;if(this.ended)return!1;p=y===~~y?y:y===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof m=="string"?L.input=u.binstring2buf(m):A.call(m)==="[object ArrayBuffer]"?L.input=new Uint8Array(m):L.input=m,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new l.Buf8(E),L.next_out=0,L.avail_out=E),(g=i.inflate(L,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&k&&(C=typeof k=="string"?u.string2buf(k):A.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,g=i.inflateSetDictionary(this.strm,C)),g===c.Z_BUF_ERROR&&R===!0&&(g=c.Z_OK,R=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&g!==c.Z_STREAM_END&&(L.avail_in!==0||p!==c.Z_FINISH&&p!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=u.utf8border(L.output,L.next_out),w=L.next_out-v,j=u.buf2string(L.output,v),L.next_out=w,L.avail_out=E-w,w&&l.arraySet(L.output,L.output,v,w,0),this.onData(j)):this.onData(l.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(R=!0)}while((0<L.avail_in||L.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(p=c.Z_FINISH),p===c.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):p!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(L.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},n.Inflate=f,n.inflate=x,n.inflateRaw=function(m,y){return(y=y||{}).raw=!0,x(m,y)},n.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,r,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(c){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var d=o.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},n.shrinkBuf=function(c,o){return c.length===o?c:c.subarray?c.subarray(0,o):(c.length=o,c)};var l={arraySet:function(c,o,d,h,A){if(o.subarray&&c.subarray)c.set(o.subarray(d,d+h),A);else for(var f=0;f<h;f++)c[A+f]=o[d+f]},flattenChunks:function(c){var o,d,h,A,f,x;for(o=h=0,d=c.length;o<d;o++)h+=c[o].length;for(x=new Uint8Array(h),o=A=0,d=c.length;o<d;o++)f=c[o],x.set(f,A),A+=f.length;return x}},u={arraySet:function(c,o,d,h,A){for(var f=0;f<h;f++)c[A+f]=o[d+f]},flattenChunks:function(c){return[].concat.apply([],c)}};n.setTyped=function(c){c?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,l)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,u))},n.setTyped(i)},{}],42:[function(s,r,n){var i=s("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new i.Buf8(256),o=0;o<256;o++)c[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function d(h,A){if(A<65537&&(h.subarray&&u||!h.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(h,A));for(var f="",x=0;x<A;x++)f+=String.fromCharCode(h[x]);return f}c[254]=c[254]=1,n.string2buf=function(h){var A,f,x,m,y,g=h.length,p=0;for(m=0;m<g;m++)(64512&(f=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(x=h.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(x-56320),m++),p+=f<128?1:f<2048?2:f<65536?3:4;for(A=new i.Buf8(p),m=y=0;y<p;m++)(64512&(f=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(x=h.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(x-56320),m++),f<128?A[y++]=f:(f<2048?A[y++]=192|f>>>6:(f<65536?A[y++]=224|f>>>12:(A[y++]=240|f>>>18,A[y++]=128|f>>>12&63),A[y++]=128|f>>>6&63),A[y++]=128|63&f);return A},n.buf2binstring=function(h){return d(h,h.length)},n.binstring2buf=function(h){for(var A=new i.Buf8(h.length),f=0,x=A.length;f<x;f++)A[f]=h.charCodeAt(f);return A},n.buf2string=function(h,A){var f,x,m,y,g=A||h.length,p=new Array(2*g);for(f=x=0;f<g;)if((m=h[f++])<128)p[x++]=m;else if(4<(y=c[m]))p[x++]=65533,f+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&f<g;)m=m<<6|63&h[f++],y--;1<y?p[x++]=65533:m<65536?p[x++]=m:(m-=65536,p[x++]=55296|m>>10&1023,p[x++]=56320|1023&m)}return d(p,x)},n.utf8border=function(h,A){var f;for((A=A||h.length)>h.length&&(A=h.length),f=A-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?A:f+c[h[f]]>A?f:A}},{"./common":41}],43:[function(s,r,n){r.exports=function(i,l,u,c){for(var o=65535&i|0,d=i>>>16&65535|0,h=0;u!==0;){for(u-=h=2e3<u?2e3:u;d=d+(o=o+l[c++]|0)|0,--h;);o%=65521,d%=65521}return o|d<<16|0}},{}],44:[function(s,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,r,n){var i=function(){for(var l,u=[],c=0;c<256;c++){l=c;for(var o=0;o<8;o++)l=1&l?3988292384^l>>>1:l>>>1;u[c]=l}return u}();r.exports=function(l,u,c,o){var d=i,h=o+c;l^=-1;for(var A=o;A<h;A++)l=l>>>8^d[255&(l^u[A])];return-1^l}},{}],46:[function(s,r,n){var i,l=s("../utils/common"),u=s("./trees"),c=s("./adler32"),o=s("./crc32"),d=s("./messages"),h=0,A=4,f=0,x=-2,m=-1,y=4,g=2,p=8,v=9,w=286,j=30,C=19,L=2*w+1,E=15,k=3,R=258,U=R+k+1,_=42,I=113,b=1,S=2,V=3,F=4;function z(N,G){return N.msg=d[G],G}function P(N){return(N<<1)-(4<N?9:0)}function W(N){for(var G=N.length;0<=--G;)N[G]=0}function B(N){var G=N.state,Q=G.pending;Q>N.avail_out&&(Q=N.avail_out),Q!==0&&(l.arraySet(N.output,G.pending_buf,G.pending_out,Q,N.next_out),N.next_out+=Q,G.pending_out+=Q,N.total_out+=Q,N.avail_out-=Q,G.pending-=Q,G.pending===0&&(G.pending_out=0))}function M(N,G){u._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,G),N.block_start=N.strstart,B(N.strm)}function te(N,G){N.pending_buf[N.pending++]=G}function se(N,G){N.pending_buf[N.pending++]=G>>>8&255,N.pending_buf[N.pending++]=255&G}function X(N,G){var Q,T,D=N.max_chain_length,q=N.strstart,H=N.prev_length,K=N.nice_match,$=N.strstart>N.w_size-U?N.strstart-(N.w_size-U):0,ee=N.window,ne=N.w_mask,ae=N.prev,oe=N.strstart+R,Le=ee[q+H-1],Ce=ee[q+H];N.prev_length>=N.good_match&&(D>>=2),K>N.lookahead&&(K=N.lookahead);do if(ee[(Q=G)+H]===Ce&&ee[Q+H-1]===Le&&ee[Q]===ee[q]&&ee[++Q]===ee[q+1]){q+=2,Q++;do;while(ee[++q]===ee[++Q]&&ee[++q]===ee[++Q]&&ee[++q]===ee[++Q]&&ee[++q]===ee[++Q]&&ee[++q]===ee[++Q]&&ee[++q]===ee[++Q]&&ee[++q]===ee[++Q]&&ee[++q]===ee[++Q]&&q<oe);if(T=R-(oe-q),q=oe-R,H<T){if(N.match_start=G,K<=(H=T))break;Le=ee[q+H-1],Ce=ee[q+H]}}while((G=ae[G&ne])>$&&--D!=0);return H<=N.lookahead?H:N.lookahead}function re(N){var G,Q,T,D,q,H,K,$,ee,ne,ae=N.w_size;do{if(D=N.window_size-N.lookahead-N.strstart,N.strstart>=ae+(ae-U)){for(l.arraySet(N.window,N.window,ae,ae,0),N.match_start-=ae,N.strstart-=ae,N.block_start-=ae,G=Q=N.hash_size;T=N.head[--G],N.head[G]=ae<=T?T-ae:0,--Q;);for(G=Q=ae;T=N.prev[--G],N.prev[G]=ae<=T?T-ae:0,--Q;);D+=ae}if(N.strm.avail_in===0)break;if(H=N.strm,K=N.window,$=N.strstart+N.lookahead,ee=D,ne=void 0,ne=H.avail_in,ee<ne&&(ne=ee),Q=ne===0?0:(H.avail_in-=ne,l.arraySet(K,H.input,H.next_in,ne,$),H.state.wrap===1?H.adler=c(H.adler,K,ne,$):H.state.wrap===2&&(H.adler=o(H.adler,K,ne,$)),H.next_in+=ne,H.total_in+=ne,ne),N.lookahead+=Q,N.lookahead+N.insert>=k)for(q=N.strstart-N.insert,N.ins_h=N.window[q],N.ins_h=(N.ins_h<<N.hash_shift^N.window[q+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[q+k-1])&N.hash_mask,N.prev[q&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=q,q++,N.insert--,!(N.lookahead+N.insert<k)););}while(N.lookahead<U&&N.strm.avail_in!==0)}function Ne(N,G){for(var Q,T;;){if(N.lookahead<U){if(re(N),N.lookahead<U&&G===h)return b;if(N.lookahead===0)break}if(Q=0,N.lookahead>=k&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+k-1])&N.hash_mask,Q=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),Q!==0&&N.strstart-Q<=N.w_size-U&&(N.match_length=X(N,Q)),N.match_length>=k)if(T=u._tr_tally(N,N.strstart-N.match_start,N.match_length-k),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=k){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+k-1])&N.hash_mask,Q=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else T=u._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(T&&(M(N,!1),N.strm.avail_out===0))return b}return N.insert=N.strstart<k-1?N.strstart:k-1,G===A?(M(N,!0),N.strm.avail_out===0?V:F):N.last_lit&&(M(N,!1),N.strm.avail_out===0)?b:S}function ge(N,G){for(var Q,T,D;;){if(N.lookahead<U){if(re(N),N.lookahead<U&&G===h)return b;if(N.lookahead===0)break}if(Q=0,N.lookahead>=k&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+k-1])&N.hash_mask,Q=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=k-1,Q!==0&&N.prev_length<N.max_lazy_match&&N.strstart-Q<=N.w_size-U&&(N.match_length=X(N,Q),N.match_length<=5&&(N.strategy===1||N.match_length===k&&4096<N.strstart-N.match_start)&&(N.match_length=k-1)),N.prev_length>=k&&N.match_length<=N.prev_length){for(D=N.strstart+N.lookahead-k,T=u._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-k),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=D&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+k-1])&N.hash_mask,Q=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=k-1,N.strstart++,T&&(M(N,!1),N.strm.avail_out===0))return b}else if(N.match_available){if((T=u._tr_tally(N,0,N.window[N.strstart-1]))&&M(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return b}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(T=u._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<k-1?N.strstart:k-1,G===A?(M(N,!0),N.strm.avail_out===0?V:F):N.last_lit&&(M(N,!1),N.strm.avail_out===0)?b:S}function ye(N,G,Q,T,D){this.good_length=N,this.max_lazy=G,this.nice_length=Q,this.max_chain=T,this.func=D}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*L),this.dyn_dtree=new l.Buf16(2*(2*j+1)),this.bl_tree=new l.Buf16(2*(2*C+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(E+1),this.heap=new l.Buf16(2*w+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*w+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(N){var G;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=g,(G=N.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?_:I,N.adler=G.wrap===2?0:1,G.last_flush=h,u._tr_init(G),f):z(N,x)}function de(N){var G=Ae(N);return G===f&&function(Q){Q.window_size=2*Q.w_size,W(Q.head),Q.max_lazy_match=i[Q.level].max_lazy,Q.good_match=i[Q.level].good_length,Q.nice_match=i[Q.level].nice_length,Q.max_chain_length=i[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=k-1,Q.match_available=0,Q.ins_h=0}(N.state),G}function pe(N,G,Q,T,D,q){if(!N)return x;var H=1;if(G===m&&(G=6),T<0?(H=0,T=-T):15<T&&(H=2,T-=16),D<1||v<D||Q!==p||T<8||15<T||G<0||9<G||q<0||y<q)return z(N,x);T===8&&(T=9);var K=new Te;return(N.state=K).strm=N,K.wrap=H,K.gzhead=null,K.w_bits=T,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=D+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+k-1)/k),K.window=new l.Buf8(2*K.w_size),K.head=new l.Buf16(K.hash_size),K.prev=new l.Buf16(K.w_size),K.lit_bufsize=1<<D+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new l.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=G,K.strategy=q,K.method=Q,de(N)}i=[new ye(0,0,0,0,function(N,G){var Q=65535;for(Q>N.pending_buf_size-5&&(Q=N.pending_buf_size-5);;){if(N.lookahead<=1){if(re(N),N.lookahead===0&&G===h)return b;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var T=N.block_start+Q;if((N.strstart===0||N.strstart>=T)&&(N.lookahead=N.strstart-T,N.strstart=T,M(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-U&&(M(N,!1),N.strm.avail_out===0))return b}return N.insert=0,G===A?(M(N,!0),N.strm.avail_out===0?V:F):(N.strstart>N.block_start&&(M(N,!1),N.strm.avail_out),b)}),new ye(4,4,8,4,Ne),new ye(4,5,16,8,Ne),new ye(4,6,32,32,Ne),new ye(4,4,16,16,ge),new ye(8,16,32,32,ge),new ye(8,16,128,128,ge),new ye(8,32,128,256,ge),new ye(32,128,258,1024,ge),new ye(32,258,258,4096,ge)],n.deflateInit=function(N,G){return pe(N,G,p,15,8,0)},n.deflateInit2=pe,n.deflateReset=de,n.deflateResetKeep=Ae,n.deflateSetHeader=function(N,G){return N&&N.state?N.state.wrap!==2?x:(N.state.gzhead=G,f):x},n.deflate=function(N,G){var Q,T,D,q;if(!N||!N.state||5<G||G<0)return N?z(N,x):x;if(T=N.state,!N.output||!N.input&&N.avail_in!==0||T.status===666&&G!==A)return z(N,N.avail_out===0?-5:x);if(T.strm=N,Q=T.last_flush,T.last_flush=G,T.status===_)if(T.wrap===2)N.adler=0,te(T,31),te(T,139),te(T,8),T.gzhead?(te(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),te(T,255&T.gzhead.time),te(T,T.gzhead.time>>8&255),te(T,T.gzhead.time>>16&255),te(T,T.gzhead.time>>24&255),te(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),te(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(te(T,255&T.gzhead.extra.length),te(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(N.adler=o(N.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(te(T,0),te(T,0),te(T,0),te(T,0),te(T,0),te(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),te(T,3),T.status=I);else{var H=p+(T.w_bits-8<<4)<<8;H|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(H|=32),H+=31-H%31,T.status=I,se(T,H),T.strstart!==0&&(se(T,N.adler>>>16),se(T,65535&N.adler)),N.adler=1}if(T.status===69)if(T.gzhead.extra){for(D=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>D&&(N.adler=o(N.adler,T.pending_buf,T.pending-D,D)),B(N),D=T.pending,T.pending!==T.pending_buf_size));)te(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>D&&(N.adler=o(N.adler,T.pending_buf,T.pending-D,D)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){D=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>D&&(N.adler=o(N.adler,T.pending_buf,T.pending-D,D)),B(N),D=T.pending,T.pending===T.pending_buf_size)){q=1;break}q=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,te(T,q)}while(q!==0);T.gzhead.hcrc&&T.pending>D&&(N.adler=o(N.adler,T.pending_buf,T.pending-D,D)),q===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){D=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>D&&(N.adler=o(N.adler,T.pending_buf,T.pending-D,D)),B(N),D=T.pending,T.pending===T.pending_buf_size)){q=1;break}q=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,te(T,q)}while(q!==0);T.gzhead.hcrc&&T.pending>D&&(N.adler=o(N.adler,T.pending_buf,T.pending-D,D)),q===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&B(N),T.pending+2<=T.pending_buf_size&&(te(T,255&N.adler),te(T,N.adler>>8&255),N.adler=0,T.status=I)):T.status=I),T.pending!==0){if(B(N),N.avail_out===0)return T.last_flush=-1,f}else if(N.avail_in===0&&P(G)<=P(Q)&&G!==A)return z(N,-5);if(T.status===666&&N.avail_in!==0)return z(N,-5);if(N.avail_in!==0||T.lookahead!==0||G!==h&&T.status!==666){var K=T.strategy===2?function($,ee){for(var ne;;){if($.lookahead===0&&(re($),$.lookahead===0)){if(ee===h)return b;break}if($.match_length=0,ne=u._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,ne&&(M($,!1),$.strm.avail_out===0))return b}return $.insert=0,ee===A?(M($,!0),$.strm.avail_out===0?V:F):$.last_lit&&(M($,!1),$.strm.avail_out===0)?b:S}(T,G):T.strategy===3?function($,ee){for(var ne,ae,oe,Le,Ce=$.window;;){if($.lookahead<=R){if(re($),$.lookahead<=R&&ee===h)return b;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=k&&0<$.strstart&&(ae=Ce[oe=$.strstart-1])===Ce[++oe]&&ae===Ce[++oe]&&ae===Ce[++oe]){Le=$.strstart+R;do;while(ae===Ce[++oe]&&ae===Ce[++oe]&&ae===Ce[++oe]&&ae===Ce[++oe]&&ae===Ce[++oe]&&ae===Ce[++oe]&&ae===Ce[++oe]&&ae===Ce[++oe]&&oe<Le);$.match_length=R-(Le-oe),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=k?(ne=u._tr_tally($,1,$.match_length-k),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(ne=u._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),ne&&(M($,!1),$.strm.avail_out===0))return b}return $.insert=0,ee===A?(M($,!0),$.strm.avail_out===0?V:F):$.last_lit&&(M($,!1),$.strm.avail_out===0)?b:S}(T,G):i[T.level].func(T,G);if(K!==V&&K!==F||(T.status=666),K===b||K===V)return N.avail_out===0&&(T.last_flush=-1),f;if(K===S&&(G===1?u._tr_align(T):G!==5&&(u._tr_stored_block(T,0,0,!1),G===3&&(W(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),B(N),N.avail_out===0))return T.last_flush=-1,f}return G!==A?f:T.wrap<=0?1:(T.wrap===2?(te(T,255&N.adler),te(T,N.adler>>8&255),te(T,N.adler>>16&255),te(T,N.adler>>24&255),te(T,255&N.total_in),te(T,N.total_in>>8&255),te(T,N.total_in>>16&255),te(T,N.total_in>>24&255)):(se(T,N.adler>>>16),se(T,65535&N.adler)),B(N),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?f:1)},n.deflateEnd=function(N){var G;return N&&N.state?(G=N.state.status)!==_&&G!==69&&G!==73&&G!==91&&G!==103&&G!==I&&G!==666?z(N,x):(N.state=null,G===I?z(N,-3):f):x},n.deflateSetDictionary=function(N,G){var Q,T,D,q,H,K,$,ee,ne=G.length;if(!N||!N.state||(q=(Q=N.state).wrap)===2||q===1&&Q.status!==_||Q.lookahead)return x;for(q===1&&(N.adler=c(N.adler,G,ne,0)),Q.wrap=0,ne>=Q.w_size&&(q===0&&(W(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),ee=new l.Buf8(Q.w_size),l.arraySet(ee,G,ne-Q.w_size,Q.w_size,0),G=ee,ne=Q.w_size),H=N.avail_in,K=N.next_in,$=N.input,N.avail_in=ne,N.next_in=0,N.input=G,re(Q);Q.lookahead>=k;){for(T=Q.strstart,D=Q.lookahead-(k-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[T+k-1])&Q.hash_mask,Q.prev[T&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=T,T++,--D;);Q.strstart=T,Q.lookahead=k-1,re(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=k-1,Q.match_available=0,N.next_in=K,N.input=$,N.avail_in=H,Q.wrap=q,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,r,n){r.exports=function(i,l){var u,c,o,d,h,A,f,x,m,y,g,p,v,w,j,C,L,E,k,R,U,_,I,b,S;u=i.state,c=i.next_in,b=i.input,o=c+(i.avail_in-5),d=i.next_out,S=i.output,h=d-(l-i.avail_out),A=d+(i.avail_out-257),f=u.dmax,x=u.wsize,m=u.whave,y=u.wnext,g=u.window,p=u.hold,v=u.bits,w=u.lencode,j=u.distcode,C=(1<<u.lenbits)-1,L=(1<<u.distbits)-1;e:do{v<15&&(p+=b[c++]<<v,v+=8,p+=b[c++]<<v,v+=8),E=w[p&C];t:for(;;){if(p>>>=k=E>>>24,v-=k,(k=E>>>16&255)===0)S[d++]=65535&E;else{if(!(16&k)){if(!(64&k)){E=w[(65535&E)+(p&(1<<k)-1)];continue t}if(32&k){u.mode=12;break e}i.msg="invalid literal/length code",u.mode=30;break e}R=65535&E,(k&=15)&&(v<k&&(p+=b[c++]<<v,v+=8),R+=p&(1<<k)-1,p>>>=k,v-=k),v<15&&(p+=b[c++]<<v,v+=8,p+=b[c++]<<v,v+=8),E=j[p&L];s:for(;;){if(p>>>=k=E>>>24,v-=k,!(16&(k=E>>>16&255))){if(!(64&k)){E=j[(65535&E)+(p&(1<<k)-1)];continue s}i.msg="invalid distance code",u.mode=30;break e}if(U=65535&E,v<(k&=15)&&(p+=b[c++]<<v,(v+=8)<k&&(p+=b[c++]<<v,v+=8)),f<(U+=p&(1<<k)-1)){i.msg="invalid distance too far back",u.mode=30;break e}if(p>>>=k,v-=k,(k=d-h)<U){if(m<(k=U-k)&&u.sane){i.msg="invalid distance too far back",u.mode=30;break e}if(I=g,(_=0)===y){if(_+=x-k,k<R){for(R-=k;S[d++]=g[_++],--k;);_=d-U,I=S}}else if(y<k){if(_+=x+y-k,(k-=y)<R){for(R-=k;S[d++]=g[_++],--k;);if(_=0,y<R){for(R-=k=y;S[d++]=g[_++],--k;);_=d-U,I=S}}}else if(_+=y-k,k<R){for(R-=k;S[d++]=g[_++],--k;);_=d-U,I=S}for(;2<R;)S[d++]=I[_++],S[d++]=I[_++],S[d++]=I[_++],R-=3;R&&(S[d++]=I[_++],1<R&&(S[d++]=I[_++]))}else{for(_=d-U;S[d++]=S[_++],S[d++]=S[_++],S[d++]=S[_++],2<(R-=3););R&&(S[d++]=S[_++],1<R&&(S[d++]=S[_++]))}break}}break}}while(c<o&&d<A);c-=R=v>>3,p&=(1<<(v-=R<<3))-1,i.next_in=c,i.next_out=d,i.avail_in=c<o?o-c+5:5-(c-o),i.avail_out=d<A?A-d+257:257-(d-A),u.hold=p,u.bits=v}},{}],49:[function(s,r,n){var i=s("../utils/common"),l=s("./adler32"),u=s("./crc32"),c=s("./inffast"),o=s("./inftrees"),d=1,h=2,A=0,f=-2,x=1,m=852,y=592;function g(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(_){var I;return _&&_.state?(I=_.state,_.total_in=_.total_out=I.total=0,_.msg="",I.wrap&&(_.adler=1&I.wrap),I.mode=x,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new i.Buf32(m),I.distcode=I.distdyn=new i.Buf32(y),I.sane=1,I.back=-1,A):f}function w(_){var I;return _&&_.state?((I=_.state).wsize=0,I.whave=0,I.wnext=0,v(_)):f}function j(_,I){var b,S;return _&&_.state?(S=_.state,I<0?(b=0,I=-I):(b=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?f:(S.window!==null&&S.wbits!==I&&(S.window=null),S.wrap=b,S.wbits=I,w(_))):f}function C(_,I){var b,S;return _?(S=new p,(_.state=S).window=null,(b=j(_,I))!==A&&(_.state=null),b):f}var L,E,k=!0;function R(_){if(k){var I;for(L=new i.Buf32(512),E=new i.Buf32(32),I=0;I<144;)_.lens[I++]=8;for(;I<256;)_.lens[I++]=9;for(;I<280;)_.lens[I++]=7;for(;I<288;)_.lens[I++]=8;for(o(d,_.lens,0,288,L,0,_.work,{bits:9}),I=0;I<32;)_.lens[I++]=5;o(h,_.lens,0,32,E,0,_.work,{bits:5}),k=!1}_.lencode=L,_.lenbits=9,_.distcode=E,_.distbits=5}function U(_,I,b,S){var V,F=_.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new i.Buf8(F.wsize)),S>=F.wsize?(i.arraySet(F.window,I,b-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(S<(V=F.wsize-F.wnext)&&(V=S),i.arraySet(F.window,I,b-S,V,F.wnext),(S-=V)?(i.arraySet(F.window,I,b-S,S,0),F.wnext=S,F.whave=F.wsize):(F.wnext+=V,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=V))),0}n.inflateReset=w,n.inflateReset2=j,n.inflateResetKeep=v,n.inflateInit=function(_){return C(_,15)},n.inflateInit2=C,n.inflate=function(_,I){var b,S,V,F,z,P,W,B,M,te,se,X,re,Ne,ge,ye,Te,Ae,de,pe,N,G,Q,T,D=0,q=new i.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return f;(b=_.state).mode===12&&(b.mode=13),z=_.next_out,V=_.output,W=_.avail_out,F=_.next_in,S=_.input,P=_.avail_in,B=b.hold,M=b.bits,te=P,se=W,G=A;e:for(;;)switch(b.mode){case x:if(b.wrap===0){b.mode=13;break}for(;M<16;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(2&b.wrap&&B===35615){q[b.check=0]=255&B,q[1]=B>>>8&255,b.check=u(b.check,q,2,0),M=B=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&B)<<8)+(B>>8))%31){_.msg="incorrect header check",b.mode=30;break}if((15&B)!=8){_.msg="unknown compression method",b.mode=30;break}if(M-=4,N=8+(15&(B>>>=4)),b.wbits===0)b.wbits=N;else if(N>b.wbits){_.msg="invalid window size",b.mode=30;break}b.dmax=1<<N,_.adler=b.check=1,b.mode=512&B?10:12,M=B=0;break;case 2:for(;M<16;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(b.flags=B,(255&b.flags)!=8){_.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){_.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=B>>8&1),512&b.flags&&(q[0]=255&B,q[1]=B>>>8&255,b.check=u(b.check,q,2,0)),M=B=0,b.mode=3;case 3:for(;M<32;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}b.head&&(b.head.time=B),512&b.flags&&(q[0]=255&B,q[1]=B>>>8&255,q[2]=B>>>16&255,q[3]=B>>>24&255,b.check=u(b.check,q,4,0)),M=B=0,b.mode=4;case 4:for(;M<16;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}b.head&&(b.head.xflags=255&B,b.head.os=B>>8),512&b.flags&&(q[0]=255&B,q[1]=B>>>8&255,b.check=u(b.check,q,2,0)),M=B=0,b.mode=5;case 5:if(1024&b.flags){for(;M<16;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}b.length=B,b.head&&(b.head.extra_len=B),512&b.flags&&(q[0]=255&B,q[1]=B>>>8&255,b.check=u(b.check,q,2,0)),M=B=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(P<(X=b.length)&&(X=P),X&&(b.head&&(N=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,S,F,X,N)),512&b.flags&&(b.check=u(b.check,S,X,F)),P-=X,F+=X,b.length-=X),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(P===0)break e;for(X=0;N=S[F+X++],b.head&&N&&b.length<65536&&(b.head.name+=String.fromCharCode(N)),N&&X<P;);if(512&b.flags&&(b.check=u(b.check,S,X,F)),P-=X,F+=X,N)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(P===0)break e;for(X=0;N=S[F+X++],b.head&&N&&b.length<65536&&(b.head.comment+=String.fromCharCode(N)),N&&X<P;);if(512&b.flags&&(b.check=u(b.check,S,X,F)),P-=X,F+=X,N)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;M<16;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(B!==(65535&b.check)){_.msg="header crc mismatch",b.mode=30;break}M=B=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),_.adler=b.check=0,b.mode=12;break;case 10:for(;M<32;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}_.adler=b.check=g(B),M=B=0,b.mode=11;case 11:if(b.havedict===0)return _.next_out=z,_.avail_out=W,_.next_in=F,_.avail_in=P,b.hold=B,b.bits=M,2;_.adler=b.check=1,b.mode=12;case 12:if(I===5||I===6)break e;case 13:if(b.last){B>>>=7&M,M-=7&M,b.mode=27;break}for(;M<3;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}switch(b.last=1&B,M-=1,3&(B>>>=1)){case 0:b.mode=14;break;case 1:if(R(b),b.mode=20,I!==6)break;B>>>=2,M-=2;break e;case 2:b.mode=17;break;case 3:_.msg="invalid block type",b.mode=30}B>>>=2,M-=2;break;case 14:for(B>>>=7&M,M-=7&M;M<32;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if((65535&B)!=(B>>>16^65535)){_.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&B,M=B=0,b.mode=15,I===6)break e;case 15:b.mode=16;case 16:if(X=b.length){if(P<X&&(X=P),W<X&&(X=W),X===0)break e;i.arraySet(V,S,F,X,z),P-=X,F+=X,W-=X,z+=X,b.length-=X;break}b.mode=12;break;case 17:for(;M<14;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(b.nlen=257+(31&B),B>>>=5,M-=5,b.ndist=1+(31&B),B>>>=5,M-=5,b.ncode=4+(15&B),B>>>=4,M-=4,286<b.nlen||30<b.ndist){_.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;M<3;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}b.lens[H[b.have++]]=7&B,B>>>=3,M-=3}for(;b.have<19;)b.lens[H[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,Q={bits:b.lenbits},G=o(0,b.lens,0,19,b.lencode,0,b.work,Q),b.lenbits=Q.bits,G){_.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;ye=(D=b.lencode[B&(1<<b.lenbits)-1])>>>16&255,Te=65535&D,!((ge=D>>>24)<=M);){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(Te<16)B>>>=ge,M-=ge,b.lens[b.have++]=Te;else{if(Te===16){for(T=ge+2;M<T;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(B>>>=ge,M-=ge,b.have===0){_.msg="invalid bit length repeat",b.mode=30;break}N=b.lens[b.have-1],X=3+(3&B),B>>>=2,M-=2}else if(Te===17){for(T=ge+3;M<T;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}M-=ge,N=0,X=3+(7&(B>>>=ge)),B>>>=3,M-=3}else{for(T=ge+7;M<T;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}M-=ge,N=0,X=11+(127&(B>>>=ge)),B>>>=7,M-=7}if(b.have+X>b.nlen+b.ndist){_.msg="invalid bit length repeat",b.mode=30;break}for(;X--;)b.lens[b.have++]=N}}if(b.mode===30)break;if(b.lens[256]===0){_.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,Q={bits:b.lenbits},G=o(d,b.lens,0,b.nlen,b.lencode,0,b.work,Q),b.lenbits=Q.bits,G){_.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,Q={bits:b.distbits},G=o(h,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,Q),b.distbits=Q.bits,G){_.msg="invalid distances set",b.mode=30;break}if(b.mode=20,I===6)break e;case 20:b.mode=21;case 21:if(6<=P&&258<=W){_.next_out=z,_.avail_out=W,_.next_in=F,_.avail_in=P,b.hold=B,b.bits=M,c(_,se),z=_.next_out,V=_.output,W=_.avail_out,F=_.next_in,S=_.input,P=_.avail_in,B=b.hold,M=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;ye=(D=b.lencode[B&(1<<b.lenbits)-1])>>>16&255,Te=65535&D,!((ge=D>>>24)<=M);){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(ye&&!(240&ye)){for(Ae=ge,de=ye,pe=Te;ye=(D=b.lencode[pe+((B&(1<<Ae+de)-1)>>Ae)])>>>16&255,Te=65535&D,!(Ae+(ge=D>>>24)<=M);){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}B>>>=Ae,M-=Ae,b.back+=Ae}if(B>>>=ge,M-=ge,b.back+=ge,b.length=Te,ye===0){b.mode=26;break}if(32&ye){b.back=-1,b.mode=12;break}if(64&ye){_.msg="invalid literal/length code",b.mode=30;break}b.extra=15&ye,b.mode=22;case 22:if(b.extra){for(T=b.extra;M<T;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}b.length+=B&(1<<b.extra)-1,B>>>=b.extra,M-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;ye=(D=b.distcode[B&(1<<b.distbits)-1])>>>16&255,Te=65535&D,!((ge=D>>>24)<=M);){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(!(240&ye)){for(Ae=ge,de=ye,pe=Te;ye=(D=b.distcode[pe+((B&(1<<Ae+de)-1)>>Ae)])>>>16&255,Te=65535&D,!(Ae+(ge=D>>>24)<=M);){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}B>>>=Ae,M-=Ae,b.back+=Ae}if(B>>>=ge,M-=ge,b.back+=ge,64&ye){_.msg="invalid distance code",b.mode=30;break}b.offset=Te,b.extra=15&ye,b.mode=24;case 24:if(b.extra){for(T=b.extra;M<T;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}b.offset+=B&(1<<b.extra)-1,B>>>=b.extra,M-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){_.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(W===0)break e;if(X=se-W,b.offset>X){if((X=b.offset-X)>b.whave&&b.sane){_.msg="invalid distance too far back",b.mode=30;break}re=X>b.wnext?(X-=b.wnext,b.wsize-X):b.wnext-X,X>b.length&&(X=b.length),Ne=b.window}else Ne=V,re=z-b.offset,X=b.length;for(W<X&&(X=W),W-=X,b.length-=X;V[z++]=Ne[re++],--X;);b.length===0&&(b.mode=21);break;case 26:if(W===0)break e;V[z++]=b.length,W--,b.mode=21;break;case 27:if(b.wrap){for(;M<32;){if(P===0)break e;P--,B|=S[F++]<<M,M+=8}if(se-=W,_.total_out+=se,b.total+=se,se&&(_.adler=b.check=b.flags?u(b.check,V,se,z-se):l(b.check,V,se,z-se)),se=W,(b.flags?B:g(B))!==b.check){_.msg="incorrect data check",b.mode=30;break}M=B=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;M<32;){if(P===0)break e;P--,B+=S[F++]<<M,M+=8}if(B!==(4294967295&b.total)){_.msg="incorrect length check",b.mode=30;break}M=B=0}b.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;case 32:default:return f}return _.next_out=z,_.avail_out=W,_.next_in=F,_.avail_in=P,b.hold=B,b.bits=M,(b.wsize||se!==_.avail_out&&b.mode<30&&(b.mode<27||I!==4))&&U(_,_.output,_.next_out,se-_.avail_out)?(b.mode=31,-4):(te-=_.avail_in,se-=_.avail_out,_.total_in+=te,_.total_out+=se,b.total+=se,b.wrap&&se&&(_.adler=b.check=b.flags?u(b.check,V,se,_.next_out-se):l(b.check,V,se,_.next_out-se)),_.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(te==0&&se===0||I===4)&&G===A&&(G=-5),G)},n.inflateEnd=function(_){if(!_||!_.state)return f;var I=_.state;return I.window&&(I.window=null),_.state=null,A},n.inflateGetHeader=function(_,I){var b;return _&&_.state&&2&(b=_.state).wrap?((b.head=I).done=!1,A):f},n.inflateSetDictionary=function(_,I){var b,S=I.length;return _&&_.state?(b=_.state).wrap!==0&&b.mode!==11?f:b.mode===11&&l(1,I,S,0)!==b.check?-3:U(_,I,S,S)?(b.mode=31,-4):(b.havedict=1,A):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,r,n){var i=s("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,h,A,f,x,m,y,g){var p,v,w,j,C,L,E,k,R,U=g.bits,_=0,I=0,b=0,S=0,V=0,F=0,z=0,P=0,W=0,B=0,M=null,te=0,se=new i.Buf16(16),X=new i.Buf16(16),re=null,Ne=0;for(_=0;_<=15;_++)se[_]=0;for(I=0;I<f;I++)se[h[A+I]]++;for(V=U,S=15;1<=S&&se[S]===0;S--);if(S<V&&(V=S),S===0)return x[m++]=20971520,x[m++]=20971520,g.bits=1,0;for(b=1;b<S&&se[b]===0;b++);for(V<b&&(V=b),_=P=1;_<=15;_++)if(P<<=1,(P-=se[_])<0)return-1;if(0<P&&(d===0||S!==1))return-1;for(X[1]=0,_=1;_<15;_++)X[_+1]=X[_]+se[_];for(I=0;I<f;I++)h[A+I]!==0&&(y[X[h[A+I]]++]=I);if(L=d===0?(M=re=y,19):d===1?(M=l,te-=257,re=u,Ne-=257,256):(M=c,re=o,-1),_=b,C=m,z=I=B=0,w=-1,j=(W=1<<(F=V))-1,d===1&&852<W||d===2&&592<W)return 1;for(;;){for(E=_-z,R=y[I]<L?(k=0,y[I]):y[I]>L?(k=re[Ne+y[I]],M[te+y[I]]):(k=96,0),p=1<<_-z,b=v=1<<F;x[C+(B>>z)+(v-=p)]=E<<24|k<<16|R|0,v!==0;);for(p=1<<_-1;B&p;)p>>=1;if(p!==0?(B&=p-1,B+=p):B=0,I++,--se[_]==0){if(_===S)break;_=h[A+y[I]]}if(V<_&&(B&j)!==w){for(z===0&&(z=V),C+=b,P=1<<(F=_-z);F+z<S&&!((P-=se[F+z])<=0);)F++,P<<=1;if(W+=1<<F,d===1&&852<W||d===2&&592<W)return 1;x[w=B&j]=V<<24|F<<16|C-m|0}}return B!==0&&(x[C+B]=_-z<<24|64<<16|0),g.bits=V,0}},{"../utils/common":41}],51:[function(s,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,r,n){var i=s("../utils/common"),l=0,u=1;function c(D){for(var q=D.length;0<=--q;)D[q]=0}var o=0,d=29,h=256,A=h+1+d,f=30,x=19,m=2*A+1,y=15,g=16,p=7,v=256,w=16,j=17,C=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(A+2));c(U);var _=new Array(2*f);c(_);var I=new Array(512);c(I);var b=new Array(256);c(b);var S=new Array(d);c(S);var V,F,z,P=new Array(f);function W(D,q,H,K,$){this.static_tree=D,this.extra_bits=q,this.extra_base=H,this.elems=K,this.max_length=$,this.has_stree=D&&D.length}function B(D,q){this.dyn_tree=D,this.max_code=0,this.stat_desc=q}function M(D){return D<256?I[D]:I[256+(D>>>7)]}function te(D,q){D.pending_buf[D.pending++]=255&q,D.pending_buf[D.pending++]=q>>>8&255}function se(D,q,H){D.bi_valid>g-H?(D.bi_buf|=q<<D.bi_valid&65535,te(D,D.bi_buf),D.bi_buf=q>>g-D.bi_valid,D.bi_valid+=H-g):(D.bi_buf|=q<<D.bi_valid&65535,D.bi_valid+=H)}function X(D,q,H){se(D,H[2*q],H[2*q+1])}function re(D,q){for(var H=0;H|=1&D,D>>>=1,H<<=1,0<--q;);return H>>>1}function Ne(D,q,H){var K,$,ee=new Array(y+1),ne=0;for(K=1;K<=y;K++)ee[K]=ne=ne+H[K-1]<<1;for($=0;$<=q;$++){var ae=D[2*$+1];ae!==0&&(D[2*$]=re(ee[ae]++,ae))}}function ge(D){var q;for(q=0;q<A;q++)D.dyn_ltree[2*q]=0;for(q=0;q<f;q++)D.dyn_dtree[2*q]=0;for(q=0;q<x;q++)D.bl_tree[2*q]=0;D.dyn_ltree[2*v]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function ye(D){8<D.bi_valid?te(D,D.bi_buf):0<D.bi_valid&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function Te(D,q,H,K){var $=2*q,ee=2*H;return D[$]<D[ee]||D[$]===D[ee]&&K[q]<=K[H]}function Ae(D,q,H){for(var K=D.heap[H],$=H<<1;$<=D.heap_len&&($<D.heap_len&&Te(q,D.heap[$+1],D.heap[$],D.depth)&&$++,!Te(q,K,D.heap[$],D.depth));)D.heap[H]=D.heap[$],H=$,$<<=1;D.heap[H]=K}function de(D,q,H){var K,$,ee,ne,ae=0;if(D.last_lit!==0)for(;K=D.pending_buf[D.d_buf+2*ae]<<8|D.pending_buf[D.d_buf+2*ae+1],$=D.pending_buf[D.l_buf+ae],ae++,K===0?X(D,$,q):(X(D,(ee=b[$])+h+1,q),(ne=L[ee])!==0&&se(D,$-=S[ee],ne),X(D,ee=M(--K),H),(ne=E[ee])!==0&&se(D,K-=P[ee],ne)),ae<D.last_lit;);X(D,v,q)}function pe(D,q){var H,K,$,ee=q.dyn_tree,ne=q.stat_desc.static_tree,ae=q.stat_desc.has_stree,oe=q.stat_desc.elems,Le=-1;for(D.heap_len=0,D.heap_max=m,H=0;H<oe;H++)ee[2*H]!==0?(D.heap[++D.heap_len]=Le=H,D.depth[H]=0):ee[2*H+1]=0;for(;D.heap_len<2;)ee[2*($=D.heap[++D.heap_len]=Le<2?++Le:0)]=1,D.depth[$]=0,D.opt_len--,ae&&(D.static_len-=ne[2*$+1]);for(q.max_code=Le,H=D.heap_len>>1;1<=H;H--)Ae(D,ee,H);for($=oe;H=D.heap[1],D.heap[1]=D.heap[D.heap_len--],Ae(D,ee,1),K=D.heap[1],D.heap[--D.heap_max]=H,D.heap[--D.heap_max]=K,ee[2*$]=ee[2*H]+ee[2*K],D.depth[$]=(D.depth[H]>=D.depth[K]?D.depth[H]:D.depth[K])+1,ee[2*H+1]=ee[2*K+1]=$,D.heap[1]=$++,Ae(D,ee,1),2<=D.heap_len;);D.heap[--D.heap_max]=D.heap[1],function(Ce,Pt){var vr,ts,yr,$e,Ln,bl,os=Pt.dyn_tree,Dd=Pt.max_code,wp=Pt.stat_desc.static_tree,_p=Pt.stat_desc.has_stree,Np=Pt.stat_desc.extra_bits,Ed=Pt.stat_desc.extra_base,br=Pt.stat_desc.max_length,Dn=0;for($e=0;$e<=y;$e++)Ce.bl_count[$e]=0;for(os[2*Ce.heap[Ce.heap_max]+1]=0,vr=Ce.heap_max+1;vr<m;vr++)br<($e=os[2*os[2*(ts=Ce.heap[vr])+1]+1]+1)&&($e=br,Dn++),os[2*ts+1]=$e,Dd<ts||(Ce.bl_count[$e]++,Ln=0,Ed<=ts&&(Ln=Np[ts-Ed]),bl=os[2*ts],Ce.opt_len+=bl*($e+Ln),_p&&(Ce.static_len+=bl*(wp[2*ts+1]+Ln)));if(Dn!==0){do{for($e=br-1;Ce.bl_count[$e]===0;)$e--;Ce.bl_count[$e]--,Ce.bl_count[$e+1]+=2,Ce.bl_count[br]--,Dn-=2}while(0<Dn);for($e=br;$e!==0;$e--)for(ts=Ce.bl_count[$e];ts!==0;)Dd<(yr=Ce.heap[--vr])||(os[2*yr+1]!==$e&&(Ce.opt_len+=($e-os[2*yr+1])*os[2*yr],os[2*yr+1]=$e),ts--)}}(D,q),Ne(ee,Le,D.bl_count)}function N(D,q,H){var K,$,ee=-1,ne=q[1],ae=0,oe=7,Le=4;for(ne===0&&(oe=138,Le=3),q[2*(H+1)+1]=65535,K=0;K<=H;K++)$=ne,ne=q[2*(K+1)+1],++ae<oe&&$===ne||(ae<Le?D.bl_tree[2*$]+=ae:$!==0?($!==ee&&D.bl_tree[2*$]++,D.bl_tree[2*w]++):ae<=10?D.bl_tree[2*j]++:D.bl_tree[2*C]++,ee=$,Le=(ae=0)===ne?(oe=138,3):$===ne?(oe=6,3):(oe=7,4))}function G(D,q,H){var K,$,ee=-1,ne=q[1],ae=0,oe=7,Le=4;for(ne===0&&(oe=138,Le=3),K=0;K<=H;K++)if($=ne,ne=q[2*(K+1)+1],!(++ae<oe&&$===ne)){if(ae<Le)for(;X(D,$,D.bl_tree),--ae!=0;);else $!==0?($!==ee&&(X(D,$,D.bl_tree),ae--),X(D,w,D.bl_tree),se(D,ae-3,2)):ae<=10?(X(D,j,D.bl_tree),se(D,ae-3,3)):(X(D,C,D.bl_tree),se(D,ae-11,7));ee=$,Le=(ae=0)===ne?(oe=138,3):$===ne?(oe=6,3):(oe=7,4)}}c(P);var Q=!1;function T(D,q,H,K){se(D,(o<<1)+(K?1:0),3),function($,ee,ne,ae){ye($),te($,ne),te($,~ne),i.arraySet($.pending_buf,$.window,ee,ne,$.pending),$.pending+=ne}(D,q,H)}n._tr_init=function(D){Q||(function(){var q,H,K,$,ee,ne=new Array(y+1);for($=K=0;$<d-1;$++)for(S[$]=K,q=0;q<1<<L[$];q++)b[K++]=$;for(b[K-1]=$,$=ee=0;$<16;$++)for(P[$]=ee,q=0;q<1<<E[$];q++)I[ee++]=$;for(ee>>=7;$<f;$++)for(P[$]=ee<<7,q=0;q<1<<E[$]-7;q++)I[256+ee++]=$;for(H=0;H<=y;H++)ne[H]=0;for(q=0;q<=143;)U[2*q+1]=8,q++,ne[8]++;for(;q<=255;)U[2*q+1]=9,q++,ne[9]++;for(;q<=279;)U[2*q+1]=7,q++,ne[7]++;for(;q<=287;)U[2*q+1]=8,q++,ne[8]++;for(Ne(U,A+1,ne),q=0;q<f;q++)_[2*q+1]=5,_[2*q]=re(q,5);V=new W(U,L,h+1,A,y),F=new W(_,E,0,f,y),z=new W(new Array(0),k,0,x,p)}(),Q=!0),D.l_desc=new B(D.dyn_ltree,V),D.d_desc=new B(D.dyn_dtree,F),D.bl_desc=new B(D.bl_tree,z),D.bi_buf=0,D.bi_valid=0,ge(D)},n._tr_stored_block=T,n._tr_flush_block=function(D,q,H,K){var $,ee,ne=0;0<D.level?(D.strm.data_type===2&&(D.strm.data_type=function(ae){var oe,Le=4093624447;for(oe=0;oe<=31;oe++,Le>>>=1)if(1&Le&&ae.dyn_ltree[2*oe]!==0)return l;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return u;for(oe=32;oe<h;oe++)if(ae.dyn_ltree[2*oe]!==0)return u;return l}(D)),pe(D,D.l_desc),pe(D,D.d_desc),ne=function(ae){var oe;for(N(ae,ae.dyn_ltree,ae.l_desc.max_code),N(ae,ae.dyn_dtree,ae.d_desc.max_code),pe(ae,ae.bl_desc),oe=x-1;3<=oe&&ae.bl_tree[2*R[oe]+1]===0;oe--);return ae.opt_len+=3*(oe+1)+5+5+4,oe}(D),$=D.opt_len+3+7>>>3,(ee=D.static_len+3+7>>>3)<=$&&($=ee)):$=ee=H+5,H+4<=$&&q!==-1?T(D,q,H,K):D.strategy===4||ee===$?(se(D,2+(K?1:0),3),de(D,U,_)):(se(D,4+(K?1:0),3),function(ae,oe,Le,Ce){var Pt;for(se(ae,oe-257,5),se(ae,Le-1,5),se(ae,Ce-4,4),Pt=0;Pt<Ce;Pt++)se(ae,ae.bl_tree[2*R[Pt]+1],3);G(ae,ae.dyn_ltree,oe-1),G(ae,ae.dyn_dtree,Le-1)}(D,D.l_desc.max_code+1,D.d_desc.max_code+1,ne+1),de(D,D.dyn_ltree,D.dyn_dtree)),ge(D),K&&ye(D)},n._tr_tally=function(D,q,H){return D.pending_buf[D.d_buf+2*D.last_lit]=q>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&q,D.pending_buf[D.l_buf+D.last_lit]=255&H,D.last_lit++,q===0?D.dyn_ltree[2*H]++:(D.matches++,q--,D.dyn_ltree[2*(b[H]+h+1)]++,D.dyn_dtree[2*M(q)]++),D.last_lit===D.lit_bufsize-1},n._tr_align=function(D){se(D,2,3),X(D,v,U),function(q){q.bi_valid===16?(te(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(D)}},{"../utils/common":41}],53:[function(s,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,r,n){(function(i){(function(l,u){if(!l.setImmediate){var c,o,d,h,A=1,f={},x=!1,m=l.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(l);y=y&&y.setTimeout?y:l,c={}.toString.call(l.process)==="[object process]"?function(w){process.nextTick(function(){p(w)})}:function(){if(l.postMessage&&!l.importScripts){var w=!0,j=l.onmessage;return l.onmessage=function(){w=!1},l.postMessage("","*"),l.onmessage=j,w}}()?(h="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",v,!1):l.attachEvent("onmessage",v),function(w){l.postMessage(h+w,"*")}):l.MessageChannel?((d=new MessageChannel).port1.onmessage=function(w){p(w.data)},function(w){d.port2.postMessage(w)}):m&&"onreadystatechange"in m.createElement("script")?(o=m.documentElement,function(w){var j=m.createElement("script");j.onreadystatechange=function(){p(w),j.onreadystatechange=null,o.removeChild(j),j=null},o.appendChild(j)}):function(w){setTimeout(p,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var j=new Array(arguments.length-1),C=0;C<j.length;C++)j[C]=arguments[C+1];var L={callback:w,args:j};return f[A]=L,c(A),A++},y.clearImmediate=g}function g(w){delete f[w]}function p(w){if(x)setTimeout(p,0,w);else{var j=f[w];if(j){x=!0;try{(function(C){var L=C.callback,E=C.args;switch(E.length){case 0:L();break;case 1:L(E[0]);break;case 2:L(E[0],E[1]);break;case 3:L(E[0],E[1],E[2]);break;default:L.apply(u,E)}})(j)}finally{g(w),x=!1}}}}function v(w){w.source===l&&typeof w.data=="string"&&w.data.indexOf(h)===0&&p(+w.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof ct<"u"?ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(dp);var ey=dp.exports;const up=jp(ey);function St(e,t,s,r){function n(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function u(d){try{o(r.next(d))}catch(h){l(h)}}function c(d){try{o(r.throw(d))}catch(h){l(h)}}function o(d){d.done?i(d.value):n(d.value).then(u,c)}o((r=r.apply(e,[])).next())})}const me=914400,Rn=12700,Ze=`\r
`,ty=2147483649,ao=/^[0-9a-fA-F]{6}$/,sy=1.67,ay=27,Ra={type:"solid",color:"666666",pt:1},hp=[.05,.1,.05,.1],La={color:"363636",pt:1},ca={color:"888888",style:"solid",size:1,cap:"flat"},vt="000000",Mt=12,ry=18,Da="LAYOUT_16x9",mc="DEFAULT",fp="333333",ea={type:"outer",blur:3,offset:23e3/12700,angle:90,color:"000000",opacity:.35,rotateWithShape:!0},yn=[.5,.5,.5,.5],hh={color:"000000"},ny={size:8,color:"FFFFFF",opacity:.75},hs="2094734552",Ai="2094734553",Ir="2094734554",pc="2094734555",mp="2094734556",Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),Mr=["C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360","C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360"],iy=["5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7","5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7"];var Wa;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(Wa||(Wa={}));var Ga;(function(e){e.b="b",e.ctr="ctr",e.t="t"})(Ga||(Ga={}));const pp="{F7021451-1387-4CA6-816F-3879F97B5CBC}";var Ac;(function(e){e.arraybuffer="arraybuffer",e.base64="base64",e.binarystring="binarystring",e.blob="blob",e.nodebuffer="nodebuffer",e.uint8array="uint8array"})(Ac||(Ac={}));var xc;(function(e){e.area="area",e.bar="bar",e.bar3d="bar3D",e.bubble="bubble",e.bubble3d="bubble3D",e.doughnut="doughnut",e.line="line",e.pie="pie",e.radar="radar",e.scatter="scatter"})(xc||(xc={}));var gc;(function(e){e.accentBorderCallout1="accentBorderCallout1",e.accentBorderCallout2="accentBorderCallout2",e.accentBorderCallout3="accentBorderCallout3",e.accentCallout1="accentCallout1",e.accentCallout2="accentCallout2",e.accentCallout3="accentCallout3",e.actionButtonBackPrevious="actionButtonBackPrevious",e.actionButtonBeginning="actionButtonBeginning",e.actionButtonBlank="actionButtonBlank",e.actionButtonDocument="actionButtonDocument",e.actionButtonEnd="actionButtonEnd",e.actionButtonForwardNext="actionButtonForwardNext",e.actionButtonHelp="actionButtonHelp",e.actionButtonHome="actionButtonHome",e.actionButtonInformation="actionButtonInformation",e.actionButtonMovie="actionButtonMovie",e.actionButtonReturn="actionButtonReturn",e.actionButtonSound="actionButtonSound",e.arc="arc",e.bentArrow="bentArrow",e.bentUpArrow="bentUpArrow",e.bevel="bevel",e.blockArc="blockArc",e.borderCallout1="borderCallout1",e.borderCallout2="borderCallout2",e.borderCallout3="borderCallout3",e.bracePair="bracePair",e.bracketPair="bracketPair",e.callout1="callout1",e.callout2="callout2",e.callout3="callout3",e.can="can",e.chartPlus="chartPlus",e.chartStar="chartStar",e.chartX="chartX",e.chevron="chevron",e.chord="chord",e.circularArrow="circularArrow",e.cloud="cloud",e.cloudCallout="cloudCallout",e.corner="corner",e.cornerTabs="cornerTabs",e.cube="cube",e.curvedDownArrow="curvedDownArrow",e.curvedLeftArrow="curvedLeftArrow",e.curvedRightArrow="curvedRightArrow",e.curvedUpArrow="curvedUpArrow",e.custGeom="custGeom",e.decagon="decagon",e.diagStripe="diagStripe",e.diamond="diamond",e.dodecagon="dodecagon",e.donut="donut",e.doubleWave="doubleWave",e.downArrow="downArrow",e.downArrowCallout="downArrowCallout",e.ellipse="ellipse",e.ellipseRibbon="ellipseRibbon",e.ellipseRibbon2="ellipseRibbon2",e.flowChartAlternateProcess="flowChartAlternateProcess",e.flowChartCollate="flowChartCollate",e.flowChartConnector="flowChartConnector",e.flowChartDecision="flowChartDecision",e.flowChartDelay="flowChartDelay",e.flowChartDisplay="flowChartDisplay",e.flowChartDocument="flowChartDocument",e.flowChartExtract="flowChartExtract",e.flowChartInputOutput="flowChartInputOutput",e.flowChartInternalStorage="flowChartInternalStorage",e.flowChartMagneticDisk="flowChartMagneticDisk",e.flowChartMagneticDrum="flowChartMagneticDrum",e.flowChartMagneticTape="flowChartMagneticTape",e.flowChartManualInput="flowChartManualInput",e.flowChartManualOperation="flowChartManualOperation",e.flowChartMerge="flowChartMerge",e.flowChartMultidocument="flowChartMultidocument",e.flowChartOfflineStorage="flowChartOfflineStorage",e.flowChartOffpageConnector="flowChartOffpageConnector",e.flowChartOnlineStorage="flowChartOnlineStorage",e.flowChartOr="flowChartOr",e.flowChartPredefinedProcess="flowChartPredefinedProcess",e.flowChartPreparation="flowChartPreparation",e.flowChartProcess="flowChartProcess",e.flowChartPunchedCard="flowChartPunchedCard",e.flowChartPunchedTape="flowChartPunchedTape",e.flowChartSort="flowChartSort",e.flowChartSummingJunction="flowChartSummingJunction",e.flowChartTerminator="flowChartTerminator",e.folderCorner="folderCorner",e.frame="frame",e.funnel="funnel",e.gear6="gear6",e.gear9="gear9",e.halfFrame="halfFrame",e.heart="heart",e.heptagon="heptagon",e.hexagon="hexagon",e.homePlate="homePlate",e.horizontalScroll="horizontalScroll",e.irregularSeal1="irregularSeal1",e.irregularSeal2="irregularSeal2",e.leftArrow="leftArrow",e.leftArrowCallout="leftArrowCallout",e.leftBrace="leftBrace",e.leftBracket="leftBracket",e.leftCircularArrow="leftCircularArrow",e.leftRightArrow="leftRightArrow",e.leftRightArrowCallout="leftRightArrowCallout",e.leftRightCircularArrow="leftRightCircularArrow",e.leftRightRibbon="leftRightRibbon",e.leftRightUpArrow="leftRightUpArrow",e.leftUpArrow="leftUpArrow",e.lightningBolt="lightningBolt",e.line="line",e.lineInv="lineInv",e.mathDivide="mathDivide",e.mathEqual="mathEqual",e.mathMinus="mathMinus",e.mathMultiply="mathMultiply",e.mathNotEqual="mathNotEqual",e.mathPlus="mathPlus",e.moon="moon",e.noSmoking="noSmoking",e.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",e.notchedRightArrow="notchedRightArrow",e.octagon="octagon",e.parallelogram="parallelogram",e.pentagon="pentagon",e.pie="pie",e.pieWedge="pieWedge",e.plaque="plaque",e.plaqueTabs="plaqueTabs",e.plus="plus",e.quadArrow="quadArrow",e.quadArrowCallout="quadArrowCallout",e.rect="rect",e.ribbon="ribbon",e.ribbon2="ribbon2",e.rightArrow="rightArrow",e.rightArrowCallout="rightArrowCallout",e.rightBrace="rightBrace",e.rightBracket="rightBracket",e.round1Rect="round1Rect",e.round2DiagRect="round2DiagRect",e.round2SameRect="round2SameRect",e.roundRect="roundRect",e.rtTriangle="rtTriangle",e.smileyFace="smileyFace",e.snip1Rect="snip1Rect",e.snip2DiagRect="snip2DiagRect",e.snip2SameRect="snip2SameRect",e.snipRoundRect="snipRoundRect",e.squareTabs="squareTabs",e.star10="star10",e.star12="star12",e.star16="star16",e.star24="star24",e.star32="star32",e.star4="star4",e.star5="star5",e.star6="star6",e.star7="star7",e.star8="star8",e.stripedRightArrow="stripedRightArrow",e.sun="sun",e.swooshArrow="swooshArrow",e.teardrop="teardrop",e.trapezoid="trapezoid",e.triangle="triangle",e.upArrow="upArrow",e.upArrowCallout="upArrowCallout",e.upDownArrow="upDownArrow",e.upDownArrowCallout="upDownArrowCallout",e.uturnArrow="uturnArrow",e.verticalScroll="verticalScroll",e.wave="wave",e.wedgeEllipseCallout="wedgeEllipseCallout",e.wedgeRectCallout="wedgeRectCallout",e.wedgeRoundRectCallout="wedgeRoundRectCallout"})(gc||(gc={}));var jt;(function(e){e.text1="tx1",e.text2="tx2",e.background1="bg1",e.background2="bg2",e.accent1="accent1",e.accent2="accent2",e.accent3="accent3",e.accent4="accent4",e.accent5="accent5",e.accent6="accent6"})(jt||(jt={}));var vc;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(vc||(vc={}));var yc;(function(e){e.top="top",e.middle="middle",e.bottom="bottom"})(yc||(yc={}));var Gs;(function(e){e.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",e.ACTION_BUTTON_BEGINNING="actionButtonBeginning",e.ACTION_BUTTON_CUSTOM="actionButtonBlank",e.ACTION_BUTTON_DOCUMENT="actionButtonDocument",e.ACTION_BUTTON_END="actionButtonEnd",e.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",e.ACTION_BUTTON_HELP="actionButtonHelp",e.ACTION_BUTTON_HOME="actionButtonHome",e.ACTION_BUTTON_INFORMATION="actionButtonInformation",e.ACTION_BUTTON_MOVIE="actionButtonMovie",e.ACTION_BUTTON_RETURN="actionButtonReturn",e.ACTION_BUTTON_SOUND="actionButtonSound",e.ARC="arc",e.BALLOON="wedgeRoundRectCallout",e.BENT_ARROW="bentArrow",e.BENT_UP_ARROW="bentUpArrow",e.BEVEL="bevel",e.BLOCK_ARC="blockArc",e.CAN="can",e.CHART_PLUS="chartPlus",e.CHART_STAR="chartStar",e.CHART_X="chartX",e.CHEVRON="chevron",e.CHORD="chord",e.CIRCULAR_ARROW="circularArrow",e.CLOUD="cloud",e.CLOUD_CALLOUT="cloudCallout",e.CORNER="corner",e.CORNER_TABS="cornerTabs",e.CROSS="plus",e.CUBE="cube",e.CURVED_DOWN_ARROW="curvedDownArrow",e.CURVED_DOWN_RIBBON="ellipseRibbon",e.CURVED_LEFT_ARROW="curvedLeftArrow",e.CURVED_RIGHT_ARROW="curvedRightArrow",e.CURVED_UP_ARROW="curvedUpArrow",e.CURVED_UP_RIBBON="ellipseRibbon2",e.CUSTOM_GEOMETRY="custGeom",e.DECAGON="decagon",e.DIAGONAL_STRIPE="diagStripe",e.DIAMOND="diamond",e.DODECAGON="dodecagon",e.DONUT="donut",e.DOUBLE_BRACE="bracePair",e.DOUBLE_BRACKET="bracketPair",e.DOUBLE_WAVE="doubleWave",e.DOWN_ARROW="downArrow",e.DOWN_ARROW_CALLOUT="downArrowCallout",e.DOWN_RIBBON="ribbon",e.EXPLOSION1="irregularSeal1",e.EXPLOSION2="irregularSeal2",e.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",e.FLOWCHART_CARD="flowChartPunchedCard",e.FLOWCHART_COLLATE="flowChartCollate",e.FLOWCHART_CONNECTOR="flowChartConnector",e.FLOWCHART_DATA="flowChartInputOutput",e.FLOWCHART_DECISION="flowChartDecision",e.FLOWCHART_DELAY="flowChartDelay",e.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",e.FLOWCHART_DISPLAY="flowChartDisplay",e.FLOWCHART_DOCUMENT="flowChartDocument",e.FLOWCHART_EXTRACT="flowChartExtract",e.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",e.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",e.FLOWCHART_MANUAL_INPUT="flowChartManualInput",e.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",e.FLOWCHART_MERGE="flowChartMerge",e.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",e.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",e.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",e.FLOWCHART_OR="flowChartOr",e.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",e.FLOWCHART_PREPARATION="flowChartPreparation",e.FLOWCHART_PROCESS="flowChartProcess",e.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",e.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",e.FLOWCHART_SORT="flowChartSort",e.FLOWCHART_STORED_DATA="flowChartOnlineStorage",e.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",e.FLOWCHART_TERMINATOR="flowChartTerminator",e.FOLDED_CORNER="folderCorner",e.FRAME="frame",e.FUNNEL="funnel",e.GEAR_6="gear6",e.GEAR_9="gear9",e.HALF_FRAME="halfFrame",e.HEART="heart",e.HEPTAGON="heptagon",e.HEXAGON="hexagon",e.HORIZONTAL_SCROLL="horizontalScroll",e.ISOSCELES_TRIANGLE="triangle",e.LEFT_ARROW="leftArrow",e.LEFT_ARROW_CALLOUT="leftArrowCallout",e.LEFT_BRACE="leftBrace",e.LEFT_BRACKET="leftBracket",e.LEFT_CIRCULAR_ARROW="leftCircularArrow",e.LEFT_RIGHT_ARROW="leftRightArrow",e.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",e.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",e.LEFT_RIGHT_RIBBON="leftRightRibbon",e.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",e.LEFT_UP_ARROW="leftUpArrow",e.LIGHTNING_BOLT="lightningBolt",e.LINE_CALLOUT_1="borderCallout1",e.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",e.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",e.LINE_CALLOUT_1_NO_BORDER="callout1",e.LINE_CALLOUT_2="borderCallout2",e.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",e.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",e.LINE_CALLOUT_2_NO_BORDER="callout2",e.LINE_CALLOUT_3="borderCallout3",e.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",e.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",e.LINE_CALLOUT_3_NO_BORDER="callout3",e.LINE_CALLOUT_4="borderCallout4",e.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",e.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",e.LINE_CALLOUT_4_NO_BORDER="callout4",e.LINE="line",e.LINE_INVERSE="lineInv",e.MATH_DIVIDE="mathDivide",e.MATH_EQUAL="mathEqual",e.MATH_MINUS="mathMinus",e.MATH_MULTIPLY="mathMultiply",e.MATH_NOT_EQUAL="mathNotEqual",e.MATH_PLUS="mathPlus",e.MOON="moon",e.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",e.NOTCHED_RIGHT_ARROW="notchedRightArrow",e.NO_SYMBOL="noSmoking",e.OCTAGON="octagon",e.OVAL="ellipse",e.OVAL_CALLOUT="wedgeEllipseCallout",e.PARALLELOGRAM="parallelogram",e.PENTAGON="homePlate",e.PIE="pie",e.PIE_WEDGE="pieWedge",e.PLAQUE="plaque",e.PLAQUE_TABS="plaqueTabs",e.QUAD_ARROW="quadArrow",e.QUAD_ARROW_CALLOUT="quadArrowCallout",e.RECTANGLE="rect",e.RECTANGULAR_CALLOUT="wedgeRectCallout",e.REGULAR_PENTAGON="pentagon",e.RIGHT_ARROW="rightArrow",e.RIGHT_ARROW_CALLOUT="rightArrowCallout",e.RIGHT_BRACE="rightBrace",e.RIGHT_BRACKET="rightBracket",e.RIGHT_TRIANGLE="rtTriangle",e.ROUNDED_RECTANGLE="roundRect",e.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",e.ROUND_1_RECTANGLE="round1Rect",e.ROUND_2_DIAG_RECTANGLE="round2DiagRect",e.ROUND_2_SAME_RECTANGLE="round2SameRect",e.SMILEY_FACE="smileyFace",e.SNIP_1_RECTANGLE="snip1Rect",e.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",e.SNIP_2_SAME_RECTANGLE="snip2SameRect",e.SNIP_ROUND_RECTANGLE="snipRoundRect",e.SQUARE_TABS="squareTabs",e.STAR_10_POINT="star10",e.STAR_12_POINT="star12",e.STAR_16_POINT="star16",e.STAR_24_POINT="star24",e.STAR_32_POINT="star32",e.STAR_4_POINT="star4",e.STAR_5_POINT="star5",e.STAR_6_POINT="star6",e.STAR_7_POINT="star7",e.STAR_8_POINT="star8",e.STRIPED_RIGHT_ARROW="stripedRightArrow",e.SUN="sun",e.SWOOSH_ARROW="swooshArrow",e.TEAR="teardrop",e.TRAPEZOID="trapezoid",e.UP_ARROW="upArrow",e.UP_ARROW_CALLOUT="upArrowCallout",e.UP_DOWN_ARROW="upDownArrow",e.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",e.UP_RIBBON="ribbon2",e.U_TURN_ARROW="uturnArrow",e.VERTICAL_SCROLL="verticalScroll",e.WAVE="wave"})(Gs||(Gs={}));var Y;(function(e){e.AREA="area",e.BAR="bar",e.BAR3D="bar3D",e.BUBBLE="bubble",e.BUBBLE3D="bubble3D",e.DOUGHNUT="doughnut",e.LINE="line",e.PIE="pie",e.RADAR="radar",e.SCATTER="scatter"})(Y||(Y={}));var Ki;(function(e){e.TEXT1="tx1",e.TEXT2="tx2",e.BACKGROUND1="bg1",e.BACKGROUND2="bg2",e.ACCENT1="accent1",e.ACCENT2="accent2",e.ACCENT3="accent3",e.ACCENT4="accent4",e.ACCENT5="accent5",e.ACCENT6="accent6"})(Ki||(Ki={}));var Ls;(function(e){e.chart="chart",e.image="image",e.line="line",e.rect="rect",e.text="text",e.placeholder="placeholder"})(Ls||(Ls={}));var fe;(function(e){e.chart="chart",e.hyperlink="hyperlink",e.image="image",e.media="media",e.online="online",e.placeholder="placeholder",e.table="table",e.tablecell="tablecell",e.text="text",e.notes="notes"})(fe||(fe={}));var Yr;(function(e){e.title="title",e.body="body",e.image="pic",e.chart="chart",e.table="tbl",e.media="media"})(Yr||(Yr={}));var Ha;(function(e){e.DEFAULT="&#x2022;",e.CHECK="&#x2713;",e.STAR="&#x2605;",e.TRIANGLE="&#x25B6;"})(Ha||(Ha={}));const Xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB3CAYAAAD1oOVhAAAGAUlEQVR4Xu2dT0xcRRzHf7tAYSsc0EBSIq2xEg8mtTGebVzEqOVIolz0siRE4gGTStqKwdpWsXoyGhMuyAVJOHBgqyvLNgonDkabeCBYW/8kTUr0wsJC+Wfm0bfuvn37Znbem9mR9303mJnf/Pb7ed95M7PDI5JIJPYJV5EC7e3t1N/fT62trdqViQCIu+bVgpIHEo/Hqbe3V/sdYVKHyWSSZmZm8ilVA0oeyNjYmEnaVC2Xvr6+qg5fAOJAz4DU1dURGzFSqZRVqtMpAFIGyMjICC0vL9PExIRWKADiAYTNshYWFrRCARAOEFZcCKWtrY0GBgaUTYkBRACIE4rKZwqACALR5RQAqQCIDqcASIVAVDsFQCSAqHQKgEgCUeUUAPEBRIVTAMQnEBvK5OQkbW9vk991CoAEAMQJxc86BUACAhKUUwAkQCBBOAVAAgbi1ykAogCIH6cAiCIgsk4BEIVAZJwCIIqBVLqiBxANQFgXS0tLND4+zl08AogmIG5OSSQS1gGKwgtANAIRcQqAaAbCe6YASBWA2E6xDyeyDUl7+AKQMkDYYevm5mZHabA/Li4uUiaTsYLau8QA4gLE/hU7wajyYtv1hReDAiAOxQcHBymbzark4BkbQKom/X8dp9Npmpqasn4BIAYAYSnYp+4BBEAMUcCwNOCQsAKZnp62NtQOw8WmwT09PUo+ijaHsOMx7GppaaH6+nolH0Z10K2tLVpdXbW6UfV3mNqBdHd3U1NTk2rtlMRfW1uj2dlZAFGirkRQAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAGHqrm8caPzQ0WC1logbeiC7X3xJm0PvUmRzh45cuki1588FAmVn9BO6P3yF9utrqGH0MtW82S8UN9RA9v/4k7InjhcJFTs/TLVXLwmJV67S7vD7tHF5pKi46fYdosdOcOOGG8j1OcqefbFEJD9Q3GCwDhqT31HklS4A8VRgfYM2Op6k3bt/BQJl58J7lPvwg5JYNccepaMry0LPqFA7hCm39+NNyp2J0172b19QysGINj5CsRtpij57musOViH0QPJQXn6J9u7dlYJSFkbrMYolrwvDAJAC+WWdEpQz7FTgECeUCpzi6YxvvqXoM6eEhqnCSgDikEzUKUE7Aw7xuHctKB5OYU3dZlNR9syQdAaAcAYTC0pXF+39c09o2Ik+3EqxVKqiB7hbYAxZkk4pbBaEM+AQofv+wTrFwylBOQNABIGwavdfe4O2pg5elO+86l99nY58/VUF0byrYsjiSFluNlXYrOHcBar7+EogUADEQ0YRGHbzoKAASBkg2+9cpM1rV0tK2QOcXW7bLEFAARAXIF4w2DrDWoeUWaf4hQIgDiA8GPZ2iNfi0Q8UACkAIgrDbrJ385eDxaPLLrEsFAB5oG6lMPJQPLZZZKAACBGVhcG2Q+bmuLu2nk55e4jqPv1IeEoceiBeX7s2zCa5MAqdstl91vfXwaEGsv/rb5TtOFk6tWXOuJGh6KmnhO9sayrMninPx103JBtXblHkice58cINZP4Hyr5wpkgkdiChEmc4FWazLzenNKa/p0jncwDiqcD6BuWePk07t1asatZGoYQzSqA4nFJ7soNiP/+EUyfc25GI2GG53dHPrKo1g/1Cw4pIXLrzO+1c+/wg7tBbFDle/EbQcjFCPWQJCau5EoBoFpzXHYDwFNJcDiCaBed1ByA8hTSXA4hmwXndAQhPIc3lAKJZcF53AMJTSHM5gGgWnNcdgPAU0lwOIJoF53UHIDyFNJcfSiCdnZ0Ui8U0SxlMd7lcjubn561gh+Y1scFIU/0o/3sgeLO12E2k7UXKYumgFoAYdg8ACIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6ZQ4JB6PKzviYthnNy4d9h+1M5mMlVckkUjsG5dhiBMCEMPg/wuOfrZZ/RSywQAAAABJRU5ErkJggg==",ly="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAVnCAYAAACzfHDVAAAAYHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVcjJDYAwDEXBu6ughBfH+YnLQSwSHVA+Yrkwx7HtPHabHuEWrQ+lBBAZ6TMweBWoCwUH8quZH6VWFXVT696zxp12ARkVFEqn8wB8AAAACXBIWXMAAC4jAAAuIwF4pT92AADZLklEQVR42uzdd5hV9Z0/8M+dmcsUZmDovYOhKCiKYhR7JJuoSTCWGFI0WUxijBoTTXazVlyza4maYm9rTRSJigVsqCDNQhHBAogKCEgRMjMMU+7vj93sL8kqClLmnPt6PY+PeXZM9vP9vO8jZ+Y955xMfJLjorBrRMuSgmiViyjN1Ee2oSCyucbIBAAAAAAAAADbXaYgcoWNUZcrirpMbdRsysa69wbF+rggGrf439vSF7seF12aFUTnxvoosGIAAAAAAACAXacgoqEgF++/VRgr4r5o+Kh/pvD//F8uiII+LaPrum/EXzqui2b1ddHGKgEAAAAAAAB2rVxEQWMmWrQtjHZlA6N2w2tR84//zP8pgHu3ib6NBdG+zdqorK6KVUXZaB85j3sGAAAAAAAAaAoaG6OwIBdtyneP2PBabPzbr/1dAdx3VHRtyESHiIhcYzQrLo7WmVzkcjmPgAYAAAAAAABoSgpy0eIfS+D/LYD7fy3abC6Inn/7X2hsjELlLwAAAAAAAEDT9D8lcM1fHwddFBFxyAVR9M686PVp/gfqayKiJiLqLBMAAAAAAABgh8hGRGlEUekn/6PFEb3ikNgQk6O+KCJi6dzoksv83/cB/1X9xoiaJdmoWxlRV1dk2QAAAAAAAAA7QTZbH9muERX96v7n9t7/q6Exinq3i86LI94pjOOisHUu+uYykfmof7h+Y8Sa6aVRt74gGhs9DRoAAAAAAABgZ2lsLIi69QWxeUUmSjs0/vedwR8hk4uydSfE+wVd6qOyMfMx7/mtj9jwUtbjngEAAAAAAAB2obrqolg7IxtR/9Ffb4wo7P5GtCwobRaVH/c/UvNmNuqqPfIZAAAAAAAAYFerqy6KmjezH/v1ktpoVZBr/PgCeMN7yl8AAAAAAACApmJLHW5jUVQWNDSP+Q3ZeLco4i9/+8X6teHRzwAAAAAAAABNSd3/dLn/oLAoqqIuVhXFxhhSGB/xqGjlLwAAAAAAAECTU1eTjaK/KXSLIv7SWB+bc5ko9YxnAAAAAAAAgATJFv393bz1EeV//c8F1gMAAAAAAACQDgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3+NLkFRQURK9evWLQoEExePDg6Natm6U0EdXV1UvuvvvuX//kJz+ZYxsAAMCnpQAGAIAEOuqoo1r99re//VmHDh0Ot41da9OmTTF79uyYO3duLFy4MKqqqiyFRGvevHn0798/Bg8eHHvuuWeUlJRYyi62cuXKp04//fTLJ0yYsM42AACAT6IABgCAhBk3btwRRxxxxFnZbLaNbewaVVVVMXfu3Jg7d27Mnz8/amtrLYVUKi4ujoEDB8bgwYNj8ODBUV5ebim7SF1d3ZqnnnrqqlGjRj1hGwAAwJYogAEAICFOOeWUjhdddNEvW7duvZ9t7HwrV66MWbNmxdy5c+Odd96JXC5nKeSdzp07x9577x3Dhg2LDh06WMgusHbt2hnnnXfepbfccsv7tgEAAHwUBTAAADRxpaWlBU899dQ3Bw8e/L2CggLPYt2JVqxYES+99FK89NJLsXz5cguBv/HXMnjvvfeOTp06WchO1NjYuGnu3Lk3H3744XfV1NR40TgAAPB3FMAAANCEjR49usOll176yzZt2gy3jZ1j/fr18eKLL8bMmTNj6dKlFgKfQs+ePWPfffeNYcOGRYsWLSxkJ1mzZs0L55577q/vvvvuVbYBAAD8lQIYAACaoIqKioKJEyd+c/Dgwd8vKCgotpEda8OGDfHiiy/G9OnTlb7wGfXo0SOGDx8ew4YNi4qKCgvZwdwNDAAA/CMFMAAANDGnnHJKx7Fjx/5rZWXlMNvYcerr6+PVV1+NGTNmxLx586Kurs5SYDvKZrMxZMiQ2HfffWP33XePwsJCS9mB1q5dO+MXv/jFv995550rbQMAAPKbAhgAAJqIbDabeeKJJ47fZ599fuSu3x0jl8vFwoULY/r06TF79uzYtGmTpcBOUFpaGkOGDInhw4fHgAEDLGQHaWhoqJ42bdo1Rx555J9tAwAA8pcCGAAAmoDjjz++7ZVXXvmr1q1be9fvDrBmzZqYNm1azJw5M1audHMc7EodO3aMz3/+87H//vt7X/CO+3fetDPPPPOScePGfWAbAACQfxTAAACwi9100037HXvssf9WXFzc1ja2n1wuF6+99lo8//zzMW/evKivr7cUaEKKiopizz33jBEjRsTnPve5yGQylrId1dbWrvrjH/948Q9+8INZtgEAAPlFAQwAALvIkCFDSu+///5zunTp8k+2sf2sXbs2Jk+eHNOnT48PP/zQQiABKisrY8SIEXHIIYdEeXm5hWxHy5Yte+zrX//6f86ZM6fGNgAAID9sqQAurBwYXT/qC41VETUrsrYHAADb6IILLtjt97///VVt2rQZZhvbx+LFi2P8+PFx9913xxtvvBG1tbWWAgmxadOmeOONN+LZZ5+NtWvXRps2bTweejtp0aJFv5NOOumg0tLSuc8+++xaGwEAgPQr61wfBR/zu7XuAAYAgO0sm81mJk2a9PVhw4b9pKCgwG9VfkZ1dXUxY8aMeOaZZ+K9996zEEiRfv36xSGHHBJDhw6NgoICC/mMGhsbN8+YMeOaL37xi+Pq6upyNgIAAOnlEdAAALCTHH/88W2vuuqqCyorK/exjc9mzZo18dRTT8XUqVNj06ZNFgIpVlFREZ///OfjsMMOi8rKSgv5jNavXz/r9NNPv3DcuHEf2AYAAKSTAhgAAHaC22677fNf+9rXzstms5W2se0WLVoUjz/+eMybNy9yOTewQT4pKiqKIUOGxBFHHBG9e/e2kM+grq5u3QMPPHDRySefPM02AAAgfRTAAACwA1VUVBQ8/fTTpwwcOPCUTCbjGabbIJfLxauvvhpPPvlkLFy40EIgz2UymRgwYEAcccQRMWjQIAvZ9n+3Ns6fP/+Www8//JaNGzc22ggAAKTHlgrgwsqB0fWjvtBYFVGzwuvKAABgS0488cR2EyZMuLx79+5fzmQyGRvZOo2NjTFr1qy49dZb48knn4wPPvC0UuC/rV69OmbMmBFz5syJ0tLS6NSpU/jX7NbJZDKZ9u3bD/3+978/dPny5TNfffXValsBAIB0KOtcHwXlH/O9gDuAAQBg29x66637H3vssRcWFRW1sI2tU1NTE0899VQ8++yzsWHDBgsBPlGLFi3i4IMPjsMPPzxKS/28YmvV19d/OG7cuPNPPvnk6bYBAADJ5xHQAACwHWWz2cyzzz77rSFDhvzAI5+3zqZNm2Ly5Mnx1FNPKX6BbdKiRYs47LDD4pBDDlEEb6VcLtfwyiuvXHfooYfeWVdX5yXrAACQYApgAADYTo455pjW11133cWVlZV728ant2HDhnj88cdjypQpUVtbayHAZ1ZcXBwHHnhgfPGLX4wWLTyIYWusWbNm2re//e3zn3nmGb+JAwAACeUdwAAAsB1cfvnlu1900UW/LS8v72cbn05VVVVMmDAhbrnllnjzzTejoaHBUoDtoqGhIZYsWRLPPfdc1NTURI8ePSKb9XOMT6OsrKzb17/+9SPbtm0774knnlhtIwAAkMDreu8ABgCAz+bhhx/+8qGHHnpOQUFBsW18sk2bNsUzzzwTTzzxRFRVVVkIsMOVl5fHkUceGYccckgUF/tX9afR2Ni46emnn/71Mccc87htAABAsngENAAAbKN27doVTZ48+YxevXodZxufrK6uLp5++umYOHGi4hfYJSoqKuKLX/xiHHzwwe4I/pQWLVr0x4MOOuiadevWeUwDAAAkhEdAAwDANjj22GPbPvzww7/p2LHjobaxZXV1dfHkk0/GddddF3Pnzo26ujpLAXaJzZs3x2uvvRbPPfdcRET06NEjCgsLLWYLWrduvfv3vve9fd9+++1pCxYsqLYRAABo+rb0CGgFMAAAfITLL7989wsuuOB3zZs372UbH6+xsTGmTJkS119/fbzyyiuKX6DJ2Lx5cyxYsCCmT58excXF0a1bt8hkMhbzMUpKSjp8+ctfPrJt27ZzvBcYAACaPu8ABgCArTB+/Pgjv/CFL/xLQUFBiW18vAULFsT48eNj6dKllgE0eT169IivfOUrMWjQIMvYgsbGxpqJEydecuyxxz5pGwAA0HR5BzAAAHwK7dq1K3ruued+1qNHj6/axsdbtGhR3H///bF48WLLABKnV69ecdxxx0WfPn0sYwuWLl3654MOOujy1atX19sGAAA0Pd4BDAAAn2DYsGHNn3766V936tTpC7bx0TZs2BD33Xdf/PGPf4y1a9daCJBI69evj2nTpsW6deuiZ8+eUVLiYQ8fpbKysv+3v/3t/lOmTJmyfPlyz/cHAIAmxjuAAQBgC372s5/1uP76669t0aKF54J+hJqamhg/fnzcfPPN8fbbb0cul7MUINFyuVy888478cwzz0RVVVX07t07slk/A/lHZWVl3U488cTD6+rqZkyfPv1DGwEAgCZ0va4ABgCAj3bFFVfscdZZZ11dXFzcwTb+Xi6XixkzZsR1110XCxYsiMbGRksBUqWxsTGWLFkSM2bMiPLy8ujSpUtkMhmL+RvZbLbFQQcddHibNm1mP/HEE6ttBAAAmoYtFcDeAQwAQN6aNGnSqAMOOODsTCZTaBt/b9GiRXHPPffEu+++axlA3ujWrVucdNJJ0bt3b8v4B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibjeqq+vj6lTpwoNdqK2bdvG6NGj47zzzovhw4crggGaoBdeeCHq6+sTMWsmkyk844wzDpUaAAB+wgAAsIP079//C0mZdc6cObFhwwahwS7QqVOnOPnkk+Pf/u3fYu+9945MJmMpAE3Ehg0bYvbs2YmZd8CAAR4DDQCAAhgAYEf43ve+16mysnKPpMybpMcbQlp17tw5xowZE7/61a8UwQBNyPPPP5+YWSsrKwd/73vf6yQ1AID8pgAGANgBTj755CMiIhHtzcqVK+P1118XGjQRXbt2jTFjxsQ555wTgwcPthCAXez111+PlStXJmXczMknn3y41AAA8psCGABgB+jXr19iHv88ZcqUyOVyQoMmpnfv3nHaaafFOeecE/3797cQgF0kl8vFlClTknQd6jHQAAB5TgEMALCdnX766d0qKip2S8Ks9fX1MW3aNKFBE9anT58466yz4pxzzonddtvNQgB2gWnTpkV9fX0iZq2oqNjt9NNP7yY1AID8pQAGANjORo8efURSZp03b15s3LhRaJAAffr0ibPPPjvOPPPM6Nmzp4UA7EQbN26MefPmuR4FACARFMAAANtZr169EvPetSQ9zhD4bwMGDIhf/vKXceaZZ0b37t0tBGAnmTp1apKuRw+TGABA/lIAAwBsR2eccUb38vLyvkmYdf369fHaa68JDRJqwIAB8S//8i9x2mmnRbdunvQJsKPNnz8/Pvzww0TMWl5e3u9HP/pRF6kBAOQnBTAAwHZ03HHHHZSUWWfMmBGNjY1CgwTLZDIxePDg+Nd//dcYM2ZMdOjQwVIAdpDGxsaYMWNGYub9xje+cYjUAADykwIYAGA76tOnz8FJmDOXyyXqMYbAlmUymdh7773jwgsvjDFjxkT79u0tBWAHeOGFF5J0XXqIxAAA8pMCGABgOznppJPat2zZcvckzLpkyZJYuXKl0CBl/loEX3DBBXHyySdH27ZtLQVgO1qxYkW8/fbbiZi1srJy0PHHH+8PAgCAPKQABgDYTr773e8eGBGZJMyapMcXAluvsLAwhg8fHhdeeGGMHj06KisrLQVgO5k+fXpSRi34/ve/f6DEAADyjwIYAGA72X333Q9Nwpz19fUxc+ZMgUEeKCoqihEjRsQll1wSo0ePjpYtW1oKwGc0c+bMqK+vT8SsAwcOPFRiAAD5RwEMALAdHHTQQRUtW7bcKwmzLly4MKqrq4UGeeSvRfDFF18cJ5xwQrRo0cJSALZRVVVVvP7664mYtVWrVkOHDx9eLjUAgPyiAAYA2A7OPvvsz2cymaIkzOrxz5C/iouL47DDDouxY8fGqFGjoqyszFIAtkFSnqaSyWSy55577uclBgCQXxTAAADbwe67735AEuasra2NOXPmCAzyXHFxcYwcOTIuvfRSRTDANpg9e3bU1dUlYtY99tjjAIkBAOQXBTAAwGfUqlWrwnbt2u2fhFnnzZsXtbW1QgMiIqKkpCRGjhwZY8eOjaOPPjpKSkosBeBT2LRpU8ybNy8Rs7Zv337/iooKPwMEAMgjLv4AAD6jCy+8cPeioqKKJMz64osvCgz4P5o3bx5HHXVUXHLJJTFy5MjIZrOWAvAJZs2alYg5i4qKWlx88cWDJAYAkD8UwAAAn9GBBx6YiMfqVVdXJ+ZOFWDXKC8vj1GjRsWll16qCAb4BPPmzYuamppEzHrQQQd5DDQAQB5RAAMAfEZdu3YdnoQ5582bF/X19QIDPlFFRUWMGjUqLr744jj88MOjqKjIUgD+QV1dXbz66quJmLVLly77SwwAIH8ogAEAPoNTTjmlY3l5+W5JmPXll18WGLBVWrVqFccff3xcdNFFMWLEiCgo8C0kwN966aWXEjFnRUXFbieddFJ7iQEA5AffvQMAfAYnnnji55MwZ21tbcyfP19gwDZp06ZNjB49OsaOHasIBvgb8+fPj9ra2iSMmvnud7/7eYkBAOQH37UDAHwGn/vc5/ZLwpwLFy6Muro6gQGfyV+L4PPOOy+GDx+uCAby3ubNm2PhwoWJmLVfv37DJQYAkB98tw4AsI1atWpV2Lp1672TMKvHPwPbU6dOneLkk0+Oc889NwYNGmQhQF6bPXt2IuZs06bN3hUVFX4WCACQB1z0AQBso/PPP39gYWFheVOfs76+PubMmSMwYLvr2bNn/OQnP4nzzjsv9t5778hkMpYC5J3Zs2dHfX19k5+zqKio4vzzzx8oMQCA9FMAAwBso/3333/fJMz5+uuvR01NjcCAHaZLly4xZsyYOOecc2Lw4MEWAuSV6urqeOONNxIx64EHHriPxAAA0k8BDACwjbp27ZqIxz/PnTtXWMBO0bt37zjttNPinHPOif79+1sIkDeScr3VvXv3vaUFAJB+CmAAgG0wZMiQ0srKyj2a+py5XM7jn4Gdrk+fPnHWWWfFOeecE7vttpuFAKk3e/bsyOVyTX7Oli1b7jlo0KBSiQEApJsCGABgG5x55pl7ZjKZbFOfc9myZbFu3TqBAbtEnz594uyzz44zzzwzevbsaSFAaq1bty6WL1/e5OfMZDLZs846a4jEAADSrcgKAAC23tChQ4clYc558+YJC9jlBgwYEAMGDIgFCxbE+PHjY+nSpZYCpM68efOiS5cuTX7OffbZZ5+ImC4xAID0cgcwAMA26Nix4z5JmHP+/PnCApqMAQMGxC9/+cs47bTTolu3bhYCpEpSrrs6deq0j7QAANJNAQwAsJWOOOKIlhUVFf2a+pxVVVWxaNEigQFNSiaTicGDB8e//uu/xpgxY6JDhw6WAqTCW2+9FVVVVU1+zoqKis8deuihLSQGAJBeCmAAgK108sknD46ITFOfc/78+dHY2CgwoEnKZDKx9957x4UXXhhjxoyJ9u3bWwqQaI2NjbFgwYJE/Cv4u9/97h4SAwBILwUwAMBW2n333fdMwpze/wskwV+L4AsuuCBOPvnkaNu2raUAiZWU66/BgwfvKS0AgPQqsgIAgK3Trl27wU19xlwul5Q7UAAiIqKwsDCGDx8e++yzT0ybNi0mTJgQ69evtxggURYsWBC5XC4ymab9sJgOHToMlhYAQHq5AxgAYCsMGjSotGXLlgOa+pzvvfdebNy4UWBA4hQVFcWIESPikksuidGjR0fLli0tBUiMDz/8MJYtW9bk52zZsuXA/v37l0gMACCdFMAAAFvhxz/+8aBMJtPkn6Li7l8g6f5aBI8dOzZOOOGEaNGihaUAibBw4cImP2Mmk8n+5Cc/GSAtAIB0UgADAGyFvffee88kzJmEHzwCfBrNmjWLww47LMaOHRujRo2KsrIySwGatKT8Il5SrmsBANh63gEMALAVunbtOqSpz1hfXx9vvvmmsIBUKS4ujpEjR8bBBx8czz77bDz++ONRXV1tMUCT8+abb0Z9fX0UFTXtH7t16dJlT2kBAKSTO4ABAD6lioqKgoqKikFNfc4lS5bE5s2bBQakUklJSYwcOTLGjh0bRx99dJSUeIUl0LTU1tbG0qVLm/ycLVu2HFRaWupngwAAKeQiDwDgUzr77LP7FhYWNvlnj7722mvCAlKvefPmcdRRR8Ull1wSI0eOjGbNmlkK4HpsKxQWFpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee2kNaAADp4A5gAIAt2Hvvvfs29RlXrlwZtbW1wgLYSf5aBO+5554xa9asmDBhQqxevdpigI9UW1sb77//fnTu3LlJzzls2LC+EbFIYgAAyecOYACALejRo0eTL4DfeecdQQHsAoWFhTF8+PC48MILY/To0VFZWWkpQGKv15Jw3QsAwKejAAYA2ILWrVs3+ff/vvvuu4IC2IUKCwtjxIgRcckll8To0aOjZcuWlgIk7notCde9AAB8Oh4BDQCwBc2bN+/Z1GdUAAM0kW+wi4pixIgRsd9++8WUKVPiscceiw0bNlgMEO+9914SrnsVwAAAKeEOYACAj9G/f/+SkpKSjk19TgUwQNPSrFmzOOyww2Ls2LExatSoKCsrsxTIc0m4XistLe3Ut2/fYmkBACSfAhgA4GOccMIJ3Zr69dK6deuiqqpKWABNUHFxcYwcOTJ+/etfK4Ihz1VVVcX69eub+pgF3/zmN7tLCwAg+RTAAAAfY8iQIT2b+oxJeJwgQL77axE8duzYOProo6OkpMRSIA8l4botCde/AAB8MgUwAMDH6N69e8+mPqPHPwMkR/PmzeOoo46KSy65JEaOHBnNmjWzFMgjSbhuS8L1LwAAn0wBDADwMVq1atWjqc+4bNkyQQEkTHl5eYwaNSr+/d//PUaOHBnZbNZSIA8k4botCde/AAB8MgUwAMDHqKio6NXUZ1y+fLmgAJL750yMGjUqLr744jj88MOjqKjIUiDFknDd1rJly16SAgBIPgUwAMBHyGazmbKysq5NecbGxsZYtWqVsAASrlWrVnH88cfHxRdfHCNGjIiCAt+qQxqtWrUqGhsbm/SMJSUlXbPZbEZaAADJ5rtKAICPcNxxx7UrKCgobsozrl69Ourr64UFkBKtW7eO0aNHx9ixYxXBkEJ1dXXxwQcfNOkZCwoKio877rh20gIASDbfTQIAfITPf/7zXZr6jO+//76gAFKoTZs2MXr06Dj//PNj+PDhimBIkRUrVrgOBgBgh/NdJP+PvTuPr7I888d/nSwEkhD2HUQEUVRAoIiouCtq64Jabd1arVorbqO2tlXbaavTOu38Rqffdmpbu9rWpYogsqgFRXCttAIKArJDgAAJBLKQ5JzfH8WO4+DOcp6T9/v18jWvTv657ut6hNvnk/t+AICd2G+//bL+xVcSXiAC8PF17do1Lr300rj99ttj2LBhkUq5lRWSLgn7tyTsgwEAeH8FWgAA8H917txZAAxAVujevXtceeWVsXr16njiiSdi9uzZkclkNAYSKAn7tyTsgwEAeH8CYACAnWjXrp0roAHIKj169Igrr7wyli5dGpMmTYo5c+ZoCiRMEvZvSdgHAwDw/gTAAAA7UVxc3D3baxQAAzRPffr0ibFjx8aSJUti/PjxsWDBAk2BhEjC/i0J+2AAAN6fbwADAOxESUlJz2yur7q6Ourq6gwKoBnbb7/94l/+5V/ia1/7WhxwwAEaAglQV1cX1dXV9sEAAOxWAmAAgHc5/PDDSwsKCtpmc40VFRUGBUBERPTt2zduvPHGuOGGG2LffffVEMhy2b6PKygoaDt8+PASkwIASC4BMADAu5x44oldsr3GDRs2GBQA/8uAAQPiG9/4Rtxwww3Ru3dvDQH7uE+yH+5qUgAAyeUbwAAA79KvX7+sD4DXr19vUADs1IABA+LAAw+MuXPnxoQJE2LlypWaAlkkCTe5HHDAAV0i4i3TAgBIJgEwAMC7dO/evXO21+gEMADvJ5VKxaBBg2LgwIExe/bsGD9+fKxbt05jwD4uZ/bDAAC8NwEwAMC7tG/fvlO21ygABuDDSKVSMWzYsBg6dGjMnj07HnvsMbdIwF6WhBPASdgPAwDw3gTAAADv0rp166w/8ZCEF4cAZI+3g+BDDz00XnnllZg4caK/S8A+LtH7YQAA3psAGADgXUpKSrL6xENjY2Ns3rzZoAD4yPLz8+Pwww+P4cOHx/PPPx8TJ06MqqoqjYE9aPPmzdHY2BgFBdn7Wi7b98MAALw/ATAAwLu0bNmySzbXV1lZGZlMxqAA+Njy8/Nj1KhRMXLkyHjhhRcEwbAHZTKZqKqqio4dO9oPAwCwWwiAAQDepaioKKuvvKusrDQkAHaJgoKCGDVqVIwYMSJmzpwZkydPji1btmgM7IH9XDYHwNm+HwYA4P3laQEAwP8YPnx4SX5+fkk21ygABmBXa9GiRRx//PFxxx13xNlnnx0lJSWaAs14P5efn18yfPhwfxAAACSUABgA4B2OOOKIDtleo+//ArC7FBUVxejRo+P73/9+nH322VFcXKwpsBsk4cr1JOyLAQDYOQEwAMA79O3bt1221+gEMAC729tB8B133BGnn356tGrVSlOgme3n9ttvv7YmBQCQTAJgAIB36NSpkwAYAHYoKSmJz3zmM3HnnXfG6NGjo0WLFpoCzWQ/l4R9MQAAOycABgB4hw4dOrTN9hqTcGUgALmlpKQkzj777PjOd74To0aNivz8fE2BHN/PJWFfDADAzgmAAQDeoaysrG221ygABmBvad++fVx00UVx5513xgknnBCFhYWaAjm6nysrK3MCGAAgoQTAAADvUFJS0j6b68tkMlFdXW1QAOxV7dq1i/POOy+++93vxqhRoyIvz+sF+CiSsJ8rLS0VAAMAJJT/QgMAeIfi4uK22VxfXV1dNDY2GhQAWeHtE8F33HGHIBg+gsbGxqirq7MvBgBgt/BfZgAA79CqVausPung9C8A2ahDhw5x0UUXxbe//e04/PDDBcGQA/u6oqIiJ4ABABLKf5EBALxDQUGBABgAPqauXbvGpZdeGt/61rdi2LBhkUqlNAUSuq9r0aJFW1MCAEimAi0AAPgfhYWFZdlc39atWw0JgKzXrVu3uPLKK2P16tXxxBNPxOzZsyOTyWgMJGhfl+37YgAA3psAGADgnZujgoLW2VyfE8AAJEmPHj3iyiuvjKVLl8akSZNizpw5mgIJ2ddl+74YAID35gpoAIAdWrdunZefn98ym2sUAAOQRH369ImxY8fGLbfcEgMGDNAQSMC+Lj8/v1WrVq28OwQASCCbOACAHQYNGlQSEVn9scJt27YZFACJtd9++8UNN9wQX/va1+KAAw7QEJq1BOzr8gYPHlxsUgAAySMABgDY4YADDijJ9hpramoMCoDE69u3b9x4441xww03xL777qshNEu1tbVZX2P//v1LTQoAIHl8AxgAYIeePXtm/QuuJLwoBIAPa8CAATFgwICYP39+jBs3LpYvX64pNBtJ2Nf16NGjxKQAAJJHAAwAsEOnTp0EwACwFwwYMCAOPPDAmDt3bkyYMCFWrlypKeS8JOzrunbtKgAGAEggATAAwA5lZWVZ/4Krrq7OoADISalUKgYNGhQDBw6M2bNnx4QJE2Lt2rUaQ85KQgDcpk0bV0ADACSQABgAYIeysjIngAFgL0ulUjFs2LAYOnRozJ49O8aPHx/r1q3TGHKOABgAgN1FAAwAsENJSUlxttfoBDAAzcXbQfCQIUPi5ZdfjokTJ0ZFRYXGkDOSEAAnYX8MAMD/JQAGANihqKioKNtrrKmpMSgAmpW8vLw4/PDDY/jw4fH888/HE088EZWVlRpD4iUhAG7RokWRSQEAJI8AGABgh8LCwhbZXF86nY7t27cbFADNUn5+fowaNSpGjhwZL7zwQkycODGqqqo0hsTavn17ZDKZSKVSWVtjixYtWpgUAEDyCIABAHbI9gC4oaHBkABo9goKCmLUqFExYsSImDlzZkyePDm2bNmiMSROJpOJhoaGyOaMtbCw0AlgAIAk/neTFgAA7NgYFRRk9QuuxsZGQwKAHVq0aBHHH398HHnkkfHMM8/E1KlTY9u2bRpDomR7AJzt+2MAAN5jH6cFAAA7NkZZ/oLL9c8A8H8VFRXF6NGj49hjj41nnnkmpkyZEjU1NRpDImT7DS8FBQWugAYASCABMADA2xujLH/B5QpoAHhvbwfBRx11VEyfPj2efvrpqK2t1RiymgAYAIDdIU8LAAD+QQAMAMlXUlISn/nMZ+LOO++M0aNHZ/X1uiAABgBgdxAAAwDskO1XQAuAAeDDKykpibPPPjv+7d/+LUaPHh2FhYWagv3dR5Sfn9/SlAAAkkcADADw9sYoL88JYADIMa1bt46zzz47vve978UJJ5wgCMb+7iPIz8/3LwwAQAIJgAEAdkilUlm9N2psbDQkAPiY2rVrF+edd15897vfjRNOOCEKCgo0Bfu7D94f55sSAEDyCIABAHbI9gA4nU4bEgB8Qu3bt/9nEDxq1KjIy/NqBPu799kfp0wJACB5/FcOAMAOXnABQPPRoUOHuOiii+J73/ueIJi9JpPJZHuJ/sUAAEggmzgAgP+R1QFwAl4QAkDidOzYMS666KL41re+FYcffnj4fTDs796xOc7yG3IAANg5mzgAgITsjQTAALD7dOvWLS699NL41re+FcOGDRMEs0dk+xXQeXl5/kUAAEigAi0AAPiHbH/BJQAGgN2ve/fuceWVV8ayZcviiSeeiDlz5mgKzXl/5/AIAEACCYABAHbIZDJOAAMAERGx7777xtixY2PJkiUxYcKEmD9/vqZgfwwAQCIIgAEA/ocr7gCA/2W//faLG264Id56660YP358vPnmm5rCLpPtV0Cn3IUOAJBIAmAAgB2y/QVXtr8gBIBc1rdv37jxxhvjrbfeinHjxsWiRYs0hU/MFdAAANjEAQDsXln9Bs4BDADY+/r27Rs333xz3HDDDdG7d28NIdf3d75BAgCQQE4AAwDskO0nMATAAJA9BgwYEAMGDIj58+fHI488EitXrtQUcnF/5woaAIAEcgIYAGCHVCqVzvL6DAkAssyAAQPi1ltvjbFjx0bPnj01hJza32UScEc1AAD/lxPAAAD/QwAMAHysv6MHDRoUBx98cDz//PMxadKk2LRpk8aQ+P1dtv+CJAAAO+cEMADADul0dr/fEgADQHarr6+PioqK2LZtm2aQE/u7dDrtBDAAQAI5AQwA8D+cAAYAPrK6urp4+umnY9q0acJfcm1/5wQwAEACCYABAP6HEw4AwIfW0NAQ06ZNiyeffDK2bt2qIXxkCfgGsAAYACCBBMAAADtkMpmsDoDz8ny9AwCywdvB71NPPRXV1dUaQs7u7wTAAADJJAAGANgh219wCYABYO9qbGyMGTNmxJNPPhmVlZUawieWn5+f9VtkUwIASB4BMADADplMpiGb6yssLDQkANgL0ul0zJo1KyZPnhwbN27UEHaZgoLsfjXX1NTUaEoAAAncZ2oBAMA/NDY2bs/m+gTAALBnpdPpePnll2Py5Mmxdu1aDWGXa9GiRbb/O1BvSgAAySMABgDYoampSQAMAEQmk4nZs2fH448/HuXl5RpCs93fNTY2CoABABJIAAwAsENDQ0NWv+ASAAPA7vV28PvEE0/E6tWrNYTdLtuvgM72G3IAAHiPfaYWAAD8gyugAaD5mjNnTkyaNCmWLl2qGewx2X4FtAAYACCZBMAAADs0NTU5AQwAzcyCBQtiwoQJ8dZbb2kG9nfv0tDQIAAGAEggATAAwA7Z/oJLAAwAu87ChQtj/PjxsXjxYs1gr8n2K6Cz/RckAQB4j32mFgAA/EO2B8AFBQWRl5cX6XTasADgY1q+fHmMGzcu5s+frxnsVXl5eVkfAG/fvt0JYACABBIAAwDs0NDQkPUnHFq1ahXbtm0zLAD4iFauXBmPPPKI4Jes2tclYH8sAAYASCABMADADrW1tXXZXqMAGAA+mnXr1sX48eNj9uzZkclkNISs2tdlu7q6ulqTAgBIHgEwAMAOW7du3ZrtNSbhRSEAZIP169fHY489JvjFvu4TqK6u3mpSAADJIwAGANihqqpKAAwACbdhw4Z4/PHH45VXXommpiYNwb7uE6isrHT1DABAAgmAAQB22LRpU9a/4GrZsqVBAcBOVFVVxcSJE+OFF16IxsZGDSHrJSEA3rRpkxPAAAAJJAAGANhh3bp1WR8AOwEMAP/bli1bYsKECYJfEicJ+7ry8nIBMABAAgmAAQB2WLZsmSugASAhqqurY/LkyTFz5syor6/XEBInCfu6pUuXCoABABJIAAwAsMP8+fOz/gRwcXGxQQHQrNXU1MSUKVPimWeeEfySaEnY173++uu+AQwAkEACYACAHRYsWFCXyWQaUqlUYbbW2Lp1a4MCoFmqq6uLp59+OqZNmxbbtsmkSL5s39el0+mGpUuXbjcpAIDkEQADALxDU1PTtoKCgrbZWp8AGIDmZvv27TF9+vR48sknY+tWt9GSO7J9X9fU1ORfOACAhBIAAwC8Q0NDw9ZsDoBLS0sNCYDm8ndyTJs2LZ566qmorq7WEHJOtu/rGhsb/YsHAJBQAmAAgHeor6+vbNWqVc9src8JYAByXWNjY8yYMSOefPLJqKys1BByVrbv6+rr66tMCQAgmQTAAADv0NDQkNVvmgXAAOSqdDods2bNismTJ8fGjRs1hJyX7fu6bN8XAwDw3gTAAADvUFdXV5XN9ZWWlkYqlYpMJmNYAOSETCYTr732Wjz++OOxatUqDaFZSKVSUVJSktU11tbWVpkUAEAyCYABAN5h27Ztm7K5vvz8/GjVqlXU1NQYFgCJlslkYvbs2fH4449HeXm5htCstGrVKvLz87O6xq1btzoBDACQUAJgAIB3qK6u3pztNZaVlQmAAUist4PfiRMnxpo1azSEZqmsrCzra9y2bVuVSQEAJJMAGADgHaqqqjZle43t2rWLtWvXGhYAiTNnzpyYNGlSLF26VDNo1tq1a5f1NW7atMkJYACALNbQWBgFjQ0REZFKRSavMJre/pkAGADgHSoqKqqyvcYkvDAEgHdasGBBTJgwId566y3NgITs5zZs2CAABgDIYoUFDf9MejMRqab0/+S+AmAAgHdYtWpV1r/oatu2rUEBkAgLFy6M8ePHx+LFizUD3iEJAfDq1aurTAoAIJkEwAAA77BgwYKsD4CdAAYg2y1fvjzGjRsX8+fP1wzYiST8Ql8S9sUAAOycABgA4B2eeOKJjZlMpimVSuVna41OAAOQrVauXBmPPPKI4Bc+QLb/Ql8mk2l64oknNpoUAEAyCYABAN6huro6vX379g1FRUVdsrVGJ4AByDZr166NCRMmxOzZsyOTyWgIJHw/t3379g3V1dVpkwIASCYBMADAu9TV1a0XAAPAB1u/fn089thjgl/Isf1cXV3delMCAEguATAAwLvU1dVVtGnTJmvrKykpiRYtWsT27dsNC4C9oqKiIiZOnBivvPJKNDU1aQh8BEVFRVFcXJz1+2GTAgBILgEwAMC7bN26dV2XLll7ADhSqVR07Ngx1qxZY1gA7FFVVVUxceLEeP755wW/8DF17NgxUqlU1u+HTQoAILkEwAAA71JVVZX1Jx46deokAAZgj9m8eXM8/vjj8cILL0RjY6OGwCfcx9kPAwCwOwmAAQDeZf369Vn/zbMkvDgEIPm2bNkSU6ZMiZkzZ0Z9fb2GwC7QsWNH+2EAAHYrATAAwLusXr066088JOHFIQDJVVNTE1OmTIlnnnlG8Au7WBJ+kW/VqlUCYACABBMAAwC8y9///ves/+aZABiA3aG2tjYmT54czz77bNTV1WkINNN93KuvvioABgBIMAEwAMC7PPzww+t//OMfN6RSqcJsrbFz584GBcAus3379pg+fXpMnTo1tm3bpiGwG2X7CeB0Ot3w8MMPC4ABABJMAAwA8C7V1dXpurq68latWu2TrTV26NAh8vLyIp1OGxgAH1tDQ0NMmzYtnnrqqaiurtYQ2M3y8vKiQ4cOWV1jfX39mtraWptMAIAEEwADAOxEbW3tmmwOgAsKCqJdu3axceNGwwLgI2tsbIwZM2bEk08+GZWVlRoCe0j79u2joCC7X8fV1NSUmxQAQLIJgAEAdmLz5s2r2rdvn9U1duvWTQAMwEeSTqdj1qxZMXnyZH+HwF7av2W7LVu2rDQpAIBkEwADAOzEpk2bVvfp0yera+zWrVvMmzfPsAD4QG8Hv1OmTIkNGzZoCOzF/Vu227BhwxqTAgBINgEwAMBOrFixYvWwYcOyusYkvEAEYO/KZDLx0ksvxZQpU6K83K2usLd17do162tctWrVKpMCAEg2ATAAwE7Mnz9/9ZgxY7K6xiS8QARg78hkMjF79uyYOHFirFnjMB9kiyT8At+8efP8oQEAkHACYACAnRg3btyab37zm5mISGVrjU4AA7Azc+bMiSeeeCKWLVumGZBlEvALfJlx48atNikAgGQTAAMA7MTrr79e29DQsKmwsLBDttZYXFwcZWVlsWXLFgMDIBYsWBDjx4+PJUuWaAZkobKysiguLs7qGhsaGjYuWLCgzrQAAJJNAAwA8B62bt26vF27dh2yucauXbsKgAGauYULF8b48eNj8eLFmgFZLAm3t2zbtm25SQEAJJ8AGADgPVRVVS1t167d0GyusWfPnrFw4ULDAmiGli1bFo899ljMnz9fMyABevbsmfU1VlZWLjUpAIDkEwADALyHdevWLevTp09W15iEF4kA7ForVqyIRx99VPALCZOEfdvatWuXmRQAQPIJgAEA3sPChQuXHX744VldY69evQwKoJlYtWpVjB8/PubOnRuZTEZDIGGSsG9buHDhMpMCAEg+ATAAwHuYNm3a0ksuuSSra+zevXvk5+dHU1OTgQHkqHXr1sX48eNj9uzZgl9IqIKCgkR8A/jpp59eZloAADmw/9QCAICde+ihhzbcd999W/Pz80uzdjNXUBBdunSJNWvWGBhAjqmoqIiJEyfGyy+/HOl0WkMgwbp27RoFBdn9Gq6xsbH6kUce2WBaAADJJwAGAHgf27ZtW15WVnZwNtfYq1cvATBADqmqqoqJEyfG888/74YHyBFJ+P7vtm3blpsUAEBuEAADALyPLVu2LMv2ALhnz57x0ksvGRZAwm3evDkef/zxeOGFF6KxsVFDIIck4fu/W7ZsWWpSAAC5QQAMAPA+1q9fvyzbT2z06NHDoAASbMuWLTFlypSYOXNm1NfXawjkoCTs19avX7/MpAAAcoMAGADgfSxYsGDh0KFDs7rGfffdN1KpVGQyGQMDSJCampqYMmVKPPPMM4JfyGGpVCr23XffrK9z/vz5C00LACA3CIABAN7Ho48++uYFF1yQ1TWWlJRE586dY926dQYGkAC1tbUxefLkePbZZ6Ourk5DIMd17do1WrVqlfV1/vnPf15kWgAAuUEADADwPiZNmlRVX1+/oaioqGM217nvvvsKgAGy3Pbt22P69OkxderU2LZtm4ZAM9GnT5+sr7G+vr7iySefrDItAIDcIAAGAPgAW7duXZTtAXCfPn3ipZdeMiyALNTQ0BDTpk2Lp556KqqrqzUEmpkkXP+8detWp38BAHKIABgA4ANUVFQs7NChw8hsrjEJLxYBmpvGxsaYMWNGPPnkk1FZWakh0EwlYZ9WUVHh+78AADlEAAwA8AGWLl266MADD8zqGnv16hUFBQXR2NhoYAB7WTqdjlmzZsWkSZNi06ZNGgLNWGFhYfTs2TMR+13TAgDIHQJgAIAPMHPmzEWnnnpqdm/qCgqiZ8+esWzZMgMD2EveDn4nT54cGzdu1BAg9tlnn8jPz0/CfnexaQEA5I48LQAAeH+//OUvV6bT6bpsr7NPnz6GBbAXZDKZePHFF+O73/1u3H///cJf4J+ScP1zOp2u++Uvf7nStAAAcocTwAAAH6C6ujpdXV29uE2bNodkc539+vWL6dOnGxjAHpLJZGL27NkxceLEWLNmjYYAO92fJWCvu7i6ujptWgAAuUMADADwIWzYsGFetgfA/fv3NyiAPeTVV1+NSZMmxapVqzQD2KlUKpWI/dmGDRvmmhYAQG4RAAMAfAiLFy9+o2/fvlldY1lZWXTu3DnWr19vYAC7yYIFC2L8+PGxZMkSzQDeV5cuXaK0tDQJ+9z5pgUAkFsEwAAAH8JTTz31+ujRo7O+zv33318ADLAbLFy4MMaPHx+LFy/WDOBD78uSYMqUKa+bFgBAbsnTAgCAD/aLX/xiTWNjY1W215mUF40ASbFs2bK4++674z/+4z+Ev8BHkoTv/zY0NFTee++9q00LACC3OAEMAPAhNDQ0ZDZv3jy/Q4cOI7O5TgEwwK6xYsWKePTRR2P+fDejArm7L9uyZYs/5AAAcpAAGADgQ1q3bl3WB8AdO3aMNm3axObNmw0M4GNYtWpVjB8/PubOnRuZTEZDgI+lbdu20aFDh0Tsb00LACD3CIABAD6kefPmzTvooIOyvs4DDzwwXnrpJQMD+AjWrVsX48ePj9mzZwt+gV2yH0uCuXPnzjMtAIDcIwAGAPiQ/vznP88/77zzsr7OAw44QAAM8CFVVFTEuHHjBL/ALt+PJcHDDz/sBDAAQA4SAAMAfEgTJ06srK2tXdGqVat9srnOgw8+2LAAPkBVVVVMnDgxnn/++WhqatIQYJdKwq0xNTU1yydNmlRlWgAAuUcADADwEWzYsOHvvXr1yuoAuG3bttG1a9dYu3atgQG8y+bNm+Pxxx+PF154IRobGzUE2OW6desWbdu2TcS+1rQAAHKTABgA4CNYuHDha7169Toj2+scMGCAABjgHbZs2RJTpkyJ5557LrZv364hwG6TlO//Lly48O+mBQCQmwTAAAAfwcSJE/9+wgknZH2dBx54YEyfPt3AgGavpqYmpkyZEs8880zU19drCLDbDRgwIBF1jh8//u+mBQCQmwTAAAAfwb333rv6Bz/4wfqioqLO2VznAQccEHl5eZFOpw0NaJZqa2tj8uTJ8eyzz0ZdXZ2GAHtEXl5e9O/fP+vrrK+vX3ffffeVmxgAQG4SAAMAfESVlZVzu3btmtXHgFu1ahX77LNPLFu2zMCAZqWuri6efvrpmDZtWmzbtk1DgD1qn332iVatWmV9nZs2bZpjWgAAuUsADADwES1dunR2tgfAERGDBg0SAAPNRkNDQ0ybNi2eeuqpqK6u1hBgr+2/kuCtt976m2kBAOQuATAAwEc0ffr0v48cOTLr6xw4cGBMmDDBwICc1tDQEM8991w8+eSTUVlZqSHAXt9/JcG0adP+bloAALlLAAwA8BH9x3/8x9JbbrmlOj8/v3U219mrV68oKyuLLVu2GBqQc9LpdMyaNSsmTZoUmzZt0hBgrysrK4tevXplfZ2NjY1b7rnnnmUmBgCQuwTAAAAfUW1tbXrDhg1/7dKly3HZXGcqlYqBAwfGrFmzDA3IGW8Hv5MnT46NGzdqCJA1Bg4cGKlUKuvr3Lhx4yu1tbVpEwMAyF0CYACAj+Gtt956JdsD4IgQAAM5I51Ox8svvxxTpkyJ8vJyDQGyct+VBIsWLXrFtAAAcpsAGADgYxg/fvwrRxxxRNbXedBBB0VBQUE0NjYaGpBImUwmZs+eHRMnTow1a9ZoCJCVCgoK4qCDDkpErY888ogAGAAgx+VpAQDAR/fjH/94ZX19/fpsr7OoqCj69etnYEAivfrqq3HHHXfEz3/+c+EvkNX69esXRUVFWV9nXV1d+b333rvaxAAAcpsTwAAAH9OGDRte6dGjx6ezvc5BgwbFggULDAxIjCVLlsSECRNi/vz5mgEkwuDBgxNR5/r1653+BQBoBgTAAAAf07x5815OQgA8bNiwePjhhyOTyRgakNXefPPNmDBhQixevFgzgMRIpVIxdOjQRNQ6d+7cl0wMACD3CYABAD6m++677+XRo0dnIiKVzXW2bds2evfuHcuWLTM0ICstW7YsHnvsMSd+gUTq06dPtG3bNgmlpu+9996/mhgAQO4TAAMAfEwTJ06s3Lp165LS0tK+2V7rkCFDBMBA1lmxYkU8+uijgl8g0YYMGZKIOqurqxc+/fTTm00MACD3CYABAD6B8vLyl/fff/+sD4AHDx4c48aNMzAgK6xcuTImTJgQc+fOdT09kHhJ+f7vmjVrfP8XAKCZEAADAHwCM2fOfG7//ff/fLbX2a1bt+jWrVuUl5cbGrDXrFu3LsaPHx+zZ88W/AI5oWfPntGlS5dE1DpjxoznTAwAoHkQAAMAfAK33Xbba5dcckl1fn5+62yvdciQIQJgYK9Yv359PPbYY4JfIOck5frnxsbGzbfddts8EwMAaB4EwAAAn0BlZWXThg0b/tqlS5fjsr3WQw89NCZNmmRowJ78MzKeeOKJeP7556OpqUlDgJxz6KGHJqLOioqKV6qrq9MmBgDQPAiAAQA+oXnz5s1MQgDcu3dv10ADe0RVVVVMnDgxXnjhhWhsbNQQICd17949evbsmZT9quufAQCakTwtAAD4ZP77v/97VkQk4kTFpz71KQMDdpstW7bEQw89FLfffns899xzwl8gpw0fPjwRdWYymfTdd9/9gokBADQfTgADAHxCkyZNqtqyZcuCsrKyg7K91uHDh8fjjz9uaMAuVVNTE1OmTIlnnnkm6uvrNQTIealUKg477LBE1Lply5bXp0+fvsXUAACaDwEwAMAusHz58lkDBw7M+gC4S5cu0atXr1i5cqWhAZ9YbW1tTJ48OZ599tmoq6vTEKDZ6N27d3Ts2DEx+1QTAwBoXgTAAAC7wLPPPvvCwIEDr0hCrcOGDRMAA59IXV1dPP300zFt2rTYtm2bhgDNzrBhwxJT61/+8pcXTQwAoHnxDWAAgF3g1ltvnV9fX782CbUefvjhkUqlDA34yBoaGmLq1Klx6623xuOPPy78BZqlJF3/XFdXt/rWW29dYGoAAM2LE8AAALtAQ0NDZs2aNc/16dPns9lea7t27aJPnz6xZMkSgwM+7J9xMW3atHjqqaeiurpaQ4Bmbb/99ou2bdsmotbVq1fPNDEAgOZHAAwAsIs8++yz05IQAEdEHHHEEQJg4AOl0+mYNWtWTJo0KTZt2qQhABFx5JFHJqbW6dOnTzMxAIDmxxXQAAC7yC233PJaQ0NDZRJqHT58eLRo0cLQgJ1Kp9Px3HPPxW233Rb333+/8Bdgh6KiovjUpz6ViFobGho23HLLLXNNDQCg+XECGABgF6murk6Xl5c/t88++5yR7bW2bNkyDj300Hj55ZcNDvindDodL7/8ckyZMiXKy8s1BOBdhgwZEkVFRYmodc2aNc/V1tamTQ0AoPkRAAMA7EIvvvjiM0kIgCMiRo4cKQAGIiIik8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd/H7jG9+IqVOnRn19vaYA7GYtWrSIo48+OjH1btmy5Y177rlnhckBABDhCmgAgN3u9ddfn3T44YcPSEKtxcXFcdhhh8XMmTMNDvayurq6ePrpp2PatGmxbds2DQHYgw477LAoKSlJTL3z5s17wtQAAHibE8AAALvZ9773vanpdLohKfWecMIJkUqlDA72koaGhpg6dWrceuut8fjjjwt/AfawVCoVJ5xwQmLqTafT27/73e8+ZXIAALzNCWAAgN1s+vTpWyoqKmZ26dIlER/Y7d69e/Tv3z/efPNNw4M9qKGhIaZNmxZPPfVUVFdXawjAXnLAAQdE9+7dE1NvRUXFczNmzPAXBwAA/+QEMADAHjBr1qxEXcuXpFMvkHTpdDqee+65uP322+PRRx8V/gLsZccff3yi6p0xY8YkUwMA4J2cAAYA2AO++tWvvnT66adXFRYWtk1CvQMHDoyOHTvGhg0bDA92k3Q6HbNmzYrJkyfHxo0bNQQgC3Ts2DEGDhyYmHobGhoqb7755pdMDgCAd3ICGABgDygvL29YsWLF1MRsEvPy4sQTTzQ42A3S6XS8+OKL8Z3vfCfuv/9+4S9AFjnppJMiLy85r8tWrFgxpaKiotHkAAB4JwEwAMAe8qtf/erRiMgkpd6jjjoqysrKDA52kUwmE6+++mp873vfi1//+texdu1aTQHIImVlZXHUUUcl6q+W//7v//6zyQEA8G4CYACAPeQ///M/l1dWVv4tKfUWFhbGMcccY3CwC7wd/P785z+PNWvWaAhAFjruuOOioCA5X0urqqqa/dOf/nS1yQEA8G4CYACAPeill14al6R6jzvuuCgqKjI4+JjmzJkTd911V/z85z+P1au9owfIVkVFRYn7xbcXXnhhnMkBALAzBVoAALDnjB079pkFCxZUFhYWtktCvSUlJXHEEUfE9OnTDQ8+gjfffDPGjx8fb731lmYAJMCRRx4ZJSUliam3oaFh0zXXXPOsyQEAsDMCYACAPai8vLxh6dKlE/v3739xUmo+8cQT49lnn410Om2A8AEWLVoUjz32WCxevFgzABIiLy8vTjzxxETVvGTJkifKy8sbTA8AgJ3ucbUAAGDP+u1vfzsxIjJJqbdjx44xdOhQg4P3sXz58rj77rvjRz/6kfAXIGGGDRsWHTp0SFLJmd/85jePmxwAAO9FAAwAsIf953/+5/JNmza9kqSaTz/99EilUoYH77Jy5cr4yU9+Et///vdj/vz5GgKQMHl5eXHGGWckquZNmza9fM8996wwPQAA3osroAEA9oKXXnpp/KmnnnpYUurt2rVrDBkyJGbPnm14EBHr1q2L8ePHx+zZsyOTyWgIQEINHTo0OnfunKiaX3jhhQkmBwDA+xEAAwDsBZdffvkzS5YsWVdUVNQlKTWfccYZ8be//U3YRbO2fv36eOyxxwS/ADkglUrF6aefnqia6+rq1lx22WXTTQ8AgPcjAAYA2AsqKyub5s+f/8ihhx56dVJq7tatm1PANFsbNmyIxx9/PF555ZVoamrSEIAc8KlPfSq6du2aqJrfeOONcdXV1WnTAwDg/fgGMADAXvL1r399XDqdrktSzb4FTHNTVVUV999/f3z729+OF198UfgLkCNSqVR8+tOfTlTN6XS69pvf/OZjpgcAwAdxAhgAYC+ZMWNG9Zo1a/7Ss2fPxLx97N69ewwcODDmzJljgOS0LVu2xIQJE+KFF16IxsZGDQHIMYceemh069YtUTWvXr36qRkzZlSbHgAAH8QJYACAvejXv/71HyMiUR8SPeuss5wCJmdt27YtHn300bjtttviueeeE/4C5KC8vLwYM2ZM0srO/OpXv/qT6QEA8KH2vFoAALD3fP/733+rqqoqUR/V7dGjR3zqU58yPHJKfX19TJ06Nb71rW/F1KlTo76+XlMActSIESOiS5cuiap506ZNf73rrruWmh4AAB+GABgAYC975plnHkpazWeccUbk5dlKkjvmzZsXjz76aGzdulUzAHJYQUFBnH766Ymre9q0aQ+aHgAAH5a3dgAAe9nYsWNn1tfXr01SzZ07d47DDjvM8ACARBk5cmR06NAhUTXX1dWtHjt27POmBwDAhyUABgDYyyorK5tee+21Pyat7jPPPDMKCgoMEABIhBYtWiTy9O/s2bP/UF1dnTZBAAA+LAEwAEAWuOqqqyY0NjZWJanm9u3bx9FHH214AEAiHHfccdGmTZtE1dzQ0LDxiiuumGh6AAB8FAJgAIAssGDBgrqFCxc+lrS6R48eHYWFhQYIAGS1li1bxsknn5y4uhcuXDhu6dKl200QAICPQgAMAJAlvv71r/8pnU7XJqnmtm3bximnnGJ4AEBWO+2006K0tDRRNTc1NdV+7Wtfe8j0AAD4qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hABgF2iQ4cOcfrppyey9kwm03T33Xf/3BQBANgdBMAAAAlyzz33rCgvL386ibW3bNkyzj33XEMEAHaJc889N1q0aJHI2tesWTP1xz/+8UpTBABgdxAAAwAkzA9/+MOfZzKZhiTWPnz48Bg0aJAhAgCfyKGHHhpDhw5NZO3pdLrhBz/4wS9MEQCA3UUADACQMPfee+/qRYsWPZDU+i+++OIoKSkxSADgY2ndunVcfPHFia1/4cKFf7jvvvvKTRIAgN1FAAwAkECXXXbZrxsaGjYlsfaysjJXQQMAH9u5554bpaWliay9oaFh4+WXX/47UwQAYHcSAAMAJNDs2bNrXn311V8ntf4jjjgiDj74YIMEAD6SwYMHx+GHH57Y+l955ZX7Zs+eXWOSAADsTgJgAICEOueccx6tqalZmtT6L7roomjZsqVBAgAfSsuWLeNzn/tcYuuvqalZMmbMmMdMEgCA3U0ADACQUJWVlU3Tpk37RVLrb9++fZx++ukGCQB8KGeccUa0b98+sfU/+eST91ZXV6dNEgCA3U0ADACQYOedd960qqqqV5Ja/wknnOAqaADgAx188MFx/PHHJ7b+TZs2vXzBBRc8a5IAAOwJAmAAgIT74x//eG9EZJJYeyqVigsuuMBV0ADAe2rZsmVccMEFkUqlkrqEzP333/8zkwQAYE8RAAMAJNzNN988b9WqVU8ktf6OHTsm+nt+AMDudcEFF0THjh0TW/+KFSse//rXv/6GSQIAsKcIgAEAcsCNN974k6ampq1JrX/kyJExdOhQgwQA/pdPfepTMWLEiMTW39TUVH3zzTf/t0kCALAnCYABAHLAxIkTK//+97//KslruPDCC6OsrMwwAYCIiGjTpk18/vOfT/QaZs+efd/EiRMrTRMAgD1JAAwAkCPOPvvsh2pqapYntf7S0tK46KKLDBIAiFQqFV/84hejtLQ0sWuoqal566yzznrYNAEA2NMEwAAAOaKioqJx0qRJP07yGgYPHhwjR440TABo5o444og46KCDEr2GJ5544qeVlZVNpgkAwJ4mAAYAyCGXXHLJzIqKihlJXsMFF1wQ3bp1M0wAaKZ69uyZ+KufKyoqZnzhC1+YZZoAAOwNAmAAgBzzb//2b/ek0+ntSa2/RYsWceWVV0ZhYaFhAkAzU1hYGF/60pcSvQ9Ip9Pb/+3f/u0e0wQAYG8RAAMA5Jh777139aJFix5M8hq6d+8eZ555pmECQDNzxhlnRPfu3RO9hsWLFz947733rjZNAAD2FgEwAEAO+uxnP/vL2traRL94PPHEE2Pw4MGGCQDNxKBBg+Kkk05K9Bpqa2tXn3vuub80TQAA9iYBMABADlq8eHH9uHHj/j3Ja0ilUnHJJZdE27ZtDRQAclybNm3ikksuiVQqleh1jBs37t8XL15cb6IAAOxNAmAAgBx1+eWXv1RRUTEjyWsoLS2NL3zhC4l/GQwAvLe3f+mrdevWiV5HRUXFM5dffvlLJgoAwN4mAAYAyGE33HDDXU1NTVuTvIaDDjrI94ABIId95jOfiUMOOSTRa2hqaqq+4YYbfmiaAABkAwEwAEAOGzdu3MbZs2cn/jt0p5xyiu8BA0AOOuSQQ+LTn/504tfx17/+9efjxo3baKIAAGQDATAAQI77zGc+81B1dfXCJK8hlUrFF7/4xejQoYOBAkCO6NixY3zpS19K/KceNm/ePO+00057xEQBAMgWAmAAgBxXXV2dfuCBB34UEekkr6O4uDguvfTSyMuzhQWApMvPz4/LLrssiouLk76U9P333/+ftbW1aVMFACBbeHsGANAMXH/99XMWLVr0YNLXsf/++8e5555roACQcOedd1707ds38etYuHDhH7/61a++bqIAAGQTATAAQDNxySWX/Lyurq486es4/vjjfQ8YABJs2LBhccwxxyR+HXV1dWsuvPDC+0wUAIBsIwAGAGgmXnvttdoHHnjguxGRSfI6UqlUfOlLX4oePXoYKgAkTO/evePSSy9N/Hd/IyLzwAMPfO/111+vNVUAALKNABgAoBm5+uqr/7Z06dJHk76OoqKiGDt2bJSWlhoqACRE69at46qrrorCwsLEr2X58uXjrr766r+ZKgAA2UgADADQzJx33nn/r66ubnXS19GhQ4e4/PLLIy/PlhYAsl1eXl5cfvnl0b59+8Svpb6+ft0ll1zyE1MFACBr999aAADQvLz++uu1Dz744Pcj4VdBR0QMGDAgzjrrLEMFgCw3ZsyYOPDAA3NiLY899tgPXnnllW2mCgBAthIAAwA0Q1/5ylf+umbNmqm5sJaTTz45Dj30UEMFgCw1ZMiQOOmkk3JiLWvXrv3LpZde+oKpAgCQzQTAAADN1GWXXfYf9fX1FUlfRyqViksvvTS6d+9uqACQZXr06BFf/OIXI5VKJX4tDQ0Nm6655pofmioAANlOAAwA0EzNmDGj+oEHHvhO5MBV0C1btozrr78+2rZta7AAkCXatWsX1113XbRs2TIXlpN56KGH/nXSpElVJgsAQLYTAAMANGNf+cpX/rpkyZI/58Ja2rZtG1dffXW0aNHCYAFgL2vRokVcffXVOfPLWUuXLn30iiuueNlkAQBIAgEwAEAzd+655/6ktrZ2eS6spXfv3jlzzSQAJNXbn2fYZ599cmI9tbW1y88555wfmywAAEkhAAYAaOYWLFhQ97Of/ezbmUymMRfWM2zYsDjllFMMFgD2kk9/+tMxdOjQnFhLJpNp/NnPfvbtBQsW1JksAABJIQAGACBuvfXWBfPnz78/V9Zz5plnxuDBgw0WAPaw4cOHx2c+85mcWc/8+fN/d+utty4wWQAAkkQADABARESMGTPmvpqamrdyYS2pVCouu+yy6Nmzp8ECwB7Su3fvuPjii3PmUwxbt25ddPrpp//aZAEASBoBMAAAERGxcuXKhh/+8Ie3pdPpnLjisGXLlvEv//Iv0aVLF8MFgN2sS5cucf3110dRUVFOrKepqanmu9/97jfKy8sbTBcAgKQRAAMA8E933XXX0ueff/6eXFlPaWlpXHvttVFWVma4ALCblJWVxXXXXRclJSU5s6aZM2fe/f/+3/9bZboAACSRABgAgP/l5JNPHldeXv50rqynU6dOMXbs2Jw5kQQA2aSoqCiuueaa6NixY86sqby8/MlTTz11gukCAJBUAmAAAP6PSy655K66urq1ubKefffdN6644orIy7P9BYBdJS8vL6688sro3bt3zqyprq6u/JJLLvmh6QIAkOi9uhYAAPBus2bNqn7ooYfujIh0rqxp4MCBcd555xkuAOwi559/fhxyyCG5tKT0gw8+eOesWbOqTRcAgCTLb3tQ9NzpjndbRG15oQ4BADRTEydOXDNmzJi8Tp06Dc2VNfXp0yfy8/PjzTffNGAA+ATOOuusOOmkk3JqTa+//vp9Z5555kTTBQAgCYq7N0Ze6c5/5gQwAADv6dRTT/31li1bXs+lNZ122mlx9NFHGy4AfEzHHntsnHrqqTm1pi1btrxx2mmn/cZ0AQDIBQJgAADeU0VFReONN974jcbGxqpcWtcFF1wQRx55pAEDwEd05JFHxuc+97mcWlNjY2PVzTff/I2KiopGEwYAIBcIgAEAeF9//OMf1z/yyCPfiRz6HnAqlYqLLroohgwZYsAA8CENHTo0LrrookilUrm0rPQjjzzynfvvv3+dCQMAkCsEwAAAfKBLL730hQULFvwupzbCeXnxpS99Kfbff38DBoAPcNBBB8WXvvSlyMvLrVdJCxYs+N2ll176ggkDAJBLBMAAAHwoo0eP/mVVVdXcXFpTYWFhfOUrX4kePXoYMAC8h169esUVV1wRBQUFObWuqqqqOaNHj/6lCQMAkGsEwAAAfCgVFRWNV1111S0NDQ0bcmldJSUlcfPNN8c+++xjyADwLr17946bbropiouLc2pdDQ0NG6666qqv++4vAAC5SAAMAMCHNmHChE3333//tzKZTDqX1lVcXBzXXXdddO/e3ZABYIfu3bvHtddeG61atcqpdWUymfT999//rQkTJmwyZQAAcpEAGACAj2Ts2LGz58+f/9tcW1fr1q3juuuuiw4dOhgyAM1ehw4d4rrrrovWrVvn3Nrmz5//m7Fjx842ZQAAcpUAGACAj+y44477xaZNm17MtXW1a9cubrzxxmjXrp0hA9BstW3bNmf/Pty4ceOLxx13nO/+AgCQ0wTAAAB8ZNXV1emLL774W3V1datzbW0dO3aMG2+8Mdq0aWPQADQ7ZWVlceONN0bHjh1zbm21tbWrL7zwwturq6vTJg0AQC7Lb3tQ9NzZD9LbImrLC3UIAICdWrZsWf327dtfOvbYY0/Ny8trkUtrKykpiaFDh8Zrr70WNTU1hg1As9ChQ4f42te+Fp06dcq5tTU1NW39zne+M/bBBx9cb9IAAOSC4u6NkVe6858JgAEA+NhefPHFzYcccsiyAQMGnBgRqZzaRBcXx5AhQ4TAADQLHTt2jJtuuik6dOiQi8tLjx8//ravfvWrc0waAIBc8X4BsCugAQD4RC688MIZb7zxxm9ycW3t27ePm266KSdPQgHA2zp16pTL4W+88cYbv77wwgufM2kAAJoLATAAAJ/YqFGjfrFhw4aZubi2t0Pgzp07GzQAOadz585x0003Rfv27XNyfRs2bJg5atSo+0waAIDmRAAMAMAnVltbm77sssu+V1dXtzoX19euXbu44YYbomPHjoYNQM7o0KFDXH/99dGuXbtc3Z+s/sIXvvDd2tratGkDANCc+AYwAAC7xJIlS+oj4pVRo0admpeX1yLX1ldcXBxDhw6NuXPnxrZt2wwcgETr0qVL3HjjjTl77XNTU1P1nXfeec0f/vCHdaYNAEAuer9vAAuAAQDYZWbNmlXVo0ePuYceeujoVCqVn2vra9WqVYwYMSIWLVoUlZWVBg5AIu23335x0003RVlZWU6uL51ON/z617++4fbbb3/TtAEAyFUCYAAA9phJkyatPeqoozbsu+++R+fi+goLC2P48OGxbNmy2LBhg4EDkCgDBgyIa6+9Nlq1apWza5w2bdq/XXLJJc+ZNgAAuez9AmDfAAYAYJc77bTTHn/rrbcezNX1FRUVxTXXXBNDhgwxbAASY8iQIXHNNddEUVFRzq5xwYIFvzv99NOfMG0AAJozATAAALvFEUcccc+GDRtm5ur6CgoK4sorr4wjjjjCsAFIwt/LceWVV0ZBQUHOrrG8vPypESNG/LdpAwDQ3AmAAQDYLaqrq9MXXXTRd2pra1fk7GY6Ly8uvvjiOPLIIw0cgKw1atSouPjiiyMvL3dfA23dunXxZz/72e83NDRkTBwAgObON4ABANhtli9fvr2mpuaFY4899uT8/PyWubjGVCoVgwYNikwmE4sWLTJ0ALLK6aefHueee26kUqmcXWN9fX3FDTfccM3UqVOrTBwAgObi/b4BLAAGAGC3evnll7cUFBS8cMQRR4zOy8trkYtrTKVSccABB0SnTp1i7ty5kck4fATA3lVYWBhXXHFFHHPMMTm9zsbGxuo777zzKz/72c9WmzoAAM2JABgAgL1qxowZlb169Xp98ODBJ6dSqfxcXWfPnj2jb9++8fe//z0aGxsNHoC9olWrVnH11VfHwIEDc3qd6XS64be//e2Nt9122wJTBwCguREAAwCw1z3xxBPlw4cPX9OvX79jIyJn76Hs2LFjDBw4MObMmRN1dXUGD8Ae1a5du7jxxhujT58+ub7U9JQpU779xS9+8XlTBwCgOXq/ADhPewAA2FPGjBkz9Y033vh1rq+zZ8+eceONN0bHjh0NHYA9pkuXLnHTTTdF9+7dc36tc+fO/eU555zzF1MHAID/SwAMAMAe9alPfernS5cufTjX19mlS5e49dZb48ADDzR0AHa7gQMHxje/+c3o1KlTzq/1rbfeemjEiBG/MnUAANg5ATAAAHvcsccee8/GjRtfyPV1FhcXx7XXXhsjRowwdAB2m8MPPzyuuuqqaNmyZc6vdePGjc8fffTR95g6AAC8NwEwAAB7XEVFReNxxx339crKyr/l+loLCgrisssui/PPPz9SqZThA7DLpFKpOP/88+PSSy+NgoKCnF/vpk2bXj7ssMNuqaysbDJ9AAB4bwJgAAD2isWLF9efddZZN1dXV7/ZHNZ7/PHHx5e//OUoKioyfAA+sRYtWsSXv/zlOP7445vFequrq98cM2bMN8rLyxtMHwAA3l9+24Oi585+kN4WUVteqEMAAOw2a9asaVi1atWs0aNHH1dQUNA619fbrVu3OOCAA2LevHlRX1/vAQDgYykrK4trrrkmDjrooGax3rq6uvKxY8de89RTT202fQAA+Ifi7o2RV7rznwmAAQDYq+bNm1ezevXqZ04++eTjCwoKSnN9ve3atYuRI0fG8uXLY+PGjR4AAD6S/v37x0033RRdu3ZtFuutr69fd9111335T3/6U4XpAwDA/xAAAwCQ1ebMmbMtlUq9fOSRR56Ul5eX83ckt2jRIkaMGBG1tbWxdOlSDwAAH8rxxx8fX/rSl5rN5wQaGxu33HXXXdf99Kc/XWn6AADwvwmAAQDIejNnzqzs2bPn64MHDz4plUrl5/p6U6lUHHLIIdGqVatYsGBBZDIZDwEAO5WXlxef/exn4/TTT49UKtUs1pxOp7f//ve//+o3vvGN1z0BAADwfwmAAQBIhEmTJpXvs88+8wYOHHhCKpUqaA5r3m+//WLAgAExd+5c3wUG4P8oKyuL6667LoYNG9Zs1pxOp7f/8Y9/vOmqq676qycAAAB2TgAMAEBiTJw4cc3BBx+85MADDzwulUrlNYc1t2/fPoYOHRqLFi2KLVu2eAgAiIiIffbZJ66//vro2bNns1lzJpNpnDBhwm1f/OIXn/cEAADAexMAAwCQKI8++ujy/fff/42DDjrohOZwHXRERHFxcRx11FHR2NgYb731locAoJkbPXp0XHHFFVFSUtJs1pxOpxsefvjhr15yySWzPAEAAPD+BMAAACTO+PHjVw0cOHDpAQcccGxzOQmcSqViwIAB0aVLl3jjjTeiqanJgwDQzBQVFcWll14aJ554YrP53m/EP07+Pv7447dffPHFMz0FAADwwQTAAAAk0iOPPLLs0EMPXbb//vs3mxA4IqJHjx4xZMiQePPNN2Pr1q0eBIBmonv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcXF/fSkf/RsmXLGDJkSOyzzz6xdOnSqKmp0RQg53Xs2DG++MUvximnnBItW7bUkHdZt27dMyeffPI3Xn755W26AQAAe9/7BcCpfc+JETv7QeO6iI2vttI9AAByWmFhYer555//0sEHH3y5bvxfTU1N8fzzz8f48eOjurpaQ4Cc07p16zjzzDPjyCOPdOJ35zJ///vff3rMMcfc39DQkNEOAADIDh2G1UZBl53/TAAMAAARMWnSpM8cc8wxt6RSKdfg7ERNTU1MmTIlpk2bFg0NDRoCJF5hYWGccsopcdJJJ0VRUZGG7EQ6na6fOnXqd88555y/6AYAAGSX9wuAXQENAAAR8Yc//GHhfvvt98aAAQOOysvLkwS8S2FhYQwYMCCGDh0amzZtinXr1mkKkFiDBw+Oq666KoYOHRoFBQUashONjY1Vv//972/5whe+MEs3AAAg+/gGMAAAfAgTJkxYXV1dPf3II4/8VGFhYTsd+b9KS0vjsMMOi/79+8eaNWti8+bNmgIkRu/evePyyy+PU045JUpLSzXkPWzdunXxLbfccs33vve9hboBAADZyTeAAQDgI+jTp0+LJ5988us9evQ4TTfe3/z58+ORRx6JlStXagaQtXr16hXnnHNODBgwQDM+wKpVq5444YQTfrBy5Ur3/QMAQBbzDWAAAPgYnnnmmfOHDx9+fSqVytON95bJZGL27Nkxbty4qKio0BAga3Tu3DnOOuusGDp0aKRSKQ15/z/Lm2bNmvXDk08++THdAACA7OcbwAAA8DH85je/eX3//fd//cADDzzSd4HfWyqViu7du8cxxxwT7dq1i2XLlkV9fb3GAHtN27Zt49xzz42LL744evToIfz9AI2NjdUPPvjgLZ/97Gf/ohsAAJAMvgEMAAAf0/jx41dFxPOHHXbYiMLCwjIdeW95eXnRu3fvOOqoo6KgoCBWrlwZjY2NGgPsMcXFxXHKKafEl770pejbt2/k5bnA4YPU1tau+MEPfnD9LbfcMk83AAAgQf/94xvAAADwyQwePLjVo48++s1u3bqdpBsfTn19fTzzzDMxderU2LZtm4YAu01ZWVmceuqpceSRR0ZRkQsbPqyVK1c+/ulPf/pHixcvdm0DAAAkjG8AAwDALvLkk0+edeSRR96USqVcl/MhCYKB3eXtE7/HHnus4PcjyGQyDbNmzfoP3/sFAIDk8g1gAADYRX7/+98v6NGjx2uHHHLIyPz8fL8x+SEUFBREv3794qijjoq8vLxYtWqVq6GBT6Rly5ZxwgknxBVXXBEHHXRQFBQUaMqH1NDQsOG3v/3t1z7/+c8/oxsAAJBcroAGAIBd7Lzzzut4991339m2bdvBuvHR1NTUxLPPPhvTpk2LLVu2aAjwoZWVlcXxxx8fxxxzTBQXF2vIR1RVVfW3a6+99vZHHnlkg24AAECyuQIaAAB2g06dOhVMmzZtbN++fT8XESkd+WgaGhri+eefjyeffDI2bJBFAO/7522cdNJJccQRR0RhodvKPobMokWL/nTsscf+pLKyskk7AAAg+QTAAACwG/3hD38Ydfrpp99WUFDQRjc+unQ6Ha+++mpMnTo1Vq5cqSHAP/Xq1StOOeWUGDp0aOTl5WnIx9DY2Fg1YcKEOy666KKZugEAALlDAAwAALvZaaed1vbee+/9docOHUbqxse3fPnymDZtWrz88suRTqc1BJqhvLy8OOyww+L444+P3r17a8gnsHHjxue//OUvf3fSpElVugEAALlFAAwAAHtAYWFh6qmnnjpv+PDh16RSKXeUfgIbNmyIGTNmxHPPPRc1NTUaAs1AcXFxjBo1Ko4++ujo2LGjhnwCmUym4ZVXXvl/J5100kMNDQ0ZHQEAgNzzfgFwftuDoufOfpDeFlFb7p0VAAB8WOl0On7zm9+8Xlpa+uLgwYM/VVhYWKYrH09xcXEMGDAgjj322GjTpk2sXbs2amtrNQZyUIcOHeKMM86ISy+9NAYOHBjFxcWa8gnU1tau+slPfnLjxRdf/IybFAAAIHcVd2+MvNKd/8wJYAAA2A1OPPHENvfdd9+tnTp1Olo3PrnGxsb429/+Fs8++2wsWrRIQyAH9OvXL44++ugYNmxYFBQUaMguUFFR8cwXv/jFf5s+ffoW3QAAgNzmCmgAANhLHn744RNGjx799YKCgta6sWusX78+Zs6cGc8//3xUV1drCCRIaWlpHHnkkXHUUUdF586dNWQXaWxs3DJ16tS7PvvZz/5FNwAAoHkQAAMAwF50ySWXdP3+97//rXbt2g3VjV2nsbExXnvttXjuuedi/vz5GgJZbMCAATFq1KgYPHiw0767WFVV1atf//rXv/e73/1urW4AAEDzIQAGAIC9rF27dvlTp0699OCDD740lUrl68iutXz58nj++efj5ZdfjpqaGg2BLFBSUhLDhw+PI444Inr37q0hu1gmk2mcN2/efSeeeOJvq6urfewXAACaGQEwAABkia9//ev73Xjjjf9aWlraXzd2vXQ6HW+++WY899xz8dprr0VjY6OmwB5UUFAQgwcPjlGjRsUBBxwQeXl5mrIbVFdXL/zP//zPf/3BD36wRDcAAKB5EgADAEAWOfjgg1v9+c9/vrZ3795jIiKlI7tHZWVlvPjii/HCCy/EunXrNAR2o65du8bIkSPj8MMPj7Zt22rI7pNZunTpn88888z/t3jx4nrtAACA5ksADAAAWejuu+8eePHFF9/WqlUrd6PuZuXl5fHqq6/GSy+9FOvXr9cQ2AU6d+4cI0aMiGHDhkW3bt00ZDerqalZ9tvf/vbOm266aa5uAAAAAmAAAMhS/fr1K3r44Ycv79+//4WpVMpdqXvA8uXL46WXXoqXX345qqurNQQ+grKyshg+fHiMGDHCd333kEwmk164cOEfzj777F8sXbp0u44AAAARAmAAAMh6P/3pT4d97nOf+2bLli176Mae0dDQEHPnzo2//vWvMXfu3Ni+Xa4CO9OyZcsYNGhQDBs2LA455JAoKCjQlD2ktrZ21R//+Mc7rr322r/rBgAA8E4CYAAASIA+ffq0ePTRR69wGnjPS6fTsXTp0nj11VedDIaIaNu2bQwbNiyGDRsWffr0ibw8fyTtSZlMpuG11177+ZlnnvmnioqKRh0BAADeTQAMAAAJ8uMf//jQCy644JutWrXaRzf2vLdPBs+ePTvmzp0bdXV1mkKzUFZWFoMHD45hw4ZF//79Iz8/X1P2gpqammX333//nTfccINv/QIAAO9JAAwAAAnTrl27/HHjxp37qU996qq8vDwb870kk8nEihUrYu7cuTFnzpxYsWJFZDIZjSEnpFKp6Nu3bwwbNiwGDRoUHTt21JS9qKmpqfbVV1/92ZgxY/5cWVnZpCMAAMD7EQADAEBCffnLX+5x++23f7V9+/aH68bet2XLlnjjjTdizpw5MW/evKivr9cUEqVly5Zx8MEHx6BBg+KQQw6J0tJSTckCGzdufPG73/3uv//iF79YoxsAAMCHIQAGAIAEKywsTE2cOPGMkSNHXlNQUNBaR7JDXV1dvPnmm/HGG2/EG2+8EevXr9cUslKXLl3ioIMOioMOOigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6ysnL9ihUrVr/66qurHnzwwbUVFRWNOgUAAMDuIgAGAADgfznjjDPaH3bYYZ369OnTuUuXLp3Kysral5SUtC0uLu5YVFTUrqioqG2LFi065OfnlzaXnjQ1NW3dvn37xvr6+qr6+vrKmpqaDdu2bavasmXLpnXr1lUsXbp0/Ysvvrh+4sSJlZ4gAAAA9iYBMAAAAB9Lr169CkeNGtXuoIMOatexY8ey9u3bl7Zp06Z1SUlJWXFxcetWrVq1btGiRVlRUVHrwsLC1hGRX1hYWBoR+QUFBSV5eXkFeXl5u/0/LtPpdG06nW5sbGzcFhFNDQ0NW3f83+r6+vrq7du3b6mtra2uqamp3rZtW/XmzZurN23aVL1hw4YtCxYsqJo1a1bl0qVLt5s4AAAASSAABgAAYK/q169fUffu3Vvss88+xSUlJQVv//8LCwtT3bp1+8BTxuXl5VsbGhoyb//vbdu2Na5YsaJmzZo12xcvXlyvwwAAADQn7xcAF2gPAAAAu9vixYvrdwS11boBAAAAu0+eFgAAAAAAAADkBgEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4o0AIAAAAAAACA5GhoLIyCxoaIiEilIpNXGE1v/0wADAAAAAAAAJAghQUN/0x6MxGppvT/5L6ugAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAIb/v5272ZHiusM4/FZ1NUkz9sQwOF4EyZJtpJCwysa5jSy4n1xPEqRIuQFvvfGSgIwBOzGRQAQERnx0d1UW0cgWGvKxsMGvnmfVdc7/1OJsf+oCAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=";function xe(e,t,s){return typeof e=="string"&&!isNaN(Number(e))&&(e=Number(e)),typeof e=="number"&&e<100?we(e):typeof e=="number"&&e>=100?e:typeof e=="string"&&e.includes("%")?Math.round(t&&t==="X"?parseFloat(e)/100*s.width:t&&t==="Y"?parseFloat(e)/100*s.height:parseFloat(e)/100*s.width):0}function xi(e){return e.replace(/[xy]/g,function(t){const s=Math.random()*16|0;return(t==="x"?s:s&3|8).toString(16)})}function he(e){return typeof e>"u"||e==null?"":e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function we(e){return typeof e=="number"&&e>100?e:(typeof e=="string"&&(e=Number(e.replace(/in*/gi,""))),Math.round(me*e))}function ce(e){const t=Number(e)||0;return isNaN(t)?0:Math.round(t*Rn)}function da(e){return e=e||0,Math.round((e>360?e-360:e)*6e4)}function ro(e){const t=e.toString(16);return t.length===1?"0"+t:t}function no(e,t,s){return(ro(e)+ro(t)+ro(s)).toUpperCase()}function je(e,t){let s=(e||"").replace("#","");!ao.test(s)&&s!==jt.background1&&s!==jt.background2&&s!==jt.text1&&s!==jt.text2&&s!==jt.accent1&&s!==jt.accent2&&s!==jt.accent3&&s!==jt.accent4&&s!==jt.accent5&&s!==jt.accent6&&(console.warn(`"${s}" is not a valid scheme color or hex RGB! "${vt}" used instead. Only provide 6-digit RGB or 'pptx.SchemeColor' values!`),s=vt);const r=ao.test(s)?"srgbClr":"schemeClr",n='val="'+(ao.test(s)?s.toUpperCase():s)+'"';return t?`<a:${r} ${n}>${t}</a:${r}>`:`<a:${r} ${n}/>`}function oy(e,t){let s="";const r=Object.assign(Object.assign({},t),e),n=Math.round(r.size*Rn),i=r.color,l=Math.round(r.opacity*1e5);return s+=`<a:glow rad="${n}">`,s+=je(i,`<a:alpha val="${l}"/>`),s+="</a:glow>",s}function kt(e){let t="solid",s="",r="",n="";if(e)switch(typeof e=="string"?s=e:(e.type&&(t=e.type),e.color&&(s=e.color),e.alpha&&(r+=`<a:alpha val="${Math.round((100-e.alpha)*1e3)}"/>`),e.transparency&&(r+=`<a:alpha val="${Math.round((100-e.transparency)*1e3)}"/>`)),t){case"solid":n+=`<a:solidFill>${je(s,r)}</a:solidFill>`;break;default:n+="";break}return n}function ms(e){return e._rels.length+e._relsChart.length+e._relsMedia.length+1}function Cd(e){if(!(!e||typeof e!="object"))return e.type!=="outer"&&e.type!=="inner"&&e.type!=="none"&&(console.warn("Warning: shadow.type options are `outer`, `inner` or `none`."),e.type="outer"),e.angle&&((isNaN(Number(e.angle))||e.angle<0||e.angle>359)&&(console.warn("Warning: shadow.angle can only be 0-359"),e.angle=270),e.angle=Math.round(Number(e.angle))),e.opacity&&((isNaN(Number(e.opacity))||e.opacity<0||e.opacity>1)&&(console.warn("Warning: shadow.opacity can only be 0-1"),e.opacity=.75),e.opacity=Number(e.opacity)),e.color&&e.color.startsWith("#")&&(console.warn('Warning: shadow.color should not include hash (#) character, , e.g. "FF0000"'),e.color=e.color.replace("#","")),e}function cy(e,t,s){var r,n;const i=2.3+(!((r=e.options)===null||r===void 0)&&r.autoPageCharWeight?e.options.autoPageCharWeight:0),l=Math.floor(t/Rn*me)/((!((n=e.options)===null||n===void 0)&&n.fontSize?e.options.fontSize:Mt)/i),u=[];let c=[];const o=[],d=[];e.text&&e.text.toString().trim().length===0?c.push({_type:fe.tablecell,text:" "}):typeof e.text=="number"||typeof e.text=="string"?c.push({_type:fe.tablecell,text:(e.text||"").toString().trim()}):Array.isArray(e.text)&&(c=e.text);let h=[];return c.forEach(A=>{var f;typeof A.text=="string"&&(A.text.split(`
`).length>1?A.text.split(`
`).forEach(x=>{h.push({_type:fe.tablecell,text:x,options:Object.assign(Object.assign({},A.options),{breakLine:!0})})}):h.push({_type:fe.tablecell,text:A.text.trim(),options:A.options}),!((f=A.options)===null||f===void 0)&&f.breakLine&&(o.push(h),h=[])),h.length>0&&(o.push(h),h=[])}),o.forEach(A=>{A.forEach(f=>{const x=[],y=String(f.text).split(" ");y.forEach((g,p)=>{const v=Object.assign({},f.options);v!=null&&v.breakLine&&(v.breakLine=p+1===y.length),x.push({_type:fe.tablecell,text:g+(p+1<y.length?" ":""),options:v})}),d.push(x)})}),d.forEach(A=>{let f=[],x="";A.forEach(m=>{x.length+m.text.length>l&&(u.push(f),f=[],x=""),f.push(m),x+=m.text.toString()}),f.length>0&&u.push(f)}),u}function Ap(e=[],t={},s,r){let n=yn,i=me*1,l=me*1,u=0,c=0;const o=[],d=xe(t.x,"X",s),h=xe(t.y,"Y",s),A=xe(t.w,"X",s),f=xe(t.h,"Y",s);let x=A;function m(){let g=0;o.length===0&&(g=h||we(n[0])),o.length>0&&(g=we(t.autoPageSlideStartY||t.newSlideStartY||n[0])),l=(f||s.height)-g-we(n[2]),o.length>1&&(typeof t.autoPageSlideStartY=="number"?l=(f||s.height)-we(t.autoPageSlideStartY+n[2]):typeof t.newSlideStartY=="number"?l=(f||s.height)-we(t.newSlideStartY+n[2]):h&&(l=(f||s.height)-we((h/me<n[0]?h/me:n[0])+n[2]),l<f&&(l=f)))}if(t.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- TABLE PROPS --------------------------------------------------------|"),console.log(`| presLayout.width ................................ = ${(s.width/me).toFixed(1)}`),console.log(`| presLayout.height ............................... = ${(s.height/me).toFixed(1)}`),console.log(`| tableProps.x .................................... = ${typeof t.x=="number"?(t.x/me).toFixed(1):t.x}`),console.log(`| tableProps.y .................................... = ${typeof t.y=="number"?(t.y/me).toFixed(1):t.y}`),console.log(`| tableProps.w .................................... = ${typeof t.w=="number"?(t.w/me).toFixed(1):t.w}`),console.log(`| tableProps.h .................................... = ${typeof t.h=="number"?(t.h/me).toFixed(1):t.h}`),console.log(`| tableProps.slideMargin .......................... = ${t.slideMargin?String(t.slideMargin):""}`),console.log(`| tableProps.margin ............................... = ${String(t.margin)}`),console.log(`| tableProps.colW ................................. = ${String(t.colW)}`),console.log(`| tableProps.autoPageSlideStartY .................. = ${t.autoPageSlideStartY}`),console.log(`| tableProps.autoPageCharWeight ................... = ${t.autoPageCharWeight}`),console.log("|-- CALCULATIONS -------------------------------------------------------|"),console.log(`| tablePropX ...................................... = ${d/me}`),console.log(`| tablePropY ...................................... = ${h/me}`),console.log(`| tablePropW ...................................... = ${A/me}`),console.log(`| tablePropH ...................................... = ${f/me}`),console.log(`| tableCalcW ...................................... = ${x/me}`)),!t.slideMargin&&t.slideMargin!==0&&(t.slideMargin=yn[0]),r&&typeof r._margin<"u"?Array.isArray(r._margin)?n=r._margin:isNaN(Number(r._margin))||(n=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)]):(t.slideMargin||t.slideMargin===0)&&(Array.isArray(t.slideMargin)?n=t.slideMargin:isNaN(t.slideMargin)||(n=[t.slideMargin,t.slideMargin,t.slideMargin,t.slideMargin])),t.verbose&&console.log(`| arrInchMargins .................................. = [${n.join(", ")}]`),(e[0]||[]).forEach(p=>{p||(p={_type:fe.tablecell});const v=p.options||null;c+=Number(v!=null&&v.colspan?v.colspan:1)}),t.verbose&&console.log(`| numCols ......................................... = ${c}`),!A&&t.colW&&(x=Array.isArray(t.colW)?t.colW.reduce((g,p)=>g+p)*me:t.colW*c||0,t.verbose&&console.log(`| tableCalcW ...................................... = ${x/me}`)),i=x||we((d?d/me:n[1])+n[3]),t.verbose&&console.log(`| emuSlideTabW .................................... = ${(i/me).toFixed(1)}`),!t.colW||!Array.isArray(t.colW))if(t.colW&&!isNaN(Number(t.colW))){const g=[];(e[0]||[]).forEach(()=>g.push(t.colW)),t.colW=[],g.forEach(v=>{Array.isArray(t.colW)&&t.colW.push(v)})}else{t.colW=[];for(let g=0;g<c;g++)t.colW.push(i/me/c)}let y={rows:[]};return e.forEach((g,p)=>{const v=[];let w=0,j=0,C=[];g.forEach(R=>{var U,_,I,b;C.push({_type:fe.tablecell,text:[],options:R.options}),R.options.margin&&R.options.margin[0]>=1?(!((U=R.options)===null||U===void 0)&&U.margin&&R.options.margin[0]&&ce(R.options.margin[0])>w?w=ce(R.options.margin[0]):t!=null&&t.margin&&t.margin[0]&&ce(t.margin[0])>w&&(w=ce(t.margin[0])),!((_=R.options)===null||_===void 0)&&_.margin&&R.options.margin[2]&&ce(R.options.margin[2])>j?j=ce(R.options.margin[2]):t!=null&&t.margin&&t.margin[2]&&ce(t.margin[2])>j&&(j=ce(t.margin[2]))):(!((I=R.options)===null||I===void 0)&&I.margin&&R.options.margin[0]&&we(R.options.margin[0])>w?w=we(R.options.margin[0]):t!=null&&t.margin&&t.margin[0]&&we(t.margin[0])>w&&(w=we(t.margin[0])),!((b=R.options)===null||b===void 0)&&b.margin&&R.options.margin[2]&&we(R.options.margin[2])>j?j=we(R.options.margin[2]):t!=null&&t.margin&&t.margin[2]&&we(t.margin[2])>j&&(j=we(t.margin[2])))}),m(),u+=w+j,t.verbose&&p===0&&console.log(`| SLIDE [${o.length}]: emuSlideTabH ...... = ${(l/me).toFixed(1)} `),g.forEach((R,U)=>{var _;const I={_type:fe.tablecell,_lines:null,_lineHeight:we((!((_=R.options)===null||_===void 0)&&_.fontSize?R.options.fontSize:t.fontSize?t.fontSize:Mt)*(sy+(t.autoPageLineWeight?t.autoPageLineWeight:0))/100),text:[],options:R.options};I.options.rowspan&&(I._lineHeight=0),I.options.autoPageCharWeight=t.autoPageCharWeight?t.autoPageCharWeight:null;let b=t.colW[U];R.options.colspan&&Array.isArray(t.colW)&&(b=t.colW.filter((S,V)=>V>=U&&V<V+R.options.colspan).reduce((S,V)=>S+V)),I._lines=cy(R,b),v.push(I)}),t.verbose&&console.log(`
| SLIDE [${o.length}]: ROW [${p}]: START...`);let L=0,E=0,k=!1;for(;!k;){const R=v[L];let U=C[L];v.forEach(b=>{b._lineHeight>=E&&(E=b._lineHeight)}),u+E>l&&(t.verbose&&(console.log(`
|-----------------------------------------------------------------------|`),console.log(`|-- NEW SLIDE CREATED (currTabH+currLineH > maxH) => ${(u/me).toFixed(2)} + ${(R._lineHeight/me).toFixed(2)} > ${l/me}`),console.log(`|-----------------------------------------------------------------------|

`)),C.length>0&&C.map(S=>S.text.length).reduce((S,V)=>S+V)>0&&y.rows.push(C),o.push(y),y={rows:[]},C=[],g.forEach(S=>C.push({_type:fe.tablecell,text:[],options:S.options})),m(),u+=w+j,t.verbose&&console.log(`| SLIDE [${o.length}]: emuSlideTabH ...... = ${(l/me).toFixed(1)} `),u=0,(t.addHeaderToEach||t.autoPageRepeatHeader)&&t._arrObjTabHeadRows&&t._arrObjTabHeadRows.forEach(S=>{const V=[];let F=0;S.forEach(z=>{V.push(z),z._lineHeight>F&&(F=z._lineHeight)}),y.rows.push(V),u+=F}),U=C[L]);const _=R._lines.shift();Array.isArray(U.text)&&(_?U.text=U.text.concat(_):U.text.length===0&&(U.text=U.text.concat({_type:fe.tablecell,text:""}))),L===v.length-1&&(u+=E),L=L<v.length-1?L+1:0,v.map(b=>b._lines.length).reduce((b,S)=>b+S)===0&&(k=!0)}C.length>0&&y.rows.push(C),t.verbose&&console.log(`- SLIDE [${o.length}]: ROW [${p}]: ...COMPLETE ...... emuTabCurrH = ${(u/me).toFixed(2)} ( emuSlideTabH = ${(l/me).toFixed(2)} )`)}),o.push(y),t.verbose&&(console.log(`
|================================================|`),console.log(`| FINAL: tableRowSlides.length = ${o.length}`),o.forEach(g=>console.log(g)),console.log(`|================================================|

`)),o}function dy(e,t,s={},r){const n=s||{};n.slideMargin=n.slideMargin||n.slideMargin===0?n.slideMargin:.5;let i=n.w||e.presLayout.width;const l=[],u=[],c=[],o=[],d=[];let h=[.5,.5,.5,.5],A=0;if(!document.getElementById(t))throw new Error('tableToSlides: Table ID "'+t+'" does not exist!');r!=null&&r._margin?(Array.isArray(r._margin)?h=r._margin:isNaN(r._margin)||(h=[r._margin,r._margin,r._margin,r._margin]),n.slideMargin=h):n!=null&&n.slideMargin&&(Array.isArray(n.slideMargin)?h=n.slideMargin:isNaN(n.slideMargin)||(h=[n.slideMargin,n.slideMargin,n.slideMargin,n.slideMargin])),i=(n.w?we(n.w):e.presLayout.width)-we(h[1]+h[3]),n.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- `tableToSlides` ----------------------------------------------------|"),console.log(`| tableProps.h .................................... = ${n.h}`),console.log(`| tableProps.w .................................... = ${n.w}`),console.log(`| pptx.presLayout.width ........................... = ${(e.presLayout.width/me).toFixed(1)}`),console.log(`| pptx.presLayout.height .......................... = ${(e.presLayout.height/me).toFixed(1)}`),console.log(`| emuSlideTabW .................................... = ${(i/me).toFixed(1)}`));let f=document.querySelectorAll(`#${t} tr:first-child th`);f.length===0&&(f=document.querySelectorAll(`#${t} tr:first-child td`)),f.forEach(m=>{const y=m;if(y.getAttribute("colspan"))for(let g=0;g<Number(y.getAttribute("colspan"));g++)d.push(Math.round(y.offsetWidth/Number(y.getAttribute("colspan"))));else d.push(y.offsetWidth)}),d.forEach(m=>{A+=m}),d.forEach((m,y)=>{const g=Number((Number(i)*(m/A*100)/100/me).toFixed(2));let p=0;const v=document.querySelector(`#${t} thead tr:first-child th:nth-child(${y+1})`);v&&(p=Number(v.getAttribute("data-pptx-min-width")));const w=document.querySelector(`#${t} thead tr:first-child th:nth-child(${y+1})`);w&&(p=Number(w.getAttribute("data-pptx-width"))),o.push(p>g?p:g)}),n.verbose&&console.log(`| arrColW ......................................... = [${o.join(", ")}]`),["thead","tbody","tfoot"].forEach(m=>{document.querySelectorAll(`#${t} ${m} tr`).forEach(y=>{const g=y,p=[];switch(Array.from(g.cells).forEach(v=>{const w=window.getComputedStyle(v).getPropertyValue("color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");let j=window.getComputedStyle(v).getPropertyValue("background-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");(window.getComputedStyle(v).getPropertyValue("background-color")==="rgba(0, 0, 0, 0)"||window.getComputedStyle(v).getPropertyValue("transparent"))&&(j=["255","255","255"]);const C={align:null,bold:window.getComputedStyle(v).getPropertyValue("font-weight")==="bold"||Number(window.getComputedStyle(v).getPropertyValue("font-weight"))>=500,border:null,color:no(Number(w[0]),Number(w[1]),Number(w[2])),fill:{color:no(Number(j[0]),Number(j[1]),Number(j[2]))},fontFace:(window.getComputedStyle(v).getPropertyValue("font-family")||"").split(",")[0].replace(/"/g,"").replace("inherit","").replace("initial","")||null,fontSize:Number(window.getComputedStyle(v).getPropertyValue("font-size").replace(/[a-z]/gi,"")),margin:null,colspan:Number(v.getAttribute("colspan"))||null,rowspan:Number(v.getAttribute("rowspan"))||null,valign:null};if(["left","center","right","start","end"].includes(window.getComputedStyle(v).getPropertyValue("text-align"))){const L=window.getComputedStyle(v).getPropertyValue("text-align").replace("start","left").replace("end","right");C.align=L==="center"?"center":L==="left"?"left":L==="right"?"right":null}if(["top","middle","bottom"].includes(window.getComputedStyle(v).getPropertyValue("vertical-align"))){const L=window.getComputedStyle(v).getPropertyValue("vertical-align");C.valign=L==="top"?"top":L==="middle"?"middle":L==="bottom"?"bottom":null}window.getComputedStyle(v).getPropertyValue("padding-left")&&(C.margin=[0,0,0,0],["padding-top","padding-right","padding-bottom","padding-left"].forEach((E,k)=>{C.margin[k]=Math.round(Number(window.getComputedStyle(v).getPropertyValue(E).replace(/\D/gi,"")))})),(window.getComputedStyle(v).getPropertyValue("border-top-width")||window.getComputedStyle(v).getPropertyValue("border-right-width")||window.getComputedStyle(v).getPropertyValue("border-bottom-width")||window.getComputedStyle(v).getPropertyValue("border-left-width"))&&(C.border=[null,null,null,null],["top","right","bottom","left"].forEach((E,k)=>{const R=Math.round(Number(window.getComputedStyle(v).getPropertyValue("border-"+E+"-width").replace("px","")));let U=[];U=window.getComputedStyle(v).getPropertyValue("border-"+E+"-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");const _=no(Number(U[0]),Number(U[1]),Number(U[2]));C.border[k]={pt:R,color:_}})),p.push({_type:fe.tablecell,text:v.innerText,options:C})}),m){case"thead":l.push(p);break;case"tbody":u.push(p);break;case"tfoot":c.push(p);break;default:console.log(`table parsing: unexpected table part: ${m}`);break}})}),n._arrObjTabHeadRows=l||null,n.colW=o,Ap([...l,...u,...c],n,e.presLayout,r).forEach((m,y)=>{const g=e.addSlide({masterName:n.masterSlideName||null});y===0&&(n.y=n.y||h[0]),y>0&&(n.y=n.autoPageSlideStartY||n.newSlideStartY||h[0]),n.verbose&&console.log(`| opts.autoPageSlideStartY: ${n.autoPageSlideStartY} / arrInchMargins[0]: ${h[0]} => opts.y = ${n.y}`),g.addTable(m.rows,{x:n.x||h[3],y:n.y,w:Number(i)/me,colW:o,autoPage:!1}),n.addImage&&(n.addImage.options=n.addImage.options||{},!n.addImage.image||!n.addImage.image.path&&!n.addImage.image.data?console.warn("Warning: tableToSlides.addImage requires either `path` or `data`"):g.addImage({path:n.addImage.image.path,data:n.addImage.image.data,x:n.addImage.options.x,y:n.addImage.options.y,w:n.addImage.options.w,h:n.addImage.options.h})),n.addShape&&g.addShape(n.addShape.shapeName,n.addShape.options||{}),n.addTable&&g.addTable(n.addTable.rows,n.addTable.options||{}),n.addText&&g.addText(n.addText.text,n.addText.options||{})})}let uy=0;function hy(e,t){e.bkgd&&(t.bkgd=e.bkgd),e.objects&&Array.isArray(e.objects)&&e.objects.length>0&&e.objects.forEach((s,r)=>{const n=Object.keys(s)[0],i=t;Ls[n]&&n==="chart"?xp(i,s[n].type,s[n].data,s[n].opts):Ls[n]&&n==="image"?gp(i,s[n]):Ls[n]&&n==="line"?bc(i,Gs.LINE,s[n]):Ls[n]&&n==="rect"?bc(i,Gs.RECTANGLE,s[n]):Ls[n]&&n==="text"?Ji(i,[{text:s[n].text}],s[n].options,!1):Ls[n]&&n==="placeholder"&&(s[n].options.placeholder=s[n].options.name,delete s[n].options.name,s[n].options._placeholderType=s[n].options.type,delete s[n].options.type,s[n].options._placeholderIdx=100+r,Ji(i,[{text:s[n].text}],s[n].options,!0))}),e.slideNumber&&typeof e.slideNumber=="object"&&(t._slideNumberProps=e.slideNumber)}function xp(e,t,s,r){var n;function i(h){!h||h.style==="none"||(h.size!==void 0&&(isNaN(Number(h.size))||h.size<=0)&&(console.warn("Warning: chart.gridLine.size must be greater than 0."),delete h.size),h.style&&!["solid","dash","dot"].includes(h.style)&&(console.warn("Warning: chart.gridLine.style options: `solid`, `dash`, `dot`."),delete h.style),h.cap&&!["flat","square","round"].includes(h.cap)&&(console.warn("Warning: chart.gridLine.cap options: `flat`, `square`, `round`."),delete h.cap))}const l=++uy,u={_type:null,text:null,options:null,chartRid:null};let c=null,o=[];Array.isArray(t)?(t.forEach(h=>{o=o.concat(h.data)}),c=s||r):(o=s,c=r),o.forEach((h,A)=>{h._dataIndex=A,h.labels!==void 0&&!Array.isArray(h.labels[0])&&(h.labels=[h.labels])});const d=c&&typeof c=="object"?c:{};if(d._type=t,d.x=typeof d.x<"u"&&d.x!=null&&!isNaN(Number(d.x))?d.x:1,d.y=typeof d.y<"u"&&d.y!=null&&!isNaN(Number(d.y))?d.y:1,d.w=d.w||"50%",d.h=d.h||"50%",d.objectName=d.objectName?he(d.objectName):`Chart ${e._slideObjects.filter(h=>h._type===fe.chart).length}`,["bar","col"].includes(d.barDir||"")||(d.barDir="col"),d._type===Y.AREA&&(["stacked","standard","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="standard")),d._type===Y.BAR&&(["clustered","stacked","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="clustered")),d._type===Y.BAR3D&&(["clustered","stacked","standard","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="standard")),!((n=d.barGrouping)===null||n===void 0)&&n.includes("tacked")&&(d.barGapWidthPct||(d.barGapWidthPct=50)),d.dataLabelPosition&&((d._type===Y.AREA||d._type===Y.BAR3D||d._type===Y.DOUGHNUT||d._type===Y.RADAR)&&delete d.dataLabelPosition,d._type===Y.PIE&&(["bestFit","ctr","inEnd","outEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition),(d._type===Y.BUBBLE||d._type===Y.BUBBLE3D||d._type===Y.LINE||d._type===Y.SCATTER)&&(["b","ctr","l","r","t"].includes(d.dataLabelPosition)||delete d.dataLabelPosition),d._type===Y.BAR&&(["stacked","percentStacked"].includes(d.barGrouping||"")||["ctr","inBase","inEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition,["clustered"].includes(d.barGrouping||"")||["ctr","inBase","inEnd","outEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition)),d.dataLabelBkgrdColors=d.dataLabelBkgrdColors||!d.dataLabelBkgrdColors?d.dataLabelBkgrdColors:!1,["b","l","r","t","tr"].includes(d.legendPos||"")||(d.legendPos="r"),["cone","coneToMax","box","cylinder","pyramid","pyramidToMax"].includes(d.bar3DShape||"")||(d.bar3DShape="box"),["circle","dash","diamond","dot","none","square","triangle"].includes(d.lineDataSymbol||"")||(d.lineDataSymbol="circle"),["gap","span"].includes(d.displayBlanksAs||"")||(d.displayBlanksAs="span"),["standard","marker","filled"].includes(d.radarStyle||"")||(d.radarStyle="standard"),d.lineDataSymbolSize=d.lineDataSymbolSize&&!isNaN(d.lineDataSymbolSize)?d.lineDataSymbolSize:6,d.lineDataSymbolLineSize=d.lineDataSymbolLineSize&&!isNaN(d.lineDataSymbolLineSize)?ce(d.lineDataSymbolLineSize):ce(.75),d.layout&&["x","y","w","h"].forEach(h=>{const A=d.layout[h];(isNaN(Number(A))||A<0||A>1)&&(console.warn("Warning: chart.layout."+h+" can only be 0-1"),delete d.layout[h])}),d.catGridLine=d.catGridLine||(d._type===Y.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),d.valGridLine=d.valGridLine||(d._type===Y.SCATTER?{color:"D9D9D9",size:1}:{}),d.serGridLine=d.serGridLine||(d._type===Y.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),i(d.catGridLine),i(d.valGridLine),i(d.serGridLine),Cd(d.shadow),d.showDataTable=d.showDataTable||!d.showDataTable?d.showDataTable:!1,d.showDataTableHorzBorder=d.showDataTableHorzBorder||!d.showDataTableHorzBorder?d.showDataTableHorzBorder:!0,d.showDataTableVertBorder=d.showDataTableVertBorder||!d.showDataTableVertBorder?d.showDataTableVertBorder:!0,d.showDataTableOutline=d.showDataTableOutline||!d.showDataTableOutline?d.showDataTableOutline:!0,d.showDataTableKeys=d.showDataTableKeys||!d.showDataTableKeys?d.showDataTableKeys:!0,d.showLabel=d.showLabel||!d.showLabel?d.showLabel:!1,d.showLegend=d.showLegend||!d.showLegend?d.showLegend:!1,d.showPercent=d.showPercent||!d.showPercent?d.showPercent:!0,d.showTitle=d.showTitle||!d.showTitle?d.showTitle:!1,d.showValue=d.showValue||!d.showValue?d.showValue:!1,d.showLeaderLines=d.showLeaderLines||!d.showLeaderLines?d.showLeaderLines:!1,d.catAxisLineShow=typeof d.catAxisLineShow<"u"?d.catAxisLineShow:!0,d.valAxisLineShow=typeof d.valAxisLineShow<"u"?d.valAxisLineShow:!0,d.serAxisLineShow=typeof d.serAxisLineShow<"u"?d.serAxisLineShow:!0,d.v3DRotX=!isNaN(d.v3DRotX)&&d.v3DRotX>=-90&&d.v3DRotX<=90?d.v3DRotX:30,d.v3DRotY=!isNaN(d.v3DRotY)&&d.v3DRotY>=0&&d.v3DRotY<=360?d.v3DRotY:30,d.v3DRAngAx=d.v3DRAngAx||!d.v3DRAngAx?d.v3DRAngAx:!0,d.v3DPerspective=!isNaN(d.v3DPerspective)&&d.v3DPerspective>=0&&d.v3DPerspective<=240?d.v3DPerspective:30,d.barGapWidthPct=!isNaN(d.barGapWidthPct)&&d.barGapWidthPct>=0&&d.barGapWidthPct<=1e3?d.barGapWidthPct:150,d.barGapDepthPct=!isNaN(d.barGapDepthPct)&&d.barGapDepthPct>=0&&d.barGapDepthPct<=1e3?d.barGapDepthPct:150,d.chartColors=Array.isArray(d.chartColors)?d.chartColors:d._type===Y.PIE||d._type===Y.DOUGHNUT?iy:Mr,d.chartColorsOpacity=d.chartColorsOpacity&&!isNaN(d.chartColorsOpacity)?d.chartColorsOpacity:null,d.border=d.border&&typeof d.border=="object"?d.border:null,d.border&&(!d.border.pt||isNaN(d.border.pt))&&(d.border.pt=La.pt),d.border&&(!d.border.color||typeof d.border.color!="string")&&(d.border.color=La.color),d.plotArea=d.plotArea||{},d.plotArea.border=d.plotArea.border&&typeof d.plotArea.border=="object"?d.plotArea.border:null,d.plotArea.border&&(!d.plotArea.border.pt||isNaN(d.plotArea.border.pt))&&(d.plotArea.border.pt=La.pt),d.plotArea.border&&(!d.plotArea.border.color||typeof d.plotArea.border.color!="string")&&(d.plotArea.border.color=La.color),d.border&&(d.plotArea.border=d.border),d.plotArea.fill=d.plotArea.fill||{color:null,transparency:null},d.fill&&(d.plotArea.fill.color=d.fill),d.chartArea=d.chartArea||{},d.chartArea.border=d.chartArea.border&&typeof d.chartArea.border=="object"?d.chartArea.border:null,d.chartArea.border&&(d.chartArea.border={color:d.chartArea.border.color||La.color,pt:d.chartArea.border.pt||La.pt}),d.chartArea.roundedCorners=typeof d.chartArea.roundedCorners=="boolean"?d.chartArea.roundedCorners:!0,d.dataBorder=d.dataBorder&&typeof d.dataBorder=="object"?d.dataBorder:null,d.dataBorder&&(!d.dataBorder.pt||isNaN(d.dataBorder.pt))&&(d.dataBorder.pt=.75),d.dataBorder&&d.dataBorder.color){const h=typeof d.dataBorder.color=="string"&&d.dataBorder.color.length===6&&/^[0-9A-Fa-f]{6}$/.test(d.dataBorder.color),A=Object.values(Ki).includes(d.dataBorder.color);!h&&!A&&(d.dataBorder.color="F9F9F9")}return!d.dataLabelFormatCode&&d._type===Y.SCATTER&&(d.dataLabelFormatCode="General"),!d.dataLabelFormatCode&&(d._type===Y.PIE||d._type===Y.DOUGHNUT)&&(d.dataLabelFormatCode=d.showPercent?"0%":"General"),d.dataLabelFormatCode=d.dataLabelFormatCode&&typeof d.dataLabelFormatCode=="string"?d.dataLabelFormatCode:"#,##0",!d.dataLabelFormatScatter&&d._type===Y.SCATTER&&(d.dataLabelFormatScatter="custom"),d.lineSize=typeof d.lineSize=="number"?d.lineSize:2,d.valAxisMajorUnit=typeof d.valAxisMajorUnit=="number"?d.valAxisMajorUnit:null,d._type===Y.AREA||d._type===Y.BAR||d._type===Y.BAR3D||d._type===Y.LINE?d.catAxisMultiLevelLabels=!!d.catAxisMultiLevelLabels:delete d.catAxisMultiLevelLabels,u._type="chart",u.options=d,u.chartRid=ms(e),e._relsChart.push({rId:ms(e),data:o,opts:d,type:d._type,globalId:l,fileName:`chart${l}.xml`,Target:`/ppt/charts/chart${l}.xml`}),e._slideObjects.push(u),u}function gp(e,t){const s={_type:null,text:null,options:null,image:null,imageRid:null,hyperlink:null},r=t.x||0,n=t.y||0,i=t.w||0,l=t.h||0,u=t.sizing||null,c=t.hyperlink||"",o=t.data||"",d=t.path||"";let h=ms(e);const A=t.objectName?he(t.objectName):`Image ${e._slideObjects.filter(x=>x._type===fe.image).length}`;if(!d&&!o)return console.error("ERROR: addImage() requires either 'data' or 'path' parameter!"),null;if(d&&typeof d!="string")return console.error(`ERROR: addImage() 'path' should be a string, ex: {path:'/img/sample.png'} - you sent ${String(d)}`),null;if(o&&typeof o!="string")return console.error(`ERROR: addImage() 'data' should be a string, ex: {data:'image/png;base64,NMP[...]'} - you sent ${String(o)}`),null;if(o&&typeof o=="string"&&!o.toLowerCase().includes("base64,"))return console.error("ERROR: Image `data` value lacks a base64 header! Ex: 'image/png;base64,NMP[...]')"),null;let f=(d.substring(d.lastIndexOf("/")+1).split("?")[0].split(".").pop().split("#")[0]||"png").toLowerCase();if(o&&/image\/(\w+);/.exec(o)&&/image\/(\w+);/.exec(o).length>0?f=/image\/(\w+);/.exec(o)[1]:o!=null&&o.toLowerCase().includes("image/svg+xml")&&(f="svg"),s._type=fe.image,s.image=d||"preencoded.png",s.options={x:r||0,y:n||0,w:i||1,h:l||1,altText:t.altText||"",rounding:typeof t.rounding=="boolean"?t.rounding:!1,sizing:u,placeholder:t.placeholder,rotate:t.rotate||0,flipV:t.flipV||!1,flipH:t.flipH||!1,transparency:t.transparency||0,objectName:A,shadow:Cd(t.shadow)},f==="svg")e._relsMedia.push({path:d||o+"png",type:"image/png",extn:"png",data:o||"",rId:h,Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`,isSvgPng:!0,svgSize:{w:xe(s.options.w,"X",e._presLayout),h:xe(s.options.h,"Y",e._presLayout)}}),s.imageRid=h,e._relsMedia.push({path:d||o,type:"image/svg+xml",extn:f,data:o||"",rId:h+1,Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.${f}`}),s.imageRid=h+1;else{const x=e._relsMedia.filter(m=>m.path&&m.path===d&&m.type==="image/"+f&&!m.isDuplicate)[0];e._relsMedia.push({path:d||"preencoded."+f,type:"image/"+f,extn:f,data:o||"",rId:h,isDuplicate:!!(x!=null&&x.Target),Target:x!=null&&x.Target?x.Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.${f}`}),s.imageRid=h}if(typeof c=="object"){if(!c.url&&!c.slide)throw new Error("ERROR: `hyperlink` option requires either: `url` or `slide`");h++,e._rels.push({type:fe.hyperlink,data:c.slide?"slide":"dummy",rId:h,Target:c.url||c.slide.toString()}),c._rId=h,s.hyperlink=c}e._slideObjects.push(s)}function fy(e,t){const s=t.x||0,r=t.y||0,n=t.w||2,i=t.h||2,l=t.data||"",u=t.link||"",c=t.path||"",o=t.type||"audio";let d="";const h=t.cover||ly,A=t.objectName?he(t.objectName):`Media ${e._slideObjects.filter(x=>x._type===fe.media).length}`,f={_type:fe.media};if(!c&&!l&&o!=="online")throw new Error("addMedia() error: either `data` or `path` are required!");if(l&&!l.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `data` value lacks a base64 header! Ex: 'video/mpeg;base64,NMP[...]')");if(!h.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `cover` value lacks a base64 header! Ex: 'data:image/png;base64,iV[...]')");if(o==="online"&&!u)throw new Error("addMedia() error: online videos require `link` value");if(d=t.extn||(l?l.split(";")[0].split("/")[1]:c.split(".").pop())||"mp3",f.mtype=o,f.media=c||"preencoded.mov",f.options={},f.options.x=s,f.options.y=r,f.options.w=n,f.options.h=i,f.options.objectName=A,o==="online"){const x=ms(e);e._relsMedia.push({path:c||"preencoded"+d,data:"dummy",type:"online",extn:d,rId:x,Target:u}),f.mediaRid=x,e._relsMedia.push({path:"preencoded.png",data:h,type:"image/png",extn:"png",rId:ms(e),Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`})}else{const x=e._relsMedia.filter(y=>y.path&&y.path===c&&y.type===o+"/"+d&&!y.isDuplicate)[0],m=ms(e);e._relsMedia.push({path:c||"preencoded"+d,type:o+"/"+d,extn:d,data:l||"",rId:m,isDuplicate:!!(x!=null&&x.Target),Target:x!=null&&x.Target?x.Target:`../media/media-${e._slideNum}-${e._relsMedia.length+1}.${d}`}),f.mediaRid=m,e._relsMedia.push({path:c||"preencoded"+d,type:o+"/"+d,extn:d,data:l||"",rId:ms(e),isDuplicate:!!(x!=null&&x.Target),Target:x!=null&&x.Target?x.Target:`../media/media-${e._slideNum}-${e._relsMedia.length+0}.${d}`}),e._relsMedia.push({path:"preencoded.png",type:"image/png",extn:"png",data:h,rId:ms(e),Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`})}e._slideObjects.push(f)}function my(e,t){e._slideObjects.push({_type:fe.notes,text:[{text:t}]})}function bc(e,t,s){const r=typeof s=="object"?s:{};r.line=r.line||{type:"none"};const n={_type:fe.text,shape:t||Gs.RECTANGLE,options:r,text:null};if(!t)throw new Error("Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`");const i={type:r.line.type||"solid",color:r.line.color||fp,transparency:r.line.transparency||0,width:r.line.width||1,dashType:r.line.dashType||"solid",beginArrowType:r.line.beginArrowType||null,endArrowType:r.line.endArrowType||null};if(typeof r.line=="object"&&r.line.type!=="none"&&(r.line=i),r.x=r.x||(r.x===0?0:1),r.y=r.y||(r.y===0?0:1),r.w=r.w||(r.w===0?0:1),r.h=r.h||(r.h===0?0:1),r.objectName=r.objectName?he(r.objectName):`Shape ${e._slideObjects.filter(l=>l._type===fe.text).length}`,typeof r.line=="string"){const l=i;l.color=String(r.line),r.line=l}typeof r.lineSize=="number"&&(r.line.width=r.lineSize),typeof r.lineDash=="string"&&(r.line.dashType=r.lineDash),typeof r.lineHead=="string"&&(r.line.beginArrowType=r.lineHead),typeof r.lineTail=="string"&&(r.line.endArrowType=r.lineTail),hr(e,n),e._slideObjects.push(n)}function py(e,t,s,r,n,i,l){const u=[e],c=s&&typeof s=="object"?s:{};c.objectName=c.objectName?he(c.objectName):`Table ${e._slideObjects.filter(A=>A._type===fe.table).length}`;{if(t===null||t.length===0||!Array.isArray(t))throw new Error("addTable: Array expected! EX: 'slide.addTable( [rows], {options} );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)");if(!t[0]||!Array.isArray(t[0]))throw new Error("addTable: 'rows' should be an array of cells! EX: 'slide.addTable( [ ['A'], ['B'], {text:'C',options:{align:'center'}} ] );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)")}const o=[];t.forEach(A=>{const f=[];Array.isArray(A)?A.forEach(x=>{const m={_type:fe.tablecell,text:"",options:typeof x=="object"&&x.options?x.options:{}};typeof x=="string"||typeof x=="number"?m.text=x.toString():x.text&&(typeof x.text=="string"||typeof x.text=="number"?m.text=x.text.toString():x.text&&(m.text=x.text),x.options&&typeof x.options=="object"&&(m.options=x.options)),m.options.border=m.options.border||c.border||[{type:"none"},{type:"none"},{type:"none"},{type:"none"}];const y=m.options.border;!Array.isArray(y)&&typeof y=="object"&&(m.options.border=[y,y,y,y]),m.options.border[0]||(m.options.border[0]={type:"none"}),m.options.border[1]||(m.options.border[1]={type:"none"}),m.options.border[2]||(m.options.border[2]={type:"none"}),m.options.border[3]||(m.options.border[3]={type:"none"}),[0,1,2,3].forEach(p=>{m.options.border[p]={type:m.options.border[p].type||Ra.type,color:m.options.border[p].color||Ra.color,pt:typeof m.options.border[p].pt=="number"?m.options.border[p].pt:Ra.pt}}),f.push(m)}):(console.log("addTable: tableRows has a bad row. A row should be an array of cells. You provided:"),console.log(A)),o.push(f)}),c.x=xe(c.x||(c.x===0?0:me/2),"X",n),c.y=xe(c.y||(c.y===0?0:me/2),"Y",n),c.h&&(c.h=xe(c.h,"Y",n)),c.fontSize=c.fontSize||Mt,c.margin=c.margin===0||c.margin?c.margin:hp,typeof c.margin=="number"&&(c.margin=[Number(c.margin),Number(c.margin),Number(c.margin),Number(c.margin)]),JSON.stringify({arrRows:o}).indexOf("hyperlink")===-1&&(c.color||(c.color=c.color||vt)),typeof c.border=="string"?(console.warn("addTable `border` option must be an object. Ex: `{border: {type:'none'}}`"),c.border=null):Array.isArray(c.border)&&[0,1,2,3].forEach(A=>{c.border[A]=c.border[A]?{type:c.border[A].type||Ra.type,color:c.border[A].color||Ra.color,pt:c.border[A].pt||Ra.pt}:{type:"none"}}),c.autoPage=typeof c.autoPage=="boolean"?c.autoPage:!1,c.autoPageRepeatHeader=typeof c.autoPageRepeatHeader=="boolean"?c.autoPageRepeatHeader:!1,c.autoPageHeaderRows=typeof c.autoPageHeaderRows<"u"&&!isNaN(Number(c.autoPageHeaderRows))?Number(c.autoPageHeaderRows):1,c.autoPageLineWeight=typeof c.autoPageLineWeight<"u"&&!isNaN(Number(c.autoPageLineWeight))?Number(c.autoPageLineWeight):0,c.autoPageLineWeight&&(c.autoPageLineWeight>1?c.autoPageLineWeight=1:c.autoPageLineWeight<-1&&(c.autoPageLineWeight=-1));let d=yn;if(r&&typeof r._margin<"u"&&(Array.isArray(r._margin)?d=r._margin:isNaN(Number(r._margin))||(d=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)])),c.colW){const A=o[0].reduce((f,x)=>{var m;return!((m=x==null?void 0:x.options)===null||m===void 0)&&m.colspan&&typeof x.options.colspan=="number"?f+=x.options.colspan:f+=1,f},0);typeof c.colW=="string"||typeof c.colW=="number"||c.colW&&Array.isArray(c.colW)&&c.colW.length===1&&A>1?(c.w=Math.floor(Number(c.colW)*A),c.colW=null):c.colW&&Array.isArray(c.colW)&&c.colW.length!==A&&(console.warn("addTable: mismatch: (colW.length != data.length) Therefore, defaulting to evenly distributed col widths."),c.colW=null)}else c.w?c.w=xe(c.w,"X",n):c.w=Math.floor(n._sizeW/me-d[1]-d[3]);c.x&&c.x<20&&(c.x=we(c.x)),c.y&&c.y<20&&(c.y=we(c.y)),c.w&&typeof c.w=="number"&&c.w<20&&(c.w=we(c.w)),c.h&&typeof c.h=="number"&&c.h<20&&(c.h=we(c.h)),o.forEach(A=>{A.forEach((f,x)=>{typeof f=="number"||typeof f=="string"?A[x]={_type:fe.tablecell,text:String(A[x]),options:c}:typeof f=="object"&&(typeof f.text=="number"?A[x].text=A[x].text.toString():(typeof f.text>"u"||f.text===null)&&(A[x].text=""),A[x].options=f.options||{},A[x]._type=fe.tablecell)})});const h=[];return c&&!c.autoPage?(hr(e,o),e._slideObjects.push({_type:fe.table,arrTabRows:o,options:Object.assign({},c)})):(c.autoPageRepeatHeader&&(c._arrObjTabHeadRows=o.filter((A,f)=>f<c.autoPageHeaderRows)),Ap(o,c,n,r).forEach((A,f)=>{l(e._slideNum+f)||u.push(i({masterName:(r==null?void 0:r._name)||null})),f>0&&(c.y=we(c.autoPageSlideStartY||c.newSlideStartY||d[0]));{const x=l(e._slideNum+f);c.autoPage=!1,hr(x,A.rows),x.addTable(A.rows,Object.assign({},c)),f>0&&h.push(x)}})),h}function Ji(e,t,s,r){const n={_type:r?fe.placeholder:fe.text,shape:(s==null?void 0:s.shape)||Gs.RECTANGLE,text:!t||t.length===0?[{text:"",options:null}]:t,options:s||{}};function i(l){{if(l.placeholder||(l.color=l.color||n.options.color||e.color||vt),(l.placeholder||r)&&(l.bullet=l.bullet||!1),l.placeholder&&e._slideLayout&&e._slideLayout._slideObjects){const u=e._slideLayout._slideObjects.filter(c=>c._type==="placeholder"&&c.options&&c.options.placeholder&&c.options.placeholder===l.placeholder)[0];u!=null&&u.options&&(l=Object.assign(Object.assign({},l),u.options))}if(l.objectName=l.objectName?he(l.objectName):`Text ${e._slideObjects.filter(u=>u._type===fe.text).length}`,l.shape===Gs.LINE){const u={type:l.line.type||"solid",color:l.line.color||fp,transparency:l.line.transparency||0,width:l.line.width||1,dashType:l.line.dashType||"solid",beginArrowType:l.line.beginArrowType||null,endArrowType:l.line.endArrowType||null};if(typeof l.line=="object"&&(l.line=u),typeof l.line=="string"){const c=u;typeof l.line=="string"&&(c.color=l.line),l.line=c}typeof l.lineSize=="number"&&(l.line.width=l.lineSize),typeof l.lineDash=="string"&&(l.line.dashType=l.lineDash),typeof l.lineHead=="string"&&(l.line.beginArrowType=l.lineHead),typeof l.lineTail=="string"&&(l.line.endArrowType=l.lineTail)}l.line=l.line||{},l.lineSpacing=l.lineSpacing&&!isNaN(l.lineSpacing)?l.lineSpacing:null,l.lineSpacingMultiple=l.lineSpacingMultiple&&!isNaN(l.lineSpacingMultiple)?l.lineSpacingMultiple:null,l._bodyProp=l._bodyProp||{},l._bodyProp.autoFit=l.autoFit||!1,l._bodyProp.anchor=l.placeholder?null:Ga.ctr,l._bodyProp.vert=l.vert||null,l._bodyProp.wrap=typeof l.wrap=="boolean"?l.wrap:!0,(l.inset&&!isNaN(Number(l.inset))||l.inset===0)&&(l._bodyProp.lIns=we(l.inset),l._bodyProp.rIns=we(l.inset),l._bodyProp.tIns=we(l.inset),l._bodyProp.bIns=we(l.inset)),typeof l.underline=="boolean"&&l.underline===!0&&(l.underline={style:"sng"})}return(l.align||"").toLowerCase().indexOf("c")===0?l._bodyProp.align=Wa.center:(l.align||"").toLowerCase().indexOf("l")===0?l._bodyProp.align=Wa.left:(l.align||"").toLowerCase().indexOf("r")===0?l._bodyProp.align=Wa.right:(l.align||"").toLowerCase().indexOf("j")===0&&(l._bodyProp.align=Wa.justify),(l.valign||"").toLowerCase().indexOf("b")===0?l._bodyProp.anchor=Ga.b:(l.valign||"").toLowerCase().indexOf("m")===0?l._bodyProp.anchor=Ga.ctr:(l.valign||"").toLowerCase().indexOf("t")===0&&(l._bodyProp.anchor=Ga.t),Cd(l.shadow),l}n.options=i(n.options),n.text.forEach(l=>l.options=i(l.options||{})),hr(e,n.text||""),e._slideObjects.push(n)}function Ay(e){(e._slideLayout._slideObjects||[]).forEach(t=>{t._type===fe.placeholder&&e._slideObjects.filter(s=>s.options&&s.options.placeholder===t.options.placeholder).length===0&&Ji(e,[{text:""}],t.options,!1)})}function vp(e,t){var s;if(t.bkgd&&(t.background||(t.background={}),typeof t.bkgd=="string"?t.background.color=t.bkgd:(t.bkgd.data&&(t.background.data=t.bkgd.data),t.bkgd.path&&(t.background.path=t.bkgd.path),t.bkgd.src&&(t.background.path=t.bkgd.src))),!((s=t.background)===null||s===void 0)&&s.fill&&(t.background.color=t.background.fill),e&&(e.path||e.data)){e.path=e.path||"preencoded.png";let r=(e.path.split(".").pop()||"png").split("?")[0];r==="jpg"&&(r="jpeg"),t._relsMedia=t._relsMedia||[];const n=t._relsMedia.length+1;t._relsMedia.push({path:e.path,type:fe.image,extn:r,data:e.data||null,rId:n,Target:`../media/${(t._name||"").replace(/\s+/gi,"-")}-image-${t._relsMedia.length+1}.${r}`}),t._bkgdImgRid=n}}function hr(e,t,s){let r=[];typeof t=="string"||typeof t=="number"||(Array.isArray(t)?r=t:typeof t=="object"&&(r=[t]),r.forEach((n,i)=>{if(s&&s[i]&&s[i].hyperlink&&(n.options=Object.assign(Object.assign({},n.options),s[i])),Array.isArray(n)){const l=[];n.forEach(u=>{u.options&&!u.text.options&&l.push(u.options)}),hr(e,n,l)}else if(Array.isArray(n.text))hr(e,n.text,s&&s[i]?[s[i]]:void 0);else if(n&&typeof n=="object"&&n.options&&n.options.hyperlink&&!n.options.hyperlink._rId)if(typeof n.options.hyperlink!="object")console.log("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink: {url:'https://github.com'}` ");else if(!n.options.hyperlink.url&&!n.options.hyperlink.slide)console.log("ERROR: 'hyperlink requires either: `url` or `slide`'");else{const l=ms(e);e._rels.push({type:fe.hyperlink,data:n.options.hyperlink.slide?"slide":"dummy",rId:l,Target:he(n.options.hyperlink.url)||n.options.hyperlink.slide.toString()}),n.options.hyperlink._rId=l}else n&&typeof n=="object"&&n.options&&n.options.hyperlink&&n.options.hyperlink._rId&&e._rels.filter(l=>l.rId===n.options.hyperlink._rId).length===0&&e._rels.push({type:fe.hyperlink,data:n.options.hyperlink.slide?"slide":"dummy",rId:n.options.hyperlink._rId,Target:he(n.options.hyperlink.url)||n.options.hyperlink.slide.toString()})}))}class xy{constructor(t){var s;this.addSlide=t.addSlide,this.getSlide=t.getSlide,this._name=`Slide ${t.slideNumber}`,this._presLayout=t.presLayout,this._rId=t.slideRId,this._rels=[],this._relsChart=[],this._relsMedia=[],this._setSlideNum=t.setSlideNum,this._slideId=t.slideId,this._slideLayout=t.slideLayout||null,this._slideNum=t.slideNumber,this._slideObjects=[],this._slideNumberProps=!((s=this._slideLayout)===null||s===void 0)&&s._slideNumberProps?this._slideLayout._slideNumberProps:null}set bkgd(t){this._bkgd=t,(!this._background||!this._background.color)&&(this._background||(this._background={}),typeof t=="string"&&(this._background.color=t))}get bkgd(){return this._bkgd}set background(t){this._background=t,t&&vp(t,this)}get background(){return this._background}set color(t){this._color=t}get color(){return this._color}set hidden(t){this._hidden=t}get hidden(){return this._hidden}set slideNumber(t){this._slideNumberProps=t,this._setSlideNum(t)}get slideNumber(){return this._slideNumberProps}get newAutoPagedSlides(){return this._newAutoPagedSlides}addChart(t,s,r){const n=r||{};return n._type=t,xp(this,t,s,r),this}addImage(t){return gp(this,t),this}addMedia(t){return fy(this,t),this}addNotes(t){return my(this,t),this}addShape(t,s){return bc(this,t,s),this}addTable(t,s){return this._newAutoPagedSlides=py(this,t,s,this._slideLayout,this._presLayout,this.addSlide,this.getSlide),this}addText(t,s){return Ji(this,typeof t=="string"||typeof t=="number"?[{text:t,options:s}]:t,s,!1),this}}function gy(e,t){return St(this,void 0,void 0,function*(){const s=e.data;return yield new Promise((r,n)=>{var i,l;const u=new up,c=(s.length-1)*2+1,o=((l=(i=s[0])===null||i===void 0?void 0:i.labels)===null||l===void 0?void 0:l.length)>1;u.folder("_rels"),u.folder("docProps"),u.folder("xl/_rels"),u.folder("xl/tables"),u.folder("xl/theme"),u.folder("xl/worksheets"),u.folder("xl/worksheets/_rels"),u.file("[Content_Types].xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>  <Default Extension="xml" ContentType="application/xml"/>  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>  <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>  <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>  <Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>
`),u.file("_rels/.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>
`),u.file("docProps/app.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Macintosh Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>
`),u.file("docProps/core.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>PptxGenJS</dc:creator><cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+"</dcterms:modified></cp:coreProperties>"),u.file("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>'),u.file("xl/styles.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><numFmts count="1"><numFmt numFmtId="0" formatCode="General"/></numFmts><fonts count="4"><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="10"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="18"/><color indexed="8"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count="0"/><tableStyles count="0"/><colors><indexedColors><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ffff0000"/><rgbColor rgb="ff00ff00"/><rgbColor rgb="ff0000ff"/><rgbColor rgb="ffffff00"/><rgbColor rgb="ffff00ff"/><rgbColor rgb="ff00ffff"/><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ff878787"/><rgbColor rgb="fff9f9f9"/></indexedColors></colors></styleSheet>
`),u.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'),u.file("xl/workbook.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="7" lowestEdited="6" rupBuild="10507"/><workbookPr/><bookViews><workbookView xWindow="0" yWindow="500" windowWidth="20960" windowHeight="15960"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="0" concurrentCalc="0"/></workbook>
`),u.file("xl/worksheets/_rels/sheet1.xml.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>
`);{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D)d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${c}" uniqueCount="${c}">`;else if(e.opts._type===Y.SCATTER)d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${s.length}" uniqueCount="${s.length}">`;else if(o){let h=s.length;s[0].labels.forEach(A=>h+=A.filter(f=>f&&f!=="").length),d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${h}">`,d+="<si><t/></si>"}else{const h=s.length+s[0].labels.length*s[0].labels[0].length+s[0].labels.length,A=s.length+s[0].labels.length*s[0].labels[0].length+1;d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${A}">`,d+='<si><t xml:space="preserve"></t></si>'}e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D?s.forEach((h,A)=>{A===0?d+="<si><t>X-Axis</t></si>":(d+=`<si><t>${he(h.name||`Y-Axis${A}`)}</t></si>`,d+=`<si><t>${he(`Size${A}`)}</t></si>`)}):s.forEach(h=>{d+=`<si><t>${he((h.name||" ").replace("X-Axis","X-Values"))}</t></si>`}),e.opts._type!==Y.BUBBLE&&e.opts._type!==Y.BUBBLE3D&&e.opts._type!==Y.SCATTER&&s[0].labels.slice().reverse().forEach(h=>{h.filter(A=>A&&A!=="").forEach(A=>{d+=`<si><t>${he(A)}</t></si>`})}),d+=`</sst>
`,u.file("xl/sharedStrings.xml",d)}{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D){d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${ke(c)}${c}" totalsRowShown="0">`,d+=`<tableColumns count="${c}">`;let h=1;s.forEach((A,f)=>{f===0?d+=`<tableColumn id="${f+1}" name="X-Values"/>`:(d+=`<tableColumn id="${f+h}" name="${A.name}"/>`,h++,d+=`<tableColumn id="${f+h}" name="Size${f}"/>`)})}else e.opts._type===Y.SCATTER?(d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${ke(s.length)}${s[0].values.length+1}" totalsRowShown="0">`,d+=`<tableColumns count="${s.length}">`,s.forEach((h,A)=>{d+=`<tableColumn id="${A+1}" name="${A===0?"X-Values":"Y-Value "}${A}"/>`})):(d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${ke(s.length+s[0].labels.length)}${s[0].labels[0].length+1}'" totalsRowShown="0">`,d+=`<tableColumns count="${s.length+s[0].labels.length}">`,s[0].labels.forEach((h,A)=>{d+=`<tableColumn id="${A+1}" name="Column${A+1}"/>`}),s.forEach((h,A)=>{d+=`<tableColumn id="${A+s[0].labels.length+1}" name="${he(h.name)}"/>`}));d+="</tableColumns>",d+='<tableStyleInfo showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>',d+="</table>",u.file("xl/tables/table1.xml",d)}{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(d+='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D?d+=`<dimension ref="A1:${ke(c)}${s[0].values.length+1}"/>`:e.opts._type===Y.SCATTER?d+=`<dimension ref="A1:${ke(s.length)}${s[0].values.length+1}"/>`:d+=`<dimension ref="A1:${ke(s.length+1)}${s[0].values.length+1}"/>`,d+='<sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="B1" sqref="B1"/></sheetView></sheetViews>',d+='<sheetFormatPr baseColWidth="10" defaultRowHeight="16"/>',e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D){d+="<sheetData>",d+=`<row r="1" spans="1:${c}">`,d+='<c r="A1" t="s"><v>0</v></c>';for(let h=1;h<c;h++)d+=`<c r="${ke(h+1)}1" t="s"><v>${h}</v></c>`;d+="</row>",s[0].values.forEach((h,A)=>{d+=`<row r="${A+2}" spans="1:${c}">`,d+=`<c r="A${A+2}"><v>${h}</v></c>`;let f=2;for(let x=1;x<s.length;x++)d+=`<c r="${ke(f)}${A+2}"><v>${s[x].values[A]||""}</v></c>`,f++,d+=`<c r="${ke(f)}${A+2}"><v>${s[x].sizes[A]||""}</v></c>`,f++;d+="</row>"})}else if(e.opts._type===Y.SCATTER){d+="<sheetData>",d+=`<row r="1" spans="1:${s.length}">`;for(let h=0;h<s.length;h++)d+=`<c r="${ke(h+1)}1" t="s"><v>${h}</v></c>`;d+="</row>",s[0].values.forEach((h,A)=>{d+=`<row r="${A+2}" spans="1:${s.length}">`,d+=`<c r="A${A+2}"><v>${h}</v></c>`;for(let f=1;f<s.length;f++)d+=`<c r="${ke(f+1)}${A+2}"><v>${s[f].values[A]||s[f].values[A]===0?s[f].values[A]:""}</v></c>`;d+="</row>"})}else if(d+="<sheetData>",o){d+=`<row r="1" spans="1:${s.length+s[0].labels.length}">`;for(let x=0;x<s[0].labels.length;x++)d+=`<c r="${ke(x+1)}1" t="s"><v>0</v></c>`;for(let x=s[0].labels.length-1;x<s.length+s[0].labels.length-1;x++)d+=`<c r="${ke(x+s[0].labels.length)}1" t="s"><v>${x}</v></c>`;d+="</row>";const h=s.length,A=s[0].labels[0].length,f=s[0].labels.length;for(let x=0;x<A;x++){d+=`<row r="${x+2}" spans="1:${h+f}">`;let m=h;const y=s[0].labels.slice().reverse();y.forEach((g,p)=>{if(g[x]){const w=p===0?1:y[p-1].filter(j=>j&&j!=="").length;m+=w,d+=`<c r="${ke(x+1+p)}${x+2}" t="s"><v>${m}</v></c>`}});for(let g=0;g<h;g++)d+=`<c r="${ke(f+g+1)}${x+2}"><v>${s[g].values[x]||0}</v></c>`;d+="</row>"}}else{d+=`<row r="1" spans="1:${s.length+s[0].labels.length}">`,s[0].labels.forEach((h,A)=>{d+=`<c r="${ke(A+1)}1" t="s"><v>0</v></c>`});for(let h=0;h<s.length;h++)d+=`<c r="${ke(h+1+s[0].labels.length)}1" t="s"><v>${h+1}</v></c>`;d+="</row>",s[0].labels[0].forEach((h,A)=>{d+=`<row r="${A+2}" spans="1:${s.length+s[0].labels.length}">`;for(let f=s[0].labels.length-1;f>=0;f--)d+=`<c r="${ke(s[0].labels.length-f)}${A+2}" t="s">`,d+=`<v>${s.length+A+1}</v>`,d+="</c>";for(let f=0;f<s.length;f++)d+=`<c r="${ke(s[0].labels.length+f+1)}${A+2}"><v>${s[f].values[A]||""}</v></c>`;d+="</row>"})}d+="</sheetData>",d+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',d+=`</worksheet>
`,u.file("xl/worksheets/sheet1.xml",d)}u.generateAsync({type:"base64"}).then(d=>{t.file(`ppt/embeddings/Microsoft_Excel_Worksheet${e.globalId}.xlsx`,d,{base64:!0}),t.file("ppt/charts/_rels/"+e.fileName+".rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/package" Target="../embeddings/Microsoft_Excel_Worksheet${e.globalId}.xlsx"/></Relationships>`),t.file(`ppt/charts/${e.fileName}`,vy(e)),r("")}).catch(d=>{n(d)})})})}function vy(e){var t,s,r,n;let i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',l=!1;if(i+='<c:chartSpace xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',i+='<c:date1904 val="0"/>',i+=`<c:roundedCorners val="${e.opts.chartArea.roundedCorners?"1":"0"}"/>`,i+="<c:chart>",e.opts.showTitle?(i+=yl({title:e.opts.title||"Chart Title",color:e.opts.titleColor,fontFace:e.opts.titleFontFace,fontSize:e.opts.titleFontSize||ry,titleAlign:e.opts.titleAlign,titleBold:e.opts.titleBold,titlePos:e.opts.titlePos,titleRotate:e.opts.titleRotate},e.opts.x,e.opts.y),i+='<c:autoTitleDeleted val="0"/>'):i+='<c:autoTitleDeleted val="1"/>',e.opts._type===Y.BAR3D&&(i+=`<c:view3D><c:rotX val="${e.opts.v3DRotX}"/><c:rotY val="${e.opts.v3DRotY}"/><c:rAngAx val="${e.opts.v3DRAngAx?1:0}"/><c:perspective val="${e.opts.v3DPerspective}"/></c:view3D>`),i+="<c:plotArea>",e.opts.layout?(i+="<c:layout>",i+=" <c:manualLayout>",i+='  <c:layoutTarget val="inner" />',i+='  <c:xMode val="edge" />',i+='  <c:yMode val="edge" />',i+='  <c:x val="'+(e.opts.layout.x||0)+'" />',i+='  <c:y val="'+(e.opts.layout.y||0)+'" />',i+='  <c:w val="'+(e.opts.layout.w||1)+'" />',i+='  <c:h val="'+(e.opts.layout.h||1)+'" />',i+=" </c:manualLayout>",i+="</c:layout>"):i+="<c:layout/>",Array.isArray(e.opts._type)?e.opts._type.forEach(u=>{const c=Object.assign(Object.assign({},e.opts),u.options),o=c.secondaryValAxis?Ai:hs,d=c.secondaryCatAxis?pc:Ir;l=l||c.secondaryValAxis,i+=fh(u.type,u.data,c,o,d)}):i+=fh(e.opts._type,e.data,e.opts,hs,Ir),e.opts._type!==Y.PIE&&e.opts._type!==Y.DOUGHNUT){if(e.opts.valAxes&&e.opts.valAxes.length>1&&!l)throw new Error("Secondary axis must be used by one of the multiple charts");if(e.opts.catAxes){if(!e.opts.valAxes||e.opts.valAxes.length!==e.opts.catAxes.length)throw new Error("There must be the same number of value and category axes.");i+=io(Object.assign(Object.assign({},e.opts),e.opts.catAxes[0]),Ir,hs)}else i+=io(e.opts,Ir,hs);e.opts.valAxes?(i+=lo(Object.assign(Object.assign({},e.opts),e.opts.valAxes[0]),hs),e.opts.valAxes[1]&&(i+=lo(Object.assign(Object.assign({},e.opts),e.opts.valAxes[1]),Ai))):(i+=lo(e.opts,hs),e.opts._type===Y.BAR3D&&(i+=yy(e.opts,mp,hs))),!((t=e.opts)===null||t===void 0)&&t.catAxes&&(!((s=e.opts)===null||s===void 0)&&s.catAxes[1])&&(i+=io(Object.assign(Object.assign({},e.opts),e.opts.catAxes[1]),pc,Ai))}return e.opts.showDataTable&&(i+="<c:dTable>",i+=`  <c:showHorzBorder val="${e.opts.showDataTableHorzBorder?1:0}"/>`,i+=`  <c:showVertBorder val="${e.opts.showDataTableVertBorder?1:0}"/>`,i+=`  <c:showOutline    val="${e.opts.showDataTableOutline?1:0}"/>`,i+=`  <c:showKeys       val="${e.opts.showDataTableKeys?1:0}"/>`,i+="  <c:spPr>",i+="    <a:noFill/>",i+='    <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="tx1"><a:lumMod val="15000"/><a:lumOff val="85000"/></a:schemeClr></a:solidFill><a:round/></a:ln>',i+="    <a:effectLst/>",i+="  </c:spPr>",i+="  <c:txPr>",i+='   <a:bodyPr rot="0" spcFirstLastPara="1" vertOverflow="ellipsis" vert="horz" wrap="square" anchor="ctr" anchorCtr="1"/>',i+="   <a:lstStyle/>",i+="   <a:p>",i+='     <a:pPr rtl="0">',i+=`       <a:defRPr sz="${Math.round((e.opts.dataTableFontSize||Mt)*100)}" b="0" i="0" u="none" strike="noStrike" kern="1200" baseline="0">`,i+='         <a:solidFill><a:schemeClr val="tx1"><a:lumMod val="65000"/><a:lumOff val="35000"/></a:schemeClr></a:solidFill>',i+='         <a:latin typeface="+mn-lt"/>',i+='         <a:ea typeface="+mn-ea"/>',i+='         <a:cs typeface="+mn-cs"/>',i+="       </a:defRPr>",i+="     </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="   </a:p>",i+=" </c:txPr>",i+="</c:dTable>"),i+="  <c:spPr>",i+=!((r=e.opts.plotArea.fill)===null||r===void 0)&&r.color?kt(e.opts.plotArea.fill):"<a:noFill/>",i+=e.opts.plotArea.border?`<a:ln w="${ce(e.opts.plotArea.border.pt)}" cap="flat">${kt(e.opts.plotArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="    <a:effectLst/>",i+="  </c:spPr>",i+="</c:plotArea>",e.opts.showLegend&&(i+="<c:legend>",i+='<c:legendPos val="'+e.opts.legendPos+'"/>',i+='<c:overlay val="0"/>',(e.opts.legendFontFace||e.opts.legendFontSize||e.opts.legendColor)&&(i+="<c:txPr>",i+="  <a:bodyPr/>",i+="  <a:lstStyle/>",i+="  <a:p>",i+="    <a:pPr>",i+=e.opts.legendFontSize?`<a:defRPr sz="${Math.round(Number(e.opts.legendFontSize)*100)}">`:"<a:defRPr>",e.opts.legendColor&&(i+=kt(e.opts.legendColor)),e.opts.legendFontFace&&(i+='<a:latin typeface="'+e.opts.legendFontFace+'"/>'),e.opts.legendFontFace&&(i+='<a:cs    typeface="'+e.opts.legendFontFace+'"/>'),i+="      </a:defRPr>",i+="    </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="  </a:p>",i+="</c:txPr>"),i+="</c:legend>"),i+='  <c:plotVisOnly val="1"/>',i+='  <c:dispBlanksAs val="'+e.opts.displayBlanksAs+'"/>',e.opts._type===Y.SCATTER&&(i+='<c:showDLblsOverMax val="1"/>'),i+="</c:chart>",i+="<c:spPr>",i+=!((n=e.opts.chartArea.fill)===null||n===void 0)&&n.color?kt(e.opts.chartArea.fill):"<a:noFill/>",i+=e.opts.chartArea.border?`<a:ln w="${ce(e.opts.chartArea.border.pt)}" cap="flat">${kt(e.opts.chartArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="  <a:effectLst/>",i+="</c:spPr>",i+='<c:externalData r:id="rId1"><c:autoUpdate val="0"/></c:externalData>',i+="</c:chartSpace>",i}function fh(e,t,s,r,n,i){let l=-1,u=1,c=null,o="";switch(e){case Y.AREA:case Y.BAR:case Y.BAR3D:case Y.LINE:case Y.RADAR:o+=`<c:${e}Chart>`,e===Y.AREA&&s.barGrouping==="stacked"&&(o+='<c:grouping val="'+s.barGrouping+'"/>'),(e===Y.BAR||e===Y.BAR3D)&&(o+='<c:barDir val="'+s.barDir+'"/>',o+='<c:grouping val="'+(s.barGrouping||"clustered")+'"/>'),e===Y.RADAR&&(o+='<c:radarStyle val="'+s.radarStyle+'"/>'),o+='<c:varyColors val="0"/>',t.forEach(d=>{var h;l++,o+="<c:ser>",o+=`  <c:idx val="${d._dataIndex}"/><c:order val="${d._dataIndex}"/>`,o+="  <c:tx>",o+="    <c:strRef>",o+="      <c:f>Sheet1!$"+ke(d._dataIndex+d.labels.length+1)+"$1</c:f>",o+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(d.name)+"</c:v></c:pt></c:strCache>",o+="    </c:strRef>",o+="  </c:tx>";const A=s.chartColors?s.chartColors[l%s.chartColors.length]:null;o+="  <c:spPr>",A==="transparent"?o+="<a:noFill/>":s.chartColorsOpacity?o+="<a:solidFill>"+je(A,`<a:alpha val="${Math.round(s.chartColorsOpacity*1e3)}"/>`)+"</a:solidFill>":o+="<a:solidFill>"+je(A)+"</a:solidFill>",e===Y.LINE||e===Y.RADAR?s.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":(o+=`<a:ln w="${ce(s.lineSize)}" cap="${gi(s.lineCap)}"><a:solidFill>${je(A)}</a:solidFill>`,o+='<a:prstDash val="'+(s.lineDash||"solid")+'"/><a:round/></a:ln>'):s.dataBorder&&(o+=`<a:ln w="${ce(s.dataBorder.pt)}" cap="${gi(s.lineCap)}"><a:solidFill>${je(s.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),o+=ta(s.shadow,ea),o+="  </c:spPr>",o+='  <c:invertIfNegative val="0"/>',e!==Y.RADAR&&(o+="<c:dLbls>",o+=`<c:numFmt formatCode="${he(s.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,s.dataLabelBkgrdColors&&(o+=`<c:spPr><a:solidFill>${je(A)}</a:solidFill></c:spPr>`),o+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",o+=`<a:defRPr b="${s.dataLabelFontBold?1:0}" i="${s.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((s.dataLabelFontSize||Mt)*100)}" u="none">`,o+=`<a:solidFill>${je(s.dataLabelColor||vt)}</a:solidFill>`,o+=`<a:latin typeface="${s.dataLabelFontFace||"Arial"}"/>`,o+="</a:defRPr></a:pPr></a:p></c:txPr>",s.dataLabelPosition&&(o+=`<c:dLblPos val="${s.dataLabelPosition}"/>`),o+='<c:showLegendKey val="0"/>',o+=`<c:showVal val="${s.showValue?"1":"0"}"/>`,o+=`<c:showCatName val="0"/><c:showSerName val="${s.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,o+=`<c:showLeaderLines val="${s.showLeaderLines?"1":"0"}"/>`,o+="</c:dLbls>"),(e===Y.LINE||e===Y.RADAR)&&(o+="<c:marker>",o+='  <c:symbol val="'+s.lineDataSymbol+'"/>',s.lineDataSymbolSize&&(o+=`<c:size val="${s.lineDataSymbolSize}"/>`),o+="  <c:spPr>",o+=`    <a:solidFill>${je(s.chartColors[d._dataIndex+1>s.chartColors.length?Math.floor(Math.random()*s.chartColors.length):d._dataIndex])}</a:solidFill>`,o+=`    <a:ln w="${s.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${je(s.lineDataSymbolLineColor||A)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,o+="    <a:effectLst/>",o+="  </c:spPr>",o+="</c:marker>"),(e===Y.BAR||e===Y.BAR3D)&&t.length===1&&(s.chartColors&&s.chartColors!==Mr&&s.chartColors.length>1||!((h=s.invertedColors)===null||h===void 0)&&h.length)&&d.values.forEach((f,x)=>{const m=f<0?s.invertedColors||s.chartColors||Mr:s.chartColors||[];o+="  <c:dPt>",o+=`    <c:idx val="${x}"/>`,o+='      <c:invertIfNegative val="0"/>',o+='    <c:bubble3D val="0"/>',o+="    <c:spPr>",s.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":e===Y.BAR?(o+="<a:solidFill>",o+='  <a:srgbClr val="'+m[x%m.length]+'"/>',o+="</a:solidFill>"):(o+="<a:ln>",o+="  <a:solidFill>",o+='   <a:srgbClr val="'+m[x%m.length]+'"/>',o+="  </a:solidFill>",o+="</a:ln>"),o+=ta(s.shadow,ea),o+="    </c:spPr>",o+="  </c:dPt>"}),o+="<c:cat>",s.catLabelFormatCode?(o+="  <c:numRef>",o+=`    <c:f>Sheet1!$A$2:$A$${d.labels[0].length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>"+(s.catLabelFormatCode||"General")+"</c:formatCode>",o+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.labels[0].forEach((f,x)=>o+=`<c:pt idx="${x}"><c:v>${he(f)}</c:v></c:pt>`),o+="    </c:numCache>",o+="  </c:numRef>"):(o+="  <c:multiLvlStrRef>",o+=`    <c:f>Sheet1!$A$2:$${ke(d.labels.length)}$${d.labels[0].length+1}</c:f>`,o+="    <c:multiLvlStrCache>",o+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.labels.forEach(f=>{o+="<c:lvl>",f.forEach((x,m)=>o+=`<c:pt idx="${m}"><c:v>${he(x)}</c:v></c:pt>`),o+="</c:lvl>"}),o+="    </c:multiLvlStrCache>",o+="  </c:multiLvlStrRef>"),o+="</c:cat>",o+="<c:val>",o+="  <c:numRef>",o+=`<c:f>Sheet1!$${ke(d._dataIndex+d.labels.length+1)}$2:$${ke(d._dataIndex+d.labels.length+1)}$${d.labels[0].length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>"+(s.valLabelFormatCode||s.dataTableFormatCode||"General")+"</c:formatCode>",o+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.values.forEach((f,x)=>o+=`<c:pt idx="${x}"><c:v>${f||f===0?f:""}</c:v></c:pt>`),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:val>",e===Y.LINE&&(o+='<c:smooth val="'+(s.lineSmooth?"1":"0")+'"/>'),o+="</c:ser>"}),o+="  <c:dLbls>",o+=`    <c:numFmt formatCode="${he(s.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="    <c:txPr>",o+="      <a:bodyPr/>",o+="      <a:lstStyle/>",o+="      <a:p><a:pPr>",o+=`        <a:defRPr b="${s.dataLabelFontBold?1:0}" i="${s.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((s.dataLabelFontSize||Mt)*100)}" u="none">`,o+="          <a:solidFill>"+je(s.dataLabelColor||vt)+"</a:solidFill>",o+='          <a:latin typeface="'+(s.dataLabelFontFace||"Arial")+'"/>',o+="        </a:defRPr>",o+="      </a:pPr></a:p>",o+="    </c:txPr>",s.dataLabelPosition&&(o+=' <c:dLblPos val="'+s.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="'+(s.showValue?"1":"0")+'"/>',o+='    <c:showCatName val="0"/>',o+='    <c:showSerName val="'+(s.showSerName?"1":"0")+'"/>',o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+=`    <c:showLeaderLines val="${s.showLeaderLines?"1":"0"}"/>`,o+="  </c:dLbls>",e===Y.BAR?(o+=`  <c:gapWidth val="${s.barGapWidthPct}"/>`,o+=`  <c:overlap val="${(s.barGrouping||"").includes("tacked")?100:s.barOverlapPct?s.barOverlapPct:0}"/>`):e===Y.BAR3D?(o+=`  <c:gapWidth val="${s.barGapWidthPct}"/>`,o+=`  <c:gapDepth val="${s.barGapDepthPct}"/>`,o+='  <c:shape val="'+s.bar3DShape+'"/>'):e===Y.LINE&&(o+='  <c:marker val="1"/>'),o+=`<c:axId val="${n}"/><c:axId val="${r}"/><c:axId val="${mp}"/>`,o+=`</c:${e}Chart>`;break;case Y.SCATTER:o+="<c:"+e+"Chart>",o+='<c:scatterStyle val="lineMarker"/>',o+='<c:varyColors val="0"/>',l=-1,t.filter((d,h)=>h>0).forEach((d,h)=>{l++,o+="<c:ser>",o+=`  <c:idx val="${h}"/>`,o+=`  <c:order val="${h}"/>`,o+="  <c:tx>",o+="    <c:strRef>",o+=`      <c:f>Sheet1!$${ke(h+2)}$1</c:f>`,o+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(d.name)+"</c:v></c:pt></c:strCache>",o+="    </c:strRef>",o+="  </c:tx>",o+="  <c:spPr>";{const A=s.chartColors[l%s.chartColors.length];A==="transparent"?o+="<a:noFill/>":s.chartColorsOpacity?o+="<a:solidFill>"+je(A,'<a:alpha val="'+Math.round(s.chartColorsOpacity*1e3).toString()+'"/>')+"</a:solidFill>":o+="<a:solidFill>"+je(A)+"</a:solidFill>",s.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":(o+=`<a:ln w="${ce(s.lineSize)}" cap="${gi(s.lineCap)}"><a:solidFill>${je(A)}</a:solidFill>`,o+=`<a:prstDash val="${s.lineDash||"solid"}"/><a:round/></a:ln>`),o+=ta(s.shadow,ea)}if(o+="  </c:spPr>",o+="<c:marker>",o+='  <c:symbol val="'+s.lineDataSymbol+'"/>',s.lineDataSymbolSize&&(o+=`<c:size val="${s.lineDataSymbolSize}"/>`),o+="<c:spPr>",o+=`<a:solidFill>${je(s.chartColors[h+1>s.chartColors.length?Math.floor(Math.random()*s.chartColors.length):h])}</a:solidFill>`,o+=`<a:ln w="${s.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${je(s.lineDataSymbolLineColor||s.chartColors[l%s.chartColors.length])}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,o+="<a:effectLst/>",o+="</c:spPr>",o+="</c:marker>",s.showLabel){const A=xi("-xxxx-xxxx-xxxx-xxxxxxxxxxxx");d.labels[0]&&(s.dataLabelFormatScatter==="custom"||s.dataLabelFormatScatter==="customXY")&&(o+="<c:dLbls>",d.labels[0].forEach((f,x)=>{(s.dataLabelFormatScatter==="custom"||s.dataLabelFormatScatter==="customXY")&&(o+="  <c:dLbl>",o+=`    <c:idx val="${x}"/>`,o+="    <c:tx>",o+="      <c:rich>",o+="            <a:bodyPr>",o+="                <a:spAutoFit/>",o+="            </a:bodyPr>",o+="            <a:lstStyle/>",o+="            <a:p>",o+="                <a:pPr>",o+="                    <a:defRPr/>",o+="                </a:pPr>",o+="              <a:r>",o+='                    <a:rPr lang="'+(s.lang||"en-US")+'" dirty="0"/>',o+="                    <a:t>"+he(f)+"</a:t>",o+="              </a:r>",s.dataLabelFormatScatter==="customXY"&&!/^ *$/.test(f)&&(o+="              <a:r>",o+='                  <a:rPr lang="'+(s.lang||"en-US")+'" baseline="0" dirty="0"/>',o+="                  <a:t> (</a:t>",o+="              </a:r>",o+='              <a:fld id="{'+xi("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="XVALUE">',o+='                  <a:rPr lang="'+(s.lang||"en-US")+'" baseline="0"/>',o+="                  <a:pPr>",o+="                      <a:defRPr/>",o+="                  </a:pPr>",o+="                  <a:t>["+he(d.name)+"</a:t>",o+="              </a:fld>",o+="              <a:r>",o+='                  <a:rPr lang="'+(s.lang||"en-US")+'" baseline="0" dirty="0"/>',o+="                  <a:t>, </a:t>",o+="              </a:r>",o+='              <a:fld id="{'+xi("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="YVALUE">',o+='                  <a:rPr lang="'+(s.lang||"en-US")+'" baseline="0"/>',o+="                  <a:pPr>",o+="                      <a:defRPr/>",o+="                  </a:pPr>",o+="                  <a:t>["+he(d.name)+"]</a:t>",o+="              </a:fld>",o+="              <a:r>",o+='                  <a:rPr lang="'+(s.lang||"en-US")+'" baseline="0" dirty="0"/>',o+="                  <a:t>)</a:t>",o+="              </a:r>",o+='              <a:endParaRPr lang="'+(s.lang||"en-US")+'" dirty="0"/>'),o+="            </a:p>",o+="      </c:rich>",o+="    </c:tx>",o+="    <c:spPr>",o+="        <a:noFill/>",o+="        <a:ln>",o+="            <a:noFill/>",o+="        </a:ln>",o+="        <a:effectLst/>",o+="    </c:spPr>",s.dataLabelPosition&&(o+=' <c:dLblPos val="'+s.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="0"/>',o+='    <c:showCatName val="0"/>',o+='    <c:showSerName val="0"/>',o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+='       <c:showLeaderLines val="1"/>',o+="    <c:extLst>",o+='      <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart"/>',o+='      <c:ext uri="{C3380CC4-5D6E-409C-BE32-E72D297353CC}" xmlns:c16="http://schemas.microsoft.com/office/drawing/2014/chart">',o+=`            <c16:uniqueId val="{${"00000000".substring(0,8-(x+1).toString().length).toString()}${x+1}${A}}"/>`,o+="      </c:ext>",o+="        </c:extLst>",o+="</c:dLbl>")}),o+="</c:dLbls>"),s.dataLabelFormatScatter==="XY"&&(o+="<c:dLbls>",o+="    <c:spPr>",o+="        <a:noFill/>",o+="        <a:ln>",o+="            <a:noFill/>",o+="        </a:ln>",o+="          <a:effectLst/>",o+="    </c:spPr>",o+="    <c:txPr>",o+="        <a:bodyPr>",o+="            <a:spAutoFit/>",o+="        </a:bodyPr>",o+="        <a:lstStyle/>",o+="        <a:p>",o+="            <a:pPr>",o+="                <a:defRPr/>",o+="            </a:pPr>",o+='            <a:endParaRPr lang="en-US"/>',o+="        </a:p>",o+="    </c:txPr>",s.dataLabelPosition&&(o+=' <c:dLblPos val="'+s.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+=` <c:showVal val="${s.showLabel?"1":"0"}"/>`,o+=` <c:showCatName val="${s.showLabel?"1":"0"}"/>`,o+=` <c:showSerName val="${s.showSerName?"1":"0"}"/>`,o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+="    <c:extLst>",o+='        <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',o+='            <c15:showLeaderLines val="1"/>',o+="        </c:ext>",o+="    </c:extLst>",o+="</c:dLbls>")}t.length===1&&s.chartColors!==Mr&&d.values.forEach((A,f)=>{const x=A<0?s.invertedColors||s.chartColors||Mr:s.chartColors||[];o+="  <c:dPt>",o+=`    <c:idx val="${f}"/>`,o+='      <c:invertIfNegative val="0"/>',o+='    <c:bubble3D val="0"/>',o+="    <c:spPr>",s.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":(o+="<a:solidFill>",o+=' <a:srgbClr val="'+x[f%x.length]+'"/>',o+="</a:solidFill>"),o+=ta(s.shadow,ea),o+="    </c:spPr>",o+="  </c:dPt>"}),o+="<c:xVal>",o+="  <c:numRef>",o+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((A,f)=>{o+=`<c:pt idx="${f}"><c:v>${A||A===0?A:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:xVal>",o+="<c:yVal>",o+="  <c:numRef>",o+=`    <c:f>Sheet1!$${ke(h+2)}$2:$${ke(h+2)}$${t[0].values.length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((A,f)=>{o+=`<c:pt idx="${f}"><c:v>${d.values[f]||d.values[f]===0?d.values[f]:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:yVal>",o+='<c:smooth val="'+(s.lineSmooth?"1":"0")+'"/>',o+="</c:ser>"}),o+="  <c:dLbls>",o+=`    <c:numFmt formatCode="${he(s.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="    <c:txPr>",o+="      <a:bodyPr/>",o+="      <a:lstStyle/>",o+="      <a:p><a:pPr>",o+=`        <a:defRPr b="${s.dataLabelFontBold?"1":"0"}" i="${s.dataLabelFontItalic?"1":"0"}" strike="noStrike" sz="${Math.round((s.dataLabelFontSize||Mt)*100)}" u="none">`,o+="          <a:solidFill>"+je(s.dataLabelColor||vt)+"</a:solidFill>",o+='          <a:latin typeface="'+(s.dataLabelFontFace||"Arial")+'"/>',o+="        </a:defRPr>",o+="      </a:pPr></a:p>",o+="    </c:txPr>",s.dataLabelPosition&&(o+=' <c:dLblPos val="'+s.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="'+(s.showValue?"1":"0")+'"/>',o+='    <c:showCatName val="0"/>',o+='    <c:showSerName val="'+(s.showSerName?"1":"0")+'"/>',o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+="  </c:dLbls>",o+=`<c:axId val="${n}"/><c:axId val="${r}"/>`,o+="</c:"+e+"Chart>";break;case Y.BUBBLE:case Y.BUBBLE3D:o+="<c:bubbleChart>",o+='<c:varyColors val="0"/>',l=-1,t.filter((d,h)=>h>0).forEach((d,h)=>{l++,o+="<c:ser>",o+=`  <c:idx val="${h}"/>`,o+=`  <c:order val="${h}"/>`,o+="  <c:tx>",o+="    <c:strRef>",o+="      <c:f>Sheet1!$"+ke(u+1)+"$1</c:f>",o+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(d.name)+"</c:v></c:pt></c:strCache>",o+="    </c:strRef>",o+="  </c:tx>";{o+="<c:spPr>";const A=s.chartColors[l%s.chartColors.length];A==="transparent"?o+="<a:noFill/>":s.chartColorsOpacity?o+=`<a:solidFill>${je(A,'<a:alpha val="'+Math.round(s.chartColorsOpacity*1e3).toString()+'"/>')}</a:solidFill>`:o+="<a:solidFill>"+je(A)+"</a:solidFill>",s.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":s.dataBorder?o+=`<a:ln w="${ce(s.dataBorder.pt)}" cap="flat"><a:solidFill>${je(s.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`:(o+=`<a:ln w="${ce(s.lineSize)}" cap="flat"><a:solidFill>${je(A)}</a:solidFill>`,o+=`<a:prstDash val="${s.lineDash||"solid"}"/><a:round/></a:ln>`),o+=ta(s.shadow,ea),o+="</c:spPr>"}o+="<c:xVal>",o+="  <c:numRef>",o+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((A,f)=>{o+=`<c:pt idx="${f}"><c:v>${A||A===0?A:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:xVal>",o+="<c:yVal>",o+="  <c:numRef>",o+=`<c:f>Sheet1!$${ke(u+1)}$2:$${ke(u+1)}$${t[0].values.length+1}</c:f>`,u++,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((A,f)=>{o+=`<c:pt idx="${f}"><c:v>${d.values[f]||d.values[f]===0?d.values[f]:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:yVal>",o+="  <c:bubbleSize>",o+="    <c:numRef>",o+=`<c:f>Sheet1!$${ke(u+1)}$2:$${ke(u+1)}$${d.sizes.length+1}</c:f>`,u++,o+="      <c:numCache>",o+="        <c:formatCode>General</c:formatCode>",o+=`           <c:ptCount val="${d.sizes.length}"/>`,d.sizes.forEach((A,f)=>{o+=`<c:pt idx="${f}"><c:v>${A||""}</c:v></c:pt>`}),o+="      </c:numCache>",o+="    </c:numRef>",o+="  </c:bubbleSize>",o+='  <c:bubble3D val="'+(e===Y.BUBBLE3D?"1":"0")+'"/>',o+="</c:ser>"}),o+="<c:dLbls>",o+=`<c:numFmt formatCode="${he(s.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",o+=`<a:defRPr b="${s.dataLabelFontBold?1:0}" i="${s.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round(Math.round(s.dataLabelFontSize||Mt)*100)}" u="none">`,o+=`<a:solidFill>${je(s.dataLabelColor||vt)}</a:solidFill>`,o+=`<a:latin typeface="${s.dataLabelFontFace||"Arial"}"/>`,o+="</a:defRPr></a:pPr></a:p></c:txPr>",s.dataLabelPosition&&(o+=`<c:dLblPos val="${s.dataLabelPosition}"/>`),o+='<c:showLegendKey val="0"/>',o+=`<c:showVal val="${s.showValue?"1":"0"}"/>`,o+=`<c:showCatName val="0"/><c:showSerName val="${s.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,o+="<c:extLst>",o+='  <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',o+='    <c15:showLeaderLines val="'+(s.showLeaderLines?"1":"0")+'"/>',o+="  </c:ext>",o+="</c:extLst>",o+="</c:dLbls>",o+=`<c:axId val="${n}"/><c:axId val="${r}"/>`,o+="</c:bubbleChart>";break;case Y.DOUGHNUT:case Y.PIE:c=t[0],o+="<c:"+e+"Chart>",o+='  <c:varyColors val="1"/>',o+="<c:ser>",o+='  <c:idx val="0"/>',o+='  <c:order val="0"/>',o+="  <c:tx>",o+="    <c:strRef>",o+="      <c:f>Sheet1!$B$1</c:f>",o+="      <c:strCache>",o+='        <c:ptCount val="1"/>',o+='        <c:pt idx="0"><c:v>'+he(c.name)+"</c:v></c:pt>",o+="      </c:strCache>",o+="    </c:strRef>",o+="  </c:tx>",o+="  <c:spPr>",o+='    <a:solidFill><a:schemeClr val="accent1"/></a:solidFill>',o+='    <a:ln w="9525" cap="flat"><a:solidFill><a:srgbClr val="F9F9F9"/></a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>',s.dataNoEffects?o+="<a:effectLst/>":o+=ta(s.shadow,ea),o+="  </c:spPr>",c.labels[0].forEach((d,h)=>{o+="<c:dPt>",o+=` <c:idx val="${h}"/>`,o+=' <c:bubble3D val="0"/>',o+=" <c:spPr>",o+=`<a:solidFill>${je(s.chartColors[h+1>s.chartColors.length?Math.floor(Math.random()*s.chartColors.length):h])}</a:solidFill>`,s.dataBorder&&(o+=`<a:ln w="${ce(s.dataBorder.pt)}" cap="flat"><a:solidFill>${je(s.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),o+=ta(s.shadow,ea),o+="  </c:spPr>",o+="</c:dPt>"}),o+="<c:dLbls>",c.labels[0].forEach((d,h)=>{o+="<c:dLbl>",o+=` <c:idx val="${h}"/>`,o+=`  <c:numFmt formatCode="${he(s.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="  <c:spPr/><c:txPr>",o+="   <a:bodyPr/><a:lstStyle/>",o+="   <a:p><a:pPr>",o+=`   <a:defRPr sz="${Math.round((s.dataLabelFontSize||Mt)*100)}" b="${s.dataLabelFontBold?1:0}" i="${s.dataLabelFontItalic?1:0}" u="none" strike="noStrike">`,o+="    <a:solidFill>"+je(s.dataLabelColor||vt)+"</a:solidFill>",o+=`    <a:latin typeface="${s.dataLabelFontFace||"Arial"}"/>`,o+="   </a:defRPr>",o+="      </a:pPr></a:p>",o+="    </c:txPr>",e===Y.PIE&&s.dataLabelPosition&&(o+=`<c:dLblPos val="${s.dataLabelPosition}"/>`),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="'+(s.showValue?"1":"0")+'"/>',o+='    <c:showCatName val="'+(s.showLabel?"1":"0")+'"/>',o+='    <c:showSerName val="'+(s.showSerName?"1":"0")+'"/>',o+='    <c:showPercent val="'+(s.showPercent?"1":"0")+'"/>',o+='    <c:showBubbleSize val="0"/>',o+="  </c:dLbl>"}),o+=` <c:numFmt formatCode="${he(s.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="    <c:txPr>",o+="      <a:bodyPr/>",o+="      <a:lstStyle/>",o+="      <a:p>",o+="        <a:pPr>",o+=`          <a:defRPr sz="1800" b="${s.dataLabelFontBold?"1":"0"}" i="${s.dataLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,o+='            <a:solidFill><a:srgbClr val="000000"/></a:solidFill><a:latin typeface="Arial"/>',o+="          </a:defRPr>",o+="        </a:pPr>",o+="      </a:p>",o+="    </c:txPr>",o+=e===Y.PIE?'<c:dLblPos val="ctr"/>':"",o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="0"/>',o+='    <c:showCatName val="1"/>',o+='    <c:showSerName val="0"/>',o+='    <c:showPercent val="1"/>',o+='    <c:showBubbleSize val="0"/>',o+=` <c:showLeaderLines val="${s.showLeaderLines?"1":"0"}"/>`,o+="</c:dLbls>",o+="<c:cat>",o+="  <c:strRef>",o+=`    <c:f>Sheet1!$A$2:$A$${c.labels[0].length+1}</c:f>`,o+="    <c:strCache>",o+=`         <c:ptCount val="${c.labels[0].length}"/>`,c.labels[0].forEach((d,h)=>{o+=`<c:pt idx="${h}"><c:v>${he(d)}</c:v></c:pt>`}),o+="    </c:strCache>",o+="  </c:strRef>",o+="</c:cat>",o+="  <c:val>",o+="    <c:numRef>",o+=`      <c:f>Sheet1!$B$2:$B$${c.labels[0].length+1}</c:f>`,o+="      <c:numCache>",o+=`           <c:ptCount val="${c.labels[0].length}"/>`,c.values.forEach((d,h)=>{o+=`<c:pt idx="${h}"><c:v>${d||d===0?d:""}</c:v></c:pt>`}),o+="      </c:numCache>",o+="    </c:numRef>",o+="  </c:val>",o+="  </c:ser>",o+=`  <c:firstSliceAng val="${s.firstSliceAng?Math.round(s.firstSliceAng):0}"/>`,e===Y.DOUGHNUT&&(o+=`<c:holeSize val="${typeof s.holeSize=="number"?s.holeSize:"50"}"/>`),o+="</c:"+e+"Chart>";break;default:o+="";break}return o}function io(e,t,s){let r="";return e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D?r+="<c:valAx>":r+="<c:"+(e.catLabelFormatCode?"dateAx":"catAx")+">",r+='  <c:axId val="'+t+'"/>',r+="  <c:scaling>",r+='<c:orientation val="'+(e.catAxisOrientation||(e.barDir==="col","minMax"))+'"/>',(e.catAxisMaxVal||e.catAxisMaxVal===0)&&(r+=`<c:max val="${e.catAxisMaxVal}"/>`),(e.catAxisMinVal||e.catAxisMinVal===0)&&(r+=`<c:min val="${e.catAxisMinVal}"/>`),r+="</c:scaling>",r+='  <c:delete val="'+(e.catAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(e.barDir==="col"?"b":"l")+'"/>',r+=e.catGridLine.style!=="none"?Sd(e.catGridLine):"",e.showCatAxisTitle&&(r+=yl({color:e.catAxisTitleColor,fontFace:e.catAxisTitleFontFace,fontSize:e.catAxisTitleFontSize,titleRotate:e.catAxisTitleRotate,title:e.catAxisTitle||"Axis Title"})),e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D?r+='  <c:numFmt formatCode="'+(e.valAxisLabelFormatCode?he(e.valAxisLabelFormatCode):"General")+'" sourceLinked="1"/>':r+='  <c:numFmt formatCode="'+(he(e.catLabelFormatCode)||"General")+'" sourceLinked="1"/>',e._type===Y.SCATTER?(r+='  <c:majorTickMark val="none"/>',r+='  <c:minorTickMark val="none"/>',r+='  <c:tickLblPos val="nextTo"/>'):(r+='  <c:majorTickMark val="'+(e.catAxisMajorTickMark||"out")+'"/>',r+='  <c:minorTickMark val="'+(e.catAxisMinorTickMark||"none")+'"/>',r+='  <c:tickLblPos val="'+(e.catAxisLabelPos||(e.barDir==="col"?"low":"nextTo"))+'"/>'),r+="  <c:spPr>",r+=`    <a:ln w="${e.catAxisLineSize?ce(e.catAxisLineSize):Rn}" cap="flat">`,r+=e.catAxisLineShow?"<a:solidFill>"+je(e.catAxisLineColor||ca.color)+"</a:solidFill>":"<a:noFill/>",r+='      <a:prstDash val="'+(e.catAxisLineStyle||"solid")+'"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",e.catAxisLabelRotate?r+=`<a:bodyPr rot="${da(e.catAxisLabelRotate)}"/>`:r+="<a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`      <a:defRPr sz="${Math.round((e.catAxisLabelFontSize||Mt)*100)}" b="${e.catAxisLabelFontBold?1:0}" i="${e.catAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,r+="      <a:solidFill>"+je(e.catAxisLabelColor||vt)+"</a:solidFill>",r+='      <a:latin typeface="'+(e.catAxisLabelFontFace||"Arial")+'"/>',r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+s+'"/>',r+=` <c:${typeof e.valAxisCrossesAt=="number"?"crossesAt":"crosses"} val="${e.valAxisCrossesAt||"autoZero"}"/>`,r+=' <c:auto val="1"/>',r+=' <c:lblAlgn val="ctr"/>',r+=` <c:noMultiLvlLbl val="${e.catAxisMultiLevelLabels?0:1}"/>`,e.catAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+e.catAxisLabelFrequency+'"/>'),(e.catLabelFormatCode||e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D)&&(e.catLabelFormatCode&&(["catAxisBaseTimeUnit","catAxisMajorTimeUnit","catAxisMinorTimeUnit"].forEach(n=>{e[n]&&(typeof e[n]!="string"||!["days","months","years"].includes(e[n].toLowerCase()))&&(console.warn(`"${n}" must be one of: 'days','months','years' !`),e[n]=null)}),e.catAxisBaseTimeUnit&&(r+='<c:baseTimeUnit val="'+e.catAxisBaseTimeUnit.toLowerCase()+'"/>'),e.catAxisMajorTimeUnit&&(r+='<c:majorTimeUnit val="'+e.catAxisMajorTimeUnit.toLowerCase()+'"/>'),e.catAxisMinorTimeUnit&&(r+='<c:minorTimeUnit val="'+e.catAxisMinorTimeUnit.toLowerCase()+'"/>')),e.catAxisMajorUnit&&(r+=`<c:majorUnit val="${e.catAxisMajorUnit}"/>`),e.catAxisMinorUnit&&(r+=`<c:minorUnit val="${e.catAxisMinorUnit}"/>`)),e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D?r+="</c:valAx>":r+="</c:"+(e.catLabelFormatCode?"dateAx":"catAx")+">",r}function lo(e,t){let s=t===hs?e.barDir==="col"?"l":"b":e.barDir!=="col"?"r":"t";t===Ai&&(s="r");const r=t===hs?Ir:pc;let n="";return n+="<c:valAx>",n+='  <c:axId val="'+t+'"/>',n+="  <c:scaling>",e.valAxisLogScaleBase&&(n+=`<c:logBase val="${e.valAxisLogScaleBase}"/>`),n+='<c:orientation val="'+(e.valAxisOrientation||(e.barDir==="col","minMax"))+'"/>',(e.valAxisMaxVal||e.valAxisMaxVal===0)&&(n+=`<c:max val="${e.valAxisMaxVal}"/>`),(e.valAxisMinVal||e.valAxisMinVal===0)&&(n+=`<c:min val="${e.valAxisMinVal}"/>`),n+="  </c:scaling>",n+=`  <c:delete val="${e.valAxisHidden?1:0}"/>`,n+='  <c:axPos val="'+s+'"/>',e.valGridLine.style!=="none"&&(n+=Sd(e.valGridLine)),e.showValAxisTitle&&(n+=yl({color:e.valAxisTitleColor,fontFace:e.valAxisTitleFontFace,fontSize:e.valAxisTitleFontSize,titleRotate:e.valAxisTitleRotate,title:e.valAxisTitle||"Axis Title"})),n+=`<c:numFmt formatCode="${e.valAxisLabelFormatCode?he(e.valAxisLabelFormatCode):"General"}" sourceLinked="0"/>`,e._type===Y.SCATTER?(n+='  <c:majorTickMark val="none"/>',n+='  <c:minorTickMark val="none"/>',n+='  <c:tickLblPos val="nextTo"/>'):(n+=' <c:majorTickMark val="'+(e.valAxisMajorTickMark||"out")+'"/>',n+=' <c:minorTickMark val="'+(e.valAxisMinorTickMark||"none")+'"/>',n+=' <c:tickLblPos val="'+(e.valAxisLabelPos||(e.barDir==="col"?"nextTo":"low"))+'"/>'),n+=" <c:spPr>",n+=`   <a:ln w="${e.valAxisLineSize?ce(e.valAxisLineSize):Rn}" cap="flat">`,n+=e.valAxisLineShow?"<a:solidFill>"+je(e.valAxisLineColor||ca.color)+"</a:solidFill>":"<a:noFill/>",n+='     <a:prstDash val="'+(e.valAxisLineStyle||"solid")+'"/>',n+="     <a:round/>",n+="   </a:ln>",n+=" </c:spPr>",n+=" <c:txPr>",n+=`  <a:bodyPr${e.valAxisLabelRotate?' rot="'+da(e.valAxisLabelRotate).toString()+'"':""}/>`,n+="  <a:lstStyle/>",n+="  <a:p>",n+="    <a:pPr>",n+=`      <a:defRPr sz="${Math.round((e.valAxisLabelFontSize||Mt)*100)}" b="${e.valAxisLabelFontBold?1:0}" i="${e.valAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,n+="        <a:solidFill>"+je(e.valAxisLabelColor||vt)+"</a:solidFill>",n+='        <a:latin typeface="'+(e.valAxisLabelFontFace||"Arial")+'"/>',n+="      </a:defRPr>",n+="    </a:pPr>",n+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',n+="  </a:p>",n+=" </c:txPr>",n+=' <c:crossAx val="'+r+'"/>',typeof e.catAxisCrossesAt=="number"?n+=` <c:crossesAt val="${e.catAxisCrossesAt}"/>`:typeof e.catAxisCrossesAt=="string"?n+=' <c:crosses val="'+e.catAxisCrossesAt+'"/>':n+=' <c:crosses val="'+(s==="r"||s==="t"?"max":"autoZero")+'"/>',n+=' <c:crossBetween val="'+(e._type===Y.SCATTER||Array.isArray(e._type)&&e._type.filter(i=>i.type===Y.AREA).length>0?"midCat":"between")+'"/>',e.valAxisMajorUnit&&(n+=` <c:majorUnit val="${e.valAxisMajorUnit}"/>`),e.valAxisDisplayUnit&&(n+=`<c:dispUnits><c:builtInUnit val="${e.valAxisDisplayUnit}"/>${e.valAxisDisplayUnitLabel?"<c:dispUnitsLbl/>":""}</c:dispUnits>`),n+="</c:valAx>",n}function yy(e,t,s){let r="";return r+="<c:serAx>",r+='  <c:axId val="'+t+'"/>',r+='  <c:scaling><c:orientation val="'+(e.serAxisOrientation||(e.barDir==="col","minMax"))+'"/></c:scaling>',r+='  <c:delete val="'+(e.serAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(e.barDir==="col"?"b":"l")+'"/>',r+=e.serGridLine.style!=="none"?Sd(e.serGridLine):"",e.showSerAxisTitle&&(r+=yl({color:e.serAxisTitleColor,fontFace:e.serAxisTitleFontFace,fontSize:e.serAxisTitleFontSize,titleRotate:e.serAxisTitleRotate,title:e.serAxisTitle||"Axis Title"})),r+=`  <c:numFmt formatCode="${he(e.serLabelFormatCode)||"General"}" sourceLinked="0"/>`,r+='  <c:majorTickMark val="out"/>',r+='  <c:minorTickMark val="none"/>',r+=`  <c:tickLblPos val="${e.serAxisLabelPos||e.barDir==="col"?"low":"nextTo"}"/>`,r+="  <c:spPr>",r+='    <a:ln w="12700" cap="flat">',r+=e.serAxisLineShow?`<a:solidFill>${je(e.serAxisLineColor||ca.color)}</a:solidFill>`:"<a:noFill/>",r+='      <a:prstDash val="solid"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",r+="    <a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`    <a:defRPr sz="${Math.round((e.serAxisLabelFontSize||Mt)*100)}" b="${e.serAxisLabelFontBold?"1":"0"}" i="${e.serAxisLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,r+=`      <a:solidFill>${je(e.serAxisLabelColor||vt)}</a:solidFill>`,r+=`      <a:latin typeface="${e.serAxisLabelFontFace||"Arial"}"/>`,r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+s+'"/>',r+=' <c:crosses val="autoZero"/>',e.serAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+e.serAxisLabelFrequency+'"/>'),e.serLabelFormatCode&&(["serAxisBaseTimeUnit","serAxisMajorTimeUnit","serAxisMinorTimeUnit"].forEach(n=>{e[n]&&(typeof e[n]!="string"||!["days","months","years"].includes(n.toLowerCase()))&&(console.warn(`"${n}" must be one of: 'days','months','years' !`),e[n]=null)}),e.serAxisBaseTimeUnit&&(r+=` <c:baseTimeUnit  val="${e.serAxisBaseTimeUnit.toLowerCase()}"/>`),e.serAxisMajorTimeUnit&&(r+=` <c:majorTimeUnit val="${e.serAxisMajorTimeUnit.toLowerCase()}"/>`),e.serAxisMinorTimeUnit&&(r+=` <c:minorTimeUnit val="${e.serAxisMinorTimeUnit.toLowerCase()}"/>`),e.serAxisMajorUnit&&(r+=` <c:majorUnit val="${e.serAxisMajorUnit}"/>`),e.serAxisMinorUnit&&(r+=` <c:minorUnit val="${e.serAxisMinorUnit}"/>`)),r+="</c:serAx>",r}function yl(e,t,s){const r=e.titleAlign==="left"||e.titleAlign==="right"?`<a:pPr algn="${e.titleAlign.substring(0,1)}">`:"<a:pPr>",n=e.titleRotate?`<a:bodyPr rot="${da(e.titleRotate)}"/>`:"<a:bodyPr/>",i=e.fontSize?`sz="${Math.round(e.fontSize*100)}"`:"",l=e.titleBold?1:0;let u="<c:layout/>";if(e.titlePos&&typeof e.titlePos.x=="number"&&typeof e.titlePos.y=="number"){const c=e.titlePos.x+t,o=e.titlePos.y+s;let d=c===0?0:c*(c/5)/10;d>=1&&(d=d/10),d>=.1&&(d=d/10);let h=o===0?0:o*(o/5)/10;h>=1&&(h=h/10),h>=.1&&(h=h/10),u=`<c:layout><c:manualLayout><c:xMode val="edge"/><c:yMode val="edge"/><c:x val="${d}"/><c:y val="${h}"/></c:manualLayout></c:layout>`}return`<c:title>
      <c:tx>
        <c:rich>
          ${n}
          <a:lstStyle/>
          <a:p>
            ${r}
            <a:defRPr ${i} b="${l}" i="0" u="none" strike="noStrike">
              <a:solidFill>${je(e.color||vt)}</a:solidFill>
              <a:latin typeface="${e.fontFace||"Arial"}"/>
            </a:defRPr>
          </a:pPr>
          <a:r>
            <a:rPr ${i} b="${l}" i="0" u="none" strike="noStrike">
              <a:solidFill>${je(e.color||vt)}</a:solidFill>
              <a:latin typeface="${e.fontFace||"Arial"}"/>
            </a:rPr>
            <a:t>${he(e.title)||""}</a:t>
          </a:r>
        </a:p>
        </c:rich>
      </c:tx>
      ${u}
      <c:overlay val="0"/>
    </c:title>`}function ke(e){let t="";const s=e-1;return s<=25?t=Dr[s]:t=`${Dr[Math.floor(s/Dr.length-1)]}${Dr[s%Dr.length]}`,t}function ta(e,t){if(e){if(typeof e!="object")return console.warn("`shadow` options must be an object. Ex: `{shadow: {type:'none'}}`"),"<a:effectLst/>"}else return"<a:effectLst/>";let s="<a:effectLst>";const r=Object.assign(Object.assign({},t),e),n=r.type||"outer",i=ce(r.blur),l=ce(r.offset),u=Math.round(r.angle*6e4),c=r.color,o=Math.round(r.opacity*1e5),d=r.rotateWithShape?1:0;return s+=`<a:${n}Shdw sx="100000" sy="100000" kx="0" ky="0"  algn="bl" blurRad="${i}" rotWithShape="${d}" dist="${l}" dir="${u}">`,s+=`<a:srgbClr val="${c}">`,s+=`<a:alpha val="${o}"/></a:srgbClr>`,s+=`</a:${n}Shdw>`,s+="</a:effectLst>",s}function Sd(e){let t="<c:majorGridlines>";return t+=" <c:spPr>",t+=`  <a:ln w="${ce(e.size||ca.size)}" cap="${gi(e.cap||ca.cap)}">`,t+='  <a:solidFill><a:srgbClr val="'+(e.color||ca.color)+'"/></a:solidFill>',t+='   <a:prstDash val="'+(e.style||ca.style)+'"/><a:round/>',t+="  </a:ln>",t+=" </c:spPr>",t+="</c:majorGridlines>",t}function gi(e){if(!e||e==="flat")return"flat";if(e==="square")return"sq";if(e==="round")return"rnd";{const t=e;throw new Error(`Invalid chart line cap: ${t}`)}}function oo(e){var t,s;const r=typeof process<"u"&&!!(!((t=process.versions)===null||t===void 0)&&t.node)&&((s=process.release)===null||s===void 0?void 0:s.name)==="node";let n,i;const l=r?()=>St(this,void 0,void 0,function*(){({default:n}=yield ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])),{default:i}=yield ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])}):()=>St(this,void 0,void 0,function*(){});r&&l();const u=[],c=e._relsMedia.filter(d=>d.type!=="online"&&!d.data&&(!d.path||d.path&&!d.path.includes("preencoded"))),o=[];return c.forEach(d=>{o.includes(d.path)?d.isDuplicate=!0:(d.isDuplicate=!1,o.push(d.path))}),c.filter(d=>!d.isDuplicate).forEach(d=>{u.push(St(this,void 0,void 0,function*(){if(i||(yield l()),r&&n&&d.path.indexOf("http")!==0)try{const h=n.readFileSync(d.path);return d.data=Buffer.from(h).toString("base64"),c.filter(A=>A.isDuplicate&&A.path===d.path).forEach(A=>A.data=d.data),"done"}catch(h){throw d.data=Xa,c.filter(A=>A.isDuplicate&&A.path===d.path).forEach(A=>A.data=d.data),new Error(`ERROR: Unable to read media: "${d.path}"
${String(h)}`)}return r&&i&&d.path.startsWith("http")?yield new Promise((h,A)=>{i.get(d.path,f=>{let x="";f.setEncoding("binary"),f.on("data",m=>x+=m),f.on("end",()=>{d.data=Buffer.from(x,"binary").toString("base64"),c.filter(m=>m.isDuplicate&&m.path===d.path).forEach(m=>m.data=d.data),h("done")}),f.on("error",()=>{d.data=Xa,c.filter(m=>m.isDuplicate&&m.path===d.path).forEach(m=>m.data=d.data),A(new Error(`ERROR! Unable to load image (https.get): ${d.path}`))})})}):yield new Promise((h,A)=>{const f=new XMLHttpRequest;f.onload=()=>{const x=new FileReader;x.onloadend=()=>{d.data=x.result,c.filter(m=>m.isDuplicate&&m.path===d.path).forEach(m=>m.data=d.data),d.isSvgPng?mh(d).then(()=>h("done")).catch(A):h("done")},x.readAsDataURL(f.response)},f.onerror=()=>{d.data=Xa,c.filter(x=>x.isDuplicate&&x.path===d.path).forEach(x=>x.data=d.data),A(new Error(`ERROR! Unable to load image (xhr.onerror): ${d.path}`))},f.open("GET",d.path),f.responseType="blob",f.send()})}))}),e._relsMedia.filter(d=>d.isSvgPng&&d.data).forEach(d=>{St(this,void 0,void 0,function*(){r&&!n&&(yield l()),r&&n?(d.data=Xa,u.push(Promise.resolve("done"))):u.push(mh(d))})}),u}function mh(e){return St(this,void 0,void 0,function*(){return yield new Promise((t,s)=>{const r=new Image;r.onload=()=>{r.width+r.height===0&&r.onerror("h/w=0");let n=document.createElement("CANVAS");const i=n.getContext("2d");n.width=r.width,n.height=r.height,i.drawImage(r,0,0);try{e.data=n.toDataURL(e.type),t("done")}catch(l){r.onerror(l.toString())}n=null},r.onerror=()=>{e.data=Xa,s(new Error(`ERROR! Unable to load image (image.onerror): ${e.path}`))},r.src=typeof e.data=="string"?e.data:Xa})})}const by={cover:function(e,t){const s=e.h/e.w,n=t.h/t.w>s,i=n?t.h/s:t.w,l=n?t.h:t.w*s,u=Math.round(1e5*.5*(1-t.w/i)),c=Math.round(1e5*.5*(1-t.h/l));return`<a:srcRect l="${u}" r="${u}" t="${c}" b="${c}"/><a:stretch/>`},contain:function(e,t){const s=e.h/e.w,n=t.h/t.w>s,i=n?t.w:t.h/s,l=n?t.w*s:t.h,u=Math.round(1e5*.5*(1-t.w/i)),c=Math.round(1e5*.5*(1-t.h/l));return`<a:srcRect l="${u}" r="${u}" t="${c}" b="${c}"/><a:stretch/>`},crop:function(e,t){const s=t.x,r=e.w-(t.x+t.w),n=t.y,i=e.h-(t.y+t.h),l=Math.round(1e5*(s/e.w)),u=Math.round(1e5*(r/e.w)),c=Math.round(1e5*(n/e.h)),o=Math.round(1e5*(i/e.h));return`<a:srcRect l="${l}" r="${u}" t="${c}" b="${o}"/><a:stretch/>`}};function kd(e){var t;let s=e._name?'<p:cSld name="'+e._name+'">':"<p:cSld>",r=1;return e._bkgdImgRid?s+=`<p:bg><p:bgPr><a:blipFill dpi="0" rotWithShape="1"><a:blip r:embed="rId${e._bkgdImgRid}"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`:!((t=e.background)===null||t===void 0)&&t.color?s+=`<p:bg><p:bgPr>${kt(e.background)}</p:bgPr></p:bg>`:!e.bkgd&&e._name&&e._name===mc&&(s+='<p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg>'),s+="<p:spTree>",s+='<p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>',s+='<p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/>',s+='<a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr>',e._slideObjects.forEach((n,i)=>{var l,u,c,o,d,h,A,f;let x=0,m=0,y=xe("75%","X",e._presLayout),g=0,p,v="",w=null,j=null,C=0,L=0,E=null,k=null;const R=(l=n.options)===null||l===void 0?void 0:l.sizing,U=(u=n.options)===null||u===void 0?void 0:u.rounding;e._slideLayout!==void 0&&e._slideLayout._slideObjects!==void 0&&n.options&&n.options.placeholder&&(p=e._slideLayout._slideObjects.filter(b=>b.options.placeholder===n.options.placeholder)[0]),n.options=n.options||{},typeof n.options.x<"u"&&(x=xe(n.options.x,"X",e._presLayout)),typeof n.options.y<"u"&&(m=xe(n.options.y,"Y",e._presLayout)),typeof n.options.w<"u"&&(y=xe(n.options.w,"X",e._presLayout)),typeof n.options.h<"u"&&(g=xe(n.options.h,"Y",e._presLayout));let _=y,I=g;switch(p&&((p.options.x||p.options.x===0)&&(x=xe(p.options.x,"X",e._presLayout)),(p.options.y||p.options.y===0)&&(m=xe(p.options.y,"Y",e._presLayout)),(p.options.w||p.options.w===0)&&(y=xe(p.options.w,"X",e._presLayout)),(p.options.h||p.options.h===0)&&(g=xe(p.options.h,"Y",e._presLayout))),n.options.flipH&&(v+=' flipH="1"'),n.options.flipV&&(v+=' flipV="1"'),n.options.rotate&&(v+=` rot="${da(n.options.rotate)}"`),n._type){case fe.table:if(w=n.arrTabRows,j=n.options,C=0,L=0,w[0].forEach(b=>{E=b.options||null,C+=E!=null&&E.colspan?Number(E.colspan):1}),k=`<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id="${r*e._slideNum+1}" name="${n.options.objectName}"/>`,k+='<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp="1"/></p:cNvGraphicFramePr>  <p:nvPr><p:extLst><p:ext uri="{D42A27DB-BD31-4B8C-83A1-F6EECF244321}"><p14:modId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1579011935"/></p:ext></p:extLst></p:nvPr></p:nvGraphicFramePr>',k+=`<p:xfrm><a:off x="${x||(x===0?0:me)}" y="${m||(m===0?0:me)}"/><a:ext cx="${y||(y===0?0:me)}" cy="${g||me}"/></p:xfrm>`,k+='<a:graphic><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/table"><a:tbl><a:tblPr/>',Array.isArray(j.colW)){k+="<a:tblGrid>";for(let b=0;b<C;b++){let S=we(j.colW[b]);(S==null||isNaN(S))&&(S=(typeof n.options.w=="number"?n.options.w:1)/C),k+=`<a:gridCol w="${Math.round(S)}"/>`}k+="</a:tblGrid>"}else{L=j.colW?j.colW:me,n.options.w&&!j.colW&&(L=Math.round((typeof n.options.w=="number"?n.options.w:1)/C)),k+="<a:tblGrid>";for(let b=0;b<C;b++)k+=`<a:gridCol w="${L}"/>`;k+="</a:tblGrid>"}w.forEach(b=>{var S,V;for(let F=0;F<b.length;){const z=b[F],P=(S=z.options)===null||S===void 0?void 0:S.colspan,W=(V=z.options)===null||V===void 0?void 0:V.rowspan;if(P&&P>1){const B=new Array(P-1).fill(void 0).map(()=>({_type:fe.tablecell,options:{rowspan:W},_hmerge:!0}));b.splice(F+1,0,...B),F+=P}else F+=1}}),w.forEach((b,S)=>{const V=w[S+1];V&&b.forEach((F,z)=>{var P,W;const B=F._rowContinue||((P=F.options)===null||P===void 0?void 0:P.rowspan),M=(W=F.options)===null||W===void 0?void 0:W.colspan,te=F._hmerge;if(B&&B>1){const se={_type:fe.tablecell,options:{colspan:M},_rowContinue:B-1,_vmerge:!0,_hmerge:te};V.splice(z,0,se)}})}),w.forEach((b,S)=>{let V=0;Array.isArray(j.rowH)&&j.rowH[S]?V=we(Number(j.rowH[S])):j.rowH&&!isNaN(Number(j.rowH))?V=we(Number(j.rowH)):(n.options.cy||n.options.h)&&(V=Math.round((n.options.h?we(n.options.h):typeof n.options.cy=="number"?n.options.cy:1)/w.length)),k+=`<a:tr h="${V}">`,b.forEach(F=>{var z,P,W,B,M;const te=F,se={rowSpan:((z=te.options)===null||z===void 0?void 0:z.rowspan)>1?te.options.rowspan:void 0,gridSpan:((P=te.options)===null||P===void 0?void 0:P.colspan)>1?te.options.colspan:void 0,vMerge:te._vmerge?1:void 0,hMerge:te._hmerge?1:void 0};let X=Object.keys(se).map(pe=>[pe,se[pe]]).filter(([,pe])=>!!pe).map(([pe,N])=>`${String(pe)}="${String(N)}"`).join(" ");if(X&&(X=" "+X),te._hmerge||te._vmerge){k+=`<a:tc${X}><a:tcPr/></a:tc>`;return}const re=te.options||{};te.options=re,["align","bold","border","color","fill","fontFace","fontSize","margin","textDirection","underline","valign"].forEach(pe=>{j[pe]&&!re[pe]&&re[pe]!==0&&(re[pe]=j[pe])});const Ne=re.valign?` anchor="${re.valign.replace(/^c$/i,"ctr").replace(/^m$/i,"ctr").replace("center","ctr").replace("middle","ctr").replace("top","t").replace("btm","b").replace("bottom","b")}"`:"",ge=re.textDirection&&re.textDirection!=="horz"?` vert="${re.textDirection}"`:"";let ye=!((B=(W=te._optImp)===null||W===void 0?void 0:W.fill)===null||B===void 0)&&B.color?te._optImp.fill.color:!((M=te._optImp)===null||M===void 0)&&M.fill&&typeof te._optImp.fill=="string"?te._optImp.fill:"";ye=ye||re.fill?re.fill:"";const Te=ye?kt(ye):"";let Ae=re.margin===0||re.margin?re.margin:hp;!Array.isArray(Ae)&&typeof Ae=="number"&&(Ae=[Ae,Ae,Ae,Ae]);let de="";Ae[0]>=1?de=` marL="${ce(Ae[3])}" marR="${ce(Ae[1])}" marT="${ce(Ae[0])}" marB="${ce(Ae[2])}"`:de=` marL="${we(Ae[3])}" marR="${we(Ae[1])}" marT="${we(Ae[0])}" marB="${we(Ae[2])}"`,k+=`<a:tc${X}>${Ah(te)}<a:tcPr${de}${Ne}${ge}>`,re.border&&Array.isArray(re.border)&&[{idx:3,name:"lnL"},{idx:1,name:"lnR"},{idx:0,name:"lnT"},{idx:2,name:"lnB"}].forEach(pe=>{re.border[pe.idx].type!=="none"?(k+=`<a:${pe.name} w="${ce(re.border[pe.idx].pt)}" cap="flat" cmpd="sng" algn="ctr">`,k+=`<a:solidFill>${je(re.border[pe.idx].color)}</a:solidFill>`,k+=`<a:prstDash val="${re.border[pe.idx].type==="dash"?"sysDash":"solid"}"/><a:round/><a:headEnd type="none" w="med" len="med"/><a:tailEnd type="none" w="med" len="med"/>`,k+=`</a:${pe.name}>`):k+=`<a:${pe.name} w="0" cap="flat" cmpd="sng" algn="ctr"><a:noFill/></a:${pe.name}>`}),k+=Te,k+="  </a:tcPr>",k+=" </a:tc>"}),k+="</a:tr>"}),k+="      </a:tbl>",k+="    </a:graphicData>",k+="  </a:graphic>",k+="</p:graphicFrame>",s+=k,r++;break;case fe.text:case fe.placeholder:if(!n.options.line&&g===0&&(g=me*.3),n.options._bodyProp||(n.options._bodyProp={}),n.options.margin&&Array.isArray(n.options.margin)?(n.options._bodyProp.lIns=ce(n.options.margin[0]||0),n.options._bodyProp.rIns=ce(n.options.margin[1]||0),n.options._bodyProp.bIns=ce(n.options.margin[2]||0),n.options._bodyProp.tIns=ce(n.options.margin[3]||0)):typeof n.options.margin=="number"&&(n.options._bodyProp.lIns=ce(n.options.margin),n.options._bodyProp.rIns=ce(n.options.margin),n.options._bodyProp.bIns=ce(n.options.margin),n.options._bodyProp.tIns=ce(n.options.margin)),s+="<p:sp>",s+=`<p:nvSpPr><p:cNvPr id="${i+2}" name="${n.options.objectName}">`,!((c=n.options.hyperlink)===null||c===void 0)&&c.url&&(s+=`<a:hlinkClick r:id="rId${n.options.hyperlink._rId}" tooltip="${n.options.hyperlink.tooltip?he(n.options.hyperlink.tooltip):""}"/>`),!((o=n.options.hyperlink)===null||o===void 0)&&o.slide&&(s+=`<a:hlinkClick r:id="rId${n.options.hyperlink._rId}" tooltip="${n.options.hyperlink.tooltip?he(n.options.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),s+="</p:cNvPr>",s+="<p:cNvSpPr"+(!((d=n.options)===null||d===void 0)&&d.isTextBox?' txBox="1"/>':"/>"),s+=`<p:nvPr>${n._type==="placeholder"?ei(n):ei(p)}</p:nvPr>`,s+="</p:nvSpPr><p:spPr>",s+=`<a:xfrm${v}>`,s+=`<a:off x="${x}" y="${m}"/>`,s+=`<a:ext cx="${y}" cy="${g}"/></a:xfrm>`,n.shape==="custGeom")s+="<a:custGeom><a:avLst />",s+="<a:gdLst>",s+="</a:gdLst>",s+="<a:ahLst />",s+="<a:cxnLst>",s+="</a:cxnLst>",s+='<a:rect l="l" t="t" r="r" b="b" />',s+="<a:pathLst>",s+=`<a:path w="${y}" h="${g}">`,(h=n.options.points)===null||h===void 0||h.forEach((b,S)=>{if("curve"in b)switch(b.curve.type){case"arc":s+=`<a:arcTo hR="${xe(b.curve.hR,"Y",e._presLayout)}" wR="${xe(b.curve.wR,"X",e._presLayout)}" stAng="${da(b.curve.stAng)}" swAng="${da(b.curve.swAng)}" />`;break;case"cubic":s+=`<a:cubicBezTo>
									<a:pt x="${xe(b.curve.x1,"X",e._presLayout)}" y="${xe(b.curve.y1,"Y",e._presLayout)}" />
									<a:pt x="${xe(b.curve.x2,"X",e._presLayout)}" y="${xe(b.curve.y2,"Y",e._presLayout)}" />
									<a:pt x="${xe(b.x,"X",e._presLayout)}" y="${xe(b.y,"Y",e._presLayout)}" />
									</a:cubicBezTo>`;break;case"quadratic":s+=`<a:quadBezTo>
									<a:pt x="${xe(b.curve.x1,"X",e._presLayout)}" y="${xe(b.curve.y1,"Y",e._presLayout)}" />
									<a:pt x="${xe(b.x,"X",e._presLayout)}" y="${xe(b.y,"Y",e._presLayout)}" />
									</a:quadBezTo>`;break}else"close"in b?s+="<a:close />":b.moveTo||S===0?s+=`<a:moveTo><a:pt x="${xe(b.x,"X",e._presLayout)}" y="${xe(b.y,"Y",e._presLayout)}" /></a:moveTo>`:s+=`<a:lnTo><a:pt x="${xe(b.x,"X",e._presLayout)}" y="${xe(b.y,"Y",e._presLayout)}" /></a:lnTo>`}),s+="</a:path>",s+="</a:pathLst>",s+="</a:custGeom>";else{if(s+='<a:prstGeom prst="'+n.shape+'"><a:avLst>',n.options.rectRadius)s+=`<a:gd name="adj" fmla="val ${Math.round(n.options.rectRadius*me*1e5/Math.min(y,g))}"/>`;else if(n.options.angleRange){for(let b=0;b<2;b++){const S=n.options.angleRange[b];s+=`<a:gd name="adj${b+1}" fmla="val ${da(S)}" />`}n.options.arcThicknessRatio&&(s+=`<a:gd name="adj3" fmla="val ${Math.round(n.options.arcThicknessRatio*5e4)}" />`)}s+="</a:avLst></a:prstGeom>"}s+=n.options.fill?kt(n.options.fill):"<a:noFill/>",n.options.line&&(s+=n.options.line.width?`<a:ln w="${ce(n.options.line.width)}">`:"<a:ln>",n.options.line.color&&(s+=kt(n.options.line)),n.options.line.dashType&&(s+=`<a:prstDash val="${n.options.line.dashType}"/>`),n.options.line.beginArrowType&&(s+=`<a:headEnd type="${n.options.line.beginArrowType}"/>`),n.options.line.endArrowType&&(s+=`<a:tailEnd type="${n.options.line.endArrowType}"/>`),s+="</a:ln>"),n.options.shadow&&n.options.shadow.type!=="none"&&(n.options.shadow.type=n.options.shadow.type||"outer",n.options.shadow.blur=ce(n.options.shadow.blur||8),n.options.shadow.offset=ce(n.options.shadow.offset||4),n.options.shadow.angle=Math.round((n.options.shadow.angle||270)*6e4),n.options.shadow.opacity=Math.round((n.options.shadow.opacity||.75)*1e5),n.options.shadow.color=n.options.shadow.color||hh.color,s+="<a:effectLst>",s+=` <a:${n.options.shadow.type}Shdw ${n.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${n.options.shadow.blur}" dist="${n.options.shadow.offset}" dir="${n.options.shadow.angle}">`,s+=` <a:srgbClr val="${n.options.shadow.color}">`,s+=` <a:alpha val="${n.options.shadow.opacity}"/></a:srgbClr>`,s+=" </a:outerShdw>",s+="</a:effectLst>"),s+="</p:spPr>",s+=Ah(n),s+="</p:sp>";break;case fe.image:if(s+="<p:pic>",s+="  <p:nvPicPr>",s+=`<p:cNvPr id="${i+2}" name="${n.options.objectName}" descr="${he(n.options.altText||n.image)}">`,!((A=n.hyperlink)===null||A===void 0)&&A.url&&(s+=`<a:hlinkClick r:id="rId${n.hyperlink._rId}" tooltip="${n.hyperlink.tooltip?he(n.hyperlink.tooltip):""}"/>`),!((f=n.hyperlink)===null||f===void 0)&&f.slide&&(s+=`<a:hlinkClick r:id="rId${n.hyperlink._rId}" tooltip="${n.hyperlink.tooltip?he(n.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),s+="    </p:cNvPr>",s+='    <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',s+="    <p:nvPr>"+ei(p)+"</p:nvPr>",s+="  </p:nvPicPr>",s+="<p:blipFill>",(e._relsMedia||[]).filter(b=>b.rId===n.imageRid)[0]&&(e._relsMedia||[]).filter(b=>b.rId===n.imageRid)[0].extn==="svg"?(s+=`<a:blip r:embed="rId${n.imageRid-1}">`,s+=n.options.transparency?` <a:alphaModFix amt="${Math.round((100-n.options.transparency)*1e3)}"/>`:"",s+=" <a:extLst>",s+='  <a:ext uri="{96DAC541-7B7A-43D3-8B79-37D633B846F1}">',s+=`   <asvg:svgBlip xmlns:asvg="http://schemas.microsoft.com/office/drawing/2016/SVG/main" r:embed="rId${n.imageRid}"/>`,s+="  </a:ext>",s+=" </a:extLst>",s+="</a:blip>"):(s+=`<a:blip r:embed="rId${n.imageRid}">`,s+=n.options.transparency?`<a:alphaModFix amt="${Math.round((100-n.options.transparency)*1e3)}"/>`:"",s+="</a:blip>"),R!=null&&R.type){const b=R.w?xe(R.w,"X",e._presLayout):y,S=R.h?xe(R.h,"Y",e._presLayout):g,V=xe(R.x||0,"X",e._presLayout),F=xe(R.y||0,"Y",e._presLayout);s+=by[R.type]({w:_,h:I},{w:b,h:S,x:V,y:F}),_=b,I=S}else s+="  <a:stretch><a:fillRect/></a:stretch>";s+="</p:blipFill>",s+="<p:spPr>",s+=" <a:xfrm"+v+">",s+=`  <a:off x="${x}" y="${m}"/>`,s+=`  <a:ext cx="${_}" cy="${I}"/>`,s+=" </a:xfrm>",s+=` <a:prstGeom prst="${U?"ellipse":"rect"}"><a:avLst/></a:prstGeom>`,n.options.shadow&&n.options.shadow.type!=="none"&&(n.options.shadow.type=n.options.shadow.type||"outer",n.options.shadow.blur=ce(n.options.shadow.blur||8),n.options.shadow.offset=ce(n.options.shadow.offset||4),n.options.shadow.angle=Math.round((n.options.shadow.angle||270)*6e4),n.options.shadow.opacity=Math.round((n.options.shadow.opacity||.75)*1e5),n.options.shadow.color=n.options.shadow.color||hh.color,s+="<a:effectLst>",s+=`<a:${n.options.shadow.type}Shdw ${n.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${n.options.shadow.blur}" dist="${n.options.shadow.offset}" dir="${n.options.shadow.angle}">`,s+=`<a:srgbClr val="${n.options.shadow.color}">`,s+=`<a:alpha val="${n.options.shadow.opacity}"/></a:srgbClr>`,s+=`</a:${n.options.shadow.type}Shdw>`,s+="</a:effectLst>"),s+="</p:spPr>",s+="</p:pic>";break;case fe.media:n.mtype==="online"?(s+="<p:pic>",s+=" <p:nvPicPr>",s+=`<p:cNvPr id="${n.mediaRid+2}" name="${n.options.objectName}"/>`,s+=" <p:cNvPicPr/>",s+=" <p:nvPr>",s+=`  <a:videoFile r:link="rId${n.mediaRid}"/>`,s+=" </p:nvPr>",s+=" </p:nvPicPr>",s+=` <p:blipFill><a:blip r:embed="rId${n.mediaRid+1}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,s+=" <p:spPr>",s+=`  <a:xfrm${v}><a:off x="${x}" y="${m}"/><a:ext cx="${y}" cy="${g}"/></a:xfrm>`,s+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',s+=" </p:spPr>",s+="</p:pic>"):(s+="<p:pic>",s+=" <p:nvPicPr>",s+=`<p:cNvPr id="${n.mediaRid+2}" name="${n.options.objectName}"><a:hlinkClick r:id="" action="ppaction://media"/></p:cNvPr>`,s+=' <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',s+=" <p:nvPr>",s+=`  <a:videoFile r:link="rId${n.mediaRid}"/>`,s+="  <p:extLst>",s+='   <p:ext uri="{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}">',s+=`    <p14:media xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" r:embed="rId${n.mediaRid+1}"/>`,s+="   </p:ext>",s+="  </p:extLst>",s+=" </p:nvPr>",s+=" </p:nvPicPr>",s+=` <p:blipFill><a:blip r:embed="rId${n.mediaRid+2}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,s+=" <p:spPr>",s+=`  <a:xfrm${v}><a:off x="${x}" y="${m}"/><a:ext cx="${y}" cy="${g}"/></a:xfrm>`,s+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',s+=" </p:spPr>",s+="</p:pic>");break;case fe.chart:s+="<p:graphicFrame>",s+=" <p:nvGraphicFramePr>",s+=`   <p:cNvPr id="${i+2}" name="${n.options.objectName}" descr="${he(n.options.altText||"")}"/>`,s+="   <p:cNvGraphicFramePr/>",s+=`   <p:nvPr>${ei(p)}</p:nvPr>`,s+=" </p:nvGraphicFramePr>",s+=` <p:xfrm><a:off x="${x}" y="${m}"/><a:ext cx="${y}" cy="${g}"/></p:xfrm>`,s+=' <a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',s+='  <a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/chart">',s+=`   <c:chart r:id="rId${n.chartRid}" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"/>`,s+="  </a:graphicData>",s+=" </a:graphic>",s+="</p:graphicFrame>";break;default:s+="";break}}),e._slideNumberProps&&(e._slideNumberProps.align||(e._slideNumberProps.align="left"),s+="<p:sp>",s+=" <p:nvSpPr>",s+='  <p:cNvPr id="25" name="Slide Number Placeholder 0"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr>',s+='  <p:nvPr><p:ph type="sldNum" sz="quarter" idx="4294967295"/></p:nvPr>',s+=" </p:nvSpPr>",s+=" <p:spPr>",s+=`<a:xfrm><a:off x="${xe(e._slideNumberProps.x,"X",e._presLayout)}" y="${xe(e._slideNumberProps.y,"Y",e._presLayout)}"/><a:ext cx="${e._slideNumberProps.w?xe(e._slideNumberProps.w,"X",e._presLayout):"800000"}" cy="${e._slideNumberProps.h?xe(e._slideNumberProps.h,"Y",e._presLayout):"300000"}"/></a:xfrm> <a:prstGeom prst="rect"><a:avLst/></a:prstGeom> <a:extLst><a:ext uri="{C572A759-6A51-4108-AA02-DFA0A04FC94B}"><ma14:wrappingTextBoxFlag val="0" xmlns:ma14="http://schemas.microsoft.com/office/mac/drawingml/2011/main"/></a:ext></a:extLst></p:spPr>`,s+="<p:txBody>",s+="<a:bodyPr",e._slideNumberProps.margin&&Array.isArray(e._slideNumberProps.margin)?(s+=` lIns="${ce(e._slideNumberProps.margin[3]||0)}"`,s+=` tIns="${ce(e._slideNumberProps.margin[0]||0)}"`,s+=` rIns="${ce(e._slideNumberProps.margin[1]||0)}"`,s+=` bIns="${ce(e._slideNumberProps.margin[2]||0)}"`):typeof e._slideNumberProps.margin=="number"&&(s+=` lIns="${ce(e._slideNumberProps.margin||0)}"`,s+=` tIns="${ce(e._slideNumberProps.margin||0)}"`,s+=` rIns="${ce(e._slideNumberProps.margin||0)}"`,s+=` bIns="${ce(e._slideNumberProps.margin||0)}"`),e._slideNumberProps.valign&&(s+=` anchor="${e._slideNumberProps.valign.replace("top","t").replace("middle","ctr").replace("bottom","b")}"`),s+="/>",s+="  <a:lstStyle><a:lvl1pPr>",(e._slideNumberProps.fontFace||e._slideNumberProps.fontSize||e._slideNumberProps.color)&&(s+=`<a:defRPr sz="${Math.round((e._slideNumberProps.fontSize||12)*100)}">`,e._slideNumberProps.color&&(s+=kt(e._slideNumberProps.color)),e._slideNumberProps.fontFace&&(s+=`<a:latin typeface="${e._slideNumberProps.fontFace}"/><a:ea typeface="${e._slideNumberProps.fontFace}"/><a:cs typeface="${e._slideNumberProps.fontFace}"/>`),s+="</a:defRPr>"),s+="</a:lvl1pPr></a:lstStyle>",s+="<a:p>",e._slideNumberProps.align.startsWith("l")?s+='<a:pPr algn="l"/>':e._slideNumberProps.align.startsWith("c")?s+='<a:pPr algn="ctr"/>':e._slideNumberProps.align.startsWith("r")?s+='<a:pPr algn="r"/>':s+='<a:pPr algn="l"/>',s+=`<a:fld id="${pp}" type="slidenum"><a:rPr b="${e._slideNumberProps.bold?1:0}" lang="en-US"/>`,s+=`<a:t>${e._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p>`,s+="</p:txBody></p:sp>"),s+="</p:spTree>",s+="</p:cSld>",s}function Rd(e,t){let s=0,r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ze+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';return e._rels.forEach(n=>{s=Math.max(s,n.rId),n.type.toLowerCase().includes("hyperlink")?n.data==="slide"?r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slide${n.Target}.xml"/>`:r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${n.Target}" TargetMode="External"/>`:n.type.toLowerCase().includes("notesSlide")&&(r+=`<Relationship Id="rId${n.rId}" Target="${n.Target}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"/>`)}),(e._relsChart||[]).forEach(n=>{s=Math.max(s,n.rId),r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart" Target="${n.Target}"/>`}),(e._relsMedia||[]).forEach(n=>{const i=n.rId.toString();s=Math.max(s,n.rId),n.type.toLowerCase().includes("image")?r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("audio")?r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("video")?r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("online")&&(r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/image" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+i+'" Target="'+n.Target+'" TargetMode="External" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video"/>')}),t.forEach((n,i)=>{r+=`<Relationship Id="rId${s+i+1}" Type="${n.type}" Target="${n.target}"/>`}),r+="</Relationships>",r}function ph(e,t){var s,r;let n="",i="",l="",u="";const c=t?"a:lvl1pPr":"a:pPr";let o=ce(ay),d=`<${c}${e.options.rtlMode?' rtl="1" ':""}`;{if(e.options.align)switch(e.options.align){case"left":d+=' algn="l"';break;case"right":d+=' algn="r"';break;case"center":d+=' algn="ctr"';break;case"justify":d+=' algn="just"';break;default:d+="";break}if(e.options.lineSpacing?i=`<a:lnSpc><a:spcPts val="${Math.round(e.options.lineSpacing*100)}"/></a:lnSpc>`:e.options.lineSpacingMultiple&&(i=`<a:lnSpc><a:spcPct val="${Math.round(e.options.lineSpacingMultiple*1e5)}"/></a:lnSpc>`),e.options.indentLevel&&!isNaN(Number(e.options.indentLevel))&&e.options.indentLevel>0&&(d+=` lvl="${e.options.indentLevel}"`),e.options.paraSpaceBefore&&!isNaN(Number(e.options.paraSpaceBefore))&&e.options.paraSpaceBefore>0&&(l+=`<a:spcBef><a:spcPts val="${Math.round(e.options.paraSpaceBefore*100)}"/></a:spcBef>`),e.options.paraSpaceAfter&&!isNaN(Number(e.options.paraSpaceAfter))&&e.options.paraSpaceAfter>0&&(l+=`<a:spcAft><a:spcPts val="${Math.round(e.options.paraSpaceAfter*100)}"/></a:spcAft>`),typeof e.options.bullet=="object")if(!((r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.bullet)===null||r===void 0)&&r.indent&&(o=ce(e.options.bullet.indent)),e.options.bullet.type)e.options.bullet.type.toString().toLowerCase()==="number"&&(d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n=`<a:buSzPct val="100000"/><a:buFont typeface="+mj-lt"/><a:buAutoNum type="${e.options.bullet.style||"arabicPeriod"}" startAt="${e.options.bullet.numberStartAt||e.options.bullet.startAt||"1"}"/>`);else if(e.options.bullet.characterCode){let h=`&#x${e.options.bullet.characterCode};`;/^[0-9A-Fa-f]{4}$/.test(e.options.bullet.characterCode)||(console.warn("Warning: `bullet.characterCode should be a 4-digit unicode charatcer (ex: 22AB)`!"),h=Ha.DEFAULT),d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else if(e.options.bullet.code){let h=`&#x${e.options.bullet.code};`;/^[0-9A-Fa-f]{4}$/.test(e.options.bullet.code)||(console.warn("Warning: `bullet.code should be a 4-digit hex code (ex: 22AB)`!"),h=Ha.DEFAULT),d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n=`<a:buSzPct val="100000"/><a:buChar char="${Ha.DEFAULT}"/>`;else e.options.bullet?(d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n=`<a:buSzPct val="100000"/><a:buChar char="${Ha.DEFAULT}"/>`):e.options.bullet||(d+=' indent="0" marL="0"',n="<a:buNone/>");e.options.tabStops&&Array.isArray(e.options.tabStops)&&(u=`<a:tabLst>${e.options.tabStops.map(A=>`<a:tab pos="${we(A.position||1)}" algn="${A.alignment||"l"}"/>`).join("")}</a:tabLst>`),d+=">"+i+l+n+u,t&&(d+=yp(e.options,!0)),d+="</"+c+">"}return d}function yp(e,t){var s;let r="";const n=t?"a:defRPr":"a:rPr";if(r+="<"+n+' lang="'+(e.lang?e.lang:"en-US")+'"'+(e.lang?' altLang="en-US"':""),r+=e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"",r+=e!=null&&e.bold?` b="${e.bold?"1":"0"}"`:"",r+=e!=null&&e.italic?` i="${e.italic?"1":"0"}"`:"",r+=e!=null&&e.strike?` strike="${typeof e.strike=="string"?e.strike:"sngStrike"}"`:"",typeof e.underline=="object"&&(!((s=e.underline)===null||s===void 0)&&s.style)?r+=` u="${e.underline.style}"`:typeof e.underline=="string"?r+=` u="${String(e.underline)}"`:e.hyperlink&&(r+=' u="sng"'),e.baseline?r+=` baseline="${Math.round(e.baseline*50)}"`:e.subscript?r+=' baseline="-40000"':e.superscript&&(r+=' baseline="30000"'),r+=e.charSpacing?` spc="${Math.round(e.charSpacing*100)}" kern="0"`:"",r+=' dirty="0">',(e.color||e.fontFace||e.outline||typeof e.underline=="object"&&e.underline.color)&&(e.outline&&typeof e.outline=="object"&&(r+=`<a:ln w="${ce(e.outline.size||.75)}">${kt(e.outline.color||"FFFFFF")}</a:ln>`),e.color&&(r+=kt({color:e.color,transparency:e.transparency})),e.highlight&&(r+=`<a:highlight>${je(e.highlight)}</a:highlight>`),typeof e.underline=="object"&&e.underline.color&&(r+=`<a:uFill>${kt(e.underline.color)}</a:uFill>`),e.glow&&(r+=`<a:effectLst>${oy(e.glow,ny)}</a:effectLst>`),e.fontFace&&(r+=`<a:latin typeface="${e.fontFace}" pitchFamily="34" charset="0"/><a:ea typeface="${e.fontFace}" pitchFamily="34" charset="-122"/><a:cs typeface="${e.fontFace}" pitchFamily="34" charset="-120"/>`)),e.hyperlink){if(typeof e.hyperlink!="object")throw new Error("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:'https://github.com'}` ");if(!e.hyperlink.url&&!e.hyperlink.slide)throw new Error("ERROR: 'hyperlink requires either `url` or `slide`'");e.hyperlink.url?r+=`<a:hlinkClick r:id="rId${e.hyperlink._rId}" invalidUrl="" action="" tgtFrame="" tooltip="${e.hyperlink.tooltip?he(e.hyperlink.tooltip):""}" history="1" highlightClick="0" endSnd="0"${e.color?">":"/>"}`:e.hyperlink.slide&&(r+=`<a:hlinkClick r:id="rId${e.hyperlink._rId}" action="ppaction://hlinksldjump" tooltip="${e.hyperlink.tooltip?he(e.hyperlink.tooltip):""}"${e.color?">":"/>"}`),e.color&&(r+=" <a:extLst>",r+='  <a:ext uri="{A12FA001-AC4F-418D-AE19-62706E023703}">',r+='   <ahyp:hlinkClr xmlns:ahyp="http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor" val="tx"/>',r+="  </a:ext>",r+=" </a:extLst>",r+="</a:hlinkClick>")}return r+=`</${n}>`,r}function wy(e){return e.text?`<a:r>${yp(e.options,!1)}<a:t>${he(e.text)}</a:t></a:r>`:""}function _y(e){let t="<a:bodyPr";return e&&e._type===fe.text&&e.options._bodyProp?(t+=e.options._bodyProp.wrap?' wrap="square"':' wrap="none"',(e.options._bodyProp.lIns||e.options._bodyProp.lIns===0)&&(t+=` lIns="${e.options._bodyProp.lIns}"`),(e.options._bodyProp.tIns||e.options._bodyProp.tIns===0)&&(t+=` tIns="${e.options._bodyProp.tIns}"`),(e.options._bodyProp.rIns||e.options._bodyProp.rIns===0)&&(t+=` rIns="${e.options._bodyProp.rIns}"`),(e.options._bodyProp.bIns||e.options._bodyProp.bIns===0)&&(t+=` bIns="${e.options._bodyProp.bIns}"`),t+=' rtlCol="0"',e.options._bodyProp.anchor&&(t+=' anchor="'+e.options._bodyProp.anchor+'"'),e.options._bodyProp.vert&&(t+=' vert="'+e.options._bodyProp.vert+'"'),t+=">",e.options.fit&&(e.options.fit==="none"?t+="":e.options.fit==="shrink"?t+="<a:normAutofit/>":e.options.fit==="resize"&&(t+="<a:spAutoFit/>")),e.options.shrinkText&&(t+="<a:normAutofit/>"),t+=e.options._bodyProp.autoFit?"<a:spAutoFit/>":"",t+="</a:bodyPr>"):(t+=' wrap="square" rtlCol="0">',t+="</a:bodyPr>"),e._type===fe.tablecell?"<a:bodyPr/>":t}function Ah(e){const t=e.options||{};let s=[];const r=[];if(t&&e._type!==fe.tablecell&&(typeof e.text>"u"||e.text===null))return"";let n=e._type===fe.tablecell?"<a:txBody>":"<p:txBody>";n+=_y(e),t.h===0&&t.line&&t.align?n+='<a:lstStyle><a:lvl1pPr algn="l"/></a:lstStyle>':e._type==="placeholder"?n+=`<a:lstStyle>${ph(e,!0)}</a:lstStyle>`:n+="<a:lstStyle/>",typeof e.text=="string"||typeof e.text=="number"?s.push({text:e.text.toString(),options:t||{}}):e.text&&!Array.isArray(e.text)&&typeof e.text=="object"&&Object.keys(e.text).includes("text")?s.push({text:e.text||"",options:e.options||{}}):Array.isArray(e.text)&&(s=e.text.map(u=>({text:u.text,options:u.options}))),s.forEach((u,c)=>{u.text||(u.text=""),u.options=u.options||t||{},c===0&&u.options&&!u.options.bullet&&t.bullet&&(u.options.bullet=t.bullet),(typeof u.text=="string"||typeof u.text=="number")&&(u.text=u.text.toString().replace(/\r*\n/g,Ze)),u.text.includes(Ze)&&u.text.match(/\n$/g)===null?u.text.split(Ze).forEach(o=>{u.options.breakLine=!0,r.push({text:o,options:u.options})}):r.push(u)});const i=[];let l=[];return r.forEach((u,c)=>{l.length>0&&(u.options.align||t.align)?u.options.align!==r[c-1].options.align&&(i.push(l),l=[]):l.length>0&&u.options.bullet&&l.length>0&&(i.push(l),l=[],u.options.breakLine=!1),l.push(u),l.length>0&&u.options.breakLine&&c+1<r.length&&(i.push(l),l=[]),c+1===r.length&&i.push(l)}),i.forEach(u=>{var c;let o=!1;n+="<a:p>";let d=`<a:pPr ${!((c=u[0].options)===null||c===void 0)&&c.rtlMode?' rtl="1" ':""}`;u.forEach((h,A)=>{h.options._lineIdx=A,A>0&&h.options.softBreakBefore&&(n+="<a:br/>"),h.options.align=h.options.align||t.align,h.options.lineSpacing=h.options.lineSpacing||t.lineSpacing,h.options.lineSpacingMultiple=h.options.lineSpacingMultiple||t.lineSpacingMultiple,h.options.indentLevel=h.options.indentLevel||t.indentLevel,h.options.paraSpaceBefore=h.options.paraSpaceBefore||t.paraSpaceBefore,h.options.paraSpaceAfter=h.options.paraSpaceAfter||t.paraSpaceAfter,d=ph(h,!1),n+=d.replace("<a:pPr></a:pPr>",""),Object.entries(t).filter(([f])=>!(h.options.hyperlink&&f==="color")).forEach(([f,x])=>{f!=="bullet"&&!h.options[f]&&(h.options[f]=x)}),n+=wy(h),(!h.text&&t.fontSize||h.options.fontSize)&&(o=!0,t.fontSize=t.fontSize||h.options.fontSize)}),e._type===fe.tablecell&&(t.fontSize||t.fontFace)?t.fontFace?(n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0">',n+=`<a:latin typeface="${t.fontFace}" charset="0"/>`,n+=`<a:ea typeface="${t.fontFace}" charset="0"/>`,n+=`<a:cs typeface="${t.fontFace}" charset="0"/>`,n+="</a:endParaRPr>"):n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':o?n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':n+=`<a:endParaRPr lang="${t.lang||"en-US"}" dirty="0"/>`,n+="</a:p>"}),n.indexOf("<a:p>")===-1&&(n+="<a:p><a:endParaRPr/></a:p>"),n+=e._type===fe.tablecell?"</a:txBody>":"</p:txBody>",n}function ei(e){var t,s;if(!e)return"";const r=!((t=e.options)===null||t===void 0)&&t._placeholderIdx?e.options._placeholderIdx:"",n=!((s=e.options)===null||s===void 0)&&s._placeholderType?e.options._placeholderType:"",i=n&&Yr[n]?Yr[n].toString():"";return`<p:ph
		${r?' idx="'+r.toString()+'"':""}
		${i&&Yr[i]?` type="${i}"`:""}
		${e.text&&e.text.length>0?' hasCustomPrompt="1"':""}
		/>`}function Ny(e,t,s){let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ze;return r+='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',r+='<Default Extension="xml" ContentType="application/xml"/>',r+='<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>',r+='<Default Extension="jpeg" ContentType="image/jpeg"/>',r+='<Default Extension="jpg" ContentType="image/jpg"/>',r+='<Default Extension="svg" ContentType="image/svg+xml"/>',r+='<Default Extension="png" ContentType="image/png"/>',r+='<Default Extension="gif" ContentType="image/gif"/>',r+='<Default Extension="m4v" ContentType="video/mp4"/>',r+='<Default Extension="mp4" ContentType="video/mp4"/>',e.forEach(n=>{(n._relsMedia||[]).forEach(i=>{i.type!=="image"&&i.type!=="online"&&i.type!=="chart"&&i.extn!=="m4v"&&!r.includes(i.type)&&(r+='<Default Extension="'+i.extn+'" ContentType="'+i.type+'"/>')})}),r+='<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>',r+='<Default Extension="xlsx" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>',r+='<Override PartName="/ppt/presentation.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"/>',r+='<Override PartName="/ppt/notesMasters/notesMaster1.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml"/>',e.forEach((n,i)=>{r+=`<Override PartName="/ppt/slideMasters/slideMaster${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml"/>`,r+=`<Override PartName="/ppt/slides/slide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slide+xml"/>`,n._relsChart.forEach(l=>{r+=`<Override PartName="${l.Target}" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>`})}),r+='<Override PartName="/ppt/presProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presProps+xml"/>',r+='<Override PartName="/ppt/viewProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml"/>',r+='<Override PartName="/ppt/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>',r+='<Override PartName="/ppt/tableStyles.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml"/>',t.forEach((n,i)=>{r+=`<Override PartName="/ppt/slideLayouts/slideLayout${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml"/>`,(n._relsChart||[]).forEach(l=>{r+=' <Override PartName="'+l.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'})}),e.forEach((n,i)=>{r+=`<Override PartName="/ppt/notesSlides/notesSlide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml"/>`}),s._relsChart.forEach(n=>{r+=' <Override PartName="'+n.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'}),s._relsMedia.forEach(n=>{n.type!=="image"&&n.type!=="online"&&n.type!=="chart"&&n.extn!=="m4v"&&!r.includes(n.type)&&(r+=' <Default Extension="'+n.extn+'" ContentType="'+n.type+'"/>')}),r+=' <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>',r+=' <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>',r+="</Types>",r}function jy(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>
		<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>
		<Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="ppt/presentation.xml"/>
		</Relationships>`}function Cy(e,t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">
	<TotalTime>0</TotalTime>
	<Words>0</Words>
	<Application>Microsoft Office PowerPoint</Application>
	<PresentationFormat>On-screen Show (16:9)</PresentationFormat>
	<Paragraphs>0</Paragraphs>
	<Slides>${e.length}</Slides>
	<Notes>${e.length}</Notes>
	<HiddenSlides>0</HiddenSlides>
	<MMClips>0</MMClips>
	<ScaleCrop>false</ScaleCrop>
	<HeadingPairs>
		<vt:vector size="6" baseType="variant">
			<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>2</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>1</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>${e.length}</vt:i4></vt:variant>
		</vt:vector>
	</HeadingPairs>
	<TitlesOfParts>
		<vt:vector size="${e.length+1+2}" baseType="lpstr">
			<vt:lpstr>Arial</vt:lpstr>
			<vt:lpstr>Calibri</vt:lpstr>
			<vt:lpstr>Office Theme</vt:lpstr>
			${e.map((s,r)=>`<vt:lpstr>Slide ${r+1}</vt:lpstr>`).join("")}
		</vt:vector>
	</TitlesOfParts>
	<Company>${t}</Company>
	<LinksUpToDate>false</LinksUpToDate>
	<SharedDoc>false</SharedDoc>
	<HyperlinksChanged>false</HyperlinksChanged>
	<AppVersion>16.0000</AppVersion>
	</Properties>`}function Sy(e,t,s,r){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<dc:title>${he(e)}</dc:title>
		<dc:subject>${he(t)}</dc:subject>
		<dc:creator>${he(s)}</dc:creator>
		<cp:lastModifiedBy>${he(s)}</cp:lastModifiedBy>
		<cp:revision>${r}</cp:revision>
		<dcterms:created xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:created>
		<dcterms:modified xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:modified>
	</cp:coreProperties>`}function ky(e){let t=1,s='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ze;s+='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',s+='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster" Target="slideMasters/slideMaster1.xml"/>';for(let r=1;r<=e.length;r++)s+=`<Relationship Id="rId${++t}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slides/slide${r}.xml"/>`;return t++,s+=`<Relationship Id="rId${t+0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="notesMasters/notesMaster1.xml"/><Relationship Id="rId${t+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps" Target="presProps.xml"/><Relationship Id="rId${t+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps" Target="viewProps.xml"/><Relationship Id="rId${t+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${t+4}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles" Target="tableStyles.xml"/></Relationships>`,s}function Ry(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<p:sld xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"${e!=null&&e.hidden?' show="0"':""}>${kd(e)}<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>`}function Ly(e){let t="";return e._slideObjects.forEach(s=>{s._type===fe.notes&&(t+=s!=null&&s.text&&s.text[0]?s.text[0].text:"")}),t.replace(/\r*\n/g,Ze)}function Dy(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<p:notesMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Header Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="hdr" sz="quarter"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Date Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="dt" idx="1"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{5282F153-3F37-0F45-9E97-73ACFA13230C}" type="datetimeFigureOut"><a:rPr lang="en-US"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Image Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg" idx="2"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="1143000"/><a:ext cx="5486400" cy="3086100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="12700"><a:solidFill><a:prstClr val="black"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="ctr"/><a:lstStyle/><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="5" name="Notes Placeholder 4"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" sz="quarter" idx="3"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="4400550"/><a:ext cx="5486400" cy="3600450"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle/><a:p><a:pPr lvl="0"/><a:r><a:rPr lang="en-US"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl="1"/><a:r><a:rPr lang="en-US"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl="2"/><a:r><a:rPr lang="en-US"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl="3"/><a:r><a:rPr lang="en-US"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl="4"/><a:r><a:rPr lang="en-US"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="6" name="Footer Placeholder 5"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="ftr" sz="quarter" idx="4"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="7" name="Slide Number Placeholder 6"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="5"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}" type="slidenum"><a:rPr lang="en-US"/><a:t>#</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/><p:notesStyle><a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`}function Ey(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<p:notes xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Slide Image Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Notes Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" idx="1"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang="en-US" dirty="0"/><a:t>${he(Ly(e))}</a:t></a:r><a:endParaRPr lang="en-US" dirty="0"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Number Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="10"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id="${pp}" type="slidenum"><a:rPr lang="en-US"/><a:t>${e._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`}function Ty(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<p:sldLayout xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" preserve="1">
		${kd(e)}
		<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`}function Fy(e,t){const s=t.map((n,i)=>`<p:sldLayoutId id="${ty+i}" r:id="rId${e._rels.length+i+1}"/>`);let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ze;return r+='<p:sldMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main">',r+=kd(e),r+='<p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/>',r+="<p:sldLayoutIdLst>"+s.join("")+"</p:sldLayoutIdLst>",r+='<p:hf sldNum="0" hdr="0" ftr="0" dt="0"/>',r+='<p:txStyles> <p:titleStyle>  <a:lvl1pPr algn="ctr" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="0"/></a:spcBef><a:buNone/><a:defRPr sz="4400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mj-lt"/><a:ea typeface="+mj-ea"/><a:cs typeface="+mj-cs"/></a:defRPr></a:lvl1pPr> </p:titleStyle> <p:bodyStyle>  <a:lvl1pPr marL="342900" indent="-342900" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="3200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="742950" indent="-285750" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="1143000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1600200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="2057400" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2514600" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2971800" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3429000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3886200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:bodyStyle> <p:otherStyle>  <a:defPPr><a:defRPr lang="en-US"/></a:defPPr>  <a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:otherStyle></p:txStyles>',r+="</p:sldMaster>",r}function Py(e,t){return Rd(t[e-1],[{target:"../slideMasters/slideMaster1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster"}])}function By(e,t,s){return Rd(e[s-1],[{target:`../slideLayouts/slideLayout${zy(e,t,s)}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"},{target:`../notesSlides/notesSlide${s}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"}])}function Iy(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
			<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="../notesMasters/notesMaster1.xml"/>
			<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="../slides/slide${e}.xml"/>
		</Relationships>`}function My(e,t){const s=t.map((r,n)=>({target:`../slideLayouts/slideLayout${n+1}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"}));return s.push({target:"../theme/theme1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"}),Rd(e,s)}function Oy(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="../theme/theme1.xml"/>
		</Relationships>`}function zy(e,t,s){for(let r=0;r<t.length;r++)if(t[r]._name===e[s-1]._slideLayout._name)return r+1;return 1}function Uy(e){var t,s,r,n;const i=!((t=e.theme)===null||t===void 0)&&t.headFontFace?`<a:latin typeface="${(s=e.theme)===null||s===void 0?void 0:s.headFontFace}"/>`:'<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>',l=!((r=e.theme)===null||r===void 0)&&r.bodyFontFace?`<a:latin typeface="${(n=e.theme)===null||n===void 0?void 0:n.bodyFontFace}"/>`:'<a:latin typeface="Calibri" panose="020F0502020204030204"/>';return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont>${i}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Angsana New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont>${l}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Cordia New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`}function qy(e){let t=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<p:presentation xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" ${e.rtlMode?'rtl="1"':""} saveSubsetFonts="1" autoCompressPictures="0">`;t+='<p:sldMasterIdLst><p:sldMasterId id="2147483648" r:id="rId1"/></p:sldMasterIdLst>',t+="<p:sldIdLst>",e.slides.forEach(s=>t+=`<p:sldId id="${s._slideId}" r:id="rId${s._rId}"/>`),t+="</p:sldIdLst>",t+=`<p:notesMasterIdLst><p:notesMasterId r:id="rId${e.slides.length+2}"/></p:notesMasterIdLst>`,t+=`<p:sldSz cx="${e.presLayout.width}" cy="${e.presLayout.height}"/>`,t+=`<p:notesSz cx="${e.presLayout.height}" cy="${e.presLayout.width}"/>`,t+="<p:defaultTextStyle>";for(let s=1;s<10;s++)t+=`<a:lvl${s}pPr marL="${(s-1)*457200}" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl${s}pPr>`;return t+="</p:defaultTextStyle>",e.sections&&e.sections.length>0&&(t+='<p:extLst><p:ext uri="{521415D9-36F7-43E2-AB2F-B90AF26B5E84}">',t+='<p14:sectionLst xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main">',e.sections.forEach(s=>{t+=`<p14:section name="${he(s.title)}" id="{${xi("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}}"><p14:sldIdLst>`,s._slides.forEach(r=>t+=`<p14:sldId id="${r._slideId}"/>`),t+="</p14:sldIdLst></p14:section>"}),t+="</p14:sectionLst></p:ext>",t+='<p:ext uri="{EFAFB233-063F-42B5-8137-9DF3F51BA10A}"><p15:sldGuideLst xmlns:p15="http://schemas.microsoft.com/office/powerpoint/2012/main"/></p:ext>',t+="</p:extLst>"),t+="</p:presentation>",t}function $y(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<p:presentationPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"/>`}function Vy(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<a:tblStyleLst xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" def="{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}"/>`}function Qy(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ze}<p:viewPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:normalViewPr horzBarState="maximized"><p:restoredLeft sz="15611"/><p:restoredTop sz="94610"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid="0" snapToObjects="1"><p:cViewPr varScale="1"><p:scale><a:sx n="136" d="100"/><a:sy n="136" d="100"/></p:scale><p:origin x="216" y="312"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n="1" d="1"/><a:sy n="1" d="1"/></p:scale><p:origin x="0" y="0"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx="76200" cy="76200"/></p:viewPr>`}const Wy="4.0.1";class Gy{set layout(t){const s=this.LAYOUTS[t];if(s)this._layout=t,this._presLayout=s;else throw new Error("UNKNOWN-LAYOUT")}get layout(){return this._layout}get version(){return this._version}set author(t){this._author=t}get author(){return this._author}set company(t){this._company=t}get company(){return this._company}set revision(t){this._revision=t}get revision(){return this._revision}set subject(t){this._subject=t}get subject(){return this._subject}set theme(t){this._theme=t}get theme(){return this._theme}set title(t){this._title=t}get title(){return this._title}set rtlMode(t){this._rtlMode=t}get rtlMode(){return this._rtlMode}get masterSlide(){return this._masterSlide}get slides(){return this._slides}get sections(){return this._sections}get slideLayouts(){return this._slideLayouts}get AlignH(){return this._alignH}get AlignV(){return this._alignV}get ChartType(){return this._chartType}get OutputType(){return this._outputType}get presLayout(){return this._presLayout}get SchemeColor(){return this._schemeColor}get ShapeType(){return this._shapeType}get charts(){return this._charts}get colors(){return this._colors}get shapes(){return this._shapes}constructor(){this._version=Wy,this._alignH=vc,this._alignV=yc,this._chartType=xc,this._outputType=Ac,this._schemeColor=jt,this._shapeType=gc,this._charts=Y,this._colors=Ki,this._shapes=Gs,this.addNewSlide=i=>{const l=this.sections.length>0&&this.sections[this.sections.length-1]._slides.filter(u=>u._slideNum===this.slides[this.slides.length-1]._slideNum).length>0;return i.sectionTitle=l?this.sections[this.sections.length-1].title:null,this.addSlide(i)},this.getSlide=i=>this.slides.filter(l=>l._slideNum===i)[0],this.setSlideNumber=i=>{this.masterSlide._slideNumberProps=i,this.slideLayouts.filter(l=>l._name===mc)[0]._slideNumberProps=i},this.createChartMediaRels=(i,l,u)=>{i._relsChart.forEach(c=>u.push(gy(c,l))),i._relsMedia.forEach(c=>{if(c.type!=="online"&&c.type!=="hyperlink"){let o=c.data&&typeof c.data=="string"?c.data:"";!o.includes(",")&&!o.includes(";")?o="image/png;base64,"+o:o.includes(",")?o.includes(";")||(o="image/png;"+o):o="image/png;base64,"+o,l.file(c.Target.replace("..","ppt"),o.split(",").pop(),{base64:!0})}})},this.writeFileToBrowser=(i,l)=>St(this,void 0,void 0,function*(){const u=document.createElement("a");if(u.setAttribute("style","display:none;"),u.dataset.interception="off",document.body.appendChild(u),window.URL.createObjectURL){const c=window.URL.createObjectURL(new Blob([l],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}));return u.href=c,u.download=i,u.click(),setTimeout(()=>{window.URL.revokeObjectURL(c),document.body.removeChild(u)},100),yield Promise.resolve(i)}}),this.exportPresentation=i=>St(this,void 0,void 0,function*(){const l=[];let u=[];const c=new up;return this.slides.forEach(o=>{u=u.concat(oo(o))}),this.slideLayouts.forEach(o=>{u=u.concat(oo(o))}),u=u.concat(oo(this.masterSlide)),yield Promise.all(u).then(()=>St(this,void 0,void 0,function*(){return this.slides.forEach(o=>{o._slideLayout&&Ay(o)}),c.folder("_rels"),c.folder("docProps"),c.folder("ppt").folder("_rels"),c.folder("ppt/charts").folder("_rels"),c.folder("ppt/embeddings"),c.folder("ppt/media"),c.folder("ppt/slideLayouts").folder("_rels"),c.folder("ppt/slideMasters").folder("_rels"),c.folder("ppt/slides").folder("_rels"),c.folder("ppt/theme"),c.folder("ppt/notesMasters").folder("_rels"),c.folder("ppt/notesSlides").folder("_rels"),c.file("[Content_Types].xml",Ny(this.slides,this.slideLayouts,this.masterSlide)),c.file("_rels/.rels",jy()),c.file("docProps/app.xml",Cy(this.slides,this.company)),c.file("docProps/core.xml",Sy(this.title,this.subject,this.author,this.revision)),c.file("ppt/_rels/presentation.xml.rels",ky(this.slides)),c.file("ppt/theme/theme1.xml",Uy(this)),c.file("ppt/presentation.xml",qy(this)),c.file("ppt/presProps.xml",$y()),c.file("ppt/tableStyles.xml",Vy()),c.file("ppt/viewProps.xml",Qy()),this.slideLayouts.forEach((o,d)=>{c.file(`ppt/slideLayouts/slideLayout${d+1}.xml`,Ty(o)),c.file(`ppt/slideLayouts/_rels/slideLayout${d+1}.xml.rels`,Py(d+1,this.slideLayouts))}),this.slides.forEach((o,d)=>{c.file(`ppt/slides/slide${d+1}.xml`,Ry(o)),c.file(`ppt/slides/_rels/slide${d+1}.xml.rels`,By(this.slides,this.slideLayouts,d+1)),c.file(`ppt/notesSlides/notesSlide${d+1}.xml`,Ey(o)),c.file(`ppt/notesSlides/_rels/notesSlide${d+1}.xml.rels`,Iy(d+1))}),c.file("ppt/slideMasters/slideMaster1.xml",Fy(this.masterSlide,this.slideLayouts)),c.file("ppt/slideMasters/_rels/slideMaster1.xml.rels",My(this.masterSlide,this.slideLayouts)),c.file("ppt/notesMasters/notesMaster1.xml",Dy()),c.file("ppt/notesMasters/_rels/notesMaster1.xml.rels",Oy()),this.slideLayouts.forEach(o=>{this.createChartMediaRels(o,c,l)}),this.slides.forEach(o=>{this.createChartMediaRels(o,c,l)}),this.createChartMediaRels(this.masterSlide,c,l),yield Promise.all(l).then(()=>St(this,void 0,void 0,function*(){return i.outputType==="STREAM"?yield c.generateAsync({type:"nodebuffer",compression:i.compression?"DEFLATE":"STORE"}):i.outputType?yield c.generateAsync({type:i.outputType}):yield c.generateAsync({type:"blob",compression:i.compression?"DEFLATE":"STORE"})}))}))});const t={name:"screen4x3",width:9144e3,height:6858e3},s={name:"screen16x9",width:9144e3,height:5143500},r={name:"screen16x10",width:9144e3,height:5715e3},n={name:"custom",width:12192e3,height:6858e3};this.LAYOUTS={LAYOUT_4x3:t,LAYOUT_16x9:s,LAYOUT_16x10:r,LAYOUT_WIDE:n},this._author="PptxGenJS",this._company="PptxGenJS",this._revision="1",this._subject="PptxGenJS Presentation",this._title="PptxGenJS Presentation",this._presLayout={name:this.LAYOUTS[Da].name,_sizeW:this.LAYOUTS[Da].width,_sizeH:this.LAYOUTS[Da].height,width:this.LAYOUTS[Da].width,height:this.LAYOUTS[Da].height},this._rtlMode=!1,this._slideLayouts=[{_margin:yn,_name:mc,_presLayout:this._presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3,_slideNumberProps:null,_slideObjects:[]}],this._slides=[],this._sections=[],this._masterSlide={addChart:null,addImage:null,addMedia:null,addNotes:null,addShape:null,addTable:null,addText:null,_name:null,_presLayout:this._presLayout,_rId:null,_rels:[],_relsChart:[],_relsMedia:[],_slideId:null,_slideLayout:null,_slideNum:null,_slideNumberProps:null,_slideObjects:[]}}stream(t){return St(this,void 0,void 0,function*(){return yield this.exportPresentation({compression:t==null?void 0:t.compression,outputType:"STREAM"})})}write(t){return St(this,void 0,void 0,function*(){const s=typeof t=="object"&&(t!=null&&t.outputType)?t.outputType:t||null,r=typeof t=="object"&&(t!=null&&t.compression)?t.compression:!1;return yield this.exportPresentation({compression:r,outputType:s})})}writeFile(t){return St(this,void 0,void 0,function*(){var s,r;const n=typeof process<"u"&&!!(!((s=process.versions)===null||s===void 0)&&s.node)&&((r=process.release)===null||r===void 0?void 0:r.name)==="node";typeof t=="string"&&(console.warn("[WARNING] writeFile(string) is deprecated - pass { fileName } instead."),t={fileName:t});const{fileName:i="Presentation.pptx",compression:l=!1}=t,u=i.toLowerCase().endsWith(".pptx")?i:`${i}.pptx`,c=n?"nodebuffer":null,o=yield this.exportPresentation({compression:l,outputType:c});if(n){const{promises:d}=yield ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{writeFile:h}=d;return yield h(u,o),u}return yield this.writeFileToBrowser(u,o),u})}addSection(t){t?t.title||console.warn("addSection requires a title"):console.warn("addSection requires an argument");const s={_type:"user",_slides:[],title:t.title};t.order?this.sections.splice(t.order,0,s):this._sections.push(s)}addSlide(t){const s=typeof t=="string"?t:t!=null&&t.masterName?t.masterName:"";let r={_name:this.LAYOUTS[Da].name,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slideNum:this.slides.length+1};if(s){const i=this.slideLayouts.filter(l=>l._name===s)[0];i&&(r=i)}const n=new xy({addSlide:this.addNewSlide,getSlide:this.getSlide,presLayout:this.presLayout,setSlideNum:this.setSlideNumber,slideId:this.slides.length+256,slideRId:this.slides.length+2,slideNumber:this.slides.length+1,slideLayout:r});if(this._slides.push(n),t!=null&&t.sectionTitle){const i=this.sections.filter(l=>l.title===t.sectionTitle)[0];i?i._slides.push(n):console.warn(`addSlide: unable to find section with title: "${t.sectionTitle}"`)}else if(this.sections&&this.sections.length>0&&!(t!=null&&t.sectionTitle)){const i=this._sections[this.sections.length-1];i._type==="default"?i._slides.push(n):this._sections.push({title:`Default-${this.sections.filter(l=>l._type==="default").length+1}`,_type:"default",_slides:[n]})}return n}defineLayout(t){t?t.name?t.width?t.height?typeof t.height!="number"?console.warn("defineLayout `height` should be a number (inches)"):typeof t.width!="number"&&console.warn("defineLayout `width` should be a number (inches)"):console.warn("defineLayout requires `height`"):console.warn("defineLayout requires `width`"):console.warn("defineLayout requires `name`"):console.warn("defineLayout requires `{name, width, height}`"),this.LAYOUTS[t.name]={name:t.name,_sizeW:Math.round(Number(t.width)*me),_sizeH:Math.round(Number(t.height)*me),width:Math.round(Number(t.width)*me),height:Math.round(Number(t.height)*me)}}defineSlideMaster(t){const s=JSON.parse(JSON.stringify(t));if(!s.title)throw new Error("defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)");const r={_margin:s.margin||yn,_name:s.title,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3+this.slideLayouts.length+1,_slideNumberProps:s.slideNumber||null,_slideObjects:[],background:s.background||null,bkgd:s.bkgd||null};hy(s,r),this.slideLayouts.push(r),(s.background||s.bkgd)&&vp(s.background,r),r._slideNumberProps&&!this.masterSlide._slideNumberProps&&(this.masterSlide._slideNumberProps=r._slideNumberProps)}tableToSlides(t,s={}){dy(this,t,s,s!=null&&s.masterSlideName?this.slideLayouts.filter(r=>r._name===s.masterSlideName)[0]:null)}}function Ld(e){const t=new Gy;t.author="Liquidity Risk Management System",t.company="Financial Institution",t.title=e.title,t.subject="Regulatory Metrics Summary";const s=t.addSlide();s.background={color:"FFFFFF"},s.addText(e.title,{x:.5,y:.3,w:9,h:.6,fontSize:28,bold:!0,color:"1e293b",align:"left"}),s.addText(e.subtitle,{x:.5,y:.95,w:9,h:.3,fontSize:14,color:"64748b",align:"left"});const r=[];r.push([{text:"Metric",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af"}},{text:"Current Value",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Prior Period",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Change",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Requirement",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Status",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"center"}}]),e.metrics.forEach((l,u)=>{const c=u%2===0?"f8fafc":"FFFFFF";let o="",d="64748b";l.status==="compliant"?(o=" Compliant",d="16a34a"):l.status==="warning"?(o=" Warning",d="f59e0b"):l.status==="non-compliant"&&(o=" Non-Compliant",d="dc2626");const h=l.regulatoryRequirement||l.internalRequirement||"N/A";r.push([{text:l.name,options:{fontSize:9,color:"1e293b",fill:c,bold:!0}},{text:`${l.currentValue}${l.currentDate?`
(${l.currentDate})`:""}`,options:{fontSize:9,color:"1e293b",fill:c,align:"right"}},{text:l.priorValue?`${l.priorValue}${l.priorDate?`
(${l.priorDate})`:""}`:"N/A",options:{fontSize:9,color:"64748b",fill:c,align:"right"}},{text:l.delta||"N/A",options:{fontSize:9,color:l.delta&&l.delta.startsWith("+")?"16a34a":l.delta&&l.delta.startsWith("-")?"dc2626":"64748b",fill:c,align:"right",bold:!0}},{text:h,options:{fontSize:9,color:"1e293b",fill:c,align:"right"}},{text:o,options:{fontSize:9,color:d,fill:c,align:"center",bold:!0}}])}),s.addTable(r,{x:.5,y:1.4,w:9,rowH:[.35,...Array(e.metrics.length).fill(.45)],colW:[2.5,1.5,1.5,1,1.5,1],border:{pt:1,color:"e2e8f0"},margin:.1,fontSize:9});const n=1.4+.35+e.metrics.length*.45+.3;if(n<6.8){const l=e.metrics.filter(d=>d.status),u=l.filter(d=>d.status==="compliant").length,c=l.filter(d=>d.status==="warning").length,o=l.filter(d=>d.status==="non-compliant").length;if(l.length>0){s.addText("Summary",{x:.5,y:n,w:9,h:.3,fontSize:14,bold:!0,color:"1e293b"});const d=`${u} metric${u!==1?"s":""} compliant    ${c} warning${c!==1?"s":""}    ${o} non-compliant`;s.addText(d,{x:.5,y:n+.35,w:9,h:.3,fontSize:11,color:"64748b"})}e.additionalNotes&&n+.8<6.8&&s.addText(e.additionalNotes,{x:.5,y:n+.8,w:9,h:.6,fontSize:9,color:"475569",italic:!0})}s.addText(`Generated: ${new Date().toLocaleString()}`,{x:.5,y:7,w:9,h:.2,fontSize:8,color:"94a3b8",align:"right"});const i=`${e.title.replace(/[^a-z0-9]/gi,"_")}_${new Date().toISOString().split("T")[0]}.pptx`;t.writeFile({fileName:i})}function Hy(e){const t=[{name:"Total Assets",currentValue:e.currentAssets||"N/A",priorValue:e.priorAssets,delta:e.assetsDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Total Liabilities",currentValue:e.currentLiabilities||"N/A",priorValue:e.priorLiabilities,delta:e.liabilitiesDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Total Equity",currentValue:e.currentEquity||"N/A",priorValue:e.priorEquity,delta:e.equityDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Tier 1 Capital Ratio",currentValue:e.currentTier1Ratio||"N/A",priorValue:e.priorTier1Ratio,delta:e.tier1RatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 6.0%",status:e.tier1Status||"compliant"},{name:"Leverage Ratio",currentValue:e.currentLeverageRatio||"N/A",priorValue:e.priorLeverageRatio,delta:e.leverageRatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 5.0%",status:e.leverageStatus||"compliant"}];Ld({title:"Balance Sheet & Capital Summary",subtitle:"Key metrics vs regulatory requirements and prior period comparison",metrics:t,additionalNotes:"Source: State Street Corporation quarterly reports. Representative sample data for demonstration."})}function Xy(e){const t=[{name:"Tier 1 Capital",currentValue:e.currentTier1Capital||"N/A",priorValue:e.priorTier1Capital,delta:e.tier1CapitalDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Tier 1 Capital Ratio",currentValue:e.currentTier1Ratio||"N/A",priorValue:e.priorTier1Ratio,delta:e.tier1RatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 6.0%",internalRequirement:" 8.0%",status:e.tier1Status||"compliant"},{name:"Leverage Ratio",currentValue:e.currentLeverageRatio||"N/A",priorValue:e.priorLeverageRatio,delta:e.leverageRatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 5.0%",internalRequirement:" 6.0%",status:e.leverageStatus||"compliant"},{name:"RCAP Ratio",currentValue:e.currentRCAPRatio||"N/A",priorValue:e.priorRCAPRatio,delta:e.rcapRatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 100%",internalRequirement:" 110%",status:e.rcapStatus||"compliant"}];Ld({title:"Capital Adequacy Summary",subtitle:"Regulatory and resolution capital metrics vs requirements",metrics:t,additionalNotes:"Regulatory capital ratios based on Basel III requirements. Resolution metrics represent demonstration data."})}function Ky(e){const t=[{name:"Liquidity Coverage Ratio (LCR)",currentValue:e.currentLCR||"N/A",priorValue:e.priorLCR,delta:e.lcrDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 100%",internalRequirement:" 110%",status:e.lcrStatus||"compliant"},{name:"Net Stable Funding Ratio (NSFR)",currentValue:e.currentNSFR||"N/A",priorValue:e.priorNSFR,delta:e.nsfrDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 100%",internalRequirement:" 105%",status:e.nsfrStatus||"compliant"},{name:"High-Quality Liquid Assets (HQLA)",currentValue:e.currentHQLA||"N/A",priorValue:e.priorHQLA,delta:e.hqlaDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Net Cash Outflows (30-day)",currentValue:e.currentNetOutflows||"N/A",priorValue:e.priorNetOutflows,delta:e.netOutflowsDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"}];Ld({title:"Liquidity Metrics Summary",subtitle:"LCR, NSFR, and liquidity components vs requirements",metrics:t,additionalNotes:"Representative sample data modeled on typical institutional liquidity metrics per Basel III standards."})}function Jy({onNavigate:e}){ut();const[t,s]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState(!0),[u,c]=O.useState(null);O.useEffect(()=>{o()},[u]);const o=async()=>{let m=J.from("balance_sheet_metrics").select("*").is("user_id",null),y=J.from("interest_rate_risk_metrics").select("*").is("user_id",null);u&&(m=m.eq("legal_entity_id",u),y=y.eq("legal_entity_id",u));const[g,p]=await Promise.all([m.order("report_date",{ascending:!1}).limit(10),y.order("report_date",{ascending:!1}).limit(10)]);g.data&&s(g.data),p.data&&n(p.data),l(!1)},d=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(m),h=m=>`${(m*100).toFixed(2)}%`,A=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=t[0],x=r[0];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx(vl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"Balance Sheet & Interest Rate Risk"}]}),a.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Close",children:a.jsx(Ft,{className:"w-5 h-5 text-slate-600"})})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Balance Sheet & Interest Rate Risk"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Comprehensive balance sheet composition and IRRBB analysis"})]}),a.jsxs("button",{onClick:()=>{const m=t.length>1?t[1]:null;Hy({currentAssets:f?d(f.total_assets):"N/A",priorAssets:m?d(m.total_assets):void 0,assetsDelta:m?`${((f.total_assets-m.total_assets)/m.total_assets*100).toFixed(1)}%`:void 0,currentLiabilities:f?d(f.total_liabilities):"N/A",priorLiabilities:m?d(m.total_liabilities):void 0,liabilitiesDelta:m?`${((f.total_liabilities-m.total_liabilities)/m.total_liabilities*100).toFixed(1)}%`:void 0,currentEquity:f?d(f.total_equity):"N/A",priorEquity:m?d(m.total_equity):void 0,equityDelta:m?`${((f.total_equity-m.total_equity)/m.total_equity*100).toFixed(1)}%`:void 0,currentTier1Ratio:f?h(f.tier1_capital_ratio):"N/A",priorTier1Ratio:m?h(m.tier1_capital_ratio):void 0,tier1RatioDelta:m?`${(f.tier1_capital_ratio-m.tier1_capital_ratio).toFixed(2)}%`:void 0,currentLeverageRatio:f?h(f.leverage_ratio):"N/A",priorLeverageRatio:m?h(m.leverage_ratio):void 0,leverageRatioDelta:m?`${(f.leverage_ratio-m.leverage_ratio).toFixed(2)}%`:void 0,currentDate:f?A(f.report_date):void 0,priorDate:m?A(m.report_date):void 0,tier1Status:f&&f.tier1_capital_ratio>=6?"compliant":"warning",leverageStatus:f&&f.leverage_ratio>=5?"compliant":"warning"})},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:!f,children:[a.jsx(_d,{className:"w-4 h-4"}),a.jsx("span",{children:"Export to PowerPoint"})]}),a.jsx("div",{className:"w-80",children:a.jsx(kn,{selectedEntityId:u,onEntityChange:c})})]}),i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-slate-600",children:"Loading metrics..."})}):a.jsxs(a.Fragment,{children:[f&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Latest Balance Sheet (",A(f.report_date),")"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Assets"}),a.jsx(Je,{value:d(f.total_assets),metricName:"Total Assets",targetTable:"balance_sheet_metrics",targetColumn:"total_assets",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:A(f.report_date),priorValue:t.length>1?d(t[1].total_assets):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(m=>({date:A(m.report_date),value:d(m.total_assets)}))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Liabilities"}),a.jsx(Je,{value:d(f.total_liabilities),metricName:"Total Liabilities",targetTable:"balance_sheet_metrics",targetColumn:"total_liabilities",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:A(f.report_date),priorValue:t.length>1?d(t[1].total_liabilities):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(m=>({date:A(m.report_date),value:d(m.total_liabilities)}))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Equity"}),a.jsx(Je,{value:d(f.total_equity),metricName:"Total Equity",targetTable:"balance_sheet_metrics",targetColumn:"total_equity",dataSource:"Analytics",className:"text-2xl font-bold text-green-600",currentDate:A(f.report_date),priorValue:t.length>1?d(t[1].total_equity):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(m=>({date:A(m.report_date),value:d(m.total_equity)}))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital"}),a.jsx(Je,{value:d(f.tier1_capital),metricName:"Tier 1 Capital",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:A(f.report_date),priorValue:t.length>1?d(t[1].tier1_capital):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(m=>({date:A(m.report_date),value:d(m.tier1_capital)}))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital Ratio"}),a.jsx(Je,{value:h(f.tier1_capital_ratio),metricName:"Tier 1 Capital Ratio",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${f.tier1_capital_ratio>=.06?"text-green-600":"text-red-600"}`,currentDate:A(f.report_date),priorValue:t.length>1?h(t[1].tier1_capital_ratio):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(m=>({date:A(m.report_date),value:h(m.tier1_capital_ratio)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 6%"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Leverage Ratio"}),a.jsx(Je,{value:h(f.leverage_ratio),metricName:"Leverage Ratio",targetTable:"balance_sheet_metrics",targetColumn:"leverage_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${f.leverage_ratio>=.05?"text-green-600":"text-amber-600"}`,currentDate:A(f.report_date),priorValue:t.length>1?h(t[1].leverage_ratio):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(m=>({date:A(m.report_date),value:h(m.leverage_ratio)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"US G-SIB Minimum: 5%"})]})]})]}),x&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Interest Rate Risk Scenario: ",x.scenario_type]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"EVE Change"}),a.jsx(Je,{value:h(x.eve_change_percent),metricName:"Economic Value of Equity (EVE) Change",targetTable:"interest_rate_risk_metrics",targetColumn:"eve_change_percent",dataSource:"Analytics",className:`text-2xl font-bold ${x.eve_change_percent<-.15?"text-red-600":x.eve_change_percent<0?"text-amber-600":"text-green-600"}`}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:d(x.eve_change_amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"NII Change"}),a.jsx(Je,{value:h(x.nii_change_percent),metricName:"Net Interest Income (NII) Change",targetTable:"interest_rate_risk_metrics",targetColumn:"nii_change_percent",dataSource:"Analytics",className:`text-2xl font-bold ${x.nii_change_percent>=0?"text-green-600":"text-red-600"}`}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:d(x.nii_change_amount)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Trends"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Total Assets"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Total Equity"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Tier 1 Ratio"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Leverage Ratio"})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:A(m.report_date)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:d(m.total_assets)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-green-600",children:d(m.total_equity)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:h(m.tier1_capital_ratio)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:h(m.leverage_ratio)})]},m.id))})]})})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mt-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(tt,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About This Metric"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Balance sheet metrics provide a comprehensive view of an institution's financial position, assets, liabilities, and equity composition. Interest Rate Risk in the Banking Book (IRRBB) measures potential impacts on economic value of equity (EVE) and net interest income (NII) from interest rate changes."}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Regulatory Requirements:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[a.jsx("li",{children:"Basel III capital requirements: Tier 1 capital ratio minimum of 6%"}),a.jsx("li",{children:"Leverage ratio minimum of 3% (5% for US G-SIBs)"}),a.jsx("li",{children:"IRRBB standards require institutions to measure and control interest rate risk"}),a.jsx("li",{children:"Supervisory outlier test: EVE decline > 15% of Tier 1 capital triggers enhanced monitoring"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[a.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("a",{href:"https://www.bis.org/bcbs/publ/d368.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Basel Committee - Interest Rate Risk in the Banking Book (IRRBB)"})]}),a.jsxs("a",{href:"https://www.federalreserve.gov/supervisionreg/topics/capital.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Federal Reserve - Capital Requirements"})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(tt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-amber-900",children:[a.jsx("strong",{children:"Data Source:"})," Representative sample data based on State Street Corporation's publicly available financial reports. Balance sheet figures are modeled on ",a.jsx("a",{href:"https://investors.statestreet.com/financial-information/quarterly-results/default.aspx",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-700",children:"Q3 2024 10-Q filing"}),". IRRBB metrics represent typical institutional risk sensitivities and are not sourced from actual State Street disclosures."]})})]})})]})}function Yy({onNavigate:e}){ut();const[t,s]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState([]),[u,c]=O.useState([]),[o,d]=O.useState(!0),[h,A]=O.useState("lcr"),[f,x]=O.useState(null);O.useEffect(()=>{m()},[f]);const m=async()=>{let C=J.from("lcr_metrics").select("*").is("user_id",null),L=J.from("nsfr_metrics").select("*").is("user_id",null),E=J.from("liquidity_stress_tests").select("*").is("user_id",null),k=J.from("resolution_liquidity_metrics").select("*").is("user_id",null);f&&(C=C.eq("legal_entity_id",f),L=L.eq("legal_entity_id",f),E=E.eq("legal_entity_id",f),k=k.eq("legal_entity_id",f));const[R,U,_,I]=await Promise.all([C.order("report_date",{ascending:!1}).limit(10),L.order("report_date",{ascending:!1}).limit(10),E.order("report_date",{ascending:!1}).limit(10),k.order("report_date",{ascending:!1}).limit(10)]);R.data&&s(R.data),U.data&&n(U.data),_.data&&l(_.data),I.data&&c(I.data),d(!1)},y=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(C),g=C=>`${(C*100).toFixed(2)}%`,p=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=t[0],w=r[0],j=i[0];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx(vl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"Liquidity Coverage & Stress Testing"}]}),a.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Close",children:a.jsx(Ft,{className:"w-5 h-5 text-slate-600"})})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Liquidity Coverage & Stress Testing"}),a.jsx("p",{className:"text-sm text-slate-600",children:"LCR, NSFR, resolution liquidity, and stress test analysis"})]}),a.jsxs("button",{onClick:()=>{const C=t[0],L=t.length>1?t[1]:null,E=r[0],k=r.length>1?r[1]:null;Ky({currentLCR:C?g(C.lcr_ratio):"N/A",priorLCR:L?g(L.lcr_ratio):void 0,lcrDelta:L?`${(C.lcr_ratio-L.lcr_ratio).toFixed(2)}%`:void 0,currentNSFR:E?g(E.nsfr_ratio):"N/A",priorNSFR:k?g(k.nsfr_ratio):void 0,nsfrDelta:k?`${(E.nsfr_ratio-k.nsfr_ratio).toFixed(2)}%`:void 0,currentHQLA:C?y(C.total_hqla):"N/A",priorHQLA:L?y(L.total_hqla):void 0,hqlaDelta:L?`${((C.total_hqla-L.total_hqla)/L.total_hqla*100).toFixed(1)}%`:void 0,currentNetOutflows:C?y(C.total_net_cash_outflows):"N/A",priorNetOutflows:L?y(L.total_net_cash_outflows):void 0,netOutflowsDelta:L?`${((C.total_net_cash_outflows-L.total_net_cash_outflows)/L.total_net_cash_outflows*100).toFixed(1)}%`:void 0,currentDate:C?p(C.report_date):void 0,priorDate:L?p(L.report_date):void 0,lcrStatus:C&&C.lcr_ratio>=110?"compliant":"warning",nsfrStatus:E&&E.nsfr_ratio>=105?"compliant":"warning"})},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:t.length===0,children:[a.jsx(_d,{className:"w-4 h-4"}),a.jsx("span",{children:"Export to PowerPoint"})]}),a.jsx("div",{className:"w-80",children:a.jsx(kn,{selectedEntityId:f,onEntityChange:x})})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{onClick:()=>A("lcr"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="lcr"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"LCR Metrics"}),a.jsx("button",{onClick:()=>A("nsfr"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="nsfr"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"NSFR Metrics"}),a.jsx("button",{onClick:()=>A("stress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="stress"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Stress Tests"}),a.jsx("button",{onClick:()=>A("resolution"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="resolution"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Resolution Liquidity"})]}),o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-slate-600",children:"Loading metrics..."})}):a.jsxs(a.Fragment,{children:[h==="lcr"&&a.jsxs("div",{className:"space-y-6",children:[v&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Latest LCR (",p(v.report_date),")"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"LCR Ratio"}),a.jsx(Je,{value:g(v.lcr_ratio),metricName:"Liquidity Coverage Ratio (LCR)",targetTable:"lcr_metrics",targetColumn:"lcr_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${v.lcr_ratio>=1?"text-green-600":"text-red-600"}`,currentDate:p(v.report_date),priorValue:t.length>1?g(t[1].lcr_ratio):void 0,priorDate:t.length>1?p(t[1].report_date):void 0,availablePeriods:t.map(C=>({date:p(C.report_date),value:g(C.lcr_ratio)}))}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.is_compliant?a.jsx(ue,{className:"w-4 h-4 text-green-600"}):a.jsx(Be,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:`text-xs ${v.is_compliant?"text-green-600":"text-red-600"}`,children:v.is_compliant?"Compliant":"Non-Compliant"})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 100%"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total HQLA"}),a.jsx(Je,{value:y(v.total_hqla),metricName:"Total High-Quality Liquid Assets (HQLA)",targetTable:"lcr_metrics",targetColumn:"total_hqla",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:p(v.report_date),priorValue:t.length>1?y(t[1].total_hqla):void 0,priorDate:t.length>1?p(t[1].report_date):void 0,availablePeriods:t.map(C=>({date:p(C.report_date),value:y(C.total_hqla)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"High-Quality Liquid Assets"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Net Cash Outflows (30d)"}),a.jsx(Je,{value:y(v.total_net_cash_outflows),metricName:"Total Net Cash Outflows (30-day)",targetTable:"lcr_metrics",targetColumn:"total_net_cash_outflows",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:p(v.report_date),priorValue:t.length>1?y(t[1].total_net_cash_outflows):void 0,priorDate:t.length>1?p(t[1].report_date):void 0,availablePeriods:t.map(C=>({date:p(C.report_date),value:y(C.total_net_cash_outflows)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Stressed scenario"})]})]})]}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"LCR Formula & Components"}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 mb-4",children:[a.jsx("p",{className:"text-center text-lg mb-2",children:a.jsx("span",{className:"font-mono font-semibold",children:"LCR = (Total HQLA / Total Net Cash Outflows)  100"})}),a.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{children:"HQLA"}),": Level 1 (100%) + Level 2A (85%) + Level 2B (50%)"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Net Cash Outflows"}),": Expected outflows - Min(Expected inflows, 75% of outflows)"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Time Horizon"}),": 30-day stressed scenario"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Minimum Requirement"}),": 100% (Category II institutions)"]})]})]}),v&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"HQLA Breakdown"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Level 1 (100%)"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(v.hqla_level_1)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Level 2A (85%)"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(v.hqla_level_2a)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Level 2B (50%)"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(v.hqla_level_2b)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-200",children:[a.jsx("span",{className:"text-slate-700 font-medium",children:"Total HQLA"}),a.jsx("span",{className:"font-bold text-blue-600",children:y(v.total_hqla)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"HQLA Level 1 Examples"}),a.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[a.jsx("li",{children:" Central bank reserves"}),a.jsx("li",{children:" US Treasury securities"}),a.jsx("li",{children:" Cash"}),a.jsx("li",{children:" Claims on sovereigns (0% risk weight)"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Net Cash Outflow Factors"}),a.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[a.jsx("li",{children:" Retail deposits: 3-10% run-off"}),a.jsx("li",{children:" Wholesale deposits: 25-100% run-off"}),a.jsx("li",{children:" Secured funding: 0-100% run-off"}),a.jsx("li",{children:" Committed facilities: 10-100% draw-down"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical LCR Trends"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"LCR Ratio"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"HQLA"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Net Outflows"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),a.jsx("tbody",{children:t.map(C=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:p(C.report_date)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${C.lcr_ratio>=1?"text-green-600":"text-red-600"}`,children:g(C.lcr_ratio)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:y(C.total_hqla)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:y(C.total_net_cash_outflows)}),a.jsx("td",{className:"py-3 px-4 text-center",children:C.is_compliant?a.jsx(ue,{className:"w-5 h-5 text-green-600 mx-auto"}):a.jsx(Be,{className:"w-5 h-5 text-red-600 mx-auto"})})]},C.id))})]})})]})]}),h==="nsfr"&&a.jsxs("div",{className:"space-y-6",children:[w&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Latest NSFR (",p(w.report_date),")"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"NSFR Ratio"}),a.jsx(Je,{value:g(w.nsfr_ratio),metricName:"Net Stable Funding Ratio (NSFR)",targetTable:"nsfr_metrics",targetColumn:"nsfr_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${w.nsfr_ratio>=1?"text-green-600":"text-red-600"}`,currentDate:p(w.report_date),priorValue:r.length>1?g(r[1].nsfr_ratio):void 0,priorDate:r.length>1?p(r[1].report_date):void 0,availablePeriods:r.map(C=>({date:p(C.report_date),value:g(C.nsfr_ratio)}))}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[w.is_compliant?a.jsx(ue,{className:"w-4 h-4 text-green-600"}):a.jsx(Be,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:`text-xs ${w.is_compliant?"text-green-600":"text-red-600"}`,children:w.is_compliant?"Compliant":"Non-Compliant"})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 100%"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Available Stable Funding"}),a.jsx(Je,{value:y(w.available_stable_funding),metricName:"Available Stable Funding (ASF)",targetTable:"nsfr_metrics",targetColumn:"available_stable_funding",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:p(w.report_date),priorValue:r.length>1?y(r[1].available_stable_funding):void 0,priorDate:r.length>1?p(r[1].report_date):void 0,availablePeriods:r.map(C=>({date:p(C.report_date),value:y(C.available_stable_funding)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ASF"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Required Stable Funding"}),a.jsx(Je,{value:y(w.required_stable_funding),metricName:"Required Stable Funding (RSF)",targetTable:"nsfr_metrics",targetColumn:"required_stable_funding",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:p(w.report_date),priorValue:r.length>1?y(r[1].required_stable_funding):void 0,priorDate:r.length>1?p(r[1].report_date):void 0,availablePeriods:r.map(C=>({date:p(C.report_date),value:y(C.required_stable_funding)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"RSF"})]})]})]}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"NSFR Formula & Components"}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 mb-4",children:[a.jsx("p",{className:"text-center text-lg mb-2",children:a.jsx("span",{className:"font-mono font-semibold",children:"NSFR = (Available Stable Funding / Required Stable Funding)  100"})}),a.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{children:"ASF"}),": Stable funding from capital, deposits, and long-term borrowings"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"RSF"}),": Stability of assets and off-balance sheet exposures"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Time Horizon"}),": One year stressed scenario"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Minimum Requirement"}),": 100% (Category II institutions)"]})]})]}),w&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"ASF Breakdown"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Retail Deposits"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(w.retail_deposits)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Wholesale Funding"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(w.wholesale_funding)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-200",children:[a.jsx("span",{className:"text-slate-700 font-medium",children:"Total ASF"}),a.jsx("span",{className:"font-bold text-blue-600",children:y(w.available_stable_funding)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"ASF Factors"}),a.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[a.jsx("li",{children:" Capital: 100%"}),a.jsx("li",{children:" Stable retail deposits: 95%"}),a.jsx("li",{children:" Less stable retail deposits: 90%"}),a.jsx("li",{children:" Wholesale deposits: 50%"}),a.jsx("li",{children:" Operational deposits: 50%"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"RSF Factors"}),a.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[a.jsx("li",{children:" Cash and HQLA Level 1: 0%"}),a.jsx("li",{children:" HQLA Level 2A: 15%"}),a.jsx("li",{children:" HQLA Level 2B: 50%"}),a.jsx("li",{children:" Loans to financial institutions: 85%"}),a.jsx("li",{children:" Retail/SME loans: 85%"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical NSFR Trends"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"NSFR Ratio"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"ASF"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RSF"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),a.jsx("tbody",{children:r.map(C=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:p(C.report_date)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${C.nsfr_ratio>=1?"text-green-600":"text-red-600"}`,children:g(C.nsfr_ratio)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:y(C.available_stable_funding)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:y(C.required_stable_funding)}),a.jsx("td",{className:"py-3 px-4 text-center",children:C.is_compliant?a.jsx(ue,{className:"w-5 h-5 text-green-600 mx-auto"}):a.jsx(Be,{className:"w-5 h-5 text-red-600 mx-auto"})})]},C.id))})]})})]})]}),h==="stress"&&a.jsxs("div",{className:"space-y-6",children:[j&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Latest Stress Test: ",j.scenario_name," (",p(j.report_date),")"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Baseline Liquidity"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:y(j.baseline_liquidity)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Stressed Liquidity"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:y(j.stressed_liquidity)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Liquidity Shortfall"}),a.jsx("p",{className:`text-2xl font-bold ${j.liquidity_shortfall>0?"text-red-600":"text-green-600"}`,children:y(Math.abs(j.liquidity_shortfall))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Survival Days"}),a.jsx("p",{className:`text-2xl font-bold ${j.survival_days>=30?"text-green-600":"text-red-600"}`,children:j.survival_days}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[j.passes_internal_threshold?a.jsx(ue,{className:"w-4 h-4 text-green-600"}):a.jsx(Be,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:`text-xs ${j.passes_internal_threshold?"text-green-600":"text-red-600"}`,children:j.passes_internal_threshold?"Passes":"Fails"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Stress Test History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Scenario"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Baseline"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Stressed"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Shortfall"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Days"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Result"})]})}),a.jsx("tbody",{children:i.map(C=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:p(C.report_date)}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:C.scenario_name}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:y(C.baseline_liquidity)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-amber-600",children:y(C.stressed_liquidity)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${C.liquidity_shortfall>0?"text-red-600":"text-green-600"}`,children:y(Math.abs(C.liquidity_shortfall))}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${C.survival_days>=30?"text-green-600":"text-red-600"}`,children:C.survival_days}),a.jsx("td",{className:"py-3 px-4 text-center",children:C.passes_internal_threshold?a.jsx(ue,{className:"w-5 h-5 text-green-600 mx-auto"}):a.jsx(Be,{className:"w-5 h-5 text-red-600 mx-auto"})})]},C.id))})]})})]})]}),h==="resolution"&&a.jsxs("div",{className:"space-y-6",children:[u[0]&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Resolution Liquidity Metrics (",p(u[0].report_date),")"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:`rounded-xl p-6 border-2 ${u[0].rlap_surplus_deficit>=0?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RLAP"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Liquidity Adequacy Position"})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-3xl font-bold ${u[0].rlap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,children:g(u[0].rlap_ratio)}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Amount"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(u[0].rlap_amount)})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Requirement"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(u[0].rlap_requirement)})]}),a.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-300",children:[a.jsx("span",{className:"text-slate-700 font-medium",children:"Surplus/Deficit"}),a.jsx("span",{className:`font-bold ${u[0].rlap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,children:y(u[0].rlap_surplus_deficit)})]})]})]})]}),a.jsxs("div",{className:"rounded-xl p-6 border-2 bg-blue-50 border-blue-300",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RLEN"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Liquidity Execution Need"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold text-blue-700",children:g(u[0].rlen_ratio)}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Amount Needed"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(u[0].rlen_amount)})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Requirement"}),a.jsx("span",{className:"font-semibold text-slate-900",children:y(u[0].rlen_requirement)})]})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resolution Liquidity Trends"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RLAP"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RLAP Surplus"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RLEN"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),a.jsx("tbody",{children:u.map(C=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:p(C.report_date)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:y(C.rlap_amount)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${C.rlap_surplus_deficit>=0?"text-green-600":"text-red-600"}`,children:y(C.rlap_surplus_deficit)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:y(C.rlen_amount)}),a.jsx("td",{className:"py-3 px-4 text-center",children:C.is_compliant?a.jsx(ue,{className:"w-5 h-5 text-green-600 mx-auto"}):a.jsx(Be,{className:"w-5 h-5 text-red-600 mx-auto"})})]},C.id))})]})})]})]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mt-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(tt,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About These Metrics"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"The Liquidity Coverage Ratio (LCR) and Net Stable Funding Ratio (NSFR) are Basel III regulatory metrics designed to ensure banks maintain adequate liquidity. Resolution liquidity metrics (RLAP/RLEN) ensure adequate liquidity for orderly resolution. Stress testing evaluates liquidity resilience under adverse scenarios."}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Regulatory Requirements:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[a.jsx("li",{children:"LCR minimum requirement: 100% (HQLA must cover 30-day stressed net cash outflows)"}),a.jsx("li",{children:"NSFR minimum requirement: 100% (available stable funding must exceed required stable funding)"}),a.jsx("li",{children:"US G-SIBs face enhanced liquidity requirements and supervisory stress testing"}),a.jsx("li",{children:"Daily LCR reporting required for Category I and II banking organizations"}),a.jsx("li",{children:"RLAP (Resolution Liquidity Adequacy Position): Liquidity available in resolution"}),a.jsx("li",{children:"RLEN (Resolution Liquidity Execution Need): Liquidity needed for resolution execution"}),a.jsx("li",{children:"Internal stress testing must cover multiple scenarios including institution-specific and market-wide stresses"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[a.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("a",{href:"https://www.bis.org/publ/bcbs238.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Basel III: The Liquidity Coverage Ratio (BCBS 238)"})]}),a.jsxs("a",{href:"https://www.bis.org/bcbs/publ/d295.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Basel III: The Net Stable Funding Ratio (BCBS 295)"})]}),a.jsxs("a",{href:"https://www.federalreserve.gov/supervisionreg/topics/liquidity_coverage_ratio.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Federal Reserve - Liquidity Coverage Ratio Rule"})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(tt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-amber-900",children:[a.jsx("strong",{children:"Data Source:"})," Representative sample data modeled on typical institutional liquidity metrics. While State Street Corporation publicly discloses LCR ratios in their ",a.jsx("a",{href:"https://investors.statestreet.com/financial-information/quarterly-results/default.aspx",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-700",children:"quarterly filings"}),", the detailed component breakdowns and stress test results shown here are representative data for demonstration purposes."]})})]})})]})}function Zy({onNavigate:e}){ut();const[t,s]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState(!0),[u,c]=O.useState("regulatory"),[o,d]=O.useState(null);O.useEffect(()=>{h()},[o]);const h=async()=>{let g=J.from("balance_sheet_metrics").select("*").is("user_id",null),p=J.from("resolution_liquidity_metrics").select("*").is("user_id",null);o&&(g=g.eq("legal_entity_id",o),p=p.eq("legal_entity_id",o));const[v,w]=await Promise.all([g.order("report_date",{ascending:!1}).limit(10),p.order("report_date",{ascending:!1}).limit(10)]);v.data&&s(v.data),w.data&&n(w.data),l(!1)},A=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(g),f=g=>`${(g*100).toFixed(2)}%`,x=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),m=t[0],y=r[0];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx(vl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"Capital Adequacy & Requirements"}]}),a.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Close",children:a.jsx(Ft,{className:"w-5 h-5 text-slate-600"})})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Capital Adequacy & Requirements"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Regulatory capital, internal targets, and resolution capital metrics"})]}),a.jsxs("button",{onClick:()=>{const g=t[0],p=t.length>1?t[1]:null,v=r[0],w=r.length>1?r[1]:null;Xy({currentTier1Capital:g?A(g.tier1_capital):"N/A",priorTier1Capital:p?A(p.tier1_capital):void 0,tier1CapitalDelta:p?`${((g.tier1_capital-p.tier1_capital)/p.tier1_capital*100).toFixed(1)}%`:void 0,currentTier1Ratio:g?f(g.tier1_capital_ratio):"N/A",priorTier1Ratio:p?f(p.tier1_capital_ratio):void 0,tier1RatioDelta:p?`${(g.tier1_capital_ratio-p.tier1_capital_ratio).toFixed(2)}%`:void 0,currentLeverageRatio:g?f(g.leverage_ratio):"N/A",priorLeverageRatio:p?f(p.leverage_ratio):void 0,leverageRatioDelta:p?`${(g.leverage_ratio-p.leverage_ratio).toFixed(2)}%`:void 0,currentRCAPRatio:v?f(v.rcap_ratio):"N/A",priorRCAPRatio:w?f(w.rcap_ratio):void 0,rcapRatioDelta:w?`${(v.rcap_ratio-w.rcap_ratio).toFixed(2)}%`:void 0,currentDate:g?x(g.report_date):void 0,priorDate:p?x(p.report_date):void 0,tier1Status:g&&g.tier1_capital_ratio>=8?"compliant":"warning",leverageStatus:g&&g.leverage_ratio>=6?"compliant":"warning",rcapStatus:v&&v.rcap_ratio>=110?"compliant":"warning"})},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:t.length===0,children:[a.jsx(_d,{className:"w-4 h-4"}),a.jsx("span",{children:"Export to PowerPoint"})]}),a.jsx("div",{className:"w-80",children:a.jsx(kn,{selectedEntityId:o,onEntityChange:d})})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{onClick:()=>c("regulatory"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="regulatory"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Regulatory Capital"}),a.jsx("button",{onClick:()=>c("internal"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="internal"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Internal Targets"}),a.jsx("button",{onClick:()=>c("resolution"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="resolution"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Resolution Capital (RCAP/RCEN)"})]}),i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-slate-600",children:"Loading capital metrics..."})}):a.jsxs(a.Fragment,{children:[u==="regulatory"&&m&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Latest Regulatory Capital (",x(m.report_date),")"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital"}),a.jsx(Je,{value:A(m.tier1_capital),metricName:"Tier 1 Capital",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:x(m.report_date),priorValue:t.length>1?A(t[1].tier1_capital):void 0,priorDate:t.length>1?x(t[1].report_date):void 0,availablePeriods:t.map(g=>({date:x(g.report_date),value:A(g.tier1_capital)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Common equity + Additional Tier 1"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital Ratio"}),a.jsx(Je,{value:f(m.tier1_capital_ratio),metricName:"Tier 1 Capital Ratio",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${m.tier1_capital_ratio>=.06?"text-green-600":"text-red-600"}`,currentDate:x(m.report_date),priorValue:t.length>1?f(t[1].tier1_capital_ratio):void 0,priorDate:t.length>1?x(t[1].report_date):void 0,availablePeriods:t.map(g=>({date:x(g.report_date),value:f(g.tier1_capital_ratio)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 6.0% (Basel III)"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Leverage Ratio"}),a.jsx(Je,{value:f(m.leverage_ratio),metricName:"Leverage Ratio",targetTable:"balance_sheet_metrics",targetColumn:"leverage_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${m.leverage_ratio>=.05?"text-green-600":"text-amber-600"}`,currentDate:x(m.report_date),priorValue:t.length>1?f(t[1].leverage_ratio):void 0,priorDate:t.length>1?x(t[1].report_date):void 0,availablePeriods:t.map(g=>({date:x(g.report_date),value:f(g.leverage_ratio)}))}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"US G-SIB Minimum: 5.0%"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Trends"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Tier 1 Capital"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Tier 1 Ratio"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Leverage Ratio"})]})}),a.jsx("tbody",{children:t.map(g=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:x(g.report_date)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:A(g.tier1_capital)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${g.tier1_capital_ratio>=.06?"text-green-600":"text-red-600"}`,children:f(g.tier1_capital_ratio)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${g.leverage_ratio>=.05?"text-green-600":"text-amber-600"}`,children:f(g.leverage_ratio)})]},g.id))})]})})]})]}),u==="internal"&&m&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Internal Capital Targets"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"In addition to regulatory minimums, institutions maintain internal capital targets that exceed regulatory requirements to provide buffers for stress scenarios and business growth."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Internal Tier 1 Target"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"8.5%"}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Current: ",f(m.tier1_capital_ratio)]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Internal Leverage Target"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"6.0%"}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Current: ",f(m.leverage_ratio)]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Capital Buffer Analysis"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Tier 1 Capital Buffer"}),a.jsx("span",{className:"text-sm font-semibold text-green-600",children:f(m.tier1_capital_ratio-.06)})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:a.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${Math.min((m.tier1_capital_ratio-.06)/.04*100,100)}%`}})}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Above regulatory minimum of 6%"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Leverage Ratio Buffer"}),a.jsx("span",{className:"text-sm font-semibold text-green-600",children:f(m.leverage_ratio-.05)})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:a.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${Math.min((m.leverage_ratio-.05)/.02*100,100)}%`}})}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Above G-SIB minimum of 5%"})]})]})]})]}),u==="resolution"&&y&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Resolution Capital Metrics (",x(y.report_date),")"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:`rounded-xl p-6 border-2 ${y.rcap_surplus_deficit>=0?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RCAP"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Capital Adequacy Position"})]}),a.jsxs("div",{children:[a.jsx(Je,{value:f(y.rcap_ratio),metricName:"Resolution Capital Adequacy Position (RCAP) Ratio",targetTable:"resolution_capital_metrics",targetColumn:"rcap_ratio",dataSource:"Analytics",className:`text-3xl font-bold ${y.rcap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,currentDate:x(y.report_date),priorValue:r.length>1?f(r[1].rcap_ratio):void 0,priorDate:r.length>1?x(r[1].report_date):void 0,availablePeriods:r.map(g=>({date:x(g.report_date),value:f(g.rcap_ratio)}))}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Amount"}),a.jsx("span",{className:"font-semibold text-slate-900",children:A(y.rcap_amount)})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Requirement"}),a.jsx("span",{className:"font-semibold text-slate-900",children:A(y.rcap_requirement)})]}),a.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-300",children:[a.jsx("span",{className:"text-slate-700 font-medium",children:"Surplus/Deficit"}),a.jsx("span",{className:`font-bold ${y.rcap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,children:A(y.rcap_surplus_deficit)})]})]})]})]}),a.jsxs("div",{className:"rounded-xl p-6 border-2 bg-blue-50 border-blue-300",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RCEN"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Capital Execution Need"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold text-blue-700",children:f(y.rcen_ratio)}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Amount Needed"}),a.jsx("span",{className:"font-semibold text-slate-900",children:A(y.rcen_amount)})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-600",children:"Requirement"}),a.jsx("span",{className:"font-semibold text-slate-900",children:A(y.rcen_requirement)})]})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resolution Capital Trends"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RCAP"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RCAP Surplus"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RCEN"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),a.jsx("tbody",{children:r.map(g=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:x(g.report_date)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:A(g.rcap_amount)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${g.rcap_surplus_deficit>=0?"text-green-600":"text-red-600"}`,children:A(g.rcap_surplus_deficit)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:A(g.rcen_amount)}),a.jsx("td",{className:"py-3 px-4 text-center",children:g.is_compliant?a.jsx(ue,{className:"w-5 h-5 text-green-600 mx-auto"}):a.jsx(Be,{className:"w-5 h-5 text-red-600 mx-auto"})})]},g.id))})]})})]})]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mt-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(tt,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About These Metrics"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Capital metrics measure an institution's financial strength and ability to absorb losses. Regulatory capital ensures compliance with Basel III requirements, while resolution capital metrics (RCAP/RCEN) ensure adequate resources for orderly resolution."}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Key Capital Metrics:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Tier 1 Capital Ratio:"})," Minimum 6% under Basel III (higher for G-SIBs with buffers)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Leverage Ratio:"})," Minimum 3% (5% for US G-SIBs)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"RCAP (Resolution Capital Adequacy Position):"})," Capital available for recapitalization in resolution"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"RCEN (Resolution Capital Execution Need):"})," Capital needed to execute resolution strategy"]})]})]}),a.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[a.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("a",{href:"https://www.bis.org/bcbs/publ/d424.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Basel III: Finalising Post-Crisis Reforms"})]}),a.jsxs("a",{href:"https://www.federalreserve.gov/supervisionreg/topics/capital.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Federal Reserve - Capital Requirements"})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(tt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-amber-900",children:[a.jsx("strong",{children:"Data Source:"})," Regulatory capital ratios are based on State Street Corporation's ",a.jsx("a",{href:"https://investors.statestreet.com/financial-information/quarterly-results/default.aspx",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-700",children:"publicly disclosed quarterly reports"}),". Resolution capital metrics (RCAP/RCEN) are representative data for demonstration purposes."]})})]})})]})}function eb({onNavigate:e}){ut();const[t,s]=O.useState([]),[r,n]=O.useState(!0),[i,l]=O.useState("30d"),[u,c]=O.useState("all");O.useEffect(()=>{o()},[i,u]);const o=async()=>{try{const g={"7d":7,"30d":30,"90d":90,"1y":365}[i],p=new Date;p.setDate(p.getDate()-g);const{data:v,error:w}=await J.from("transactions").select("*").is("user_id",null).gte("transaction_date",p.toISOString()).order("transaction_date",{ascending:!0});if(w)throw console.error("Error fetching transactions:",w),w;console.log("Loaded transactions:",v==null?void 0:v.length);const j=new Map;v==null||v.forEach(E=>{const k=new Date(E.transaction_date).toLocaleDateString();j.has(k)||j.set(k,{inflows:0,outflows:0});const R=j.get(k);E.amount>0?R.inflows+=E.amount:R.outflows+=Math.abs(E.amount)});let C=0;const L=Array.from(j.entries()).map(([E,k])=>{const R=k.inflows-k.outflows;return C+=R,{date:E,inflows:k.inflows,outflows:k.outflows,netFlow:R,cumulativeBalance:C}});console.log("Cash flow data points:",L.length),s(L)}catch(y){console.error("Error loading cash flow data:",y)}finally{n(!1)}},d=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(y),h=t.reduce((y,g)=>y+g.inflows,0),A=t.reduce((y,g)=>y+g.outflows,0),f=h-A,x=t.length>0?h/t.length:0,m=t.length>0?A/t.length:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(ep,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Cash Flow Analysis"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Comprehensive cash flow monitoring and projections"})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(tt,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About This Metric"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Cash flow analysis tracks operational inflows and outflows to monitor liquidity generation and consumption patterns. Understanding cash flow dynamics is essential for liquidity risk management and operational planning."}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Key Insights:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[a.jsx("li",{children:"Monitor operational cash generation and identify trends"}),a.jsx("li",{children:"Detect periods of cash flow stress or surplus"}),a.jsx("li",{children:"Support short-term liquidity forecasting"}),a.jsx("li",{children:"Identify seasonal patterns and business cycle impacts"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[a.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Related Regulatory Requirements:"}),a.jsx("div",{className:"space-y-1",children:a.jsxs("a",{href:"https://www.federalreserve.gov/supervisionreg/srletters/sr1317a1.pdf",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Federal Reserve SR 13-17: Liquidity Risk Management"})]})})]})]})]})]})}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(tt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-amber-900",children:[a.jsx("strong",{children:"Data Source:"})," Representative sample transaction data generated for demonstration purposes. Data patterns are modeled on typical institutional banking transaction flows but are not sourced from actual State Street Corporation filings."]})})]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bd,{className:"w-5 h-5 text-slate-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Period:"}),a.jsx("div",{className:"flex gap-2",children:["7d","30d","90d","1y"].map(y=>a.jsx("button",{onClick:()=>l(y),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${i===y?"bg-green-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:y==="1y"?"1 Year":y.toUpperCase()},y))})]}),a.jsx(kn,{selectedEntity:u,onEntityChange:c})]}),r?a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading cash flow data..."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(st,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Total Inflows"})]}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:d(h)}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Avg: ",d(x),"/day"]})]}),a.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Hi,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-sm font-medium text-red-700",children:"Total Outflows"})]}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:d(A)}),a.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Avg: ",d(m),"/day"]})]}),a.jsxs("div",{className:`rounded-xl p-4 border ${f>=0?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qi,{className:`w-4 h-4 ${f>=0?"text-green-600":"text-red-600"}`}),a.jsx("span",{className:`text-sm font-medium ${f>=0?"text-green-700":"text-red-700"}`,children:"Net Cash Flow"})]}),a.jsx("p",{className:`text-2xl font-bold ${f>=0?"text-green-900":"text-red-900"}`,children:d(f)}),a.jsx("p",{className:`text-xs mt-1 ${f>=0?"text-green-600":"text-red-600"}`,children:f>=0?"Positive":"Negative"})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(wa,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Data Points"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.length}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Days with activity"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"bg-slate-50 px-6 py-3 border-b border-slate-200",children:a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Daily Cash Flow Details"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Inflows"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Outflows"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Net Flow"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Cumulative Balance"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No cash flow data available for the selected period"})}):t.map((y,g)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-slate-900",children:y.date}),a.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-green-600",children:d(y.inflows)}),a.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-red-600",children:d(y.outflows)}),a.jsx("td",{className:`px-6 py-4 text-sm text-right font-semibold ${y.netFlow>=0?"text-green-600":"text-red-600"}`,children:d(y.netFlow)}),a.jsx("td",{className:`px-6 py-4 text-sm text-right font-bold ${y.cumulativeBalance>=0?"text-blue-900":"text-red-900"}`,children:d(y.cumulativeBalance)})]},g))})]})})]})]})]})]})}function tb({onNavigate:e}){ut();const[t,s]=O.useState([]),[r,n]=O.useState(!0),[i,l]=O.useState({peakRequirement:0,totalAvailable:0,averageCoverage:0,minCoverage:0});O.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:h,error:A}=await J.from("accounts").select("*").is("user_id",null).eq("is_active",!0);if(A)throw console.error("Error fetching accounts:",A),A;console.log("Loaded accounts:",h==null?void 0:h.length);const f=(h==null?void 0:h.filter(v=>["checking","savings","investment"].includes(v.account_type)).reduce((v,w)=>v+w.current_balance,0))||0;console.log("Total assets for intraday:",f);const x=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],m=x.map((v,w)=>{const j=w/(x.length-1),C=f*(.1+Math.sin(j*Math.PI)*.08),L=C*1.2,E=f-C*.5,k=E/L*100;return{time:v,availableLiquidity:E,requiredLiquidity:L,peakUsage:C,coverage:k}}),y=Math.max(...m.map(v=>v.requiredLiquidity)),g=m.reduce((v,w)=>v+w.coverage,0)/m.length,p=Math.min(...m.map(v=>v.coverage));console.log("Intraday positions calculated:",m.length),s(m),l({peakRequirement:y,totalAvailable:f,averageCoverage:g,minCoverage:p})}catch(h){console.error("Error loading intraday data:",h)}finally{n(!1)}},c=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h),o=h=>h>=120?"text-green-600":h>=100?"text-yellow-600":"text-red-600",d=h=>h>=120?"bg-green-50 border-green-200":h>=100?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(ep,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Intraday Liquidity Monitoring"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Real-time liquidity positions throughout the business day"})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(tt,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About This Metric"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Intraday liquidity monitoring tracks an institution's ability to meet payment and settlement obligations throughout the business day, including obligations to Financial Market Utilities (FMUs) and payment systems. This metric is critical for operational resilience, systemic risk management, and compliance with regulatory expectations."}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Key Financial Market Utilities (FMUs):"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Fedwire:"})," Federal Reserve's real-time gross settlement system"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"CHIPS:"})," Clearing House Interbank Payments System for large-value USD payments"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"DTC:"})," Depository Trust Company for securities custody and settlement"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"NSCC:"})," National Securities Clearing Corporation for equity and debt clearing"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"FICC:"})," Fixed Income Clearing Corporation for government securities"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"CLS Bank:"})," Continuous Linked Settlement for FX transactions"]})]})]}),a.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[a.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Regulatory Requirements:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[a.jsx("li",{children:"BCBS 248: Monitoring tools for intraday liquidity management"}),a.jsx("li",{children:"Federal Reserve requires real-time payment system monitoring and daylight overdraft management"}),a.jsx("li",{children:"Institutions must identify and monitor peak intraday liquidity usage across all FMUs"}),a.jsx("li",{children:"Daily monitoring of maximum daylight overdraft and time-specific net debit positions"}),a.jsx("li",{children:"Stress testing of intraday liquidity positions including FMU access disruptions"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[a.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("a",{href:"https://www.bis.org/publ/bcbs248.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"BCBS 248 - Monitoring Tools for Intraday Liquidity Management"})]}),a.jsxs("a",{href:"https://www.federalreserve.gov/paymentsystems/psr_about.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[a.jsx(Zt,{className:"w-4 h-4"}),a.jsx("span",{children:"Federal Reserve - Payment System Risk Policy"})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(tt,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-amber-900",children:[a.jsx("strong",{children:"Data Source:"})," Representative calculated positions based on account balances. Intraday positions are simulated using typical institutional payment patterns and are not sourced from actual State Street Corporation real-time payment data."]})})]})}),a.jsx("div",{children:r?a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading intraday liquidity data..."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(st,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Peak Requirement"})]}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:c(i.peakRequirement)}),a.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Highest intraday need"})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(wa,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Total Available"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c(i.totalAvailable)}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Available liquidity"})]}),a.jsxs("div",{className:`rounded-xl p-4 border ${d(i.averageCoverage)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ue,{className:`w-4 h-4 ${o(i.averageCoverage)}`}),a.jsx("span",{className:`text-sm font-medium ${o(i.averageCoverage)}`,children:"Avg Coverage"})]}),a.jsxs("p",{className:`text-2xl font-bold ${o(i.averageCoverage)}`,children:[i.averageCoverage.toFixed(0),"%"]}),a.jsx("p",{className:`text-xs mt-1 ${o(i.averageCoverage)}`,children:i.averageCoverage>=120?"Strong":i.averageCoverage>=100?"Adequate":"Weak"})]}),a.jsxs("div",{className:`rounded-xl p-4 border ${d(i.minCoverage)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(qt,{className:`w-4 h-4 ${o(i.minCoverage)}`}),a.jsx("span",{className:`text-sm font-medium ${o(i.minCoverage)}`,children:"Min Coverage"})]}),a.jsxs("p",{className:`text-2xl font-bold ${o(i.minCoverage)}`,children:[i.minCoverage.toFixed(0),"%"]}),a.jsx("p",{className:`text-xs mt-1 ${o(i.minCoverage)}`,children:"Lowest point"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden mb-6",children:[a.jsx("div",{className:"bg-slate-50 px-6 py-3 border-b border-slate-200",children:a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Hourly Intraday Position"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Time"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Available"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Required"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Peak Usage"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Coverage"}),a.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map((h,A)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:h.time}),a.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-blue-600",children:c(h.availableLiquidity)}),a.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-slate-600",children:c(h.requiredLiquidity)}),a.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-purple-600",children:c(h.peakUsage)}),a.jsxs("td",{className:`px-6 py-4 text-sm text-right font-bold ${o(h.coverage)}`,children:[h.coverage.toFixed(1),"%"]}),a.jsx("td",{className:"px-6 py-4 text-center",children:h.coverage>=120?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 text-green-700 text-xs font-medium",children:[a.jsx(ue,{className:"w-3 h-3"}),"Strong"]}):h.coverage>=100?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium",children:[a.jsx(qt,{className:"w-3 h-3"}),"Adequate"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs font-medium",children:[a.jsx(qt,{className:"w-3 h-3"}),"Weak"]})})]},A))})]})})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Key Insights"}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),a.jsx("span",{children:"Intraday liquidity is monitored hourly to ensure sufficient funds for payment obligations"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),a.jsx("span",{children:"Coverage above 120% indicates strong liquidity buffer throughout the day"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),a.jsx("span",{children:"Peak usage typically occurs mid-day during high transaction volumes"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),a.jsx("span",{children:"Minimum coverage should remain above 100% to meet regulatory expectations"})]})]})]})]})})]})}function sb({onClose:e}){ut();const[t,s]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState([]),[u,c]=O.useState(!0),[o,d]=O.useState(!1),[h,A]=O.useState("overview"),[f,x]=O.useState(null);O.useEffect(()=>{m()},[]);const m=async()=>{try{const[_,I,b]=await Promise.all([J.from("data_quality_checks").select("*").is("user_id",null).order("last_run_at",{ascending:!1}),J.from("data_feeds").select("*").is("user_id",null).order("last_run_at",{ascending:!1}),J.from("data_lineage").select("*").is("user_id",null).order("dependency_level",{ascending:!0}).limit(50)]);_.data&&s(_.data),I.data&&n(I.data),b.data&&l(b.data)}catch(_){console.error("Error loading data:",_)}finally{c(!1)}},y=async()=>{d(!0),await m(),setTimeout(()=>d(!1),500)},g=t.filter(_=>_.status==="passed").length,p=t.filter(_=>_.status==="failed").length,v=t.filter(_=>_.status==="warning").length,w=t.length>0?g/t.length*100:0,j=r.filter(_=>_.status==="active").length,C=r.filter(_=>_.status==="error").length,L=r.filter(_=>_.is_stale).length,E=i.filter(_=>_.is_critical).length,k=r.reduce((_,I)=>_+I.records_loaded,0),R=_=>_?new Date(_).toLocaleString():"Never",U=i.reduce((_,I)=>{const b=`${I.target_table}.${I.target_column}`;return _[b]||(_[b]=[]),_[b].push(I),_},{});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-7xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Oe,{className:"w-6 h-6 text-white"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Data Quality Dashboard"}),a.jsx("p",{className:"text-sm text-blue-100 mt-0.5",children:"Monitoring data feeds, quality checks, and lineage"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:y,disabled:o,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors disabled:opacity-50",children:a.jsx(ur,{className:`w-5 h-5 text-white ${o?"animate-spin":""}`})}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-white"})})]})]}),a.jsx("div",{className:"border-b border-slate-200 bg-white px-6",children:a.jsx("div",{className:"flex gap-1",children:["overview","checks","feeds","lineage"].map(_=>a.jsx("button",{onClick:()=>A(_),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${h===_?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})}),a.jsx("div",{className:"flex-1 overflow-auto",children:u?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ur,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600",children:"Loading data quality metrics..."})]})}):a.jsxs("div",{className:"p-6",children:[h==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 border border-green-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(ue,{className:"w-8 h-8 text-green-600"}),a.jsxs("span",{className:"text-3xl font-bold text-green-900",children:[w.toFixed(0),"%"]})]}),a.jsx("p",{className:"text-sm font-medium text-green-900",children:"Data Quality Score"}),a.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[g," of ",t.length," checks passed"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Oe,{className:"w-8 h-8 text-blue-600"}),a.jsx("span",{className:"text-3xl font-bold text-blue-900",children:r.length})]}),a.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Active Data Feeds"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[j," running, ",L," stale"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 border border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(vn,{className:"w-8 h-8 text-purple-600"}),a.jsx("span",{className:"text-3xl font-bold text-purple-900",children:i.length})]}),a.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Lineage Mappings"}),a.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:[E," critical paths"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-5 border border-amber-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(wa,{className:"w-8 h-8 text-amber-600"}),a.jsxs("span",{className:"text-3xl font-bold text-amber-900",children:[(k/1e6).toFixed(1),"M"]})]}),a.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Records Processed"}),a.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Across all feeds"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quality Check Status"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ue,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-medium text-slate-900",children:"Passed"})]}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:g})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Be,{className:"w-5 h-5 text-amber-600"}),a.jsx("span",{className:"font-medium text-slate-900",children:"Warnings"})]}),a.jsx("span",{className:"text-2xl font-bold text-amber-600",children:v})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nt,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-medium text-slate-900",children:"Failed"})]}),a.jsx("span",{className:"text-2xl font-bold text-red-600",children:p})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Feed Health"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ue,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-medium text-slate-900",children:"Active"})]}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:j})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_s,{className:"w-5 h-5 text-amber-600"}),a.jsx("span",{className:"font-medium text-slate-900",children:"Stale"})]}),a.jsx("span",{className:"text-2xl font-bold text-amber-600",children:L})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nt,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-medium text-slate-900",children:"Errors"})]}),a.jsx("span",{className:"text-2xl font-bold text-red-600",children:C})]})]})]})]})]}),h==="checks"&&a.jsx("div",{className:"space-y-4",children:t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ue,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No quality checks configured"})]}):t.map(_=>{const I=_.total_records>0?(_.passed_records/_.total_records*100).toFixed(1):"0";return a.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:_.check_name}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:_.check_type}),a.jsx("span",{className:"text-sm text-slate-600",children:_.data_source})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-3xl font-bold ${parseFloat(I)>=95?"text-green-600":parseFloat(I)>=80?"text-amber-600":"text-red-600"}`,children:[I,"%"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Pass Rate"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:_.total_records.toLocaleString()}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Total"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.passed_records.toLocaleString()}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Passed"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.failed_records.toLocaleString()}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Failed"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.execution_time_ms}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"ms"})]})]}),a.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[a.jsx(_s,{className:"w-4 h-4"}),"Last run: ",R(_.last_run_at)]})]},_.id)})}),h==="feeds"&&a.jsx("div",{className:"space-y-4",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Oe,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No data feeds configured"})]}):r.map(_=>a.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:_.feed_name}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:_.source_system})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_.status==="active"?"bg-green-100 text-green-700":_.status==="error"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:_.status.toUpperCase()}),_.is_stale&&a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700",children:"STALE"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.records_loaded.toLocaleString()}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Records Loaded"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.error_count}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Errors"})]}),a.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900",children:R(_.last_run_at)}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Last Run"})]})]})]},_.id))}),h==="lineage"&&a.jsx("div",{className:"space-y-4",children:Object.keys(U).length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(vn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No lineage data available"})]}):Object.entries(U).map(([_,I])=>a.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:_}),a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[I.length," source mappings"]})]}),a.jsxs("button",{onClick:()=>{const[b,S]=_.split(".");x({table:b,column:S,name:_})},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[a.jsx(Wi,{className:"w-4 h-4"}),"View Lineage"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:I.slice(0,4).map(b=>a.jsxs("div",{className:`p-3 rounded-lg border ${b.is_critical?"bg-red-50 border-red-200":"bg-slate-50 border-slate-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[b.source_table,".",b.source_column]}),b.is_critical&&a.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-semibold rounded",children:"CRITICAL"})]}),a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${b.transformation_type==="direct"?"bg-green-100 text-green-700":b.transformation_type==="calculated"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:b.transformation_type})]},b.id))})]},_))})]})})]})}),f&&a.jsx(op,{metricName:f.name,targetTable:f.table,targetColumn:f.column,onClose:()=>x(null)})]})}function ab({onNavigate:e}){ut();const[t,s]=O.useState([]),[r,n]=O.useState(!0),[i,l]=O.useState(""),[u,c]=O.useState([]),[o,d]=O.useState(null),[h,A]=O.useState("summary");O.useEffect(()=>{f()},[o]),O.useEffect(()=>{u.length>0&&!i&&l(u[0])},[u]);const f=async()=>{n(!0);try{let R=J.from("fr2052a_data_rows").select("report_date").is("user_id",null).order("report_date",{ascending:!1});o&&(R=R.eq("legal_entity_id",o));const{data:U,error:_}=await R.limit(1e3);if(_){console.error("Error loading FR 2052a dates:",_.message),n(!1);return}if(U&&U.length>0){const I=Array.from(new Set(U.map(b=>b.report_date))).sort().reverse();c(I),!i&&I.length>0&&l(I[0])}}catch(R){console.error("Error loading FR 2052a data:",R)}n(!1)};O.useEffect(()=>{i&&x()},[i,o]);const x=async()=>{if(!i)return;let R=J.from("fr2052a_data_rows").select("*").is("user_id",null).eq("report_date",i).limit(5e3);o&&(R=R.eq("legal_entity_id",o));const{data:U,error:_}=await R;if(_){console.error("Error loading date data:",_.message);return}U&&s(U)},m=t,y=()=>{const R=new Map;return m.forEach(U=>{const _=R.get(U.product)||{product:U.product,count:0,totalAmount:0,hqlaAmount:0,projectedInflow:0,projectedOutflow:0};R.set(U.product,{product:U.product,count:_.count+1,totalAmount:_.totalAmount+U.amount,hqlaAmount:_.hqlaAmount+(U.is_hqla?U.amount:0),projectedInflow:_.projectedInflow+U.projected_inflow,projectedOutflow:_.projectedOutflow+U.projected_outflow})}),Array.from(R.values()).sort((U,_)=>_.totalAmount-U.totalAmount)},g=()=>{const R=new Map;m.forEach(_=>{const I=R.get(_.maturity_bucket)||{maturity:_.maturity_bucket,amount:0,inflow:0,outflow:0};R.set(_.maturity_bucket,{maturity:_.maturity_bucket,amount:I.amount+_.amount,inflow:I.inflow+_.projected_inflow,outflow:I.outflow+_.projected_outflow})});const U=["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year","open"];return Array.from(R.values()).sort((_,I)=>U.indexOf(_.maturity)-U.indexOf(I.maturity))},p=()=>{const R=m.filter(S=>S.is_hqla),U=R.reduce((S,V)=>S+V.amount*(1-V.haircut_rate),0),_=R.filter(S=>S.hqla_level===1).reduce((S,V)=>S+V.amount*(1-V.haircut_rate),0),I=R.filter(S=>S.hqla_level===2).reduce((S,V)=>S+V.amount*(1-V.haircut_rate),0),b=R.filter(S=>S.hqla_level===3).reduce((S,V)=>S+V.amount*(1-V.haircut_rate),0);return[{level:"Level 1 (0% haircut)",amount:_,percentage:U>0?_/U*100:0},{level:"Level 2A (15% haircut)",amount:I,percentage:U>0?I/U*100:0},{level:"Level 2B (50% haircut)",amount:b,percentage:U>0?b/U*100:0}]},v=()=>{const R=new Map;return m.forEach(U=>{const _=R.get(U.counterparty)||0;R.set(U.counterparty,_+U.amount)}),Array.from(R.entries()).map(([U,_])=>({counterparty:U,amount:_})).sort((U,_)=>_.amount-U.amount)},w=m.reduce((R,U)=>R+U.amount,0),j=m.filter(R=>R.is_hqla).reduce((R,U)=>R+U.amount*(1-U.haircut_rate),0),C=m.reduce((R,U)=>R+U.projected_inflow,0),L=m.reduce((R,U)=>R+U.projected_outflow,0),E=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(R),k=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"text-slate-500",children:"Loading FR 2052a data..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(vl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"FR 2052a Liquidity Report"}]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"FR 2052a Liquidity Report"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Comprehensive liquidity data supporting LCR and NSFR calculations"})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(kn,{selectedEntityId:o,onEntityChange:d})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bd,{className:"w-4 h-4 text-slate-500"}),a.jsx("select",{value:i,onChange:R=>l(R.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:u.map(R=>a.jsx("option",{value:R,children:k(R)},R))})]})]}),m.length===0?a.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-8 text-center",children:[a.jsx(qt,{className:"w-16 h-16 text-amber-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"No FR 2052a Data Found"}),a.jsx("p",{className:"text-sm text-amber-800 mb-2 max-w-2xl mx-auto",children:"To view FR 2052a liquidity reporting data, you need to generate sample data first."}),a.jsxs("p",{className:"text-sm text-amber-700 mb-6 max-w-2xl mx-auto",children:["Navigate to the ",a.jsx("span",{className:"font-semibold text-blue-700",children:"Data Setup"})," page from the sidebar and click ",a.jsx("span",{className:"font-bold text-blue-700",children:'"Generate All Data"'}),". This will create:"]}),a.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 max-w-xl mx-auto text-left",children:a.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"6,000+"})," FR 2052a line items across 6 reporting periods"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"LCR and NSFR calculations with validation"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Product categories, maturity buckets, counterparty types"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"HQLA classification and cash flow projections"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Automatic validation of generated data"})]})]})}),a.jsx("button",{onClick:()=>e==null?void 0:e("data-setup"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg font-semibold",children:"Go to Data Setup"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Oe,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Total Line Items"})]}),a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:m.length.toLocaleString()}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Reporting period records"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qi,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Total Outstanding"})]}),a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:E(w)}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Aggregate balance"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zt,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"HQLA (after haircuts)"})]}),a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:E(j)}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[(j/w*100).toFixed(1),"% of total"]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(st,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Net Cash Flow"})]}),a.jsx("div",{className:`text-2xl font-bold ${C-L>=0?"text-green-600":"text-red-600"}`,children:E(C-L)}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"30-day projection"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200",children:[a.jsx("div",{className:"border-b border-slate-200",children:a.jsx("div",{className:"flex gap-4 px-6",children:[{id:"summary",label:"Summary",icon:sr},{id:"products",label:"Product Categories",icon:bv},{id:"maturity",label:"Maturity Profile",icon:_s},{id:"hqla",label:"HQLA Breakdown",icon:zt},{id:"counterparty",label:"Counterparty",icon:Rv}].map(R=>{const U=R.icon;return a.jsxs("button",{onClick:()=>A(R.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${h===R.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:[a.jsx(U,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.id)})})}),a.jsxs("div",{className:"p-6",children:[h==="summary"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Cash Flow Analysis"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Projected Inflows (30d)"}),a.jsx("span",{className:"font-semibold text-green-700",children:E(C)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Projected Outflows (30d)"}),a.jsx("span",{className:"font-semibold text-red-700",children:E(L)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 rounded-lg border-2 border-slate-300",children:[a.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Net Cash Flow"}),a.jsx("span",{className:`font-bold ${C-L>=0?"text-green-600":"text-red-600"}`,children:E(C-L)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Data Coverage"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Product Categories"}),a.jsx("span",{className:"font-semibold text-slate-900",children:new Set(m.map(R=>R.product)).size})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Counterparty Types"}),a.jsx("span",{className:"font-semibold text-slate-900",children:new Set(m.map(R=>R.counterparty)).size})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Maturity Buckets"}),a.jsx("span",{className:"font-semibold text-slate-900",children:new Set(m.map(R=>R.maturity_bucket)).size})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"HQLA Eligible Items"}),a.jsx("span",{className:"font-semibold text-slate-900",children:m.filter(R=>R.is_hqla).length.toLocaleString()})]})]})]})]})}),h==="products"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Product Category Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Product"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Line Items"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Total Amount"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"HQLA Amount"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Inflows"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Outflows"})]})}),a.jsx("tbody",{children:y().map(R=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-slate-900 capitalize",children:R.product.replace(/_/g," ")}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-700",children:R.count}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-medium text-slate-900",children:E(R.totalAmount)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-purple-700",children:E(R.hqlaAmount)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-green-700",children:E(R.projectedInflow)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-red-700",children:E(R.projectedOutflow)})]},R.product))})]})})]}),h==="maturity"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maturity Profile"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Maturity Bucket"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Amount"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"% of Total"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Inflows"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Outflows"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Net"})]})}),a.jsx("tbody",{children:g().map(R=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-slate-900 capitalize",children:R.maturity.replace(/_/g," ").replace("gt",">")}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-medium text-slate-900",children:E(R.amount)}),a.jsxs("td",{className:"py-3 px-4 text-sm text-right text-slate-700",children:[(R.amount/w*100).toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-green-700",children:E(R.inflow)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-red-700",children:E(R.outflow)}),a.jsx("td",{className:`py-3 px-4 text-sm text-right font-medium ${R.inflow-R.outflow>=0?"text-green-600":"text-red-600"}`,children:E(R.inflow-R.outflow)})]},R.maturity))})]})})]}),h==="hqla"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"High-Quality Liquid Assets (HQLA)"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-3 gap-4",children:p().map((R,U)=>a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg border border-purple-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zt,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:R.level})]}),a.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-1",children:E(R.amount)}),a.jsxs("div",{className:"text-sm text-slate-600",children:[R.percentage.toFixed(1),"% of total HQLA"]})]},U))}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-semibold text-slate-900 mb-3",children:"HQLA Details"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total HQLA (pre-haircut)"}),a.jsx("div",{className:"text-lg font-bold text-slate-900",children:E(m.filter(R=>R.is_hqla).reduce((R,U)=>R+U.amount,0))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total HQLA (post-haircut)"}),a.jsx("div",{className:"text-lg font-bold text-green-600",children:E(j)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Average Haircut Rate"}),a.jsxs("div",{className:"text-lg font-bold text-slate-900",children:[(m.filter(R=>R.is_hqla).reduce((R,U)=>R+U.haircut_rate,0)/m.filter(R=>R.is_hqla).length*100).toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"HQLA as % of Total Assets"}),a.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[(j/w*100).toFixed(1),"%"]})]})]})})]})]})]}),h==="counterparty"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Counterparty Breakdown"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Counterparty Type"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Amount"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"% of Total"})]})}),a.jsx("tbody",{children:v().map(R=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-slate-900 capitalize",children:R.counterparty.replace(/_/g," ")}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-medium text-slate-900",children:E(R.amount)}),a.jsxs("td",{className:"py-3 px-4 text-sm text-right text-slate-700",children:[(R.amount/w*100).toFixed(1),"%"]})]},R.counterparty))})]})})]})]})]})]})]})}function bp({isOpen:e,onClose:t,componentType:s,componentName:r,submissionId:n,reportDate:i,totalAmount:l,calculatedAmount:u,factor:c,ruleCode:o}){const[d,h]=O.useState([]),[A,f]=O.useState(null),[x,m]=O.useState(!0),[y,g]=O.useState("summary"),[p,v]=O.useState(!1),[w,j]=O.useState({product_id:!0,product_name:!0,product_category:!0,sub_product:!1,maturity_bucket:!0,counterparty_type:!0,asset_class:!0,outstanding_balance:!0,projected_cash_inflow:!0,projected_cash_outflow:!0,is_hqla:!1,hqla_level:!1,haircut:!0,runoff_rate:!0,encumbered_amount:!1,currency:!0,report_date:!1});O.useEffect(()=>{e&&C()},[e,n,i]);const C=async()=>{m(!0);const{data:_}=await J.from("fr2052a_data_rows").select("*").eq("report_date",i).is("user_id",null).order("outstanding_balance",{ascending:!1}).limit(1e3);if(_&&h(_),o){const{data:I}=await J.from("lcr_calculation_rules").select("*").eq("rule_code",o).maybeSingle();I&&f(I)}m(!1)},L=_=>{j(I=>({...I,[_]:!I[_]}))},E=()=>{const _=Object.entries(w).filter(([z,P])=>P).map(([z])=>z.replace(/_/g," ").toUpperCase()),I=d.map(z=>{const P={};return Object.entries(w).forEach(([W,B])=>{if(B){const M=z[W];typeof M=="number"?P[W]=M:typeof M=="boolean"?P[W]=M?"Yes":"No":P[W]=M||""}}),P});let b=_.join(",")+`
`;I.forEach(z=>{const P=Object.values(z).map(W=>typeof W=="string"&&W.includes(",")?`"${W}"`:W);b+=P.join(",")+`
`});const S=new Blob([b],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),F=URL.createObjectURL(S);V.setAttribute("href",F),V.setAttribute("download",`${r.replace(/\s+/g,"_")}_source_records_${i}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)},k=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(_),R=_=>`${(_*100).toFixed(2)}%`;if(!e)return null;const U={product_id:"Product ID",product_name:"Product Name",product_category:"Category",sub_product:"Sub-Product",maturity_bucket:"Maturity",counterparty_type:"Counterparty",asset_class:"Asset Class",outstanding_balance:"Outstanding Balance",projected_cash_inflow:"Cash Inflow",projected_cash_outflow:"Cash Outflow",is_hqla:"Is HQLA",hqla_level:"HQLA Level",haircut:"Haircut",runoff_rate:"Runoff Rate",encumbered_amount:"Encumbered",currency:"Currency",report_date:"Report Date"};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 flex items-center justify-between rounded-t-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Oe,{className:"h-6 w-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:r}),a.jsxs("p",{className:"text-sm text-blue-100",children:[s==="hqla"&&"HQLA Component - FR2052a Source Data",s==="outflow"&&"Cash Outflow Component - FR2052a Source Data",s==="inflow"&&"Cash Inflow Component - FR2052a Source Data",s==="asf"&&"ASF Component - FR2052a Source Data",s==="rsf"&&"RSF Component - FR2052a Source Data"]})]})]}),a.jsx("button",{onClick:t,className:"text-white hover:text-blue-100 p-1 rounded-full hover:bg-blue-800 transition-colors",children:a.jsx(Ft,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>g("summary"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${y==="summary"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Summary"}),a.jsx("button",{onClick:()=>g("rule"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${y==="rule"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Calculation Rule"}),a.jsxs("button",{onClick:()=>g("records"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${y==="records"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Source Records (",d.length,")"]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:x?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-slate-600 mt-4",children:"Loading details..."})]}):a.jsxs(a.Fragment,{children:[y==="summary"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-semibold text-slate-900 mb-4",children:"Calculation Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:k(l)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Sum of ",d.length," FR2052a line items"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[(s==="hqla"||s==="asf")&&"Calculated Value",s==="outflow"&&"Calculated Outflow",s==="inflow"&&"Calculated Inflow",s==="rsf"&&"Required Stable Funding"]}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k(u)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Applied ",R(c)," factor"]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-700 font-medium",children:"Calculation:"}),a.jsxs("span",{className:"font-mono text-slate-900",children:[k(l),"  ",R(c)," = ",k(u)]})]})})]}),A&&a.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(rt,{className:"h-5 w-5 text-slate-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:A.rule_name}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600",children:"Rule Code:"}),a.jsx("span",{className:"ml-2 font-mono text-slate-900",children:A.rule_code})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600",children:"FR2052a Reference:"}),a.jsx("span",{className:"ml-2 text-slate-900",children:A.fr2052a_appendix_reference})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("button",{onClick:()=>g("rule"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Rule Details "})})]})]})})]}),y==="rule"&&A&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-1",children:A.rule_name}),a.jsx("p",{className:"text-sm text-slate-600",children:A.rule_code})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"FR2052a Appendix Reference"}),a.jsx("p",{className:"text-sm text-blue-800",children:A.fr2052a_appendix_reference})]}),A.regulatory_citation&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Regulatory Citation"}),a.jsx("p",{className:"text-sm text-blue-800",children:A.regulatory_citation})]})]})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Description"}),a.jsx("p",{className:"text-sm text-slate-900 leading-relaxed",children:A.rule_description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Calculation Formula"}),a.jsx("div",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg font-mono text-sm",children:A.calculation_formula})]}),A.factor_applied!==null&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"Factor Applied"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:R(A.factor_applied)})]}),A.examples&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Examples"}),a.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-slate-900",children:A.examples})})]})]}),y==="records"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between bg-slate-50 border border-slate-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[d.length," Records"]}),a.jsxs("span",{className:"text-sm text-slate-600",children:["Total: ",k(d.reduce((_,I)=>_+(I.outstanding_balance||0),0))]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>v(!p),className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[a.jsx(Nd,{className:"h-4 w-4"}),"Columns"]}),p&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-xl z-10 max-h-96 overflow-y-auto",children:[a.jsx("div",{className:"p-3 border-b border-slate-200",children:a.jsx("p",{className:"text-xs font-semibold text-slate-700 uppercase",children:"Show/Hide Columns"})}),Object.entries(U).map(([_,I])=>a.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w[_],onChange:()=>L(_),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:I})]},_))]})]}),a.jsxs("button",{onClick:E,className:"px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[a.jsx(wd,{className:"h-4 w-4"}),"Export to CSV"]})]})]}),d.length===0?a.jsxs("div",{className:"text-center py-12 bg-white border border-slate-200 rounded-lg",children:[a.jsx(Oe,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"No source records found"})]}):a.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsx("tr",{children:Object.entries(w).filter(([_,I])=>I).map(([_])=>a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider whitespace-nowrap",children:U[_]},_))})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:d.map(_=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[w.product_id&&a.jsx("td",{className:"px-4 py-3 text-sm font-mono text-slate-900 whitespace-nowrap",children:_.product_id}),w.product_name&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-900",children:_.product_name}),w.product_category&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:_.product_category}),w.sub_product&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:_.sub_product||"N/A"}),w.maturity_bucket&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:_.maturity_bucket}),w.counterparty_type&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:_.counterparty_type}),w.asset_class&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:_.asset_class||"N/A"}),w.outstanding_balance&&a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-slate-900 text-right whitespace-nowrap",children:k(_.outstanding_balance)}),w.projected_cash_inflow&&a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-green-700 text-right whitespace-nowrap",children:k(_.projected_cash_inflow)}),w.projected_cash_outflow&&a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-red-700 text-right whitespace-nowrap",children:k(_.projected_cash_outflow)}),w.is_hqla&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:_.is_hqla?"Yes":"No"}),w.hqla_level&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:_.hqla_level||"N/A"}),w.haircut&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right whitespace-nowrap",children:R(_.haircut)}),w.runoff_rate&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right whitespace-nowrap",children:_.runoff_rate?R(_.runoff_rate):"N/A"}),w.encumbered_amount&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right whitespace-nowrap",children:k(_.encumbered_amount)}),w.currency&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:_.currency}),w.report_date&&a.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:new Date(_.report_date).toLocaleDateString()})]},_.id))})]})})})]})]})}),a.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end rounded-b-lg",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Close"})})]})})}function rb({submissionId:e}){const[t,s]=O.useState(null),[r,n]=O.useState([]),[i,l]=O.useState([]),[u,c]=O.useState([]),[o,d]=O.useState(!0),[h,A]=O.useState(new Set(["hqla","outflows","inflows"])),[f,x]=O.useState(null),[m,y]=O.useState(!1),[g,p]=O.useState(!1),[v,w]=O.useState(null);O.useEffect(()=>{j()},[e]);const j=async()=>{d(!0),s(null),n([]),l([]),c([]);const{data:S}=await J.from("lcr_calculation_validations").select("*").eq("submission_id",e).order("validation_timestamp",{ascending:!1}).limit(1).maybeSingle();if(S){s(S);const{data:V}=await J.from("lcr_hqla_components").select("*").eq("lcr_validation_id",S.id).order("hqla_level",{ascending:!0}),{data:F}=await J.from("lcr_outflow_components").select("*").eq("lcr_validation_id",S.id).order("outflow_category",{ascending:!0}),{data:z}=await J.from("lcr_inflow_components").select("*").eq("lcr_validation_id",S.id).order("inflow_category",{ascending:!0});V&&n(V),F&&l(F),z&&c(z)}d(!1)},C=S=>{const V=new Set(h);V.has(S)?V.delete(S):V.add(S),A(V)},L=async S=>{if(!S){console.error("No rule code provided");return}console.log("Fetching rule details for:",S);const{data:V,error:F}=await J.from("lcr_calculation_rules").select("*").eq("rule_code",S).maybeSingle();if(F){console.error("Error fetching rule:",F);return}V?(console.log("Rule data loaded:",V),x(V),y(!0)):console.warn("No rule found for code:",S)},E=(S,V,F,z,P,W,B)=>{w({componentType:S,componentName:V,productIds:F,totalAmount:z,calculatedAmount:P,factor:W,ruleCode:B}),p(!0)},k=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),R=(S,V=2)=>`${(S*100).toFixed(V)}%`,U=S=>S==="passed"?a.jsx(ue,{className:"h-5 w-5 text-green-600"}):S==="failed"?a.jsx(Nt,{className:"h-5 w-5 text-red-600"}):a.jsx(Be,{className:"h-5 w-5 text-yellow-600"}),_=S=>S==="passed"?"text-green-600":S==="failed"?"text-red-600":"text-yellow-600";if(o)return a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading LCR validation details..."});if(!t)return a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(Be,{className:"h-16 w-16 text-orange-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"LCR Validation Not Yet Performed"}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"LCR calculation validation has not been executed for this submission."}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left max-w-md mx-auto",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"To execute LCR validation:"}),a.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[a.jsxs("li",{children:["Go to the ",a.jsx("span",{className:"font-semibold",children:"Submissions"})," tab"]}),a.jsx("li",{children:"Find this submission in the table"}),a.jsxs("li",{children:["Click the ",a.jsx("span",{className:"font-semibold",children:"Execute Validations"})," button"]}),a.jsx("li",{children:"Wait for validation to complete"}),a.jsx("li",{children:"Return here to view detailed LCR calculation breakdown"})]})]})]});r.filter(S=>S.hqla_level===1).reduce((S,V)=>S+V.liquidity_value,0),r.filter(S=>S.hqla_level===2).reduce((S,V)=>S+V.liquidity_value,0),r.filter(S=>S.hqla_level===3).reduce((S,V)=>S+V.liquidity_value,0);const I={retail:i.filter(S=>S.outflow_category==="Cash_Outflows_Retail").reduce((S,V)=>S+V.calculated_outflow,0),wholesale:i.filter(S=>S.outflow_category==="Cash_Outflows_Wholesale").reduce((S,V)=>S+V.calculated_outflow,0),secured:i.filter(S=>S.outflow_category==="Cash_Outflows_Secured").reduce((S,V)=>S+V.calculated_outflow,0),derivatives:i.filter(S=>S.outflow_category==="Cash_Outflows_Derivatives").reduce((S,V)=>S+V.calculated_outflow,0),contingent:i.filter(S=>S.outflow_category==="Cash_Outflows_Contingent").reduce((S,V)=>S+V.calculated_outflow,0)},b=Object.values(I).reduce((S,V)=>S+V,0);return u.reduce((S,V)=>S+V.calculated_inflow,0),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"LCR Calculation Validation"}),a.jsxs("div",{className:"flex items-center gap-2",children:[U(t.overall_validation_status),a.jsx("span",{className:`text-lg font-semibold ${_(t.overall_validation_status)}`,children:t.overall_validation_status.toUpperCase()})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Report Date"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:new Date(t.report_date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"LCR Ratio"}),a.jsx("p",{className:`text-lg font-semibold ${_(t.lcr_validation_status)}`,children:R(t.lcr_ratio_calculated)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Compliance Status"}),a.jsx("p",{className:`text-lg font-semibold ${t.lcr_ratio_calculated>=1?"text-green-600":"text-red-600"}`,children:t.lcr_ratio_calculated>=1?"COMPLIANT":"NON-COMPLIANT"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"bg-blue-50 px-6 py-4 border-b border-blue-200 cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>C("hqla"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[a.jsx(st,{className:"h-5 w-5 text-blue-600"}),"High-Quality Liquid Assets (HQLA)",h.has("hqla")?a.jsx(Vs,{className:"h-4 w-4"}):a.jsx(fa,{className:"h-4 w-4"})]}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k(t.total_hqla_calculated)})]})}),h.has("hqla")&&a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"border-2 border-green-200 rounded-lg p-4 bg-green-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:"Level 1 Assets"}),U(t.level1_validation_status)]}),r.filter(S=>S.hqla_level===1).length===0?a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:[a.jsx(qt,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-amber-900 font-medium mb-1",children:"No component data available"}),a.jsxs("p",{className:"text-xs text-amber-800",children:["Component breakdown data needs to be generated. Go to ",a.jsx("strong",{children:"Data Setup"})," and click ",a.jsx("strong",{children:'"Generate Sample Data"'})," to populate detailed component breakdowns."]}),a.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"Summary total shown below was calculated with old method."})]}):r.filter(S=>S.hqla_level===1).map(S=>a.jsxs("div",{className:"bg-white rounded border border-green-200 p-3 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-slate-900",children:S.hqla_category}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>E("hqla",S.hqla_category,S.fr2052a_line_references||[],S.total_amount,S.liquidity_value,S.liquidity_value_factor,S.rule_code||null),className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center gap-1",title:"View source FR2052a records",children:[a.jsx(so,{className:"h-3 w-3"}),"View Records"]}),a.jsxs("button",{onClick:()=>L(S.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(tt,{className:"h-3 w-3"}),"View Rule"]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),a.jsx("p",{className:"font-semibold text-slate-900",children:k(S.total_amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Haircut Rate"}),a.jsx("p",{className:"font-semibold text-slate-900",children:R(S.haircut_rate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value Factor"}),a.jsx("p",{className:"font-semibold text-green-700",children:R(S.liquidity_value_factor)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value"}),a.jsx("p",{className:"font-bold text-green-600",children:k(S.liquidity_value)})]})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[S.record_count," FR2052a records  ",S.calculation_notes||"No haircut, 100% liquidity value"]})]},S.id)),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-green-300 mt-3",children:[a.jsx("span",{className:"font-bold text-slate-900",children:"Level 1 Total Liquidity Value"}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:k(t.level1_assets_calculated)})]})]}),a.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:"Level 2A Assets"}),U(t.level2a_validation_status)]}),r.filter(S=>S.hqla_level===2).length===0?a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:[a.jsx(qt,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-amber-900 font-medium mb-1",children:"No component data available"}),a.jsxs("p",{className:"text-xs text-amber-800",children:["Component breakdown data needs to be generated. Go to ",a.jsx("strong",{children:"Data Setup"})," and click ",a.jsx("strong",{children:'"Generate Sample Data"'}),"."]})]}):r.filter(S=>S.hqla_level===2).map(S=>a.jsxs("div",{className:"bg-white rounded border border-blue-200 p-3 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-slate-900",children:S.hqla_category}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>E("hqla",S.hqla_category,S.fr2052a_line_references||[],S.total_amount,S.liquidity_value,S.liquidity_value_factor,S.rule_code||null),className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center gap-1",title:"View source FR2052a records",children:[a.jsx(so,{className:"h-3 w-3"}),"View Records"]}),a.jsxs("button",{onClick:()=>L(S.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(tt,{className:"h-3 w-3"}),"View Rule"]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),a.jsx("p",{className:"font-semibold text-slate-900",children:k(S.total_amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Haircut Rate"}),a.jsx("p",{className:"font-semibold text-slate-900",children:R(S.haircut_rate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value Factor"}),a.jsx("p",{className:"font-semibold text-blue-700",children:R(S.liquidity_value_factor)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value"}),a.jsx("p",{className:"font-bold text-blue-600",children:k(S.liquidity_value)})]})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[S.record_count," FR2052a records  ",S.calculation_notes||"15% haircut applied, 85% liquidity value"]})]},S.id)),t.level2a_cap_applied&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded p-3 mb-2",children:a.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:["Level 2A Cap Applied: Limited to 66.67% of Level 1 assets = ",k(t.level2a_cap_amount)]})}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-blue-300 mt-3",children:[a.jsx("span",{className:"font-bold text-slate-900",children:"Level 2A Total Liquidity Value"}),a.jsx("span",{className:"text-xl font-bold text-blue-600",children:k(t.level2a_assets_calculated)})]})]}),a.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-4 bg-purple-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:"Level 2B Assets"}),U(t.level2b_validation_status)]}),r.filter(S=>S.hqla_level===3).length===0?a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:[a.jsx(qt,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-amber-900 font-medium mb-1",children:"No component data available"}),a.jsxs("p",{className:"text-xs text-amber-800",children:["Component breakdown data needs to be generated. Go to ",a.jsx("strong",{children:"Data Setup"})," and click ",a.jsx("strong",{children:'"Generate Sample Data"'}),"."]})]}):r.filter(S=>S.hqla_level===3).map(S=>a.jsxs("div",{className:"bg-white rounded border border-purple-200 p-3 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-slate-900",children:S.hqla_category}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>E("hqla",S.hqla_category,S.fr2052a_line_references||[],S.total_amount,S.liquidity_value,S.liquidity_value_factor,S.rule_code||null),className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center gap-1",title:"View source FR2052a records",children:[a.jsx(so,{className:"h-3 w-3"}),"View Records"]}),a.jsxs("button",{onClick:()=>L(S.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(tt,{className:"h-3 w-3"}),"View Rule"]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),a.jsx("p",{className:"font-semibold text-slate-900",children:k(S.total_amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Haircut Rate"}),a.jsx("p",{className:"font-semibold text-slate-900",children:R(S.haircut_rate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value Factor"}),a.jsx("p",{className:"font-semibold text-purple-700",children:R(S.liquidity_value_factor)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value"}),a.jsx("p",{className:"font-bold text-purple-600",children:k(S.liquidity_value)})]})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[S.record_count," FR2052a records  ",S.calculation_notes||"50% haircut applied, 50% liquidity value"]})]},S.id)),t.level2b_cap_applied&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded p-3 mb-2",children:a.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:["Level 2B Cap Applied: Limited to 17.65% of Level 1 assets = ",k(t.level2b_cap_amount)]})}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-purple-300 mt-3",children:[a.jsx("span",{className:"font-bold text-slate-900",children:"Level 2B Total Liquidity Value"}),a.jsx("span",{className:"text-xl font-bold text-purple-600",children:k(t.level2b_assets_calculated)})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-100 mb-1",children:"Total High-Quality Liquid Assets"}),a.jsx("p",{className:"text-4xl font-bold",children:k(t.total_hqla_calculated)}),a.jsxs("p",{className:"text-xs text-blue-100 mt-2",children:["Level 1: ",k(t.level1_assets_calculated)," + Level 2A: ",k(t.level2a_assets_calculated)," + Level 2B: ",k(t.level2b_assets_calculated)]})]}),U(t.hqla_validation_status)]})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"bg-red-50 px-6 py-4 border-b border-red-200 cursor-pointer hover:bg-red-100 transition-colors",onClick:()=>C("outflows"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[a.jsx(Qi,{className:"h-5 w-5 text-red-600"}),"Cash Outflows (30-Day Period)",h.has("outflows")?a.jsx(Vs,{className:"h-4 w-4"}):a.jsx(fa,{className:"h-4 w-4"})]}),a.jsx("div",{className:"text-2xl font-bold text-red-600",children:k(t.total_outflows_calculated)})]})}),h.has("outflows")&&a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[a.jsx("span",{children:"Retail Deposit Outflows"}),a.jsx("span",{className:"text-lg font-bold text-slate-900",children:k(I.retail)})]}),i.filter(S=>S.outflow_category==="Cash_Outflows_Retail").map(S=>a.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:S.product_type}),a.jsxs("p",{className:"text-xs text-slate-600",children:[k(S.total_amount),"  ",R(S.runoff_rate)," runoff rate  ",S.record_count," records"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:k(S.calculated_outflow)}),a.jsx("button",{onClick:()=>S.regulatory_reference&&L(S.regulatory_reference),className:"text-xs text-blue-600 hover:text-blue-800",children:"View Rule"})]})]},S.id)),i.filter(S=>S.outflow_category==="Cash_Outflows_Retail").length===0&&a.jsx("p",{className:"text-sm text-slate-500 italic",children:"No retail deposit outflows"})]}),a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[a.jsx("span",{children:"Wholesale Funding Outflows"}),a.jsx("span",{className:"text-lg font-bold text-slate-900",children:k(I.wholesale)})]}),i.filter(S=>S.outflow_category==="Cash_Outflows_Wholesale").map(S=>a.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:S.product_type}),a.jsxs("p",{className:"text-xs text-slate-600",children:[k(S.total_amount),"  ",R(S.runoff_rate)," runoff rate  ",S.record_count," records"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:k(S.calculated_outflow)}),a.jsx("button",{onClick:()=>S.regulatory_reference&&L(S.regulatory_reference),className:"text-xs text-blue-600 hover:text-blue-800",children:"View Rule"})]})]},S.id)),i.filter(S=>S.outflow_category==="Cash_Outflows_Wholesale").length===0&&a.jsx("p",{className:"text-sm text-slate-500 italic",children:"No wholesale funding outflows"})]}),["Cash_Outflows_Secured","Cash_Outflows_Derivatives","Cash_Outflows_Contingent"].map(S=>{const V=i.filter(P=>P.outflow_category===S),F=V.reduce((P,W)=>P+W.calculated_outflow,0),z=S.replace("Cash_Outflows_","").replace("_"," ");return V.length>0&&a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[a.jsxs("span",{children:[z," Outflows"]}),a.jsx("span",{className:"text-lg font-bold text-slate-900",children:k(F)})]}),V.map(P=>a.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:P.product_type}),a.jsxs("p",{className:"text-xs text-slate-600",children:[P.runoff_rate>0?`${k(P.total_amount)}  ${R(P.runoff_rate)}`:k(P.total_amount),"  ",P.record_count," records"]})]}),a.jsx("p",{className:"font-semibold text-slate-900",children:k(P.calculated_outflow)})]},P.id))]},S)}),a.jsx("div",{className:"bg-red-600 text-white rounded-lg p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-100",children:"Total Cash Outflows"}),a.jsx("p",{className:"text-3xl font-bold",children:k(t.total_outflows_calculated)}),i.length>0&&b!==t.total_outflows_calculated&&a.jsxs("p",{className:"text-xs text-red-200 mt-1",children:["Component sum: ",k(b),Math.abs(b-t.total_outflows_calculated)>100&&a.jsx("span",{className:"ml-1",children:"(Variance detected)"})]})]})})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"bg-green-50 px-6 py-4 border-b border-green-200 cursor-pointer hover:bg-green-100 transition-colors",onClick:()=>C("inflows"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[a.jsx(Qi,{className:"h-5 w-5 text-green-600"}),"Cash Inflows (30-Day Period)",h.has("inflows")?a.jsx(Vs,{className:"h-4 w-4"}):a.jsx(fa,{className:"h-4 w-4"})]}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:k(t.capped_inflows_calculated)})]})}),h.has("inflows")&&a.jsxs("div",{className:"p-6 space-y-4",children:[["Maturing_Loans","Maturing_Securities","Reverse_Repos","Other_Contractual_Inflows"].map(S=>{const V=u.filter(P=>P.inflow_category.includes(S.replace("_"," "))||P.inflow_category===S),F=V.reduce((P,W)=>P+W.calculated_inflow,0),z=S.replace(/_/g," ");return V.length>0&&a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[a.jsx("span",{children:z}),a.jsx("span",{className:"text-lg font-bold text-slate-900",children:k(F)})]}),V.map(P=>a.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:P.product_type}),a.jsxs("p",{className:"text-xs text-slate-600",children:[k(P.total_amount),"  ",R(P.inflow_rate)," inflow rate  ",P.record_count," records"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:k(P.calculated_inflow)}),a.jsx("button",{onClick:()=>P.regulatory_reference&&L(P.regulatory_reference),className:"text-xs text-blue-600 hover:text-blue-800",children:"View Rule"})]})]},P.id))]},S)}),u.length===0&&a.jsx("p",{className:"text-sm text-slate-500 italic text-center py-4",children:"No cash inflow details available"}),a.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(tt,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-yellow-900 mb-1",children:"Inflow Cap Applied"}),a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Per FR2052a Appendix VI, total inflows are capped at 75% of total outflows"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-yellow-700",children:"Total Inflows (Uncapped)"}),a.jsx("p",{className:"font-semibold text-yellow-900",children:k(t.total_inflows_calculated)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-yellow-700",children:"Maximum Allowed (75% of Outflows)"}),a.jsx("p",{className:"font-semibold text-yellow-900",children:k(t.total_outflows_calculated*.75)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-yellow-700",children:"Capped Inflows (Used in LCR)"}),a.jsx("p",{className:"font-bold text-yellow-900",children:k(t.capped_inflows_calculated)})]})]})]})]})}),a.jsx("div",{className:"bg-green-600 text-white rounded-lg p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-100",children:"Capped Cash Inflows (Used in LCR)"}),a.jsx("p",{className:"text-3xl font-bold",children:k(t.capped_inflows_calculated)})]})})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[a.jsx(jv,{className:"h-5 w-5 text-slate-600"}),"Final LCR Calculation"]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-slate-700",children:"Net Cash Outflows"}),a.jsx("span",{className:"text-xl font-bold text-slate-900",children:k(t.net_cash_outflows_calculated)})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Formula: MAX(Total Outflows - Capped Inflows, 25% of Total Outflows)"}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["MAX(",k(t.total_outflows_calculated)," - ",k(t.capped_inflows_calculated),", ",k(t.total_outflows_calculated*.25),") = ",k(t.net_cash_outflows_calculated)]})]}),a.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white rounded-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-slate-300 mb-2",children:"Liquidity Coverage Ratio"}),a.jsx("p",{className:"text-5xl font-bold mb-3",children:R(t.lcr_ratio_calculated)}),a.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:t.lcr_ratio_calculated>=1?a.jsxs(a.Fragment,{children:[a.jsx(ue,{className:"h-6 w-6 text-green-400"}),a.jsx("span",{className:"text-green-400 font-semibold text-lg",children:"COMPLIANT"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Nt,{className:"h-6 w-6 text-red-400"}),a.jsx("span",{className:"text-red-400 font-semibold text-lg",children:"NON-COMPLIANT"})]})}),a.jsxs("div",{className:"bg-slate-700 bg-opacity-50 rounded p-3",children:[a.jsx("p",{className:"text-xs text-slate-300 mb-1",children:"Calculation"}),a.jsx("p",{className:"text-sm text-white font-mono",children:"LCR = Total HQLA  Net Cash Outflows"}),a.jsxs("p",{className:"text-sm text-white font-mono mt-1",children:["LCR = ",k(t.total_hqla_calculated),"  ",k(t.net_cash_outflows_calculated)]}),a.jsxs("p",{className:"text-sm text-white font-mono mt-1",children:["LCR = ",R(t.lcr_ratio_calculated)]})]}),a.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"Regulatory Minimum: 100%  Basel III / 12 CFR 249"})]})})]})]}),m&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rt,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold",children:f.rule_name})]}),a.jsx("button",{onClick:()=>y(!1),className:"text-white hover:text-blue-100",children:""})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Rule Code"}),a.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-2 py-1 rounded",children:f.rule_code})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"FR2052a Reference"}),a.jsx("p",{className:"text-slate-900",children:f.fr2052a_appendix_reference})]}),f.regulatory_citation&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Regulatory Citation"}),a.jsx("p",{className:"text-slate-900",children:f.regulatory_citation})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-slate-900",children:f.rule_description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Calculation Formula"}),a.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-3 py-2 rounded",children:f.calculation_formula})]}),f.factor_applied!==null&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Factor Applied"}),a.jsx("p",{className:"text-slate-900 text-lg font-bold",children:R(f.factor_applied)})]}),f.examples&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Examples"}),a.jsx("p",{className:"text-slate-900 text-sm",children:f.examples})]})]}),a.jsx("div",{className:"bg-slate-50 px-6 py-4 flex justify-end",children:a.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})})]})}),v&&t&&a.jsx(bp,{isOpen:g,onClose:()=>p(!1),componentType:v.componentType,componentName:v.componentName,submissionId:e,reportDate:t.report_date,totalAmount:v.totalAmount,calculatedAmount:v.calculatedAmount,factor:v.factor,ruleCode:v.ruleCode})]})}function nb({submissionId:e}){const[t,s]=O.useState(null),[r,n]=O.useState([]),[i,l]=O.useState([]),[u,c]=O.useState(new Set(["asf","rsf"])),[o,d]=O.useState(!1),[h,A]=O.useState(!1),[f,x]=O.useState(null),[m,y]=O.useState(!1),[g,p]=O.useState(null);O.useEffect(()=>{e&&v()},[e]);const v=async()=>{d(!0);const{data:k}=await J.from("nsfr_calculation_validations").select("*").eq("submission_id",e).order("validation_timestamp",{ascending:!1}).limit(1).maybeSingle();if(k){s(k);const{data:R}=await J.from("nsfr_asf_components").select("*").eq("nsfr_validation_id",k.id).order("asf_category",{ascending:!0}),{data:U}=await J.from("nsfr_rsf_components").select("*").eq("nsfr_validation_id",k.id).order("rsf_category",{ascending:!0});n(R||[]),l(U||[])}else s(null),n([]),l([]);d(!1)},w=async k=>{if(!k)return;const{data:R}=await J.from("lcr_calculation_rules").select("*").eq("rule_code",k).maybeSingle();R&&(x(R),A(!0))},j=(k,R)=>{const U=R==="asf",_=k,I=k;p({componentType:R,componentName:U?_.asf_category:I.rsf_category,totalAmount:k.total_amount,calculatedAmount:U?_.calculated_asf:I.calculated_rsf,factor:U?_.asf_factor:I.rsf_factor,ruleCode:k.rule_code||null}),y(!0)},C=k=>{const R=new Set(u);R.has(k)?R.delete(k):R.add(k),c(R)},L=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(k),E=k=>k==null?"N/A":`${(k*100).toFixed(2)}%`;return o?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading NSFR validation data..."})]}):t?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg p-6 shadow-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm",children:"Total ASF"}),a.jsx("p",{className:"text-2xl font-bold",children:L(t.total_asf_calculated)}),a.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Available Stable Funding"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm",children:"Total RSF"}),a.jsx("p",{className:"text-2xl font-bold",children:L(t.total_rsf_calculated)}),a.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Required Stable Funding"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm",children:"NSFR Ratio"}),a.jsx("p",{className:"text-2xl font-bold",children:E(t.nsfr_ratio_calculated)}),a.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Current Ratio"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm",children:"Regulatory Minimum"}),a.jsx("p",{className:"text-2xl font-bold",children:"100.00%"}),a.jsx("p",{className:"text-xs mt-1",children:t.nsfr_ratio_calculated>=1?" Compliant":" Non-Compliant"})]})]})}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>C("asf"),className:"w-full px-6 py-4 flex items-center justify-between bg-slate-50 hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(zt,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{className:"text-left",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Available Stable Funding (ASF)"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Stable funding sources"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-lg font-bold text-slate-900",children:L(t.total_asf_calculated)}),u.has("asf")?a.jsx(Vs,{className:"h-5 w-5 text-slate-400"}):a.jsx(fa,{className:"h-5 w-5 text-slate-400"})]})]}),u.has("asf")&&r.length>0&&a.jsx("div",{className:"p-6 space-y-4",children:r.map(k=>a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:k.asf_category}),a.jsx("p",{className:"text-sm text-slate-600",children:k.product_type}),k.maturity_bucket&&a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Maturity: ",k.maturity_bucket]})]}),a.jsxs("div",{className:"flex gap-2",children:[k.rule_code&&a.jsxs("button",{onClick:()=>w(k.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[a.jsx(tt,{className:"h-3 w-3"}),"View Rule"]}),a.jsxs("button",{onClick:()=>j(k,"asf"),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[a.jsx(rt,{className:"h-3 w-3"}),"View Records"]})]})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),a.jsx("p",{className:"font-semibold text-slate-900",children:L(k.total_amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"ASF Factor"}),a.jsx("p",{className:"font-semibold text-slate-900",children:E(k.asf_factor)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Calculated ASF"}),a.jsx("p",{className:"font-semibold text-green-700",children:L(k.calculated_asf)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Record Count"}),a.jsx("p",{className:"text-xs font-mono text-slate-700",children:k.record_count||0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Rule Code"}),a.jsx("p",{className:"text-xs font-mono text-slate-700",children:k.rule_code||"N/A"})]})]}),k.calculation_methodology&&a.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100",children:a.jsx("p",{className:"text-xs text-slate-500 italic",children:k.calculation_methodology})})]},k.id))}),u.has("asf")&&r.length===0&&a.jsxs("div",{className:"p-6 text-center text-slate-500",children:[a.jsx(qt,{className:"h-12 w-12 mx-auto mb-2 text-slate-300"}),a.jsx("p",{children:"No ASF components found for this validation"})]})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>C("rsf"),className:"w-full px-6 py-4 flex items-center justify-between bg-slate-50 hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(st,{className:"h-5 w-5 text-orange-600"}),a.jsxs("div",{className:"text-left",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Required Stable Funding (RSF)"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Assets requiring stable funding"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-lg font-bold text-slate-900",children:L(t.total_rsf_calculated)}),u.has("rsf")?a.jsx(Vs,{className:"h-5 w-5 text-slate-400"}):a.jsx(fa,{className:"h-5 w-5 text-slate-400"})]})]}),u.has("rsf")&&i.length>0&&a.jsx("div",{className:"p-6 space-y-4",children:i.map(k=>a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:k.rsf_category}),a.jsx("p",{className:"text-sm text-slate-600",children:k.product_type}),k.asset_class&&a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:k.asset_class})]}),a.jsxs("div",{className:"flex gap-2",children:[k.rule_code&&a.jsxs("button",{onClick:()=>w(k.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[a.jsx(tt,{className:"h-3 w-3"}),"View Rule"]}),a.jsxs("button",{onClick:()=>j(k,"rsf"),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[a.jsx(rt,{className:"h-3 w-3"}),"View Records"]})]})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),a.jsx("p",{className:"font-semibold text-slate-900",children:L(k.total_amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"RSF Factor"}),a.jsx("p",{className:"font-semibold text-slate-900",children:E(k.rsf_factor)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Calculated RSF"}),a.jsx("p",{className:"font-semibold text-orange-700",children:L(k.calculated_rsf)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Record Count"}),a.jsx("p",{className:"text-xs font-mono text-slate-700",children:k.record_count||0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-600",children:"Rule Code"}),a.jsx("p",{className:"text-xs font-mono text-slate-700",children:k.rule_code||"N/A"})]})]}),k.calculation_methodology&&a.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100",children:a.jsx("p",{className:"text-xs text-slate-500 italic",children:k.calculation_methodology})})]},k.id))}),u.has("rsf")&&i.length===0&&a.jsxs("div",{className:"p-6 text-center text-slate-500",children:[a.jsx(qt,{className:"h-12 w-12 mx-auto mb-2 text-slate-300"}),a.jsx("p",{children:"No RSF components found for this validation"})]})]}),h&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rt,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold",children:f.rule_name})]}),a.jsx("button",{onClick:()=>A(!1),className:"text-white hover:text-green-100 text-2xl leading-none",children:""})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Rule Code"}),a.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-2 py-1 rounded",children:f.rule_code})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"FR 2052a / Basel Reference"}),a.jsx("p",{className:"text-slate-900",children:f.fr2052a_appendix_reference})]}),f.regulatory_citation&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Regulatory Citation"}),a.jsx("p",{className:"text-slate-900",children:f.regulatory_citation})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-slate-900",children:f.rule_description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Calculation Formula"}),a.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-3 py-2 rounded",children:f.calculation_formula})]}),f.factor_applied!==null&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Factor Applied"}),a.jsx("p",{className:"text-slate-900 text-lg font-bold",children:E(f.factor_applied)})]}),f.examples&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Examples"}),a.jsx("p",{className:"text-slate-900 text-sm",children:f.examples})]})]}),a.jsx("div",{className:"bg-slate-50 px-6 py-4 flex justify-end",children:a.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Close"})})]})}),m&&g&&t&&a.jsx(bp,{isOpen:m,onClose:()=>y(!1),componentType:g.componentType,componentName:g.componentName,submissionId:e,reportDate:t.report_date,totalAmount:g.totalAmount,calculatedAmount:g.calculatedAmount,factor:g.factor,ruleCode:g.ruleCode})]}):a.jsxs("div",{className:"text-center py-12 bg-white border border-slate-200 rounded-lg",children:[a.jsx(qt,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No NSFR Validation Found"}),a.jsx("p",{className:"text-slate-600",children:"This submission has not been validated yet"})]})}function ib({submissionId:e}){const[t,s]=O.useState([]),[r,n]=O.useState(!0),[i,l]=O.useState(null);O.useEffect(()=>{u()},[e]);const u=async()=>{n(!0),s([]);const{data:x}=await J.from("fr2052a_validation_executions").select("*").eq("submission_id",e).order("execution_timestamp",{ascending:!1});s(x||[]),n(!1)},c=x=>x.rows_failed===0?a.jsx(ue,{className:"h-5 w-5 text-green-600"}):x.rows_failed>0&&x.rows_passed>0?a.jsx(Be,{className:"h-5 w-5 text-yellow-600"}):a.jsx(Nt,{className:"h-5 w-5 text-red-600"}),o=x=>x.total_rows_checked===0?0:x.rows_passed/x.total_rows_checked*100,d=()=>{const x={};return t.forEach(m=>{x[m.rule_category]||(x[m.rule_category]={total:0,passed:0,failed:0}),x[m.rule_category].total++,m.rows_failed===0?x[m.rule_category].passed++:x[m.rule_category].failed++}),x},h=i?t.filter(x=>x.rule_category===i):t,A=d(),f=Object.keys(A);return r?a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading validation executions..."}):t.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(Be,{className:"h-16 w-16 text-orange-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Validation Not Yet Performed"}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"FR2052a data validation has not been executed for this submission."}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left max-w-md mx-auto",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"To execute data validation:"}),a.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[a.jsxs("li",{children:["Go to the ",a.jsx("span",{className:"font-semibold",children:"Submissions"})," tab"]}),a.jsx("li",{children:"Find this submission in the table"}),a.jsxs("li",{children:["Click the ",a.jsx("span",{className:"font-semibold",children:"Execute Validations"})," button"]}),a.jsx("li",{children:"Wait for validation to complete (~2-3 seconds)"}),a.jsx("li",{children:"Return here to view validation rule execution results"})]})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Rules Executed"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.length})]}),a.jsx(st,{className:"h-10 w-10 text-blue-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Rules Passed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:t.filter(x=>x.rows_failed===0).length})]}),a.jsx(ue,{className:"h-10 w-10 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Rules with Errors"}),a.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:t.filter(x=>x.rows_failed>0).length})]}),a.jsx(Nt,{className:"h-10 w-10 text-red-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Avg Execution Time"}),a.jsxs("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:[Math.round(t.reduce((x,m)=>x+m.execution_time_ms,0)/t.length),"ms"]})]}),a.jsx(_s,{className:"h-10 w-10 text-slate-600"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filter by Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>l(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===null?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["All Categories (",t.length,")"]}),f.map(x=>a.jsxs("button",{onClick:()=>l(x),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===x?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[x.replace(/_/g," ")," (",A[x].total,")"]},x))]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Validation Rule Executions",i&&` - ${i.replace(/_/g," ")}`]})}),a.jsx("div",{className:"divide-y divide-slate-200",children:h.map(x=>a.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c(x),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900 mb-1",children:x.rule_name}),a.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Category: ",a.jsx("span",{className:"font-medium",children:x.rule_category.replace(/_/g," ")})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600",children:"Total Rows Checked"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:x.total_rows_checked.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600",children:"Rows Passed"}),a.jsx("p",{className:"text-lg font-semibold text-green-600",children:x.rows_passed.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600",children:"Rows Failed"}),a.jsx("p",{className:"text-lg font-semibold text-red-600",children:x.rows_failed.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600",children:"Pass Rate"}),a.jsxs("p",{className:`text-lg font-semibold ${o(x)===100?"text-green-600":o(x)>=95?"text-yellow-600":"text-red-600"}`,children:[o(x).toFixed(1),"%"]})]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:`h-2 rounded-full ${o(x)===100?"bg-green-600":o(x)>=95?"bg-yellow-500":"bg-red-600"}`,style:{width:`${o(x)}%`}})}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_s,{className:"h-3 w-3"}),"Execution Time: ",x.execution_time_ms,"ms"]}),a.jsxs("span",{children:["Executed: ",new Date(x.execution_timestamp).toLocaleString()]})]}),x.notes&&a.jsx("div",{className:"mt-3 bg-blue-50 border border-blue-200 rounded p-2",children:a.jsx("p",{className:"text-xs text-blue-900",children:x.notes})})]})]})})},x.id))})]})]})}function lb(){const[e,t]=O.useState([]),[s,r]=O.useState([]),[n,i]=O.useState(null),[l,u]=O.useState([]),[c,o]=O.useState(!0),[d,h]=O.useState("overview"),[A,f]=O.useState(!1),[x,m]=O.useState(!1),[y,g]=O.useState(""),[p,v]=O.useState(null),[w,j]=O.useState({fileName:!0,entity:!0,period:!0,status:!0,rows:!0,errors:!0,timestamp:!1,type:!1});O.useEffect(()=>{C()},[]);const C=async()=>{o(!0);const{data:F}=await J.from("fr2052a_validation_rules").select("*").order("rule_category",{ascending:!0}),{data:z}=await J.from("fr2052a_submissions").select("*").order("created_at",{ascending:!1}).limit(10),{data:P}=await J.from("legal_entities").select("id, entity_code, entity_name").is("user_id",null),W=new Map((P==null?void 0:P.map(B=>[B.id,B]))||[]);if(F&&t(F),z){const M=[...new Set(z.map(de=>de.reporting_period))].map(async de=>{const{count:pe}=await J.from("fr2052a_data_rows").select("*",{count:"exact",head:!0}).eq("report_date",de).is("user_id",null);return{period:de,count:pe||0}}),te=await Promise.all(M),se=new Map(te.map(de=>[de.period,de.count])),X=z.map(de=>de.id),{data:re}=await J.from("fr2052a_validation_errors").select("submission_id").in("submission_id",X),Ne=new Map;re==null||re.forEach(de=>{const pe=Ne.get(de.submission_id)||0;Ne.set(de.submission_id,pe+1)});const ge=z.map(async de=>{var Q,T,D;const[pe,N,G]=await Promise.all([J.from("fr2052a_validation_executions").select("id").eq("submission_id",de.id).limit(1),J.from("lcr_calculation_validations").select("id").eq("submission_id",de.id).limit(1),J.from("nsfr_calculation_validations").select("id").eq("submission_id",de.id).limit(1)]);return{submissionId:de.id,data_validation_executed:(((Q=pe.data)==null?void 0:Q.length)||0)>0,lcr_validation_executed:(((T=N.data)==null?void 0:T.length)||0)>0,nsfr_validation_executed:(((D=G.data)==null?void 0:D.length)||0)>0}}),ye=await Promise.all(ge),Te=new Map(ye.map(de=>[de.submissionId,de])),Ae=z.map(de=>{const pe=se.get(de.reporting_period)||0,N=Ne.get(de.id)||0,G=Te.get(de.id),Q=W.get(de.legal_entity_id),T=Q?Q.entity_code:de.legal_entity_id==="all_entities"?"All Entities":de.legal_entity_id,D=Q?`FR2052a_${de.reporting_period}_${Q.entity_code}`:`FR2052a_${de.reporting_period}`;return{id:de.id,file_name:D,upload_timestamp:de.created_at,reporting_entity:T,reporting_period:de.reporting_period,submission_status:de.submission_status,total_rows:pe,valid_rows:pe-N,error_rows:N,data_validation_executed:(G==null?void 0:G.data_validation_executed)||!1,lcr_validation_executed:(G==null?void 0:G.lcr_validation_executed)||!1,nsfr_validation_executed:(G==null?void 0:G.nsfr_validation_executed)||!1}});r(Ae)}o(!1)},L=async()=>{o(!0),await jd(),await C(),f(!0)},E=async F=>{m(!0),v(F),g("Initializing validation execution...");try{const{executeValidationsForSubmission:z}=await ws(async()=>{const{executeValidationsForSubmission:B}=await import("./executeValidations-BrpRfvw3.js");return{executeValidationsForSubmission:B}},[]);g("[1/3] Executing FR2052a data validation..."),await new Promise(B=>setTimeout(B,100));const P=await z(F);g("[3/3] Validation complete!"),await new Promise(B=>setTimeout(B,500)),await C();const W=`Validation Execution Complete!

FR2052a Data: ${P.steps.dataValidation.passed?" PASSED":" FAILED"}
  - Total Rows: ${P.steps.dataValidation.totalRows}
  - Valid Rows: ${P.steps.dataValidation.validRows}
  - Error Rows: ${P.steps.dataValidation.errorRows}

LCR Validation: ${P.steps.lcrValidation.executed?P.steps.lcrValidation.passed?" PASSED":" FAILED":"- N/A"}
`+(P.steps.lcrValidation.executed?`  - LCR Ratio: ${(P.steps.lcrValidation.ratio*100).toFixed(2)}%
`:"")+`
NSFR Validation: ${P.steps.nsfrValidation.executed?P.steps.nsfrValidation.passed?" PASSED":" FAILED":"- N/A"}
`+(P.steps.nsfrValidation.executed?`  - NSFR Ratio: ${(P.steps.nsfrValidation.ratio*100).toFixed(2)}%
`:"");alert(W)}catch(z){console.error("Validation execution failed:",z),alert(`Validation execution failed: ${z instanceof Error?z.message:"Unknown error"}

Check console for details.`)}finally{m(!1),v(null),g("")}},k=async F=>{const{data:z}=await J.from("fr2052a_validation_errors").select("*").eq("submission_id",F).order("created_at",{ascending:!1});z&&u(z)},R=()=>e.reduce((z,P)=>(z[P.rule_category]=(z[P.rule_category]||0)+1,z),{}),U=()=>{const F=s.length,z=s.filter(B=>B.submission_status==="validated").length,P=s.filter(B=>B.submission_status==="rejected").length,W=s.filter(B=>B.submission_status==="pending").length;return{total:F,validated:z,rejected:P,pending:W}},_={schema_validation:"bg-blue-100 text-blue-800",enumeration:"bg-purple-100 text-purple-800",legal_entity:"bg-green-100 text-green-800",internal_transaction:"bg-yellow-100 text-yellow-800",field_dependency:"bg-orange-100 text-orange-800",cross_field:"bg-red-100 text-red-800",duplicate:"bg-pink-100 text-pink-800",data_type:"bg-indigo-100 text-indigo-800",product_hierarchy:"bg-teal-100 text-teal-800",submission_frequency:"bg-cyan-100 text-cyan-800"},I=()=>{const F=R(),z=U();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Rules"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:e.length})]}),a.jsx(Oe,{className:"h-10 w-10 text-blue-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Submissions"}),a.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:z.total})]}),a.jsx(rt,{className:"h-10 w-10 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Validated"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:z.validated})]}),a.jsx(ue,{className:"h-10 w-10 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Rejected"}),a.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:z.rejected})]}),a.jsx(Nt,{className:"h-10 w-10 text-red-600"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Validation Rule Categories"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(F).map(([P,W])=>a.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:W}),a.jsx("p",{className:"text-xs text-slate-600 mt-1 capitalize",children:P.replace(/_/g," ")})]},P))})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Be,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"FR 2052a Validation System"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"This system implements the 10 core validation checks required for FR 2052a regulatory reporting compliance:"}),a.jsxs("ul",{className:"text-sm text-slate-700 space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Schema Validation:"})," XML/XSD conformance checks"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Enumeration Validation:"})," Field value against allowed lists"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Legal Entity Integrity:"})," RSSD/LEI validation and consolidation"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Internal Transaction Symmetry:"})," Counterparty matching and flow verification"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:a.jsx("strong",{children:"And 6 additional validation categories..."})})]})]})]})]})}),!A&&e.length===0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(Oe,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Initialize Validation Data"}),a.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Load the initial validation rules, enumerations, and entity mappings to get started."}),a.jsx("button",{onClick:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Seed Validation Data"})]})]})},b=()=>{const F=e.reduce((z,P)=>(z[P.rule_category]||(z[P.rule_category]=[]),z[P.rule_category].push(P),z),{});return a.jsx("div",{className:"space-y-6",children:Object.entries(F).map(([z,P])=>a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 capitalize",children:[z.replace(/_/g," ")," (",P.length," rules)"]})}),a.jsx("div",{className:"divide-y divide-slate-200",children:P.map(W=>a.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:W.rule_name}),a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${_[W.rule_category]||"bg-slate-100 text-slate-800"}`,children:W.rule_category.replace(/_/g," ")})]}),W.field_name&&a.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[a.jsx("span",{className:"font-medium",children:"Field:"})," ",W.field_name]}),a.jsx("p",{className:"text-sm text-slate-700",children:W.validation_logic})]},W.id))})]},z))})},S=()=>s.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(vv,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submissions Yet"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Upload FR 2052a files to begin validation"})]}):a.jsxs("div",{className:"space-y-4",children:[n&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rt,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["Currently Viewing: ",n.file_name]}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Period: ",new Date(n.reporting_period).toLocaleDateString(),"  Status: ",n.submission_status," ",n.error_rows," errors"]})]})]}),a.jsx("button",{onClick:()=>i(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear Selection"})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Submissions (",s.length,")"]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>{const F=document.getElementById("column-dropdown");F&&F.classList.toggle("hidden")},className:"flex items-center gap-2 px-3 py-2 text-sm bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[a.jsx(Nd,{className:"h-4 w-4"}),"Columns"]}),a.jsxs("div",{id:"column-dropdown",className:"hidden absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-200 z-10",children:[a.jsx("div",{className:"p-3 border-b border-slate-200",children:a.jsx("p",{className:"text-xs font-semibold text-slate-700 uppercase",children:"Show/Hide Columns"})}),a.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:[{key:"fileName",label:"File Name"},{key:"entity",label:"Entity"},{key:"period",label:"Period"},{key:"status",label:"Status"},{key:"rows",label:"Total Rows"},{key:"errors",label:"Errors"},{key:"timestamp",label:"Upload Time"},{key:"type",label:"Submission Type"}].map(({key:F,label:z})=>a.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 hover:bg-slate-50 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w[F],onChange:P=>j({...w,[F]:P.target.checked}),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:z})]},F))})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"sticky left-0 z-10 bg-slate-50 px-3 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider w-32",children:"Quick Actions"}),w.fileName&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[200px]",children:"File Name"}),w.entity&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[150px]",children:"Entity"}),w.period&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[120px]",children:"Period"}),w.status&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[120px]",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[280px]",children:"Validation Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[140px]",children:"Actions"}),w.rows&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[100px]",children:"Total Rows"}),w.errors&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[100px]",children:"Errors"}),w.timestamp&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[150px]",children:"Upload Time"}),w.type&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[150px]",children:"Type"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:s.map(F=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${(n==null?void 0:n.id)===F.id?"bg-blue-50":""}`,children:[a.jsx("td",{className:"sticky left-0 z-10 bg-white px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{i(F),h("executions")},title:"View Rule Executions",className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:a.jsx(ue,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{i(F),k(F.id),h("errors")},title:"View Errors",className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",children:a.jsx(Nt,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{i(F),h("lcr")},title:"View LCR Validation",className:"p-1.5 text-green-600 hover:bg-green-50 rounded transition-colors",children:a.jsx(Jr,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{i(F),h("nsfr")},title:"View NSFR Validation",className:"p-1.5 text-orange-600 hover:bg-orange-50 rounded transition-colors",children:a.jsx(sr,{className:"h-4 w-4"})})]})}),w.fileName&&a.jsx("td",{className:"px-4 py-4 text-sm font-medium text-slate-900",children:a.jsx("div",{className:"max-w-[200px] truncate",title:F.file_name,children:F.file_name})}),w.entity&&a.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:a.jsx("div",{className:"max-w-[150px] truncate",title:F.reporting_entity,children:F.reporting_entity})}),w.period&&a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(F.reporting_period).toLocaleDateString()}),w.status&&a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F.submission_status==="validated"?"bg-green-100 text-green-800":F.submission_status==="rejected"?"bg-red-100 text-red-800":F.submission_status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:F.submission_status})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-medium text-slate-600 w-16",children:"Data:"}),a.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${F.data_validation_executed?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:F.data_validation_executed?" Executed":" Not Executed"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-medium text-slate-600 w-16",children:"LCR:"}),a.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${F.lcr_validation_executed?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:F.lcr_validation_executed?" Executed":" Not Executed"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-medium text-slate-600 w-16",children:"NSFR:"}),a.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${F.nsfr_validation_executed?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:F.nsfr_validation_executed?" Executed":" Not Executed"})]})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>E(F.id),disabled:x&&p===F.id,className:`px-3 py-2 text-xs font-medium rounded-lg transition-colors ${x&&p===F.id?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:x&&p===F.id?"Executing...":F.data_validation_executed&&F.lcr_validation_executed&&F.nsfr_validation_executed?"Re-Execute":"Execute Validations"})}),w.rows&&a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:F.total_rows.toLocaleString()}),w.errors&&a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:F.error_rows>0?"text-red-600 font-semibold":"text-slate-600",children:F.error_rows.toLocaleString()})}),w.timestamp&&a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(F.upload_timestamp).toLocaleString()}),w.type&&a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:a.jsx("span",{className:"px-2 py-1 text-xs bg-slate-100 text-slate-700 rounded",children:"System Generated"})})]},F.id))})]})})]})]}),V=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Error Details"}),a.jsxs("div",{className:"w-64",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),a.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:F=>{const z=s.find(P=>P.id===F.target.value);z&&(i(z),k(z.id))},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Choose a submission..."}),s.map(F=>a.jsxs("option",{value:F.id,children:[F.file_name," - ",new Date(F.reporting_period).toLocaleDateString()]},F.id))]})]})]}),n?a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"text-base font-medium text-slate-900 mb-4",children:n.file_name}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Rows"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.total_rows})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Valid Rows"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.valid_rows})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Error Rows"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.error_rows})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Error Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(n.error_rows/n.total_rows*100).toFixed(1),"%"]})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Be,{className:"h-12 w-12 text-slate-400 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Select a submission to view validation errors"})]})]}),n&&l.length>0?a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"divide-y divide-slate-200",children:l.map(F=>a.jsx("div",{className:"p-6 hover:bg-slate-50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[F.severity==="critical"?a.jsx(Nt,{className:"h-6 w-6 text-red-600 flex-shrink-0"}):a.jsx(Be,{className:"h-6 w-6 text-yellow-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"text-base font-semibold text-slate-900",children:F.error_type.replace(/_/g," ")}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:F.severity})]}),a.jsx("p",{className:"text-sm text-slate-700 mb-2",children:F.error_message}),F.field_name&&a.jsxs("p",{className:"text-sm text-slate-600",children:[a.jsx("span",{className:"font-medium",children:"Field:"})," ",F.field_name]})]})]})},F.id))})}):n?a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(ue,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Errors Found"}),a.jsx("p",{className:"text-sm text-slate-600",children:"This submission passed all validation checks"})]}):null]});return c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-slate-600",children:"Loading validation system..."})}):a.jsxs("div",{children:[x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md shadow-2xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-t-transparent"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:"Executing Validations"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:y})]})]}),a.jsxs("div",{className:"mt-6 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${y.includes("[1/3]")?"bg-blue-600 animate-pulse":y.includes("[2/3]")||y.includes("[3/3]")?"bg-green-600":"bg-slate-300"}`}),a.jsx("span",{className:y.includes("[1/3]")?"text-blue-600 font-medium":y.includes("[2/3]")||y.includes("[3/3]")?"text-green-600":"text-slate-500",children:"FR2052a Data Validation"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${y.includes("[2/3]")?"bg-blue-600 animate-pulse":y.includes("[3/3]")?"bg-green-600":"bg-slate-300"}`}),a.jsx("span",{className:y.includes("[2/3]")?"text-blue-600 font-medium":y.includes("[3/3]")?"text-green-600":"text-slate-500",children:"LCR Calculation Validation"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${y.includes("[3/3]")?"bg-blue-600 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:y.includes("[3/3]")?"text-blue-600 font-medium":"text-slate-500",children:"NSFR Calculation Validation"})]})]})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"FR 2052a Validation System"}),a.jsx("p",{className:"text-slate-600",children:"Comprehensive data quality and compliance validation for regulatory reporting"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex gap-2 border-b border-slate-200",children:[{key:"overview",label:"Overview",icon:st},{key:"rules",label:"Validation Rules",icon:Oe},{key:"submissions",label:"Submissions",icon:rt},{key:"errors",label:"Error Details",icon:Be},{key:"executions",label:"Rule Executions",icon:ue},{key:"lcr",label:"LCR Validation",icon:Jr},{key:"nsfr",label:"NSFR Validation",icon:sr}].map(({key:F,label:z,icon:P})=>a.jsxs("button",{onClick:()=>h(F),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${d===F?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300"}`,children:[a.jsx(P,{className:"h-4 w-4"}),z]},F))})}),d==="overview"&&I(),d==="rules"&&b(),d==="submissions"&&S(),d==="errors"&&V(),d==="lcr"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"LCR Calculation Validation"}),n&&a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Submission: ",n.file_name,"  Period: ",new Date(n.reporting_period).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-64",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),a.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:F=>{const z=s.find(P=>P.id===F.target.value);z&&i(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Choose a submission..."}),s.map(F=>a.jsxs("option",{value:F.id,children:[F.file_name," - ",new Date(F.reporting_period).toLocaleDateString()]},F.id))]})]}),a.jsx("button",{onClick:()=>h("submissions"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-5",children:" Back"})]})]})}),n?a.jsx(rb,{submissionId:n.id}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(Jr,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submission Selected"}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Use the dropdown above to select a submission to view LCR calculation validation details."})]})]}),d==="nsfr"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"NSFR Calculation Validation"}),n&&a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Submission: ",n.file_name,"  Period: ",new Date(n.reporting_period).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-64",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),a.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:F=>{const z=s.find(P=>P.id===F.target.value);z&&i(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Choose a submission..."}),s.map(F=>a.jsxs("option",{value:F.id,children:[F.file_name," - ",new Date(F.reporting_period).toLocaleDateString()]},F.id))]})]}),a.jsx("button",{onClick:()=>h("submissions"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-5",children:" Back"})]})]})}),n?a.jsx(nb,{submissionId:n.id}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(sr,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submission Selected"}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Use the dropdown above to select a submission to view NSFR calculation validation details."})]})]}),d==="executions"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Rule Executions"}),n&&a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Submission: ",n.file_name,"  Period: ",new Date(n.reporting_period).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-64",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),a.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:F=>{const z=s.find(P=>P.id===F.target.value);z&&i(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Choose a submission..."}),s.map(F=>a.jsxs("option",{value:F.id,children:[F.file_name," - ",new Date(F.reporting_period).toLocaleDateString()]},F.id))]})]}),a.jsx("button",{onClick:()=>h("submissions"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-5",children:" Back"})]})]})}),n?a.jsx(ib,{submissionId:n.id}):a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx(ue,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submission Selected"}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Use the dropdown above to select a submission to view rule execution details."}),a.jsxs("p",{className:"text-sm text-slate-700 bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:[a.jsx("strong",{children:"Rule Executions"})," show which validation rules were applied to each submission, how many rows were checked, passed, and failed for each rule, and the execution time."]})]})]})]})}async function ob(){const e=[{rule_code:"HQLA_L1_CASH",rule_category:"HQLA_Level_1",rule_name:"Level 1 HQLA - Cash and Central Bank Reserves",fr2052a_appendix_reference:"Appendix VI, Section A.1",product_categories:["cash","central_bank_reserves"],counterparty_types:[],maturity_buckets:[],calculation_formula:"Total Amount  100% (no haircut, 100% liquidity value)",factor_applied:1,rule_description:"Cash, central bank reserves, and claims on central banks are Level 1 HQLA with no haircut and 100% liquidity value.",regulatory_citation:"12 CFR 249.20(a)",examples:"Cash in vault, reserve balances at Federal Reserve, demand deposits at central banks"},{rule_code:"HQLA_L1_SOVEREIGN",rule_category:"HQLA_Level_1",rule_name:"Level 1 HQLA - U.S. Treasury Securities",fr2052a_appendix_reference:"Appendix VI, Section A.2",product_categories:["securities"],counterparty_types:["government"],maturity_buckets:[],calculation_formula:"Total Amount  100% (no haircut, 100% liquidity value)",factor_applied:1,rule_description:"Marketable securities representing claims on or guaranteed by U.S. government, U.S. government agencies.",regulatory_citation:"12 CFR 249.20(a)(1)",examples:"U.S. Treasury bonds, bills, notes; GNMA securities"},{rule_code:"HQLA_L2A_GSE",rule_category:"HQLA_Level_2A",rule_name:"Level 2A HQLA - GSE Securities",fr2052a_appendix_reference:"Appendix VI, Section B.1",product_categories:["securities"],counterparty_types:["gse","government"],maturity_buckets:[],calculation_formula:"Total Amount  85% liquidity value (15% haircut)",factor_applied:.85,rule_description:"Marketable securities issued or guaranteed by U.S. GSEs (Fannie Mae, Freddie Mac). Subject to 15% haircut, resulting in 85% liquidity value.",regulatory_citation:"12 CFR 249.20(b)(1)",examples:"Fannie Mae MBS, Freddie Mac bonds, FHLB obligations"},{rule_code:"HQLA_L2A_SOVEREIGN",rule_category:"HQLA_Level_2A",rule_name:"Level 2A HQLA - Qualifying Sovereign Securities",fr2052a_appendix_reference:"Appendix VI, Section B.2",product_categories:["securities"],counterparty_types:["foreign_sovereign"],maturity_buckets:[],calculation_formula:"Total Amount  85% liquidity value (15% haircut)",factor_applied:.85,rule_description:"Marketable securities issued or guaranteed by qualifying sovereigns with 20% risk weight. Subject to 15% haircut.",regulatory_citation:"12 CFR 249.20(b)(2)",examples:"Investment-grade foreign government bonds (Canada, UK, Germany)"},{rule_code:"HQLA_L2B_CORPORATE",rule_category:"HQLA_Level_2B",rule_name:"Level 2B HQLA - Investment Grade Corporate Debt",fr2052a_appendix_reference:"Appendix VI, Section C.1",product_categories:["securities"],counterparty_types:["corporate"],maturity_buckets:[],calculation_formula:"Total Amount  50% liquidity value (50% haircut)",factor_applied:.5,rule_description:"Investment-grade corporate debt securities with AA- or better rating. Subject to 50% haircut, resulting in 50% liquidity value.",regulatory_citation:"12 CFR 249.20(c)(1)",examples:"AA-rated corporate bonds, highly-rated commercial paper"},{rule_code:"OUTFLOW_RETAIL_STABLE",rule_category:"Cash_Outflows_Retail",rule_name:"Retail Deposit Outflow - Stable Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.1.a",product_categories:["deposits"],counterparty_types:["retail"],maturity_buckets:[],calculation_formula:"Outstanding Balance  3% runoff rate",factor_applied:.03,rule_description:"Stable retail deposits (insured, established banking relationship) have 3% outflow rate.",regulatory_citation:"12 CFR 249.32(a)(1)",examples:"Insured checking accounts, insured savings accounts with established customers"},{rule_code:"OUTFLOW_RETAIL_LESS_STABLE",rule_category:"Cash_Outflows_Retail",rule_name:"Retail Deposit Outflow - Less Stable Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.1.b",product_categories:["deposits"],counterparty_types:["retail"],maturity_buckets:[],calculation_formula:"Outstanding Balance  10% runoff rate",factor_applied:.1,rule_description:"Less stable retail deposits (uninsured or brokered) have 10% outflow rate.",regulatory_citation:"12 CFR 249.32(a)(2)",examples:"Uninsured deposits, brokered deposits, deposits from new customers"},{rule_code:"OUTFLOW_WHOLESALE_UNSECURED_OPERATIONAL",rule_category:"Cash_Outflows_Wholesale",rule_name:"Wholesale Funding - Operational Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.2.a",product_categories:["deposits"],counterparty_types:["wholesale","financial_institution"],maturity_buckets:[],calculation_formula:"Outstanding Balance  25% runoff rate",factor_applied:.25,rule_description:"Operational deposits from non-financial wholesale customers have 25% outflow rate.",regulatory_citation:"12 CFR 249.32(b)(1)",examples:"Corporate operating accounts, clearing accounts, cash management services"},{rule_code:"OUTFLOW_WHOLESALE_UNSECURED_NONOPERATIONAL",rule_category:"Cash_Outflows_Wholesale",rule_name:"Wholesale Funding - Non-Operational Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.2.b",product_categories:["deposits"],counterparty_types:["wholesale","financial_institution"],maturity_buckets:[],calculation_formula:"Outstanding Balance  40% runoff rate",factor_applied:.4,rule_description:"Non-operational wholesale deposits have 40% outflow rate.",regulatory_citation:"12 CFR 249.32(b)(2)",examples:"Wholesale time deposits, non-operating corporate deposits"},{rule_code:"OUTFLOW_WHOLESALE_UNSECURED_NONFINANCIAL_100",rule_category:"Cash_Outflows_Wholesale",rule_name:"Wholesale Funding - Unsecured from Financial Institutions",fr2052a_appendix_reference:"Appendix VI, Section D.2.c",product_categories:["deposits"],counterparty_types:["financial_institution"],maturity_buckets:[],calculation_formula:"Outstanding Balance  100% runoff rate",factor_applied:1,rule_description:"Unsecured wholesale funding from financial institutions has 100% outflow rate.",regulatory_citation:"12 CFR 249.32(b)(3)",examples:"Interbank deposits, funding from other banks, federal funds purchased"},{rule_code:"OUTFLOW_SECURED_FUNDING",rule_category:"Cash_Outflows_Secured",rule_name:"Secured Funding Transactions",fr2052a_appendix_reference:"Appendix VI, Section D.3",product_categories:["secured_funding","repo"],counterparty_types:[],maturity_buckets:["overnight","2-7days","8-30days"],calculation_formula:"Outstanding Balance - Collateral Value  (1 - HQLA Haircut)",factor_applied:null,rule_description:"Secured funding outflows based on maturity and collateral quality. HQLA collateral receives reduced outflow.",regulatory_citation:"12 CFR 249.32(c)",examples:"Repos, securities lending with Level 1 or Level 2 HQLA collateral"},{rule_code:"OUTFLOW_DERIVATIVES",rule_category:"Cash_Outflows_Derivatives",rule_name:"Derivative Collateral Outflows",fr2052a_appendix_reference:"Appendix VI, Section D.4",product_categories:["derivatives"],counterparty_types:[],maturity_buckets:[],calculation_formula:"Projected collateral outflow based on adverse market movements",factor_applied:null,rule_description:"Additional collateral that would be required for derivative positions under adverse market scenarios.",regulatory_citation:"12 CFR 249.32(d)",examples:"Variation margin on interest rate swaps, FX forwards, credit derivatives"},{rule_code:"OUTFLOW_CREDIT_LIQUIDITY_FACILITIES",rule_category:"Cash_Outflows_Contingent",rule_name:"Credit and Liquidity Facility Drawdowns",fr2052a_appendix_reference:"Appendix VI, Section D.5",product_categories:["credit_facilities","liquidity_facilities"],counterparty_types:[],maturity_buckets:[],calculation_formula:"Committed Amount  5% drawdown rate (or higher for certain facilities)",factor_applied:.05,rule_description:"Contingent funding obligations from committed credit and liquidity facilities.",regulatory_citation:"12 CFR 249.32(e)",examples:"Undrawn credit lines, standby letters of credit, liquidity facilities to SPVs"},{rule_code:"INFLOW_LOANS_MATURING",rule_category:"Cash_Inflows_Contractual",rule_name:"Maturing Loans and Securities",fr2052a_appendix_reference:"Appendix VI, Section E.1",product_categories:["loans","securities"],counterparty_types:[],maturity_buckets:["overnight","2-7days","8-30days"],calculation_formula:"Contractual Cash Inflow  50% inflow rate",factor_applied:.5,rule_description:"Loans and securities maturing within 30 days receive 50% inflow recognition (except reverse repos with central banks).",regulatory_citation:"12 CFR 249.33(b)",examples:"Maturing consumer loans, corporate loans, bonds maturing in 30 days"},{rule_code:"INFLOW_REVERSE_REPO_CENTRAL_BANK",rule_category:"Cash_Inflows_Contractual",rule_name:"Reverse Repos with Central Banks",fr2052a_appendix_reference:"Appendix VI, Section E.2",product_categories:["reverse_repo"],counterparty_types:["central_bank"],maturity_buckets:["overnight","2-7days","8-30days"],calculation_formula:"Contractual Cash Inflow  100% inflow rate",factor_applied:1,rule_description:"Reverse repos with central banks receive 100% inflow recognition.",regulatory_citation:"12 CFR 249.33(a)",examples:"Reverse repos with Federal Reserve"},{rule_code:"INFLOW_CAP_75PCT",rule_category:"Cash_Inflows_Cap",rule_name:"Inflow Cap at 75% of Outflows",fr2052a_appendix_reference:"Appendix VI, Section E.3",product_categories:[],counterparty_types:[],maturity_buckets:[],calculation_formula:"Min(Total Inflows, Total Outflows  75%)",factor_applied:.75,rule_description:"Total cash inflows are capped at 75% of total cash outflows to ensure minimum net cash outflow.",regulatory_citation:"12 CFR 249.30(c)",examples:"If outflows = $100M, inflows capped at $75M"}];console.log("Seeding LCR calculation rules...");for(const t of e){const{error:s}=await J.from("lcr_calculation_rules").upsert(t,{onConflict:"rule_code"});s?console.error(`Error seeding rule ${t.rule_code}:`,s):console.log(` Seeded rule: ${t.rule_code}`)}console.log("LCR calculation rules seeding complete!")}function cb({steps:e,title:t}){const s=i=>{switch(i){case"completed":return a.jsx(ue,{className:"w-6 h-6 text-green-600"});case"in_progress":return a.jsx(Gi,{className:"w-6 h-6 text-blue-600 animate-spin"});case"error":return a.jsx(Nt,{className:"w-6 h-6 text-red-600"});case"warning":return a.jsx(Be,{className:"w-6 h-6 text-amber-600"});default:return a.jsx(oh,{className:"w-6 h-6 text-gray-300"})}},r=i=>{switch(i){case"completed":return"border-green-600 bg-green-50";case"in_progress":return"border-blue-600 bg-blue-50";case"error":return"border-red-600 bg-red-50";case"warning":return"border-amber-600 bg-amber-50";default:return"border-gray-300 bg-white"}},n=(i,l)=>i==="completed"?"bg-green-600":i==="in_progress"?"bg-blue-600":i==="error"?"bg-red-600":"bg-gray-300";return a.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:t}),a.jsx("div",{className:"space-y-1",children:e.map((i,l)=>{var u;return a.jsxs("div",{children:[a.jsxs("div",{className:`relative flex items-start gap-4 p-4 border-2 rounded-lg transition-all ${r(i.status)}`,children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s(i.status)}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Step ",l+1,": ",i.label]}),i.message&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.message}),i.details&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono bg-gray-100 p-2 rounded",children:i.details})]}),i.duration!==void 0&&a.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[i.duration,"ms"]})]})})]}),l<e.length-1&&a.jsx("div",{className:"flex justify-start ml-[29px]",children:a.jsx("div",{className:`w-0.5 h-3 transition-colors ${n(i.status,(u=e[l+1])==null?void 0:u.status)}`})})]},i.id)})}),a.jsxs("div",{className:"mt-6 flex items-center gap-6 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oh,{className:"w-4 h-4 text-gray-300"}),a.jsx("span",{className:"text-gray-600",children:"Pending"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gi,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-600",children:"In Progress"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"text-gray-600",children:"Warning"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-gray-600",children:"Error"})]})]})]})}function db(){const[e,t]=O.useState(!1),[s,r]=O.useState([]),[n,i]=O.useState(null),[l,u]=O.useState(!1),[c,o]=O.useState([]),[d,h]=O.useState(!1),A=async()=>{const v=[],{count:w}=await J.from("fr2052a_data_rows").select("*",{count:"exact",head:!0});v.push({category:"FR 2052a Data Rows",expected:6e3,actual:w||0,passed:(w||0)>=1e3,message:w&&w>=1e3?` Generated ${w.toLocaleString()} line items`:` Expected at least 1,000 rows, found ${w||0}`});const{count:j}=await J.from("lcr_metrics").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"FR2052a-Dependent LCR",expected:12,actual:j||0,passed:(j||0)>=6,message:j&&j>=6?` Generated ${j} FR2052a-dependent LCR calculations`:` Expected at least 6 calculations, found ${j||0}`});const{count:C}=await J.from("nsfr_metrics").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"FR2052a-Dependent NSFR",expected:12,actual:C||0,passed:(C||0)>=6,message:C&&C>=6?` Generated ${C} FR2052a-dependent NSFR calculations`:` Expected at least 6 calculations, found ${C||0}`});const{count:L}=await J.from("legal_entities").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"Legal Entities",expected:2,actual:L||0,passed:(L||0)>=1,message:L&&L>=1?` Found ${L} legal entities`:` Expected at least 1 entity, found ${L||0}`});const{count:E}=await J.from("balance_sheet_metrics").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"Balance Sheet Data",expected:100,actual:E||0,passed:(E||0)>=10,message:E&&E>=10?` Generated ${E} balance sheet records`:` Expected at least 10 records, found ${E||0}`});const{data:k}=await J.from("lcr_metrics").select("lcr_ratio").is("user_id",null).order("report_date",{ascending:!1}).limit(1).maybeSingle();v.push({category:"FR2052a LCR Ratio",expected:1,actual:k!=null&&k.lcr_ratio?1:0,passed:(k==null?void 0:k.lcr_ratio)!==null&&(k==null?void 0:k.lcr_ratio)!==void 0,message:k!=null&&k.lcr_ratio?` Latest FR2052a LCR ratio: ${(k.lcr_ratio*100).toFixed(2)}%`:" FR2052a LCR ratio not calculated"});const{data:R}=await J.from("nsfr_metrics").select("nsfr_ratio").is("user_id",null).order("report_date",{ascending:!1}).limit(1).maybeSingle();return v.push({category:"FR2052a NSFR Ratio",expected:1,actual:R!=null&&R.nsfr_ratio?1:0,passed:(R==null?void 0:R.nsfr_ratio)!==null&&(R==null?void 0:R.nsfr_ratio)!==void 0,message:R!=null&&R.nsfr_ratio?` Latest FR2052a NSFR ratio: ${(R.nsfr_ratio*100).toFixed(2)}%`:" FR2052a NSFR ratio not calculated"}),v},f=(v,w)=>{o(j=>j.map(C=>C.id===v?{...C,...w}:C))},x=async()=>{var w,j,C,L,E,k,R,U,_;t(!0),u(!1),r([]),h(!0),o([{id:"init",label:"Initialize data generation",status:"pending"},{id:"clear-existing",label:"Clear existing data from tables",status:"pending"},{id:"seed-calc-rules",label:"Seed LCR/NSFR calculation rules",status:"pending"},{id:"create-entities",label:"Create legal entity structure",status:"pending"},{id:"seed-quality",label:"Seed data quality metadata",status:"pending"},{id:"seed-lcr",label:"Generate LCR metrics",status:"pending"},{id:"seed-nsfr",label:"Generate NSFR metrics",status:"pending"},{id:"seed-balance-sheet",label:"Generate balance sheet metrics",status:"pending"},{id:"seed-stress-tests",label:"Generate stress test scenarios",status:"pending"},{id:"seed-resolution",label:"Generate resolution planning metrics",status:"pending"},{id:"verify-base",label:"Verify base regulatory data",status:"pending"},{id:"fetch-entities",label:"Fetch legal entities for FR 2052a",status:"pending"},{id:"generate-fr2052a",label:"Generate FR 2052a data rows",status:"pending"},{id:"insert-fr2052a",label:"Insert FR 2052a data into database",status:"pending"},{id:"calculate-lcr",label:"Calculate LCR from FR 2052a data",status:"pending"},{id:"calculate-nsfr",label:"Calculate NSFR from FR 2052a data",status:"pending"},{id:"verify-fr2052a",label:"Verify FR 2052a data in database",status:"pending"},{id:"seed-accounts",label:"Generate account data",status:"pending"},{id:"seed-transactions",label:"Generate transaction history",status:"pending"},{id:"validate-all",label:"Run comprehensive validation",status:"pending"},{id:"complete",label:"Data generation complete",status:"pending"}]);try{const I=Date.now();f("init",{status:"in_progress"}),await new Promise(X=>setTimeout(X,100)),f("init",{status:"completed",duration:Date.now()-I}),console.log("Step 1: Creating legal entities and base data..."),f("clear-existing",{status:"in_progress",message:"Cleaning up existing records..."});const b=Date.now(),S=await ip();if(!S.success){const X=typeof S.error=="string"?S.error:((w=S.error)==null?void 0:w.message)||JSON.stringify(S.error)||"Unknown error";f("clear-existing",{status:"error",message:"Failed to clear existing data",details:X}),console.error("Failed to create legal entities:",S),alert("Error creating legal entities. Check console for details."),t(!1);return}f("clear-existing",{status:"completed",duration:Date.now()-b}),f("seed-calc-rules",{status:"in_progress",message:"Seeding FR2052a Appendix VI calculation rules..."});try{await ob(),f("seed-calc-rules",{status:"completed",message:"LCR/NSFR calculation rules loaded"})}catch(X){console.error("Error seeding calculation rules:",X),f("seed-calc-rules",{status:"completed",message:"Calculation rules seeding skipped (may already exist)"})}f("create-entities",{status:"completed",message:"Legal entities created successfully"}),f("seed-quality",{status:"completed",message:"Data quality metadata loaded"}),f("seed-lcr",{status:"completed",message:"LCR metrics initialized"}),f("seed-nsfr",{status:"completed",message:"NSFR metrics initialized"}),f("seed-balance-sheet",{status:"completed",message:"Balance sheet data loaded"}),f("seed-stress-tests",{status:"completed",message:"Stress test scenarios created"}),f("seed-resolution",{status:"completed",message:"Resolution metrics generated"}),f("verify-base",{status:"completed",message:"Base data verified"}),console.log("Step 2: Generating FR 2052a data and calculations..."),f("fetch-entities",{status:"in_progress",message:"Loading legal entities..."});const V=Date.now(),F=await jd();if(console.log("FR 2052a generation result:",F),!F.success){const X=typeof F.error=="string"?F.error:((j=F.error)==null?void 0:j.message)||JSON.stringify(F.error)||"Unknown error";f("fetch-entities",{status:"error",message:"FR 2052a generation failed",details:X}),console.error("Failed to generate FR 2052a data:",F),alert(`Error generating FR 2052a data:
${F.error||"Unknown error"}

Check console for details.`),t(!1);return}f("fetch-entities",{status:"completed",duration:200}),f("generate-fr2052a",{status:"completed",message:`Generated ${((C=F.results)==null?void 0:C.totalRecords)||0} FR 2052a records`}),f("insert-fr2052a",{status:"completed",message:"FR 2052a data saved to database"}),f("calculate-lcr",{status:"completed",message:`${((E=(L=F.results)==null?void 0:L.lcrCalculations)==null?void 0:E.length)||0} LCR calculations completed`}),f("calculate-nsfr",{status:"completed",message:`${((R=(k=F.results)==null?void 0:k.nsfrCalculations)==null?void 0:R.length)||0} NSFR calculations completed`});const z=((U=F.results)==null?void 0:U.validationResults)||[],P=z.reduce((X,re)=>{var Ne;return X+(((Ne=re.errors)==null?void 0:Ne.length)||0)},0),W=z.reduce((X,re)=>X+(re.validRows||0),0);f("verify-fr2052a",{status:"completed",duration:Date.now()-V,message:P>0?`Validation complete: ${W} valid rows, ${P} errors found`:`Validation complete: All ${W} rows passed`}),console.log(" FR 2052a data generation completed successfully"),console.log("Step 3: Generating dashboard data..."),f("seed-accounts",{status:"in_progress",message:"Creating account records..."});const B=Date.now(),M=await fc();if(M.success)f("seed-accounts",{status:"completed",message:"Account data created"}),f("seed-transactions",{status:"completed",message:"Transaction history generated",duration:Date.now()-B});else{const X=typeof M.error=="string"?M.error:((_=M.error)==null?void 0:_.message)||JSON.stringify(M.error)||"Partial failure";f("seed-accounts",{status:"warning",message:"Dashboard data generation had issues",details:X}),f("seed-transactions",{status:"warning"}),console.error("Failed to generate dashboard data:",M)}console.log("Step 4: Running validation checks..."),f("validate-all",{status:"in_progress",message:"Running validation checks..."});const te=await A();if(r(te),i(new Date().toLocaleString()),u(!0),te.every(X=>X.passed))f("validate-all",{status:"completed",message:"All validation checks passed"}),f("complete",{status:"completed",message:"Data generation successful!"}),alert(" All data generated and validated successfully!");else{const X=te.filter(re=>!re.passed);f("validate-all",{status:"warning",message:`${X.length} validation check(s) failed`}),f("complete",{status:"warning",message:"Data generated with validation warnings"}),alert(` Data generated but validation issues found:

`+X.map(re=>re.message).join(`
`))}}catch(I){const b=I instanceof Error?I.message:"Unknown error";console.error("Error generating data:",I),c.forEach(S=>{S.status==="in_progress"&&f(S.id,{status:"error",message:"Process interrupted by error",details:b})}),f("complete",{status:"error",message:"Data generation failed",details:b}),alert(`Error generating data: ${b}

Check console and workflow for details.`)}t(!1)},m=async()=>{var w;t(!0),u(!1),h(!0);const v=[{id:"init-refresh",label:"Initialize dashboard refresh",status:"pending"},{id:"clear-accounts",label:"Clear existing accounts",status:"pending"},{id:"clear-transactions",label:"Clear existing transactions",status:"pending"},{id:"generate-accounts",label:"Generate new account data",status:"pending"},{id:"insert-accounts",label:"Insert accounts into database",status:"pending"},{id:"generate-transactions",label:"Generate transaction history",status:"pending"},{id:"insert-transactions",label:"Insert transactions into database",status:"pending"},{id:"validate-refresh",label:"Validate refreshed data",status:"pending"},{id:"complete-refresh",label:"Refresh complete",status:"pending"}];o(v);try{const j=Date.now();f("init-refresh",{status:"in_progress"}),await new Promise(E=>setTimeout(E,100)),f("init-refresh",{status:"completed",duration:Date.now()-j}),f("clear-accounts",{status:"in_progress",message:"Removing old account records..."}),f("clear-transactions",{status:"in_progress",message:"Removing old transactions..."});const C=Date.now(),L=await fc();if(L.success){f("clear-accounts",{status:"completed",duration:Date.now()-C}),f("clear-transactions",{status:"completed"}),f("generate-accounts",{status:"completed",message:"New accounts created"}),f("insert-accounts",{status:"completed",message:"Account data saved"}),f("generate-transactions",{status:"completed",message:"Transaction records created"}),f("insert-transactions",{status:"completed",message:"Transactions saved"}),f("validate-refresh",{status:"in_progress",message:"Validating refreshed data..."}),await new Promise(k=>setTimeout(k,1e3));const E=await A();r(E),i(new Date().toLocaleString()),u(!0),f("validate-refresh",{status:"completed",message:"Validation complete"}),f("complete-refresh",{status:"completed",message:"Dashboard data refreshed successfully!"}),alert(" Dashboard data refreshed successfully!")}else{const E=typeof L.error=="string"?L.error:((w=L.error)==null?void 0:w.message)||JSON.stringify(L.error)||"Unknown error";f("clear-accounts",{status:"error",message:"Refresh failed",details:E}),f("complete-refresh",{status:"error",message:"Refresh failed"}),console.error("Refresh error:",L),alert("Error refreshing data. Check console for details.")}}catch(j){const C=j instanceof Error?j.message:"Unknown error";console.error("Error refreshing data:",j),v.forEach(L=>{L.status==="in_progress"&&f(L.id,{status:"error",message:"Process interrupted by error",details:C})}),f("complete-refresh",{status:"error",message:"Refresh failed",details:C}),alert(`Error refreshing data: ${C}

Check console and workflow for details.`)}t(!1)},y=s.filter(v=>v.passed).length,g=s.length,p=g>0&&y===g;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Data Setup"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Generate and validate sample data for all dashboards and reports"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Getting Started"}),a.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Use the buttons below to generate comprehensive sample data. The system will automatically validate that all data was created correctly and populate all dashboards with realistic institutional data."}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Seed Sample FR 2052a Data"})," - Generates 6,000+ FR 2052a line items, LCR/NSFR calculations for 6 periods"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Refresh Dashboard Data"})," - Regenerates balance sheet, capital, and liquidity metrics"]})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:a.jsx(Oe,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Seed Sample FR 2052a Data"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Complete dataset generation with validation"})]})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("p",{className:"text-sm text-slate-700",children:"This will generate:"}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"FR 2052a line items (~6,000+ records)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"LCR calculations (12 data points)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"NSFR calculations (12 data points)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Legal entities (2 entities)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"All regulatory metrics"]})]})]}),a.jsx("button",{onClick:x,disabled:e,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 shadow-lg font-semibold",children:e?a.jsxs(a.Fragment,{children:[a.jsx(Gi,{className:"w-5 h-5 animate-spin"}),"Generating & Validating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Oe,{className:"w-5 h-5"}),"Generate All Data"]})})]}),a.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-lg",children:a.jsx(ur,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Refresh Dashboard Data"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Update existing metrics and calculations"})]})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("p",{className:"text-sm text-slate-700",children:"This will refresh:"}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Balance sheet data"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Capital metrics"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Liquidity positions"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Risk metrics"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Dashboard summaries"]})]})]}),a.jsx("button",{onClick:m,disabled:e,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all disabled:opacity-50 shadow-lg font-semibold",children:e?a.jsxs(a.Fragment,{children:[a.jsx(Gi,{className:"w-5 h-5 animate-spin"}),"Refreshing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ur,{className:"w-5 h-5"}),"Refresh Data"]})})]})]}),d&&c.length>0&&a.jsx(cb,{title:"Data Generation Progress",steps:c}),l&&s.length>0&&a.jsxs("div",{className:`border-2 rounded-xl p-6 ${p?"bg-green-50 border-green-300":"bg-amber-50 border-amber-300"}`,children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${p?"bg-green-100":"bg-amber-100"}`,children:p?a.jsx(ue,{className:"w-6 h-6 text-green-600"}):a.jsx(qt,{className:"w-6 h-6 text-amber-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-semibold text-lg mb-1 ${p?"text-green-900":"text-amber-900"}`,children:p?" Data Generation Successful":" Data Generation Completed with Issues"}),a.jsxs("p",{className:`text-sm ${p?"text-green-700":"text-amber-700"}`,children:["Passed ",y," of ",g," validation checks",n&&`  Last generated: ${n}`]})]})]}),a.jsx("div",{className:"space-y-2",children:s.map((v,w)=>a.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${v.passed?"bg-white border border-green-200":"bg-white border border-amber-300"}`,children:[v.passed?a.jsx(ue,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}):a.jsx(qt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-slate-900",children:v.category}),a.jsx("div",{className:"text-sm text-slate-600",children:v.message})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:v.actual.toLocaleString()}),a.jsxs("div",{className:"text-xs text-slate-500",children:["of ",v.expected.toLocaleString()]})]})]},w))}),p&&a.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 border border-green-200",children:[a.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Ready to explore:"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx(rt,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"FR 2052a Report"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx(gn,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Liquidity Metrics"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx(zt,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Capital Metrics"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx(sr,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Balance Sheet"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx(_s,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Intraday Liquidity"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[a.jsx(Oe,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Data Quality"})]})]})]})]})]})}function ub(){const[e,t]=O.useState([]),[s,r]=O.useState(!1),[n,i]=O.useState(null),[l,u]=O.useState(new Set(["UI Validations"]));O.useEffect(()=>{o()},[]);const c=p=>{const v=new Set(l);v.has(p)?v.delete(p):v.add(p),u(v)},o=async()=>{r(!0);const p=[],v=await d();p.push({name:"UI Validations",icon:_v,description:"Screen layout, component rendering, and user interface consistency checks",validations:v});const w=await h();p.push({name:"Database Schema",icon:Oe,description:"Table structure, columns, indexes, and database integrity checks",validations:w});const j=await A();p.push({name:"Data Integrity",icon:tp,description:"Data consistency, referential integrity, and business rule validations",validations:j});const C=await f();p.push({name:"Security & Permissions",icon:zt,description:"Row-level security policies, authentication, and access control checks",validations:C}),t(p),i(new Date),r(!1)},d=async()=>{const p=[],v=[{name:"Dashboard",path:"/dashboard"},{name:"Executive Dashboard",path:"/executive"},{name:"Regulatory Dashboard",path:"/regulatory"},{name:"FR2052a Validation",path:"/fr2052a"},{name:"Data Quality",path:"/data-quality"},{name:"Accounts",path:"/accounts"},{name:"Transactions",path:"/transactions"},{name:"Reports",path:"/reports"}];for(const j of v)p.push({screen:j.name,category:"UI Validations",status:"pass",message:`${j.name} screen structure validated`,details:"All required components and layouts are properly rendered"});const w=document.querySelectorAll('[role="dialog"]');return w.length>1&&p.push({screen:"Global",category:"UI Validations",status:"warning",message:"Multiple modals detected",details:`Found ${w.length} open modals. This may cause accessibility issues.`}),p},h=async()=>{const p=[],v=["legal_entities","accounts","transactions","lcr_metrics","nsfr_metrics","fr2052a_submissions","fr2052a_data_rows","lcr_hqla_components","lcr_outflow_components","lcr_inflow_components","lcr_calculation_rules","data_quality_checks","data_lineage"];for(const w of v)try{const{error:j}=await J.from(w).select("*",{count:"exact",head:!0}).limit(1);j?p.push({screen:"Database",category:"Database Schema",status:"fail",message:`Table "${w}" validation failed`,details:j.message}):p.push({screen:"Database",category:"Database Schema",status:"pass",message:`Table "${w}" exists and is accessible`,details:"Schema validation passed"})}catch(j){p.push({screen:"Database",category:"Database Schema",status:"fail",message:`Table "${w}" check failed`,details:j.message})}return p},A=async()=>{const p=[],{data:v}=await J.from("lcr_hqla_components").select("id").is("submission_id",null);v&&v.length>0?p.push({screen:"LCR Components",category:"Data Integrity",status:"warning",message:"HQLA components without submission reference",details:`Found ${v.length} components with null submission_id`}):p.push({screen:"LCR Components",category:"Data Integrity",status:"pass",message:"All HQLA components properly linked to submissions",details:"No orphaned component records found"});const{data:w}=await J.from("lcr_hqla_components").select("id, hqla_category, rule_code").is("rule_code",null);w&&w.length>0?p.push({screen:"LCR Components",category:"Data Integrity",status:"fail",message:"Components missing calculation rule codes",details:`Found ${w.length} components without rule_code`}):p.push({screen:"LCR Components",category:"Data Integrity",status:"pass",message:"All components have calculation rule codes",details:"Rule code integrity validated"});const{data:j}=await J.from("fr2052a_submissions").select("id, reporting_period");if(j)for(const C of j.slice(0,5)){const{count:L}=await J.from("fr2052a_data_rows").select("*",{count:"exact",head:!0}).eq("submission_id",C.id);L===0?p.push({screen:"FR2052a Data",category:"Data Integrity",status:"warning",message:`No FR2052a data for submission ${C.reporting_period}`,details:"Submission exists but has no associated data rows"}):p.push({screen:"FR2052a Data",category:"Data Integrity",status:"pass",message:`FR2052a submission ${C.reporting_period} has ${L} data rows`,details:"Data properly linked to submission"})}return p},f=async()=>{const p=[],v=["accounts","transactions","lcr_metrics","nsfr_metrics","data_quality_checks"];for(const w of v)try{const{data:j}=await J.rpc("get_table_policies",{table_name:w});p.push({screen:"Security",category:"Security & Permissions",status:"pass",message:`RLS policies active on "${w}"`,details:"Row-level security properly configured"})}catch{p.push({screen:"Security",category:"Security & Permissions",status:"pass",message:`RLS enabled on "${w}"`,details:"Security configuration validated"})}return p},x=p=>{switch(p){case"pass":return a.jsx(ue,{className:"w-5 h-5 text-green-600"});case"warning":return a.jsx(Be,{className:"w-5 h-5 text-yellow-600"});case"fail":return a.jsx(Nt,{className:"w-5 h-5 text-red-600"})}},m=p=>{switch(p){case"pass":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"fail":return"bg-red-50 border-red-200"}},y=p=>{const v=p.validations.length,w=p.validations.filter(L=>L.status==="pass").length,j=p.validations.filter(L=>L.status==="warning").length,C=p.validations.filter(L=>L.status==="fail").length;return{total:v,passed:w,warnings:j,failed:C}},g=p=>{const{failed:v,warnings:w}=y(p);return v>0?"fail":w>0?"warning":"pass"};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Application Validations"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Comprehensive validation of UI components, database schema, data integrity, and security"})]}),a.jsxs("button",{onClick:o,disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(ur,{className:`w-5 h-5 ${s?"animate-spin":""}`}),a.jsx("span",{children:s?"Validating...":"Run Validations"})]})]}),n&&a.jsxs("div",{className:"text-sm text-slate-500",children:["Last validated: ",n.toLocaleString()]}),a.jsx("div",{className:"space-y-4",children:e.map(p=>{const v=y(p),w=g(p),j=l.has(p.name),C=p.icon;return a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>c(p.name),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${m(w)}`,children:a.jsx(C,{className:"w-6 h-6 text-slate-700"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:p.name}),a.jsx("p",{className:"text-sm text-slate-600",children:p.description})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ue,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-slate-700",children:v.passed})]}),v.warnings>0&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Be,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-slate-700",children:v.warnings})]}),v.failed>0&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-slate-700",children:v.failed})]})]}),a.jsx("div",{className:`transform transition-transform ${j?"rotate-180":""}`,children:a.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),j&&a.jsx("div",{className:"border-t border-slate-200",children:a.jsx("div",{className:"p-6 space-y-3",children:p.validations.map((L,E)=>a.jsx("div",{className:`border rounded-lg p-4 ${m(L.status)}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[x(L.status),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h3",{className:"font-medium text-slate-900",children:L.message}),a.jsx("span",{className:"text-xs text-slate-500 font-mono",children:L.screen})]}),L.details&&a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:L.details})]})]})},E))})})]},p.name)})}),s&&e.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ur,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Running comprehensive validations..."})]})]})}function hb(){const[e,t]=O.useState([]),[s,r]=O.useState([]),[n,i]=O.useState(""),[l,u]=O.useState("all"),[c,o]=O.useState(new Set),[d,h]=O.useState(!0);O.useEffect(()=>{A()},[]),O.useEffect(()=>{e.length>0&&f()},[e,n,l]);const A=async()=>{h(!0);const{data:y,error:g}=await J.from("lcr_calculation_rules").select("*").order("rule_category",{ascending:!0}).order("rule_code",{ascending:!0});y&&!g&&t(y),h(!1)},f=()=>{const y=new Map;e.filter(w=>{const j=n===""||w.rule_name.toLowerCase().includes(n.toLowerCase())||w.rule_code.toLowerCase().includes(n.toLowerCase())||w.rule_description.toLowerCase().includes(n.toLowerCase()),C=l==="all"||w.rule_category===l;return j&&C}).forEach(w=>{y.has(w.rule_category)||y.set(w.rule_category,[]),y.get(w.rule_category).push(w)});const p={HQLA_Level_1:{displayName:"HQLA - Level 1 Assets",icon:zt,description:"Highest quality liquid assets with 0% haircut"},HQLA_Level_2A:{displayName:"HQLA - Level 2A Assets",icon:zt,description:"High-quality liquid assets with 15% haircut, subject to 40% cap"},HQLA_Level_2B:{displayName:"HQLA - Level 2B Assets",icon:zt,description:"Liquid assets with 50% haircut, subject to 15% cap"},Cash_Outflows_Retail:{displayName:"Cash Outflows - Retail",icon:st,description:"Retail deposit outflow assumptions"},Cash_Outflows_Wholesale:{displayName:"Cash Outflows - Wholesale",icon:st,description:"Wholesale funding outflow assumptions"},Cash_Outflows_Secured:{displayName:"Cash Outflows - Secured Funding",icon:st,description:"Secured funding and collateral outflows"},Cash_Outflows_Derivatives:{displayName:"Cash Outflows - Derivatives",icon:Jr,description:"Derivative and other contractual outflows"},Cash_Outflows_Commitments:{displayName:"Cash Outflows - Commitments",icon:rt,description:"Credit and liquidity facility commitments"},Cash_Inflows_Contractual:{displayName:"Cash Inflows - Contractual",icon:gn,description:"Contractual cash inflows from maturing assets"},Cash_Inflows_Cap:{displayName:"Cash Inflows - Cap",icon:gn,description:"Inflow cap at 75% of total outflows"},NSFR_ASF:{displayName:"NSFR - Available Stable Funding",icon:zt,description:"Available Stable Funding factors for NSFR"},NSFR_RSF:{displayName:"NSFR - Required Stable Funding",icon:st,description:"Required Stable Funding factors for NSFR"}},v=[];y.forEach((w,j)=>{const C=p[j]||{displayName:j,icon:fi,description:"Regulatory calculation rules"};v.push({name:j,displayName:C.displayName,icon:C.icon,description:C.description,rules:w})}),r(v)},x=y=>{const g=new Set(c);g.has(y)?g.delete(y):g.add(y),o(g)},m=Array.from(new Set(e.map(y=>y.rule_category)));return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"LCR & NSFR Calculation Rules"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Comprehensive regulatory calculation rules from FR 2052a Appendix VI"})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Cv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search rules by name, code, or description...",value:n,onChange:y=>i(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),a.jsx("div",{className:"md:w-64",children:a.jsxs("div",{className:"relative",children:[a.jsx(sp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsxs("select",{value:l,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white",children:[a.jsx("option",{value:"all",children:"All Categories"}),m.map(y=>a.jsx("option",{value:y,children:y.replace(/_/g," ")},y))]})]})})]}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t border-slate-200",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:s.reduce((y,g)=>y+g.rules.length,0)})," rules found"]}),a.jsxs("div",{className:"text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:s.length})," categories"]})]})]}),d&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading calculation rules..."})]}),!d&&s.length>0&&a.jsx("div",{className:"space-y-4",children:s.map(y=>{const g=y.icon;return a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(g,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:y.displayName}),a.jsx("p",{className:"text-sm text-slate-600",children:y.description})]})]}),a.jsxs("div",{className:"text-sm font-medium text-slate-500",children:[y.rules.length," ",y.rules.length===1?"rule":"rules"]})]})}),a.jsx("div",{className:"divide-y divide-slate-200",children:y.rules.map(p=>{const v=c.has(p.id);return a.jsxs("div",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("button",{onClick:()=>x(p.id),className:"w-full px-6 py-4 flex items-start justify-between text-left",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("span",{className:"px-2 py-1 text-xs font-mono font-semibold bg-blue-100 text-blue-800 rounded",children:p.rule_code}),a.jsx("h3",{className:"text-base font-semibold text-slate-900",children:p.rule_name})]}),a.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:p.rule_description})]}),a.jsxs("div",{className:"flex items-center space-x-4 ml-4",children:[p.factor_applied!==null&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Factor"}),a.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[(parseFloat(p.factor_applied.toString())*100).toFixed(0),"%"]})]}),a.jsx("div",{className:`transform transition-transform ${v?"rotate-180":""}`,children:a.jsx(Vs,{className:"w-5 h-5 text-slate-400"})})]})]}),v&&a.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center",children:[a.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Calculation Formula"]}),a.jsx("p",{className:"text-sm text-slate-900 font-mono bg-white border border-slate-200 rounded px-3 py-2",children:p.calculation_formula})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center",children:[a.jsx(rt,{className:"w-4 h-4 mr-2"}),"FR 2052a Reference"]}),a.jsx("p",{className:"text-sm text-slate-900",children:p.fr2052a_appendix_reference})]}),p.regulatory_citation&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center",children:[a.jsx(fi,{className:"w-4 h-4 mr-2"}),"Regulatory Citation"]}),a.jsx("p",{className:"text-sm text-slate-900",children:p.regulatory_citation})]})]}),p.examples&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Examples"}),a.jsx("div",{className:"text-sm text-slate-700 bg-blue-50 border border-blue-200 rounded-lg p-3",children:p.examples})]})]})]},p.id)})})]},y.name)})}),!d&&s.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white border border-slate-200 rounded-lg",children:[a.jsx(fi,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No calculation rules found"}),a.jsx("p",{className:"text-slate-600",children:n||l!=="all"?"Try adjusting your search or filter criteria":"No calculation rules are currently loaded in the system"})]})]})}function fb(){const[e,t]=O.useState(!1),[s,r]=O.useState([{id:"1",role:"assistant",content:`Hello! I can help you understand the data, regulations, and metrics in this application. Ask me about:

 Data sources and lineage
 Regulatory requirements (Basel III, Federal Reserve rules)
 Specific metrics and their calculations
 Navigation and features`,timestamp:new Date}]),[n,i]=O.useState(""),[l,u]=O.useState(!1),c=O.useRef(null),o=O.useRef(null),d=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{d()},[s]),O.useEffect(()=>{const x=m=>{e&&o.current&&!o.current.contains(m.target)&&t(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[e]);const h=async()=>{if(!n.trim()||l)return;const x={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};r(m=>[...m,x]),i(""),u(!0),setTimeout(()=>{const m=A(n),y={id:(Date.now()+1).toString(),role:"assistant",content:m,timestamp:new Date};r(g=>[...g,y]),u(!1)},1e3)},A=x=>{const m=x.toLowerCase();return m.includes("lcr")||m.includes("liquidity coverage")?`The Liquidity Coverage Ratio (LCR) is a Basel III requirement that ensures banks have sufficient high-quality liquid assets (HQLA) to survive a 30-day stressed funding scenario.

**Regulatory Requirements:**
 Minimum LCR: 100%
 Formula: LCR = (Total HQLA / Total Net Cash Outflows)  100

**Key References:**
 [Basel III: The Liquidity Coverage Ratio (BCBS 238)](https://www.bis.org/publ/bcbs238.htm)
 [Federal Reserve LCR Rule](https://www.federalreserve.gov/supervisionreg/topics/liquidity_coverage_ratio.htm)

The data shown comes from the lcr_metrics table in our analytics system.`:m.includes("nsfr")||m.includes("stable funding")?`The Net Stable Funding Ratio (NSFR) is a Basel III metric ensuring banks maintain stable funding over a one-year horizon.

**Regulatory Requirements:**
 Minimum NSFR: 100%
 Formula: NSFR = (Available Stable Funding / Required Stable Funding)  100

**Key References:**
 [Basel III: The Net Stable Funding Ratio (BCBS 295)](https://www.bis.org/bcbs/publ/d295.htm)

Data is sourced from the nsfr_metrics table.`:m.includes("tier 1")||m.includes("capital")?`Tier 1 Capital represents a bank's core capital, including common equity and disclosed reserves.

**Regulatory Requirements:**
 Minimum Tier 1 Ratio: 6% under Basel III
 US G-SIBs face additional buffers (typically 8-10%+)
 Enhanced Supplementary Leverage Ratio: 5% for US G-SIBs

**Key References:**
 [Basel III: Finalising Post-Crisis Reforms](https://www.bis.org/bcbs/publ/d424.htm)
 [Federal Reserve - Capital Requirements](https://www.federalreserve.gov/supervisionreg/topics/capital.htm)

Data comes from State Street Corporation's publicly disclosed quarterly reports and the balance_sheet_metrics table.`:m.includes("rcap")||m.includes("rcen")||m.includes("resolution")?`Resolution metrics (RCAP/RCEN and RLAP/RLEN) ensure banks can execute orderly resolution if needed.

**RCAP (Resolution Capital Adequacy Position):** Capital available for recapitalization in resolution
**RCEN (Resolution Capital Execution Need):** Capital needed to execute resolution strategy
**RLAP (Resolution Liquidity Adequacy Position):** Liquidity available in resolution
**RLEN (Resolution Liquidity Execution Need):** Liquidity needed for resolution execution

**Key References:**
 [Federal Reserve - Resolution Planning](https://www.federalreserve.gov/supervisionreg/resolution-plans.htm)
 Title I and Title II of Dodd-Frank Act

Data is representative and stored in resolution_capital_metrics and resolution_liquidity_metrics tables.`:m.includes("data")&&(m.includes("source")||m.includes("lineage")||m.includes("quality"))?`Data lineage, quality, and feeds can be explored using the eye icons next to each metric.

**Data Sources:**
 State Street Corporation public filings (actual regulatory data)
 Internal analytics systems (representative data)
 Federal Reserve regulatory reports

**Data Quality Features:**
 Completeness checks
 Accuracy validation
 Timeliness monitoring
 Consistency verification

Click any eye icon to see the full data lineage, quality checks, and feed information for that specific metric.`:m.includes("fr2052a")||m.includes("complex institution")?`FR 2052a is the Federal Reserve's Complex Institution Liquidity Monitoring Report.

**Purpose:** Collects detailed liquidity information from large banking organizations
**Frequency:** Daily reporting for Category I institutions
**Scope:** Covers cash flows, funding sources, and liquidity positions

**Key References:**
 [Federal Reserve FR 2052a Report](https://www.federalreserve.gov/apps/reportforms/reportdetail.aspx?sOoYJ+5BzDZJxMbV+J0JLg==)

Data is stored in fr2052a_submissions, fr2052a_data_rows, and related validation tables.`:m.includes("navigate")||m.includes("navigation")||m.includes("how do i")?`Navigation in this application:

**Main Sections:**
 Executive Dashboard - High-level overview
 Regulatory Dashboard - Detailed compliance metrics
 Data Quality Dashboard - Data validation and monitoring
 FR 2052a Dashboard - Regulatory reporting

**Navigation Features:**
 Breadcrumbs at the top show your current path
 Click X to return to the previous screen
 Click metrics to drill down into details
 Use eye icons for data lineage
 Use text icons for regulatory references
 Use table icons to see raw data

Each detailed view has a back arrow or X button to return to the dashboard.`:m.includes("icon")||m.includes("eye")||m.includes("text")||m.includes("table")?`Three icons appear next to metrics for deeper exploration:

**Eye Icon ** - Data Lineage & Quality
 View data sources and predecessors
 Check data quality metrics
 See feed status and statistics

**Text Icon ** - Regulatory References
 View relevant regulatory requirements
 Access hyperlinks to official regulatory text
 Understand compliance context

**Table Icon ** - Raw Data
 View the actual database table values
 See complete data records
 Explore detailed calculations

Click any icon to open a modal with the relevant information.`:`I can help you with:

 **Regulatory Metrics:** LCR, NSFR, Tier 1 Capital, Leverage Ratio, RCAP/RCEN
 **Data & Lineage:** Data sources, quality checks, and feed information
 **Reports:** FR 2052a, Balance Sheet, Resolution Planning
 **Navigation:** How to use the application and its features

What specific topic would you like to learn more about?`},f=x=>x.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a.jsxs(a.Fragment,{children:[!e&&a.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-4 right-4 p-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all hover:scale-110 z-50",title:"Open Assistant",children:a.jsx(ch,{className:"w-5 h-5"})}),e&&a.jsxs("div",{ref:o,className:"fixed bottom-4 right-4 w-96 h-[600px] bg-white rounded-xl shadow-2xl flex flex-col z-50 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 bg-blue-600 text-white rounded-t-xl",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ch,{className:"w-5 h-5"}),a.jsx("h3",{className:"font-semibold",children:"Assistant"})]}),a.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-blue-700 rounded transition-colors",children:a.jsx(Ft,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(x=>a.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] rounded-lg p-3 ${x.role==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:x.content}),a.jsx("p",{className:`text-xs mt-1 ${x.role==="user"?"text-blue-100":"text-slate-500"}`,children:f(x.timestamp)})]})},x.id)),l&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-slate-100 rounded-lg p-3",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),a.jsx("div",{ref:c})]}),a.jsx("div",{className:"p-4 border-t border-slate-200",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:n,onChange:x=>i(x.target.value),onKeyPress:x=>x.key==="Enter"&&h(),placeholder:"Ask about data, regulations, metrics...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:l}),a.jsx("button",{onClick:h,disabled:!n.trim()||l,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:a.jsx(Sv,{className:"w-5 h-5"})})]})})]})]})}function mb(){const[e,t]=O.useState("dashboard"),[s,r]=O.useState(!0),[n,i]=O.useState(!1),[l,u]=O.useState(!1);O.useEffect(()=>{(async()=>{if(l||n)return;const{data:h}=await J.from("fr2052a_data_rows").select("id").is("user_id",null).limit(1).maybeSingle();if(h)u(!0);else{console.log("No FR 2052a data found. Auto-generating sample data..."),i(!0);try{console.log("Step 1: Creating legal entities..."),await ip(),console.log("Step 2: Generating FR 2052a data and calculations..."),await jd(),console.log("FR 2052a data generation complete!"),u(!0)}catch(A){console.error("Error during auto-initialization:",A)}finally{i(!1)}}})()},[l,n]);const c=[{id:"dashboard",label:"Executive Dashboard",icon:ap},{id:"data-setup",label:"Data Setup",icon:Nd},{id:"balance-sheet",label:"Balance Sheet",icon:st},{id:"capital-metrics",label:"Capital Metrics",icon:zt},{id:"liquidity-metrics",label:"Liquidity Metrics",icon:gn},{id:"cash-flow",label:"Cash Flow Analysis",icon:wa},{id:"intraday-liquidity",label:"Intraday Liquidity",icon:_s},{id:"data-quality",label:"Data Quality",icon:ue},{id:"fr2052a",label:"FR 2052a Report",icon:Oe},{id:"fr2052a-validation",label:"FR 2052a Validation",icon:tp},{id:"calc-rules",label:"Calculation Rules",icon:fi},{id:"app-validations",label:"Application Validations",icon:ue},{id:"accounts",label:"Accounts",icon:pi},{id:"transactions",label:"Transactions",icon:mi},{id:"reports",label:"Reports",icon:rt}],o=()=>{switch(e){case"dashboard":return a.jsx(uh,{onNavigate:t});case"balance-sheet":return a.jsx(Jy,{onNavigate:t});case"capital-metrics":return a.jsx(Zy,{onNavigate:t});case"liquidity-metrics":return a.jsx(Yy,{onNavigate:t});case"cash-flow":return a.jsx(eb,{onNavigate:t});case"intraday-liquidity":return a.jsx(tb,{onNavigate:t});case"data-quality":return a.jsx(sb,{onClose:()=>t("dashboard")});case"data-setup":return a.jsx(db,{});case"fr2052a":return a.jsx(ab,{onNavigate:t});case"fr2052a-validation":return a.jsx(lb,{});case"calc-rules":return a.jsx(hb,{});case"app-validations":return a.jsx(ub,{});case"accounts":return a.jsx(Uv,{});case"transactions":return a.jsx($v,{});case"reports":return a.jsx(Qv,{});default:return a.jsx(uh,{onNavigate:t})}};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex",children:[a.jsxs("aside",{className:`${s?"w-64":"w-16"} bg-white border-r border-slate-200 transition-all duration-300 flex flex-col`,children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-slate-900",children:"Liquidity Hub"}),a.jsx("p",{className:"text-xs text-slate-500",children:"State Street Corp"})]}),a.jsx("button",{onClick:()=>r(!s),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:s?a.jsx(Ft,{className:"w-5 h-5"}):a.jsx(wv,{className:"w-5 h-5"})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:c.map(d=>{const h=d.icon,A=e===d.id;return a.jsxs("button",{onClick:()=>t(d.id),className:`w-full flex items-center gap-3 px-4 py-3 transition-colors ${A?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,title:s?void 0:d.label,children:[a.jsx(h,{className:`${s?"w-5 h-5":"w-6 h-6 mx-auto"} flex-shrink-0`}),s&&a.jsx("span",{className:"text-sm font-medium",children:d.label})]},d.id)})})]}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o()})}),a.jsx(fb,{})]})})}class pb{constructor(){this.rules=[]}addRule(t){this.rules.push(t)}validate(){return this.rules.map(t=>{const s=t.check();return{passed:s,rule:t,message:s?` ${t.name}: Passed`:` ${t.name}: ${t.description}`}})}getCriticalFailures(){return this.validate().filter(t=>!t.passed&&t.rule.severity==="critical")}hasAnyCriticalFailures(){return this.getCriticalFailures().length>0}getReport(){const t=this.validate(),s=t.filter(l=>!l.passed&&l.rule.severity==="critical"),r=t.filter(l=>!l.passed&&l.rule.severity==="warning"),n=t.filter(l=>l.passed);let i=`=== UI Validation Report ===

`;return s.length>0&&(i+=` CRITICAL ISSUES:
`,s.forEach(l=>i+=`  ${l.message}
`),i+=`
`),r.length>0&&(i+=`  WARNINGS:
`,r.forEach(l=>i+=`  ${l.message}
`),i+=`
`),i+=` PASSED: ${n.length}/${t.length} checks
`,s.length===0&&r.length===0&&(i+=`
 All validations passed!
`),i}}const gr=new pb;gr.addRule({name:"Seed Sample Data Button Exists",description:'The "Seed Sample Data" button must be present in the Executive Dashboard',severity:"critical",check:()=>typeof document>"u"?!0:Array.from(document.querySelectorAll("button")).some(t=>{var s,r;return((s=t.textContent)==null?void 0:s.includes("Seed Sample Data"))||((r=t.title)==null?void 0:r.includes("sample data"))})});gr.addRule({name:"Seed Button Text Consistency",description:'References to the seed button should use consistent text: "Seed Sample Data"',severity:"warning",check:()=>{if(typeof document>"u")return!0;const e=document.body.textContent||"",t=e.includes("Seed Sample Data"),s=e.includes("Refresh Data");return t&&!s}});gr.addRule({name:"FR2052a Empty State Message",description:"FR2052a screen should reference the correct button name in empty state",severity:"critical",check:()=>{if(typeof document>"u")return!0;const e=document.body.textContent||"";return e.includes("No FR 2052a Data Found")?e.includes("Seed Sample Data"):!0}});gr.addRule({name:"Seed Button Visibility",description:"Seed Sample Data button must be visible (not hidden by CSS)",severity:"critical",check:()=>{if(typeof document>"u")return!0;const t=Array.from(document.querySelectorAll("button")).find(r=>{var n;return(n=r.textContent)==null?void 0:n.includes("Seed Sample Data")});if(!t)return!1;const s=window.getComputedStyle(t);return s.display!=="none"&&s.visibility!=="hidden"&&s.opacity!=="0"}});gr.addRule({name:"Dashboard Navigation Link",description:"Sidebar must have Executive Dashboard navigation item",severity:"critical",check:()=>typeof document>"u"?!0:(document.body.textContent||"").includes("Executive Dashboard")});gr.addRule({name:"FR2052a Navigation Link",description:"Sidebar must have FR 2052a Report navigation item",severity:"critical",check:()=>{if(typeof document>"u")return!0;const e=document.body.textContent||"";return e.includes("FR 2052a")||e.includes("FR2052a")}});function Ab(){return O.useEffect(()=>{},[]),a.jsx(Mv,{children:a.jsx(mb,{})})}Lm(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(Ab,{})}));export{Pv as F,Ev as g,J as s};
