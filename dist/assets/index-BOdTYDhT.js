(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(a,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),a}var bh={exports:{}},Zi={},yh={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nn=Symbol.for("react.element"),kp=Symbol.for("react.portal"),Rp=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),Fp=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),Bp=Symbol.for("react.memo"),Ip=Symbol.for("react.lazy"),Bd=Symbol.iterator;function Mp(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var wh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_h=Object.assign,Nh={};function pr(e,t,a){this.props=e,this.context=t,this.refs=Nh,this.updater=a||wh}pr.prototype.isReactComponent={};pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jh(){}jh.prototype=pr.prototype;function Cc(e,t,a){this.props=e,this.context=t,this.refs=Nh,this.updater=a||wh}var Sc=Cc.prototype=new jh;Sc.constructor=Cc;_h(Sc,pr.prototype);Sc.isPureReactComponent=!0;var Id=Array.isArray,Ch=Object.prototype.hasOwnProperty,kc={current:null},Sh={key:!0,ref:!0,__self:!0,__source:!0};function kh(e,t,a){var r,n={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ch.call(t,r)&&!Sh.hasOwnProperty(r)&&(n[r]=t[r]);var d=arguments.length-2;if(d===1)n.children=a;else if(1<d){for(var c=Array(d),o=0;o<d;o++)c[o]=arguments[o+2];n.children=c}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)n[r]===void 0&&(n[r]=d[r]);return{$$typeof:Nn,type:e,key:i,ref:l,props:n,_owner:kc.current}}function Op(e,t){return{$$typeof:Nn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nn}function zp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Md=/\/+/g;function jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zp(""+e.key):t.toString(36)}function ri(e,t,a,r,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Nn:case kp:l=!0}}if(l)return l=e,n=n(l),e=r===""?"."+jl(l,0):r,Id(n)?(a="",e!=null&&(a=e.replace(Md,"$&/")+"/"),ri(n,t,a,"",function(o){return o})):n!=null&&(Rc(n)&&(n=Op(n,a+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(Md,"$&/")+"/")+e)),t.push(n)),1;if(l=0,r=r===""?".":r+":",Id(e))for(var d=0;d<e.length;d++){i=e[d];var c=r+jl(i,d);l+=ri(i,t,a,c,n)}else if(c=Mp(e),typeof c=="function")for(e=c.call(e),d=0;!(i=e.next()).done;)i=i.value,c=r+jl(i,d++),l+=ri(i,t,a,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Pn(e,t,a){if(e==null)return e;var r=[],n=0;return ri(e,r,"","",function(i){return t.call(a,i,n++)}),r}function Up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},ni={transition:null},qp={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:ni,ReactCurrentOwner:kc};function Rh(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Pn,forEach:function(e,t,a){Pn(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Pn(e,function(){t++}),t},toArray:function(e){return Pn(e,function(t){return t})||[]},only:function(e){if(!Rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=pr;_e.Fragment=Rp;_e.Profiler=Dp;_e.PureComponent=Cc;_e.StrictMode=Lp;_e.Suspense=Pp;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qp;_e.act=Rh;_e.cloneElement=function(e,t,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_h({},e.props),n=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=kc.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(c in t)Ch.call(t,c)&&!Sh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&d!==void 0?d[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=a;else if(1<c){d=Array(c);for(var o=0;o<c;o++)d[o]=arguments[o+2];r.children=d}return{$$typeof:Nn,type:e.type,key:n,ref:i,props:r,_owner:l}};_e.createContext=function(e){return e={$$typeof:Fp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tp,_context:e},e.Consumer=e};_e.createElement=kh;_e.createFactory=function(e){var t=kh.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:Ep,render:e}};_e.isValidElement=Rc;_e.lazy=function(e){return{$$typeof:Ip,_payload:{_status:-1,_result:e},_init:Up}};_e.memo=function(e,t){return{$$typeof:Bp,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=ni.transition;ni.transition={};try{e()}finally{ni.transition=t}};_e.unstable_act=Rh;_e.useCallback=function(e,t){return gt.current.useCallback(e,t)};_e.useContext=function(e){return gt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return gt.current.useEffect(e,t)};_e.useId=function(){return gt.current.useId()};_e.useImperativeHandle=function(e,t,a){return gt.current.useImperativeHandle(e,t,a)};_e.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return gt.current.useMemo(e,t)};_e.useReducer=function(e,t,a){return gt.current.useReducer(e,t,a)};_e.useRef=function(e){return gt.current.useRef(e)};_e.useState=function(e){return gt.current.useState(e)};_e.useSyncExternalStore=function(e,t,a){return gt.current.useSyncExternalStore(e,t,a)};_e.useTransition=function(){return gt.current.useTransition()};_e.version="18.3.1";yh.exports=_e;var O=yh.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=O,Vp=Symbol.for("react.element"),Qp=Symbol.for("react.fragment"),Gp=Object.prototype.hasOwnProperty,Wp=$p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hp={key:!0,ref:!0,__self:!0,__source:!0};function Lh(e,t,a){var r,n={},i=null,l=null;a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Gp.call(t,r)&&!Hp.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Vp,type:e,key:i,ref:l,props:n,_owner:Wp.current}}Zi.Fragment=Qp;Zi.jsx=Lh;Zi.jsxs=Lh;bh.exports=Zi;var s=bh.exports,Dh={exports:{}},Bt={},Th={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,B){var V=z.length;z.push(B);e:for(;0<V;){var P=V-1>>>1,U=z[P];if(0<n(U,B))z[P]=B,z[V]=U,V=P;else break e}}function a(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],V=z.pop();if(V!==B){z[0]=V;e:for(var P=0,U=z.length,ee=U>>>1;P<ee;){var se=2*(P+1)-1,K=z[se],re=se+1,Ne=z[re];if(0>n(K,V))re<U&&0>n(Ne,K)?(z[P]=Ne,z[re]=V,P=re):(z[P]=K,z[se]=V,P=se);else if(re<U&&0>n(Ne,V))z[P]=Ne,z[re]=V,P=re;else break e}}return B}function n(z,B){var V=z.sortIndex-B.sortIndex;return V!==0?V:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var c=[],o=[],u=1,h=null,x=3,m=!1,A=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var B=a(o);B!==null;){if(B.callback===null)r(o);else if(B.startTime<=z)r(o),B.sortIndex=B.expirationTime,t(c,B);else break;B=a(o)}}function w(z){if(p=!1,v(z),!A)if(a(c)!==null)A=!0,$(_);else{var B=a(o);B!==null&&C(w,B.startTime-z)}}function _(z,B){A=!1,p&&(p=!1,f(S),S=-1),m=!0;var V=x;try{for(v(B),h=a(c);h!==null&&(!(h.expirationTime>B)||z&&!F());){var P=h.callback;if(typeof P=="function"){h.callback=null,x=h.priorityLevel;var U=P(h.expirationTime<=B);B=e.unstable_now(),typeof U=="function"?h.callback=U:h===a(c)&&r(c),v(B)}else r(c);h=a(c)}if(h!==null)var ee=!0;else{var se=a(o);se!==null&&C(w,se.startTime-B),ee=!1}return ee}finally{h=null,x=V,m=!1}}var D=!1,R=null,S=-1,L=5,k=-1;function F(){return!(e.unstable_now()-k<L)}function j(){if(R!==null){var z=e.unstable_now();k=z;var B=!0;try{B=R(!0,z)}finally{B?T():(D=!1,R=null)}}else D=!1}var T;if(typeof g=="function")T=function(){g(j)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,I=y.port2;y.port1.onmessage=j,T=function(){I.postMessage(null)}}else T=function(){b(j,0)};function $(z){R=z,D||(D=!0,T())}function C(z,B){S=b(function(){z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){A||m||(A=!0,$(_))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return a(c)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var B=3;break;default:B=x}var V=x;x=B;try{return z()}finally{x=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=x;x=z;try{return B()}finally{x=V}},e.unstable_scheduleCallback=function(z,B,V){var P=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?P+V:P):V=P,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,z={id:u++,callback:B,priorityLevel:z,startTime:V,expirationTime:U,sortIndex:-1},V>P?(z.sortIndex=V,t(o,z),a(c)===null&&z===a(o)&&(p?(f(S),S=-1):p=!0,C(w,V-P))):(z.sortIndex=U,t(c,z),A||m||(A=!0,$(_))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var B=x;return function(){var V=x;x=B;try{return z.apply(this,arguments)}finally{x=V}}}})(Fh);Th.exports=Fh;var Xp=Th.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=O,Pt=Xp;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eh=new Set,tn={};function _a(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(tn[e]=t,e=0;e<t.length;e++)Eh.add(t[e])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=Object.prototype.hasOwnProperty,Jp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Od={},zd={};function Yp(e){return mo.call(zd,e)?!0:mo.call(Od,e)?!1:Jp.test(e)?zd[e]=!0:(Od[e]=!0,!1)}function Zp(e,t,a,r){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e0(e,t,a,r){if(t===null||typeof t>"u"||Zp(e,t,a,r))return!0;if(r)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,a,r,n,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;function Dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lc,Dc);ot[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lc,Dc);ot[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lc,Dc);ot[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tc(e,t,a,r){var n=ot.hasOwnProperty(t)?ot[t]:null;(n!==null?n.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e0(t,a,n,r)&&(a=null),r||n===null?Yp(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):n.mustUseProperty?e[n.propertyName]=a===null?n.type===3?!1:"":a:(t=n.attributeName,r=n.attributeNamespace,a===null?e.removeAttribute(t):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,r?e.setAttributeNS(r,t,a):e.setAttribute(t,a))))}var ks=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bn=Symbol.for("react.element"),Ia=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),Fc=Symbol.for("react.strict_mode"),fo=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),Ec=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),xo=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),Ih=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function Nr(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,Cl;function Er(e){if(Cl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Cl=t&&t[1]||""}return`
`+Cl+e}var Sl=!1;function kl(e,t){if(!e||Sl)return"";Sl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var r=o}Reflect.construct(e,[],t)}else{try{t.call()}catch(o){r=o}e.call(t.prototype)}else{try{throw Error()}catch(o){r=o}e()}}catch(o){if(o&&r&&typeof o.stack=="string"){for(var n=o.stack.split(`
`),i=r.stack.split(`
`),l=n.length-1,d=i.length-1;1<=l&&0<=d&&n[l]!==i[d];)d--;for(;1<=l&&0<=d;l--,d--)if(n[l]!==i[d]){if(l!==1||d!==1)do if(l--,d--,0>d||n[l]!==i[d]){var c=`
`+n[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=d);break}}}finally{Sl=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Er(e):""}function t0(e){switch(e.tag){case 5:return Er(e.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function Ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ma:return"Fragment";case Ia:return"Portal";case fo:return"Profiler";case Fc:return"StrictMode";case po:return"Suspense";case xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bh:return(e.displayName||"Context")+".Consumer";case Ph:return(e._context.displayName||"Context")+".Provider";case Ec:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pc:return t=e.displayName||null,t!==null?t:Ao(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return Ao(e(t))}catch{}}return null}function s0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ao(t);case 8:return t===Fc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a0(e){var t=Mh(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function In(e){e._valueTracker||(e._valueTracker=a0(e))}function Oh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Mh(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function go(e,t){var a=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function qd(e,t){var a=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;a=Hs(t.value!=null?t.value:a),e._wrapperState={initialChecked:r,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zh(e,t){t=t.checked,t!=null&&Tc(e,"checked",t,!1)}function vo(e,t){zh(e,t);var a=Hs(t.value),r=t.type;if(a!=null)r==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bo(e,t.type,a):t.hasOwnProperty("defaultValue")&&bo(e,t.type,Hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $d(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function bo(e,t,a){(t!=="number"||yi(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Pr=Array.isArray;function Za(e,t,a,r){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Hs(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function yo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vd(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(Z(92));if(Pr(a)){if(1<a.length)throw Error(Z(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:Hs(a)}}function Uh(e,t){var a=Hs(t.value),r=Hs(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),r!=null&&(e.defaultValue=""+r)}function Qd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mn,$h=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,a,r,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mn=Mn||document.createElement("div"),Mn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r0=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){r0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function Vh(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function Qh(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var r=a.indexOf("--")===0,n=Vh(a,t[a],r);a==="float"&&(a="cssFloat"),r?e.setProperty(a,n):e[a]=n}}var n0=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(e,t){if(t){if(n0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function No(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Co=null,er=null,tr=null;function Gd(e){if(e=Sn(e)){if(typeof Co!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=rl(t),Co(e.stateNode,e.type,t))}}function Gh(e){er?tr?tr.push(e):tr=[e]:er=e}function Wh(){if(er){var e=er,t=tr;if(tr=er=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function Hh(e,t){return e(t)}function Xh(){}var Rl=!1;function Kh(e,t,a){if(Rl)return e(t,a);Rl=!0;try{return Hh(e,t,a)}finally{Rl=!1,(er!==null||tr!==null)&&(Xh(),Wh())}}function an(e,t){var a=e.stateNode;if(a===null)return null;var r=rl(a);if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(Z(231,t,typeof a));return a}var So=!1;if(ws)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){So=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{So=!1}function i0(e,t,a,r,n,i,l,d,c){var o=Array.prototype.slice.call(arguments,3);try{t.apply(a,o)}catch(u){this.onError(u)}}var qr=!1,wi=null,_i=!1,ko=null,l0={onError:function(e){qr=!0,wi=e}};function o0(e,t,a,r,n,i,l,d,c){qr=!1,wi=null,i0.apply(l0,arguments)}function c0(e,t,a,r,n,i,l,d,c){if(o0.apply(this,arguments),qr){if(qr){var o=wi;qr=!1,wi=null}else throw Error(Z(198));_i||(_i=!0,ko=o)}}function Na(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Jh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wd(e){if(Na(e)!==e)throw Error(Z(188))}function d0(e){var t=e.alternate;if(!t){if(t=Na(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var a=e,r=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(r=n.return,r!==null){a=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return Wd(n),e;if(i===r)return Wd(n),t;i=i.sibling}throw Error(Z(188))}if(a.return!==r.return)a=n,r=i;else{for(var l=!1,d=n.child;d;){if(d===a){l=!0,a=n,r=i;break}if(d===r){l=!0,r=n,a=i;break}d=d.sibling}if(!l){for(d=i.child;d;){if(d===a){l=!0,a=i,r=n;break}if(d===r){l=!0,r=i,a=n;break}d=d.sibling}if(!l)throw Error(Z(189))}}if(a.alternate!==r)throw Error(Z(190))}if(a.tag!==3)throw Error(Z(188));return a.stateNode.current===a?e:t}function Yh(e){return e=d0(e),e!==null?Zh(e):null}function Zh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zh(e);if(t!==null)return t;e=e.sibling}return null}var em=Pt.unstable_scheduleCallback,Hd=Pt.unstable_cancelCallback,u0=Pt.unstable_shouldYield,h0=Pt.unstable_requestPaint,Ge=Pt.unstable_now,m0=Pt.unstable_getCurrentPriorityLevel,Ic=Pt.unstable_ImmediatePriority,tm=Pt.unstable_UserBlockingPriority,Ni=Pt.unstable_NormalPriority,f0=Pt.unstable_LowPriority,sm=Pt.unstable_IdlePriority,el=null,ds=null;function p0(e){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:g0,x0=Math.log,A0=Math.LN2;function g0(e){return e>>>=0,e===0?32:31-(x0(e)/A0|0)|0}var On=64,zn=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ji(e,t){var a=e.pendingLanes;if(a===0)return 0;var r=0,n=e.suspendedLanes,i=e.pingedLanes,l=a&268435455;if(l!==0){var d=l&~n;d!==0?r=Br(d):(i&=l,i!==0&&(r=Br(i)))}else l=a&~n,l!==0?r=Br(l):i!==0&&(r=Br(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&n)&&(n=r&-r,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(r&4&&(r|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)a=31-ts(t),n=1<<a,r|=e[a],t&=~n;return r}function v0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b0(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ts(i),d=1<<l,c=n[l];c===-1?(!(d&a)||d&r)&&(n[l]=v0(d,t)):c<=t&&(e.expiredLanes|=d),i&=~d}}function Ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function am(){var e=On;return On<<=1,!(On&4194240)&&(On=64),e}function Ll(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function jn(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ts(t),e[t]=a}function y0(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<a;){var n=31-ts(a),i=1<<n;t[n]=0,r[n]=-1,e[n]=-1,a&=~i}}function Mc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-ts(a),n=1<<r;n&t|e[r]&t&&(e[r]|=t),a&=~n}}var Re=0;function rm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nm,Oc,im,lm,om,Lo=!1,Un=[],zs=null,Us=null,qs=null,rn=new Map,nn=new Map,Ps=[],w0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nn.delete(t.pointerId)}}function Cr(e,t,a,r,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Sn(t),t!==null&&Oc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function _0(e,t,a,r,n){switch(t){case"focusin":return zs=Cr(zs,e,t,a,r,n),!0;case"dragenter":return Us=Cr(Us,e,t,a,r,n),!0;case"mouseover":return qs=Cr(qs,e,t,a,r,n),!0;case"pointerover":var i=n.pointerId;return rn.set(i,Cr(rn.get(i)||null,e,t,a,r,n)),!0;case"gotpointercapture":return i=n.pointerId,nn.set(i,Cr(nn.get(i)||null,e,t,a,r,n)),!0}return!1}function cm(e){var t=ca(e.target);if(t!==null){var a=Na(t);if(a!==null){if(t=a.tag,t===13){if(t=Jh(a),t!==null){e.blockedOn=t,om(e.priority,function(){im(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Do(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);jo=r,a.target.dispatchEvent(r),jo=null}else return t=Sn(a),t!==null&&Oc(t),e.blockedOn=a,!1;t.shift()}return!0}function Kd(e,t,a){ii(e)&&a.delete(t)}function N0(){Lo=!1,zs!==null&&ii(zs)&&(zs=null),Us!==null&&ii(Us)&&(Us=null),qs!==null&&ii(qs)&&(qs=null),rn.forEach(Kd),nn.forEach(Kd)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Lo||(Lo=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,N0)))}function ln(e){function t(n){return Sr(n,e)}if(0<Un.length){Sr(Un[0],e);for(var a=1;a<Un.length;a++){var r=Un[a];r.blockedOn===e&&(r.blockedOn=null)}}for(zs!==null&&Sr(zs,e),Us!==null&&Sr(Us,e),qs!==null&&Sr(qs,e),rn.forEach(t),nn.forEach(t),a=0;a<Ps.length;a++)r=Ps[a],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)cm(a),a.blockedOn===null&&Ps.shift()}var sr=ks.ReactCurrentBatchConfig,Ci=!0;function j0(e,t,a,r){var n=Re,i=sr.transition;sr.transition=null;try{Re=1,zc(e,t,a,r)}finally{Re=n,sr.transition=i}}function C0(e,t,a,r){var n=Re,i=sr.transition;sr.transition=null;try{Re=4,zc(e,t,a,r)}finally{Re=n,sr.transition=i}}function zc(e,t,a,r){if(Ci){var n=Do(e,t,a,r);if(n===null)zl(e,t,r,Si,a),Xd(e,r);else if(_0(n,e,t,a,r))r.stopPropagation();else if(Xd(e,r),t&4&&-1<w0.indexOf(e)){for(;n!==null;){var i=Sn(n);if(i!==null&&nm(i),i=Do(e,t,a,r),i===null&&zl(e,t,r,Si,a),i===n)break;n=i}n!==null&&r.stopPropagation()}else zl(e,t,r,null,a)}}var Si=null;function Do(e,t,a,r){if(Si=null,e=Bc(r),e=ca(e),e!==null)if(t=Na(e),t===null)e=null;else if(a=t.tag,a===13){if(e=Jh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Si=e,null}function dm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m0()){case Ic:return 1;case tm:return 4;case Ni:case f0:return 16;case sm:return 536870912;default:return 16}default:return 16}}var Ms=null,Uc=null,li=null;function um(){if(li)return li;var e,t=Uc,a=t.length,r,n="value"in Ms?Ms.value:Ms.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var l=a-e;for(r=1;r<=l&&t[a-r]===n[i-r];r++);return li=n.slice(e,1<r?1-r:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function Jd(){return!1}function It(e){function t(a,r,n,i,l){this._reactName=a,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(a=e[d],this[d]=a?a(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qn:Jd,this.isPropagationStopped=Jd,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=It(xr),Cn=Ue({},xr,{view:0,detail:0}),S0=It(Cn),Dl,Tl,kr,tl=Ue({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kr&&(kr&&e.type==="mousemove"?(Dl=e.screenX-kr.screenX,Tl=e.screenY-kr.screenY):Tl=Dl=0,kr=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),Yd=It(tl),k0=Ue({},tl,{dataTransfer:0}),R0=It(k0),L0=Ue({},Cn,{relatedTarget:0}),Fl=It(L0),D0=Ue({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=It(D0),F0=Ue({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),E0=It(F0),P0=Ue({},xr,{data:0}),Zd=It(P0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M0[e])?!!t[e]:!1}function $c(){return O0}var z0=Ue({},Cn,{key:function(e){if(e.key){var t=B0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U0=It(z0),q0=Ue({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=It(q0),$0=Ue({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),V0=It($0),Q0=Ue({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),G0=It(Q0),W0=Ue({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=It(W0),X0=[9,13,27,32],Vc=ws&&"CompositionEvent"in window,$r=null;ws&&"documentMode"in document&&($r=document.documentMode);var K0=ws&&"TextEvent"in window&&!$r,hm=ws&&(!Vc||$r&&8<$r&&11>=$r),tu=" ",su=!1;function mm(e,t){switch(e){case"keyup":return X0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function J0(e,t){switch(e){case"compositionend":return fm(t);case"keypress":return t.which!==32?null:(su=!0,tu);case"textInput":return e=t.data,e===tu&&su?null:e;default:return null}}function Y0(e,t){if(Oa)return e==="compositionend"||!Vc&&mm(e,t)?(e=um(),li=Uc=Ms=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hm&&t.locale!=="ko"?null:t.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z0[e.type]:t==="textarea"}function pm(e,t,a,r){Gh(r),t=ki(t,"onChange"),0<t.length&&(a=new qc("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Vr=null,on=null;function ex(e){Cm(e,0)}function sl(e){var t=qa(e);if(Oh(t))return e}function tx(e,t){if(e==="change")return t}var xm=!1;if(ws){var El;if(ws){var Pl="oninput"in document;if(!Pl){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),Pl=typeof ru.oninput=="function"}El=Pl}else El=!1;xm=El&&(!document.documentMode||9<document.documentMode)}function nu(){Vr&&(Vr.detachEvent("onpropertychange",Am),on=Vr=null)}function Am(e){if(e.propertyName==="value"&&sl(on)){var t=[];pm(t,on,e,Bc(e)),Kh(ex,t)}}function sx(e,t,a){e==="focusin"?(nu(),Vr=t,on=a,Vr.attachEvent("onpropertychange",Am)):e==="focusout"&&nu()}function ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(on)}function rx(e,t){if(e==="click")return sl(t)}function nx(e,t){if(e==="input"||e==="change")return sl(t)}function ix(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rs=typeof Object.is=="function"?Object.is:ix;function cn(e,t){if(rs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var n=a[r];if(!mo.call(t,n)||!rs(e[n],t[n]))return!1}return!0}function iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lu(e,t){var a=iu(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=iu(a)}}function gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vm(){for(var e=window,t=yi();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=yi(e.document)}return t}function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lx(e){var t=vm(),a=e.focusedElem,r=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&gm(a.ownerDocument.documentElement,a)){if(r!==null&&Qc(a)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=a.textContent.length,i=Math.min(r.start,n);r=r.end===void 0?i:Math.min(r.end,n),!e.extend&&i>r&&(n=r,r=i,i=n),n=lu(a,i);var l=lu(a,r);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ox=ws&&"documentMode"in document&&11>=document.documentMode,za=null,To=null,Qr=null,Fo=!1;function ou(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fo||za==null||za!==yi(r)||(r=za,"selectionStart"in r&&Qc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&cn(Qr,r)||(Qr=r,r=ki(To,"onSelect"),0<r.length&&(t=new qc("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=za)))}function $n(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ua={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionend:$n("Transition","TransitionEnd")},Bl={},bm={};ws&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function al(e){if(Bl[e])return Bl[e];if(!Ua[e])return e;var t=Ua[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in bm)return Bl[e]=t[a];return e}var ym=al("animationend"),wm=al("animationiteration"),_m=al("animationstart"),Nm=al("transitionend"),jm=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){jm.set(e,t),_a(t,[e])}for(var Il=0;Il<cu.length;Il++){var Ml=cu[Il],cx=Ml.toLowerCase(),dx=Ml[0].toUpperCase()+Ml.slice(1);Js(cx,"on"+dx)}Js(ym,"onAnimationEnd");Js(wm,"onAnimationIteration");Js(_m,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(Nm,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function du(e,t,a){var r=e.type||"unknown-event";e.currentTarget=a,c0(r,t,void 0,e),e.currentTarget=null}function Cm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],n=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var d=r[l],c=d.instance,o=d.currentTarget;if(d=d.listener,c!==i&&n.isPropagationStopped())break e;du(n,d,o),i=c}else for(l=0;l<r.length;l++){if(d=r[l],c=d.instance,o=d.currentTarget,d=d.listener,c!==i&&n.isPropagationStopped())break e;du(n,d,o),i=c}}}if(_i)throw e=ko,_i=!1,ko=null,e}function Pe(e,t){var a=t[Mo];a===void 0&&(a=t[Mo]=new Set);var r=e+"__bubble";a.has(r)||(Sm(t,e,2,!1),a.add(r))}function Ol(e,t,a){var r=0;t&&(r|=4),Sm(a,e,r,t)}var Vn="_reactListening"+Math.random().toString(36).slice(2);function dn(e){if(!e[Vn]){e[Vn]=!0,Eh.forEach(function(a){a!=="selectionchange"&&(ux.has(a)||Ol(a,!1,e),Ol(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vn]||(t[Vn]=!0,Ol("selectionchange",!1,t))}}function Sm(e,t,a,r){switch(dm(t)){case 1:var n=j0;break;case 4:n=C0;break;default:n=zc}a=n.bind(null,t,a,e),n=void 0,!So||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function zl(e,t,a,r,n){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var d=r.stateNode.containerInfo;if(d===n||d.nodeType===8&&d.parentNode===n)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;d!==null;){if(l=ca(d),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}d=d.parentNode}}r=r.return}Kh(function(){var o=i,u=Bc(a),h=[];e:{var x=jm.get(e);if(x!==void 0){var m=qc,A=e;switch(e){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":m=U0;break;case"focusin":A="focus",m=Fl;break;case"focusout":A="blur",m=Fl;break;case"beforeblur":case"afterblur":m=Fl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V0;break;case ym:case wm:case _m:m=T0;break;case Nm:m=G0;break;case"scroll":m=S0;break;case"wheel":m=H0;break;case"copy":case"cut":case"paste":m=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eu}var p=(t&4)!==0,b=!p&&e==="scroll",f=p?x!==null?x+"Capture":null:x;p=[];for(var g=o,v;g!==null;){v=g;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,f!==null&&(w=an(g,f),w!=null&&p.push(un(g,w,v)))),b)break;g=g.return}0<p.length&&(x=new m(x,A,null,a,u),h.push({event:x,listeners:p}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",x&&a!==jo&&(A=a.relatedTarget||a.fromElement)&&(ca(A)||A[_s]))break e;if((m||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,m?(A=a.relatedTarget||a.toElement,m=o,A=A?ca(A):null,A!==null&&(b=Na(A),A!==b||A.tag!==5&&A.tag!==6)&&(A=null)):(m=null,A=o),m!==A)){if(p=Yd,w="onMouseLeave",f="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=eu,w="onPointerLeave",f="onPointerEnter",g="pointer"),b=m==null?x:qa(m),v=A==null?x:qa(A),x=new p(w,g+"leave",m,a,u),x.target=b,x.relatedTarget=v,w=null,ca(u)===o&&(p=new p(f,g+"enter",A,a,u),p.target=v,p.relatedTarget=b,w=p),b=w,m&&A)t:{for(p=m,f=A,g=0,v=p;v;v=Ca(v))g++;for(v=0,w=f;w;w=Ca(w))v++;for(;0<g-v;)p=Ca(p),g--;for(;0<v-g;)f=Ca(f),v--;for(;g--;){if(p===f||f!==null&&p===f.alternate)break t;p=Ca(p),f=Ca(f)}p=null}else p=null;m!==null&&uu(h,x,m,p,!1),A!==null&&b!==null&&uu(h,b,A,p,!0)}}e:{if(x=o?qa(o):window,m=x.nodeName&&x.nodeName.toLowerCase(),m==="select"||m==="input"&&x.type==="file")var _=tx;else if(au(x))if(xm)_=nx;else{_=ax;var D=sx}else(m=x.nodeName)&&m.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(_=rx);if(_&&(_=_(e,o))){pm(h,_,a,u);break e}D&&D(e,x,o),e==="focusout"&&(D=x._wrapperState)&&D.controlled&&x.type==="number"&&bo(x,"number",x.value)}switch(D=o?qa(o):window,e){case"focusin":(au(D)||D.contentEditable==="true")&&(za=D,To=o,Qr=null);break;case"focusout":Qr=To=za=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,ou(h,a,u);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":ou(h,a,u)}var R;if(Vc)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Oa?mm(e,a)&&(S="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(S="onCompositionStart");S&&(hm&&a.locale!=="ko"&&(Oa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Oa&&(R=um()):(Ms=u,Uc="value"in Ms?Ms.value:Ms.textContent,Oa=!0)),D=ki(o,S),0<D.length&&(S=new Zd(S,e,null,a,u),h.push({event:S,listeners:D}),R?S.data=R:(R=fm(a),R!==null&&(S.data=R)))),(R=K0?J0(e,a):Y0(e,a))&&(o=ki(o,"onBeforeInput"),0<o.length&&(u=new Zd("onBeforeInput","beforeinput",null,a,u),h.push({event:u,listeners:o}),u.data=R))}Cm(h,t)})}function un(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ki(e,t){for(var a=t+"Capture",r=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=an(e,a),i!=null&&r.unshift(un(e,i,n)),i=an(e,t),i!=null&&r.push(un(e,i,n))),e=e.return}return r}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uu(e,t,a,r,n){for(var i=t._reactName,l=[];a!==null&&a!==r;){var d=a,c=d.alternate,o=d.stateNode;if(c!==null&&c===r)break;d.tag===5&&o!==null&&(d=o,n?(c=an(a,i),c!=null&&l.unshift(un(a,c,d))):n||(c=an(a,i),c!=null&&l.push(un(a,c,d)))),a=a.return}l.length!==0&&e.push({event:t,listeners:l})}var hx=/\r\n?/g,mx=/\u0000|\uFFFD/g;function hu(e){return(typeof e=="string"?e:""+e).replace(hx,`
`).replace(mx,"")}function Qn(e,t,a){if(t=hu(t),hu(e)!==t&&a)throw Error(Z(425))}function Ri(){}var Eo=null,Po=null;function Bo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,mu=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof mu<"u"?function(e){return mu.resolve(null).then(e).catch(xx)}:Io;function xx(e){setTimeout(function(){throw e})}function Ul(e,t){var a=t,r=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){e.removeChild(n),ln(t);return}r--}else a!=="$"&&a!=="$?"&&a!=="$!"||r++;a=n}while(a);ln(t)}function $s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),cs="__reactFiber$"+Ar,hn="__reactProps$"+Ar,_s="__reactContainer$"+Ar,Mo="__reactEvents$"+Ar,Ax="__reactListeners$"+Ar,gx="__reactHandles$"+Ar;function ca(e){var t=e[cs];if(t)return t;for(var a=e.parentNode;a;){if(t=a[_s]||a[cs]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=fu(e);e!==null;){if(a=e[cs])return a;e=fu(e)}return t}e=a,a=e.parentNode}return null}function Sn(e){return e=e[cs]||e[_s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function rl(e){return e[hn]||null}var Oo=[],$a=-1;function Ys(e){return{current:e}}function Be(e){0>$a||(e.current=Oo[$a],Oo[$a]=null,$a--)}function Fe(e,t){$a++,Oo[$a]=e.current,e.current=t}var Xs={},mt=Ys(Xs),jt=Ys(!1),Aa=Xs;function ir(e,t){var a=e.type.contextTypes;if(!a)return Xs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in a)n[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ct(e){return e=e.childContextTypes,e!=null}function Li(){Be(jt),Be(mt)}function pu(e,t,a){if(mt.current!==Xs)throw Error(Z(168));Fe(mt,t),Fe(jt,a)}function km(e,t,a){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return a;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(Z(108,s0(e)||"Unknown",n));return Ue({},a,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xs,Aa=mt.current,Fe(mt,e),Fe(jt,jt.current),!0}function xu(e,t,a){var r=e.stateNode;if(!r)throw Error(Z(169));a?(e=km(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Be(jt),Be(mt),Fe(mt,e)):Be(jt),Fe(jt,a)}var As=null,nl=!1,ql=!1;function Rm(e){As===null?As=[e]:As.push(e)}function vx(e){nl=!0,Rm(e)}function Zs(){if(!ql&&As!==null){ql=!0;var e=0,t=Re;try{var a=As;for(Re=1;e<a.length;e++){var r=a[e];do r=r(!0);while(r!==null)}As=null,nl=!1}catch(n){throw As!==null&&(As=As.slice(e+1)),em(Ic,Zs),n}finally{Re=t,ql=!1}}return null}var Va=[],Qa=0,Ti=null,Fi=0,Ot=[],zt=0,ga=null,vs=1,bs="";function na(e,t){Va[Qa++]=Fi,Va[Qa++]=Ti,Ti=e,Fi=t}function Lm(e,t,a){Ot[zt++]=vs,Ot[zt++]=bs,Ot[zt++]=ga,ga=e;var r=vs;e=bs;var n=32-ts(r)-1;r&=~(1<<n),a+=1;var i=32-ts(t)+n;if(30<i){var l=n-n%5;i=(r&(1<<l)-1).toString(32),r>>=l,n-=l,vs=1<<32-ts(t)+n|a<<n|r,bs=i+e}else vs=1<<i|a<<n|r,bs=e}function Gc(e){e.return!==null&&(na(e,1),Lm(e,1,0))}function Wc(e){for(;e===Ti;)Ti=Va[--Qa],Va[Qa]=null,Fi=Va[--Qa],Va[Qa]=null;for(;e===ga;)ga=Ot[--zt],Ot[zt]=null,bs=Ot[--zt],Ot[zt]=null,vs=Ot[--zt],Ot[zt]=null}var Et=null,Ft=null,Ie=!1,Zt=null;function Dm(e,t){var a=qt(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Au(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Ft=$s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=ga!==null?{id:vs,overflow:bs}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=qt(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,Et=e,Ft=null,!0):!1;default:return!1}}function zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uo(e){if(Ie){var t=Ft;if(t){var a=t;if(!Au(e,t)){if(zo(e))throw Error(Z(418));t=$s(a.nextSibling);var r=Et;t&&Au(e,t)?Dm(r,a):(e.flags=e.flags&-4097|2,Ie=!1,Et=e)}}else{if(zo(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Ie=!1,Et=e}}}function gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Gn(e){if(e!==Et)return!1;if(!Ie)return gu(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bo(e.type,e.memoizedProps)),t&&(t=Ft)){if(zo(e))throw Tm(),Error(Z(418));for(;t;)Dm(e,t),t=$s(t.nextSibling)}if(gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Ft=$s(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=Et?$s(e.stateNode.nextSibling):null;return!0}function Tm(){for(var e=Ft;e;)e=$s(e.nextSibling)}function lr(){Ft=Et=null,Ie=!1}function Hc(e){Zt===null?Zt=[e]:Zt.push(e)}var bx=ks.ReactCurrentBatchConfig;function Rr(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(Z(309));var r=a.stateNode}if(!r)throw Error(Z(147,e));var n=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var d=n.refs;l===null?delete d[i]:d[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!a._owner)throw Error(Z(290,e))}return e}function Wn(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vu(e){var t=e._init;return t(e._payload)}function Fm(e){function t(f,g){if(e){var v=f.deletions;v===null?(f.deletions=[g],f.flags|=16):v.push(g)}}function a(f,g){if(!e)return null;for(;g!==null;)t(f,g),g=g.sibling;return null}function r(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function n(f,g){return f=Ws(f,g),f.index=0,f.sibling=null,f}function i(f,g,v){return f.index=v,e?(v=f.alternate,v!==null?(v=v.index,v<g?(f.flags|=2,g):v):(f.flags|=2,g)):(f.flags|=1048576,g)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function d(f,g,v,w){return g===null||g.tag!==6?(g=Xl(v,f.mode,w),g.return=f,g):(g=n(g,v),g.return=f,g)}function c(f,g,v,w){var _=v.type;return _===Ma?u(f,g,v.props.children,w,v.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ts&&vu(_)===g.type)?(w=n(g,v.props),w.ref=Rr(f,g,v),w.return=f,w):(w=pi(v.type,v.key,v.props,null,f.mode,w),w.ref=Rr(f,g,v),w.return=f,w)}function o(f,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Kl(v,f.mode,w),g.return=f,g):(g=n(g,v.children||[]),g.return=f,g)}function u(f,g,v,w,_){return g===null||g.tag!==7?(g=pa(v,f.mode,w,_),g.return=f,g):(g=n(g,v),g.return=f,g)}function h(f,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xl(""+g,f.mode,v),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bn:return v=pi(g.type,g.key,g.props,null,f.mode,v),v.ref=Rr(f,null,g),v.return=f,v;case Ia:return g=Kl(g,f.mode,v),g.return=f,g;case Ts:var w=g._init;return h(f,w(g._payload),v)}if(Pr(g)||Nr(g))return g=pa(g,f.mode,v,null),g.return=f,g;Wn(f,g)}return null}function x(f,g,v,w){var _=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:d(f,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bn:return v.key===_?c(f,g,v,w):null;case Ia:return v.key===_?o(f,g,v,w):null;case Ts:return _=v._init,x(f,g,_(v._payload),w)}if(Pr(v)||Nr(v))return _!==null?null:u(f,g,v,w,null);Wn(f,v)}return null}function m(f,g,v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(v)||null,d(g,f,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bn:return f=f.get(w.key===null?v:w.key)||null,c(g,f,w,_);case Ia:return f=f.get(w.key===null?v:w.key)||null,o(g,f,w,_);case Ts:var D=w._init;return m(f,g,v,D(w._payload),_)}if(Pr(w)||Nr(w))return f=f.get(v)||null,u(g,f,w,_,null);Wn(g,w)}return null}function A(f,g,v,w){for(var _=null,D=null,R=g,S=g=0,L=null;R!==null&&S<v.length;S++){R.index>S?(L=R,R=null):L=R.sibling;var k=x(f,R,v[S],w);if(k===null){R===null&&(R=L);break}e&&R&&k.alternate===null&&t(f,R),g=i(k,g,S),D===null?_=k:D.sibling=k,D=k,R=L}if(S===v.length)return a(f,R),Ie&&na(f,S),_;if(R===null){for(;S<v.length;S++)R=h(f,v[S],w),R!==null&&(g=i(R,g,S),D===null?_=R:D.sibling=R,D=R);return Ie&&na(f,S),_}for(R=r(f,R);S<v.length;S++)L=m(R,f,S,v[S],w),L!==null&&(e&&L.alternate!==null&&R.delete(L.key===null?S:L.key),g=i(L,g,S),D===null?_=L:D.sibling=L,D=L);return e&&R.forEach(function(F){return t(f,F)}),Ie&&na(f,S),_}function p(f,g,v,w){var _=Nr(v);if(typeof _!="function")throw Error(Z(150));if(v=_.call(v),v==null)throw Error(Z(151));for(var D=_=null,R=g,S=g=0,L=null,k=v.next();R!==null&&!k.done;S++,k=v.next()){R.index>S?(L=R,R=null):L=R.sibling;var F=x(f,R,k.value,w);if(F===null){R===null&&(R=L);break}e&&R&&F.alternate===null&&t(f,R),g=i(F,g,S),D===null?_=F:D.sibling=F,D=F,R=L}if(k.done)return a(f,R),Ie&&na(f,S),_;if(R===null){for(;!k.done;S++,k=v.next())k=h(f,k.value,w),k!==null&&(g=i(k,g,S),D===null?_=k:D.sibling=k,D=k);return Ie&&na(f,S),_}for(R=r(f,R);!k.done;S++,k=v.next())k=m(R,f,S,k.value,w),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?S:k.key),g=i(k,g,S),D===null?_=k:D.sibling=k,D=k);return e&&R.forEach(function(j){return t(f,j)}),Ie&&na(f,S),_}function b(f,g,v,w){if(typeof v=="object"&&v!==null&&v.type===Ma&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Bn:e:{for(var _=v.key,D=g;D!==null;){if(D.key===_){if(_=v.type,_===Ma){if(D.tag===7){a(f,D.sibling),g=n(D,v.props.children),g.return=f,f=g;break e}}else if(D.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ts&&vu(_)===D.type){a(f,D.sibling),g=n(D,v.props),g.ref=Rr(f,D,v),g.return=f,f=g;break e}a(f,D);break}else t(f,D);D=D.sibling}v.type===Ma?(g=pa(v.props.children,f.mode,w,v.key),g.return=f,f=g):(w=pi(v.type,v.key,v.props,null,f.mode,w),w.ref=Rr(f,g,v),w.return=f,f=w)}return l(f);case Ia:e:{for(D=v.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){a(f,g.sibling),g=n(g,v.children||[]),g.return=f,f=g;break e}else{a(f,g);break}else t(f,g);g=g.sibling}g=Kl(v,f.mode,w),g.return=f,f=g}return l(f);case Ts:return D=v._init,b(f,g,D(v._payload),w)}if(Pr(v))return A(f,g,v,w);if(Nr(v))return p(f,g,v,w);Wn(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(a(f,g.sibling),g=n(g,v),g.return=f,f=g):(a(f,g),g=Xl(v,f.mode,w),g.return=f,f=g),l(f)):a(f,g)}return b}var or=Fm(!0),Em=Fm(!1),Ei=Ys(null),Pi=null,Ga=null,Xc=null;function Kc(){Xc=Ga=Pi=null}function Jc(e){var t=Ei.current;Be(Ei),e._currentValue=t}function qo(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function ar(e,t){Pi=e,Xc=Ga=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(Xc!==e)if(e={context:e,memoizedValue:t,next:null},Ga===null){if(Pi===null)throw Error(Z(308));Ga=e,Pi.dependencies={lanes:0,firstContext:e}}else Ga=Ga.next=e;return t}var da=null;function Yc(e){da===null?da=[e]:da.push(e)}function Pm(e,t,a,r){var n=t.interleaved;return n===null?(a.next=a,Yc(t)):(a.next=n.next,n.next=a),t.interleaved=a,Ns(e,r)}function Ns(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Fs=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ys(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var n=r.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Ns(e,a)}return n=r.interleaved,n===null?(t.next=t,Yc(r)):(t.next=n.next,n.next=t),r.interleaved=t,Ns(e,a)}function ci(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Mc(e,a)}}function bu(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var l={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};i===null?n=i=l:i=i.next=l,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Bi(e,t,a,r){var n=e.updateQueue;Fs=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,d=n.shared.pending;if(d!==null){n.shared.pending=null;var c=d,o=c.next;c.next=null,l===null?i=o:l.next=o,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,d=u.lastBaseUpdate,d!==l&&(d===null?u.firstBaseUpdate=o:d.next=o,u.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;l=0,u=o=c=null,d=i;do{var x=d.lane,m=d.eventTime;if((r&x)===x){u!==null&&(u=u.next={eventTime:m,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var A=e,p=d;switch(x=t,m=a,p.tag){case 1:if(A=p.payload,typeof A=="function"){h=A.call(m,h,x);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=p.payload,x=typeof A=="function"?A.call(m,h,x):A,x==null)break e;h=Ue({},h,x);break e;case 2:Fs=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[d]:x.push(d))}else m={eventTime:m,lane:x,tag:d.tag,payload:d.payload,callback:d.callback,next:null},u===null?(o=u=m,c=h):u=u.next=m,l|=x;if(d=d.next,d===null){if(d=n.shared.pending,d===null)break;x=d,d=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(u===null&&(c=h),n.baseState=c,n.firstBaseUpdate=o,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do l|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);ba|=l,e.lanes=l,e.memoizedState=h}}function yu(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(n!==null){if(r.callback=null,r=a,typeof n!="function")throw Error(Z(191,n));n.call(r)}}}var kn={},us=Ys(kn),mn=Ys(kn),fn=Ys(kn);function ua(e){if(e===kn)throw Error(Z(174));return e}function ed(e,t){switch(Fe(fn,t),Fe(mn,e),Fe(us,kn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wo(t,e)}Be(us),Fe(us,t)}function cr(){Be(us),Be(mn),Be(fn)}function Im(e){ua(fn.current);var t=ua(us.current),a=wo(t,e.type);t!==a&&(Fe(mn,e),Fe(us,a))}function td(e){mn.current===e&&(Be(us),Be(mn))}var Me=Ys(0);function Ii(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function sd(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var di=ks.ReactCurrentDispatcher,Vl=ks.ReactCurrentBatchConfig,va=0,ze=null,Je=null,tt=null,Mi=!1,Gr=!1,pn=0,yx=0;function ct(){throw Error(Z(321))}function ad(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!rs(e[a],t[a]))return!1;return!0}function rd(e,t,a,r,n,i){if(va=i,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=e===null||e.memoizedState===null?jx:Cx,e=a(r,n),Gr){i=0;do{if(Gr=!1,pn=0,25<=i)throw Error(Z(301));i+=1,tt=Je=null,t.updateQueue=null,di.current=Sx,e=a(r,n)}while(Gr)}if(di.current=Oi,t=Je!==null&&Je.next!==null,va=0,tt=Je=ze=null,Mi=!1,t)throw Error(Z(300));return e}function nd(){var e=pn!==0;return pn=0,e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ze.memoizedState=tt=e:tt=tt.next=e,tt}function Wt(){if(Je===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=tt===null?ze.memoizedState:tt.next;if(t!==null)tt=t,Je=e;else{if(e===null)throw Error(Z(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?ze.memoizedState=tt=e:tt=tt.next=e}return tt}function xn(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=Wt(),a=t.queue;if(a===null)throw Error(Z(311));a.lastRenderedReducer=e;var r=Je,n=r.baseQueue,i=a.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}r.baseQueue=n=i,a.pending=null}if(n!==null){i=n.next,r=r.baseState;var d=l=null,c=null,o=i;do{var u=o.lane;if((va&u)===u)c!==null&&(c=c.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),r=o.hasEagerState?o.eagerState:e(r,o.action);else{var h={lane:u,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};c===null?(d=c=h,l=r):c=c.next=h,ze.lanes|=u,ba|=u}o=o.next}while(o!==null&&o!==i);c===null?l=r:c.next=d,rs(r,t.memoizedState)||(Nt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,a.lastRenderedState=r}if(e=a.interleaved,e!==null){n=e;do i=n.lane,ze.lanes|=i,ba|=i,n=n.next;while(n!==e)}else n===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Gl(e){var t=Wt(),a=t.queue;if(a===null)throw Error(Z(311));a.lastRenderedReducer=e;var r=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);rs(i,t.memoizedState)||(Nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,r]}function Mm(){}function Om(e,t){var a=ze,r=Wt(),n=t(),i=!rs(r.memoizedState,n);if(i&&(r.memoizedState=n,Nt=!0),r=r.queue,id(qm.bind(null,a,r,e),[e]),r.getSnapshot!==t||i||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,An(9,Um.bind(null,a,r,n,t),void 0,null),at===null)throw Error(Z(349));va&30||zm(a,t,n)}return n}function zm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Um(e,t,a,r){t.value=a,t.getSnapshot=r,$m(t)&&Vm(e)}function qm(e,t,a){return a(function(){$m(t)&&Vm(e)})}function $m(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!rs(e,a)}catch{return!0}}function Vm(e){var t=Ns(e,1);t!==null&&ss(t,e,1,-1)}function wu(e){var t=ls();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},t.queue=e,e=e.dispatch=Nx.bind(null,ze,e),[t.memoizedState,e]}function An(e,t,a,r){return e={tag:e,create:t,destroy:a,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e)),e}function Qm(){return Wt().memoizedState}function ui(e,t,a,r){var n=ls();ze.flags|=e,n.memoizedState=An(1|t,a,void 0,r===void 0?null:r)}function il(e,t,a,r){var n=Wt();r=r===void 0?null:r;var i=void 0;if(Je!==null){var l=Je.memoizedState;if(i=l.destroy,r!==null&&ad(r,l.deps)){n.memoizedState=An(t,a,i,r);return}}ze.flags|=e,n.memoizedState=An(1|t,a,i,r)}function _u(e,t){return ui(8390656,8,e,t)}function id(e,t){return il(2048,8,e,t)}function Gm(e,t){return il(4,2,e,t)}function Wm(e,t){return il(4,4,e,t)}function Hm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xm(e,t,a){return a=a!=null?a.concat([e]):null,il(4,4,Hm.bind(null,t,e),a)}function ld(){}function Km(e,t){var a=Wt();t=t===void 0?null:t;var r=a.memoizedState;return r!==null&&t!==null&&ad(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function Jm(e,t){var a=Wt();t=t===void 0?null:t;var r=a.memoizedState;return r!==null&&t!==null&&ad(t,r[1])?r[0]:(e=e(),a.memoizedState=[e,t],e)}function Ym(e,t,a){return va&21?(rs(a,t)||(a=am(),ze.lanes|=a,ba|=a,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=a)}function wx(e,t){var a=Re;Re=a!==0&&4>a?a:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{Re=a,Vl.transition=r}}function Zm(){return Wt().memoizedState}function _x(e,t,a){var r=Gs(e);if(a={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null},ef(e))tf(t,a);else if(a=Pm(e,t,a,r),a!==null){var n=xt();ss(a,e,r,n),sf(a,t,r)}}function Nx(e,t,a){var r=Gs(e),n={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null};if(ef(e))tf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,d=i(l,a);if(n.hasEagerState=!0,n.eagerState=d,rs(d,l)){var c=t.interleaved;c===null?(n.next=n,Yc(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}a=Pm(e,t,n,r),a!==null&&(n=xt(),ss(a,e,r,n),sf(a,t,r))}}function ef(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function tf(e,t){Gr=Mi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function sf(e,t,a){if(a&4194240){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Mc(e,a)}}var Oi={readContext:Gt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},jx={readContext:Gt,useCallback:function(e,t){return ls().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:_u,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,ui(4194308,4,Hm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return ui(4,2,e,t)},useMemo:function(e,t){var a=ls();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var r=ls();return t=a!==void 0?a(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_x.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=ls();return e={current:e},t.memoizedState=e},useState:wu,useDebugValue:ld,useDeferredValue:function(e){return ls().memoizedState=e},useTransition:function(){var e=wu(!1),t=e[0];return e=wx.bind(null,e[1]),ls().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var r=ze,n=ls();if(Ie){if(a===void 0)throw Error(Z(407));a=a()}else{if(a=t(),at===null)throw Error(Z(349));va&30||zm(r,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,_u(qm.bind(null,r,i,e),[e]),r.flags|=2048,An(9,Um.bind(null,r,i,a,t),void 0,null),a},useId:function(){var e=ls(),t=at.identifierPrefix;if(Ie){var a=bs,r=vs;a=(r&~(1<<32-ts(r)-1)).toString(32)+a,t=":"+t+"R"+a,a=pn++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=yx++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cx={readContext:Gt,useCallback:Km,useContext:Gt,useEffect:id,useImperativeHandle:Xm,useInsertionEffect:Gm,useLayoutEffect:Wm,useMemo:Jm,useReducer:Ql,useRef:Qm,useState:function(){return Ql(xn)},useDebugValue:ld,useDeferredValue:function(e){var t=Wt();return Ym(t,Je.memoizedState,e)},useTransition:function(){var e=Ql(xn)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Mm,useSyncExternalStore:Om,useId:Zm,unstable_isNewReconciler:!1},Sx={readContext:Gt,useCallback:Km,useContext:Gt,useEffect:id,useImperativeHandle:Xm,useInsertionEffect:Gm,useLayoutEffect:Wm,useMemo:Jm,useReducer:Gl,useRef:Qm,useState:function(){return Gl(xn)},useDebugValue:ld,useDeferredValue:function(e){var t=Wt();return Je===null?t.memoizedState=e:Ym(t,Je.memoizedState,e)},useTransition:function(){var e=Gl(xn)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Mm,useSyncExternalStore:Om,useId:Zm,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function $o(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:Ue({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ll={isMounted:function(e){return(e=e._reactInternals)?Na(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var r=xt(),n=Gs(e),i=ys(r,n);i.payload=t,a!=null&&(i.callback=a),t=Vs(e,i,n),t!==null&&(ss(t,e,n,r),ci(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=xt(),n=Gs(e),i=ys(r,n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Vs(e,i,n),t!==null&&(ss(t,e,n,r),ci(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=xt(),r=Gs(e),n=ys(a,r);n.tag=2,t!=null&&(n.callback=t),t=Vs(e,n,r),t!==null&&(ss(t,e,r,a),ci(t,e,r))}};function Nu(e,t,a,r,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!cn(a,r)||!cn(n,i):!0}function af(e,t,a){var r=!1,n=Xs,i=t.contextType;return typeof i=="object"&&i!==null?i=Gt(i):(n=Ct(t)?Aa:mt.current,r=t.contextTypes,i=(r=r!=null)?ir(e,n):Xs),t=new t(a,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ll,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function ju(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&ll.enqueueReplaceState(t,t.state,null)}function Vo(e,t,a,r){var n=e.stateNode;n.props=a,n.state=e.memoizedState,n.refs={},Zc(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=Gt(i):(i=Ct(t)?Aa:mt.current,n.context=ir(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($o(e,t,i,a),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&ll.enqueueReplaceState(n,n.state,null),Bi(e,a,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function dr(e,t){try{var a="",r=t;do a+=t0(r),r=r.return;while(r);var n=a}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Wl(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Qo(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var kx=typeof WeakMap=="function"?WeakMap:Map;function rf(e,t,a){a=ys(-1,a),a.tag=3,a.payload={element:null};var r=t.value;return a.callback=function(){Ui||(Ui=!0,tc=r),Qo(e,t)},a}function nf(e,t,a){a=ys(-1,a),a.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=t.value;a.payload=function(){return r(n)},a.callback=function(){Qo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(a.callback=function(){Qo(e,t),typeof r!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),a}function Cu(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new kx;var n=new Set;r.set(t,n)}else n=r.get(t),n===void 0&&(n=new Set,r.set(t,n));n.has(a)||(n.add(a),e=qx.bind(null,e,t,a),t.then(e,e))}function Su(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ku(e,t,a,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=ys(-1,1),t.tag=2,Vs(a,t,1))),a.lanes|=1),e)}var Rx=ks.ReactCurrentOwner,Nt=!1;function pt(e,t,a,r){t.child=e===null?Em(t,null,a,r):or(t,e.child,a,r)}function Ru(e,t,a,r,n){a=a.render;var i=t.ref;return ar(t,n),r=rd(e,t,a,r,i,n),a=nd(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,js(e,t,n)):(Ie&&a&&Gc(t),t.flags|=1,pt(e,t,r,n),t.child)}function Lu(e,t,a,r,n){if(e===null){var i=a.type;return typeof i=="function"&&!pd(i)&&i.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=i,lf(e,t,i,r,n)):(e=pi(a.type,null,r,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(a=a.compare,a=a!==null?a:cn,a(l,r)&&e.ref===t.ref)return js(e,t,n)}return t.flags|=1,e=Ws(i,r),e.ref=t.ref,e.return=t,t.child=e}function lf(e,t,a,r,n){if(e!==null){var i=e.memoizedProps;if(cn(i,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=i,(e.lanes&n)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,js(e,t,n)}return Go(e,t,a,r,n)}function of(e,t,a){var r=t.pendingProps,n=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ha,Lt),Lt|=a;else{if(!(a&1073741824))return e=i!==null?i.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Ha,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:a,Fe(Ha,Lt),Lt|=r}else i!==null?(r=i.baseLanes|a,t.memoizedState=null):r=a,Fe(Ha,Lt),Lt|=r;return pt(e,t,n,a),t.child}function cf(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Go(e,t,a,r,n){var i=Ct(a)?Aa:mt.current;return i=ir(t,i),ar(t,n),a=rd(e,t,a,r,i,n),r=nd(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,js(e,t,n)):(Ie&&r&&Gc(t),t.flags|=1,pt(e,t,a,n),t.child)}function Du(e,t,a,r,n){if(Ct(a)){var i=!0;Di(t)}else i=!1;if(ar(t,n),t.stateNode===null)hi(e,t),af(t,a,r),Vo(t,a,r,n),r=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var c=l.context,o=a.contextType;typeof o=="object"&&o!==null?o=Gt(o):(o=Ct(a)?Aa:mt.current,o=ir(t,o));var u=a.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==r||c!==o)&&ju(t,l,r,o),Fs=!1;var x=t.memoizedState;l.state=x,Bi(t,r,l,n),c=t.memoizedState,d!==r||x!==c||jt.current||Fs?(typeof u=="function"&&($o(t,a,u,r),c=t.memoizedState),(d=Fs||Nu(t,a,d,r,x,c,o))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=o,r=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Bm(e,t),d=t.memoizedProps,o=t.type===t.elementType?d:Kt(t.type,d),l.props=o,h=t.pendingProps,x=l.context,c=a.contextType,typeof c=="object"&&c!==null?c=Gt(c):(c=Ct(a)?Aa:mt.current,c=ir(t,c));var m=a.getDerivedStateFromProps;(u=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==h||x!==c)&&ju(t,l,r,c),Fs=!1,x=t.memoizedState,l.state=x,Bi(t,r,l,n);var A=t.memoizedState;d!==h||x!==A||jt.current||Fs?(typeof m=="function"&&($o(t,a,m,r),A=t.memoizedState),(o=Fs||Nu(t,a,o,r,x,A,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,A,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,A,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),l.props=r,l.state=A,l.context=c,r=o):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Wo(e,t,a,r,i,n)}function Wo(e,t,a,r,n,i){cf(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return n&&xu(t,a,!1),js(e,t,i);r=t.stateNode,Rx.current=t;var d=l&&typeof a.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=or(t,e.child,null,i),t.child=or(t,null,d,i)):pt(e,t,d,i),t.memoizedState=r.state,n&&xu(t,a,!0),t.child}function df(e){var t=e.stateNode;t.pendingContext?pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pu(e,t.context,!1),ed(e,t.containerInfo)}function Tu(e,t,a,r,n){return lr(),Hc(n),t.flags|=256,pt(e,t,a,r),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function uf(e,t,a){var r=t.pendingProps,n=Me.current,i=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(n&2)!==0),d?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Fe(Me,n&1),e===null)return Uo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=dl(l,r,0,null),e=pa(e,r,a,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xo(a),t.memoizedState=Ho,e):od(t,l));if(n=e.memoizedState,n!==null&&(d=n.dehydrated,d!==null))return Lx(e,t,l,r,d,n,a);if(i){i=r.fallback,l=t.mode,n=e.child,d=n.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==n?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ws(n,c),r.subtreeFlags=n.subtreeFlags&14680064),d!==null?i=Ws(d,i):(i=pa(i,l,a,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Xo(a):{baseLanes:l.baseLanes|a,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~a,t.memoizedState=Ho,r}return i=e.child,e=i.sibling,r=Ws(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=a),r.return=t,r.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r}function od(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hn(e,t,a,r){return r!==null&&Hc(r),or(t,e.child,null,a),e=od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lx(e,t,a,r,n,i,l){if(a)return t.flags&256?(t.flags&=-257,r=Wl(Error(Z(422))),Hn(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,n=t.mode,r=dl({mode:"visible",children:r.children},n,0,null),i=pa(i,n,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&or(t,e.child,null,l),t.child.memoizedState=Xo(l),t.memoizedState=Ho,i);if(!(t.mode&1))return Hn(e,t,l,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var d=r.dgst;return r=d,i=Error(Z(419)),r=Wl(i,r,void 0),Hn(e,t,l,r)}if(d=(l&e.childLanes)!==0,Nt||d){if(r=at,r!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Ns(e,n),ss(r,e,n,-1))}return fd(),r=Wl(Error(Z(421))),Hn(e,t,l,r)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=$x.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Ft=$s(n.nextSibling),Et=t,Ie=!0,Zt=null,e!==null&&(Ot[zt++]=vs,Ot[zt++]=bs,Ot[zt++]=ga,vs=e.id,bs=e.overflow,ga=t),t=od(t,r.children),t.flags|=4096,t)}function Fu(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qo(e.return,t,a)}function Hl(e,t,a,r,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=a,i.tailMode=n)}function hf(e,t,a){var r=t.pendingProps,n=r.revealOrder,i=r.tail;if(pt(e,t,r.children,a),r=Me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fu(e,a,t);else if(e.tag===19)Fu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Me,r),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Ii(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Hl(t,!1,n,a,i);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Ii(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Hl(t,!0,a,null,i);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(a&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,a=Ws(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ws(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Dx(e,t,a){switch(t.tag){case 3:df(t),lr();break;case 5:Im(t);break;case 1:Ct(t.type)&&Di(t);break;case 4:ed(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Fe(Ei,r._currentValue),r._currentValue=n;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Me,Me.current&1),t.flags|=128,null):a&t.child.childLanes?uf(e,t,a):(Fe(Me,Me.current&1),e=js(e,t,a),e!==null?e.sibling:null);Fe(Me,Me.current&1);break;case 19:if(r=(a&t.childLanes)!==0,e.flags&128){if(r)return hf(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Fe(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,of(e,t,a)}return js(e,t,a)}var mf,Ko,ff,pf;mf=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ko=function(){};ff=function(e,t,a,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,ua(us.current);var i=null;switch(a){case"input":n=go(e,n),r=go(e,r),i=[];break;case"select":n=Ue({},n,{value:void 0}),r=Ue({},r,{value:void 0}),i=[];break;case"textarea":n=yo(e,n),r=yo(e,r),i=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ri)}_o(a,r);var l;a=null;for(o in n)if(!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&n[o]!=null)if(o==="style"){var d=n[o];for(l in d)d.hasOwnProperty(l)&&(a||(a={}),a[l]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tn.hasOwnProperty(o)?i||(i=[]):(i=i||[]).push(o,null));for(o in r){var c=r[o];if(d=n!=null?n[o]:void 0,r.hasOwnProperty(o)&&c!==d&&(c!=null||d!=null))if(o==="style")if(d){for(l in d)!d.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(a||(a={}),a[l]="");for(l in c)c.hasOwnProperty(l)&&d[l]!==c[l]&&(a||(a={}),a[l]=c[l])}else a||(i||(i=[]),i.push(o,a)),a=c;else o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,d=d?d.__html:void 0,c!=null&&d!==c&&(i=i||[]).push(o,c)):o==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(o,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(tn.hasOwnProperty(o)?(c!=null&&o==="onScroll"&&Pe("scroll",e),i||d===c||(i=[])):(i=i||[]).push(o,c))}a&&(i=i||[]).push("style",a);var o=i;(t.updateQueue=o)&&(t.flags|=4)}};pf=function(e,t,a,r){a!==r&&(t.flags|=4)};function Lr(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function Tx(e,t,a){var r=t.pendingProps;switch(Wc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Ct(t.type)&&Li(),dt(t),null;case 3:return r=t.stateNode,cr(),Be(jt),Be(mt),sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(rc(Zt),Zt=null))),Ko(e,t),dt(t),null;case 5:td(t);var n=ua(fn.current);if(a=t.type,e!==null&&t.stateNode!=null)ff(e,t,a,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return dt(t),null}if(e=ua(us.current),Gn(t)){r=t.stateNode,a=t.type;var i=t.memoizedProps;switch(r[cs]=t,r[hn]=i,e=(t.mode&1)!==0,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(n=0;n<Ir.length;n++)Pe(Ir[n],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":qd(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":Vd(r,i),Pe("invalid",r)}_o(a,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var d=i[l];l==="children"?typeof d=="string"?r.textContent!==d&&(i.suppressHydrationWarning!==!0&&Qn(r.textContent,d,e),n=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(i.suppressHydrationWarning!==!0&&Qn(r.textContent,d,e),n=["children",""+d]):tn.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&Pe("scroll",r)}switch(a){case"input":In(r),$d(r,i,!0);break;case"textarea":In(r),Qd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ri)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qh(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(a,{is:r.is}):(e=l.createElement(a),a==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,a),e[cs]=t,e[hn]=r,mf(e,t,!1,!1),t.stateNode=e;e:{switch(l=No(a,r),a){case"dialog":Pe("cancel",e),Pe("close",e),n=r;break;case"iframe":case"object":case"embed":Pe("load",e),n=r;break;case"video":case"audio":for(n=0;n<Ir.length;n++)Pe(Ir[n],e);n=r;break;case"source":Pe("error",e),n=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),n=r;break;case"details":Pe("toggle",e),n=r;break;case"input":qd(e,r),n=go(e,r),Pe("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=Ue({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":Vd(e,r),n=yo(e,r),Pe("invalid",e);break;default:n=r}_o(a,n),d=n;for(i in d)if(d.hasOwnProperty(i)){var c=d[i];i==="style"?Qh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$h(e,c)):i==="children"?typeof c=="string"?(a!=="textarea"||c!=="")&&sn(e,c):typeof c=="number"&&sn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pe("scroll",e):c!=null&&Tc(e,i,c,l))}switch(a){case"input":In(e),$d(e,r,!1);break;case"textarea":In(e),Qd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Za(e,!!r.multiple,i,!1):r.defaultValue!=null&&Za(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Ri)}switch(a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)pf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(a=ua(fn.current),ua(us.current),Gn(t)){if(r=t.stateNode,a=t.memoizedProps,r[cs]=t,(i=r.nodeValue!==a)&&(e=Et,e!==null))switch(e.tag){case 3:Qn(r.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qn(r.nodeValue,a,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(a.nodeType===9?a:a.ownerDocument).createTextNode(r),r[cs]=t,t.stateNode=r}return dt(t),null;case 13:if(Be(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Ft!==null&&t.mode&1&&!(t.flags&128))Tm(),lr(),t.flags|=98560,i=!1;else if(i=Gn(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[cs]=t}else lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),i=!1}else Zt!==null&&(rc(Zt),Zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=a,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Ye===0&&(Ye=3):fd())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return cr(),Ko(e,t),e===null&&dn(t.stateNode.containerInfo),dt(t),null;case 10:return Jc(t.type._context),dt(t),null;case 17:return Ct(t.type)&&Li(),dt(t),null;case 19:if(Be(Me),i=t.memoizedState,i===null)return dt(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Lr(i,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ii(e),l!==null){for(t.flags|=128,Lr(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=a,a=t.child;a!==null;)i=a,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Fe(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>ur&&(t.flags|=128,r=!0,Lr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ii(l),e!==null){if(t.flags|=128,r=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ie)return dt(t),null}else 2*Ge()-i.renderingStartTime>ur&&a!==1073741824&&(t.flags|=128,r=!0,Lr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(a=i.last,a!==null?a.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,a=Me.current,Fe(Me,r?a&1|2:a&1),t):(dt(t),null);case 22:case 23:return md(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function Fx(e,t){switch(Wc(t),t.tag){case 1:return Ct(t.type)&&Li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),Be(jt),Be(mt),sd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return td(t),null;case 13:if(Be(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Me),null;case 4:return cr(),null;case 10:return Jc(t.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var Xn=!1,ut=!1,Ex=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Wa(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(r){qe(e,t,r)}else a.current=null}function Jo(e,t,a){try{a()}catch(r){qe(e,t,r)}}var Eu=!1;function Px(e,t){if(Eo=Ci,e=vm(),Qc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var l=0,d=-1,c=-1,o=0,u=0,h=e,x=null;t:for(;;){for(var m;h!==a||n!==0&&h.nodeType!==3||(d=l+n),h!==i||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(m=h.firstChild)!==null;)x=h,h=m;for(;;){if(h===e)break t;if(x===a&&++o===n&&(d=l),x===i&&++u===r&&(c=l),(m=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=m}a=d===-1||c===-1?null:{start:d,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Po={focusedElem:e,selectionRange:a},Ci=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var p=A.memoizedProps,b=A.memoizedState,f=t.stateNode,g=f.getSnapshotBeforeUpdate(t.elementType===t.type?p:Kt(t.type,p),b);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(w){qe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return A=Eu,Eu=!1,A}function Wr(e,t,a){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Jo(t,a,i)}n=n.next}while(n!==r)}}function ol(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var r=a.create;a.destroy=r()}a=a.next}while(a!==t)}}function Yo(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cs],delete t[hn],delete t[Mo],delete t[Ax],delete t[gx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Af(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ri));else if(r!==4&&(e=e.child,e!==null))for(Zo(e,t,a),e=e.sibling;e!==null;)Zo(e,t,a),e=e.sibling}function ec(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,a),e=e.sibling;e!==null;)ec(e,t,a),e=e.sibling}var nt=null,Jt=!1;function Rs(e,t,a){for(a=a.child;a!==null;)gf(e,t,a),a=a.sibling}function gf(e,t,a){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(el,a)}catch{}switch(a.tag){case 5:ut||Wa(a,t);case 6:var r=nt,n=Jt;nt=null,Rs(e,t,a),nt=r,Jt=n,nt!==null&&(Jt?(e=nt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):nt.removeChild(a.stateNode));break;case 18:nt!==null&&(Jt?(e=nt,a=a.stateNode,e.nodeType===8?Ul(e.parentNode,a):e.nodeType===1&&Ul(e,a),ln(e)):Ul(nt,a.stateNode));break;case 4:r=nt,n=Jt,nt=a.stateNode.containerInfo,Jt=!0,Rs(e,t,a),nt=r,Jt=n;break;case 0:case 11:case 14:case 15:if(!ut&&(r=a.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Jo(a,t,l),n=n.next}while(n!==r)}Rs(e,t,a);break;case 1:if(!ut&&(Wa(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(d){qe(a,t,d)}Rs(e,t,a);break;case 21:Rs(e,t,a);break;case 22:a.mode&1?(ut=(r=ut)||a.memoizedState!==null,Rs(e,t,a),ut=r):Rs(e,t,a);break;default:Rs(e,t,a)}}function Bu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Ex),t.forEach(function(r){var n=Vx.bind(null,e,r);a.has(r)||(a.add(r),r.then(n,n))})}}function Ht(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var n=a[r];try{var i=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:nt=d.stateNode,Jt=!1;break e;case 3:nt=d.stateNode.containerInfo,Jt=!0;break e;case 4:nt=d.stateNode.containerInfo,Jt=!0;break e}d=d.return}if(nt===null)throw Error(Z(160));gf(i,l,n),nt=null,Jt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(o){qe(n,t,o)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}function vf(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),is(e),r&4){try{Wr(3,e,e.return),ol(3,e)}catch(p){qe(e,e.return,p)}try{Wr(5,e,e.return)}catch(p){qe(e,e.return,p)}}break;case 1:Ht(t,e),is(e),r&512&&a!==null&&Wa(a,a.return);break;case 5:if(Ht(t,e),is(e),r&512&&a!==null&&Wa(a,a.return),e.flags&32){var n=e.stateNode;try{sn(n,"")}catch(p){qe(e,e.return,p)}}if(r&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=a!==null?a.memoizedProps:i,d=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{d==="input"&&i.type==="radio"&&i.name!=null&&zh(n,i),No(d,l);var o=No(d,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?Qh(n,h):u==="dangerouslySetInnerHTML"?$h(n,h):u==="children"?sn(n,h):Tc(n,u,h,o)}switch(d){case"input":vo(n,i);break;case"textarea":Uh(n,i);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Za(n,!!i.multiple,m,!1):x!==!!i.multiple&&(i.defaultValue!=null?Za(n,!!i.multiple,i.defaultValue,!0):Za(n,!!i.multiple,i.multiple?[]:"",!1))}n[hn]=i}catch(p){qe(e,e.return,p)}}break;case 6:if(Ht(t,e),is(e),r&4){if(e.stateNode===null)throw Error(Z(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(p){qe(e,e.return,p)}}break;case 3:if(Ht(t,e),is(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{ln(t.containerInfo)}catch(p){qe(e,e.return,p)}break;case 4:Ht(t,e),is(e);break;case 13:Ht(t,e),is(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(ud=Ge())),r&4&&Bu(e);break;case 22:if(u=a!==null&&a.memoizedState!==null,e.mode&1?(ut=(o=ut)||u,Ht(t,e),ut=o):Ht(t,e),is(e),r&8192){if(o=e.memoizedState!==null,(e.stateNode.isHidden=o)&&!u&&e.mode&1)for(ie=e,u=e.child;u!==null;){for(h=ie=u;ie!==null;){switch(x=ie,m=x.child,x.tag){case 0:case 11:case 14:case 15:Wr(4,x,x.return);break;case 1:Wa(x,x.return);var A=x.stateNode;if(typeof A.componentWillUnmount=="function"){r=x,a=x.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(p){qe(r,a,p)}}break;case 5:Wa(x,x.return);break;case 22:if(x.memoizedState!==null){Mu(h);continue}}m!==null?(m.return=x,ie=m):Mu(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,o?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(d=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,d.style.display=Vh("display",l))}catch(p){qe(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=o?"":h.memoizedProps}catch(p){qe(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(t,e),is(e),r&4&&Bu(e);break;case 21:break;default:Ht(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(Af(a)){var r=a;break e}a=a.return}throw Error(Z(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(sn(n,""),r.flags&=-33);var i=Pu(e);ec(e,i,n);break;case 3:case 4:var l=r.stateNode.containerInfo,d=Pu(e);Zo(e,d,l);break;default:throw Error(Z(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bx(e,t,a){ie=e,bf(e)}function bf(e,t,a){for(var r=(e.mode&1)!==0;ie!==null;){var n=ie,i=n.child;if(n.tag===22&&r){var l=n.memoizedState!==null||Xn;if(!l){var d=n.alternate,c=d!==null&&d.memoizedState!==null||ut;d=Xn;var o=ut;if(Xn=l,(ut=c)&&!o)for(ie=n;ie!==null;)l=ie,c=l.child,l.tag===22&&l.memoizedState!==null?Ou(n):c!==null?(c.return=l,ie=c):Ou(n);for(;i!==null;)ie=i,bf(i),i=i.sibling;ie=n,Xn=d,ut=o}Iu(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,ie=i):Iu(e)}}function Iu(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var a=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||ol(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(a===null)r.componentDidMount();else{var n=t.elementType===t.type?a.memoizedProps:Kt(t.type,a.memoizedProps);r.componentDidUpdate(n,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yu(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}yu(t,l,a)}break;case 5:var d=t.stateNode;if(a===null&&t.flags&4){a=d;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var o=t.alternate;if(o!==null){var u=o.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ln(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}ut||t.flags&512&&Yo(t)}catch(x){qe(t,t.return,x)}}if(t===e){ie=null;break}if(a=t.sibling,a!==null){a.return=t.return,ie=a;break}ie=t.return}}function Mu(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ie=a;break}ie=t.return}}function Ou(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ol(4,t)}catch(c){qe(t,a,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var n=t.return;try{r.componentDidMount()}catch(c){qe(t,n,c)}}var i=t.return;try{Yo(t)}catch(c){qe(t,i,c)}break;case 5:var l=t.return;try{Yo(t)}catch(c){qe(t,l,c)}}}catch(c){qe(t,t.return,c)}if(t===e){ie=null;break}var d=t.sibling;if(d!==null){d.return=t.return,ie=d;break}ie=t.return}}var Ix=Math.ceil,zi=ks.ReactCurrentDispatcher,cd=ks.ReactCurrentOwner,$t=ks.ReactCurrentBatchConfig,Se=0,at=null,We=null,lt=0,Lt=0,Ha=Ys(0),Ye=0,gn=null,ba=0,cl=0,dd=0,Hr=null,yt=null,ud=0,ur=1/0,fs=null,Ui=!1,tc=null,Qs=null,Kn=!1,Os=null,qi=0,Xr=0,sc=null,mi=-1,fi=0;function xt(){return Se&6?Ge():mi!==-1?mi:mi=Ge()}function Gs(e){return e.mode&1?Se&2&&lt!==0?lt&-lt:bx.transition!==null?(fi===0&&(fi=am()),fi):(e=Re,e!==0||(e=window.event,e=e===void 0?16:dm(e.type)),e):1}function ss(e,t,a,r){if(50<Xr)throw Xr=0,sc=null,Error(Z(185));jn(e,a,r),(!(Se&2)||e!==at)&&(e===at&&(!(Se&2)&&(cl|=a),Ye===4&&Bs(e,lt)),St(e,r),a===1&&Se===0&&!(t.mode&1)&&(ur=Ge()+500,nl&&Zs()))}function St(e,t){var a=e.callbackNode;b0(e,t);var r=ji(e,e===at?lt:0);if(r===0)a!==null&&Hd(a),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(a!=null&&Hd(a),t===1)e.tag===0?vx(zu.bind(null,e)):Rm(zu.bind(null,e)),px(function(){!(Se&6)&&Zs()}),a=null;else{switch(rm(r)){case 1:a=Ic;break;case 4:a=tm;break;case 16:a=Ni;break;case 536870912:a=sm;break;default:a=Ni}a=kf(a,yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function yf(e,t){if(mi=-1,fi=0,Se&6)throw Error(Z(327));var a=e.callbackNode;if(rr()&&e.callbackNode!==a)return null;var r=ji(e,e===at?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$i(e,r);else{t=r;var n=Se;Se|=2;var i=_f();(at!==e||lt!==t)&&(fs=null,ur=Ge()+500,fa(e,t));do try{zx();break}catch(d){wf(e,d)}while(!0);Kc(),zi.current=i,Se=n,We!==null?t=0:(at=null,lt=0,t=Ye)}if(t!==0){if(t===2&&(n=Ro(e),n!==0&&(r=n,t=ac(e,n))),t===1)throw a=gn,fa(e,0),Bs(e,r),St(e,Ge()),a;if(t===6)Bs(e,r);else{if(n=e.current.alternate,!(r&30)&&!Mx(n)&&(t=$i(e,r),t===2&&(i=Ro(e),i!==0&&(r=i,t=ac(e,i))),t===1))throw a=gn,fa(e,0),Bs(e,r),St(e,Ge()),a;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:ia(e,yt,fs);break;case 3:if(Bs(e,r),(r&130023424)===r&&(t=ud+500-Ge(),10<t)){if(ji(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){xt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Io(ia.bind(null,e,yt,fs),t);break}ia(e,yt,fs);break;case 4:if(Bs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,n=-1;0<r;){var l=31-ts(r);i=1<<l,l=t[l],l>n&&(n=l),r&=~i}if(r=n,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ix(r/1960))-r,10<r){e.timeoutHandle=Io(ia.bind(null,e,yt,fs),r);break}ia(e,yt,fs);break;case 5:ia(e,yt,fs);break;default:throw Error(Z(329))}}}return St(e,Ge()),e.callbackNode===a?yf.bind(null,e):null}function ac(e,t){var a=Hr;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=$i(e,t),e!==2&&(t=yt,yt=a,t!==null&&rc(t)),e}function rc(e){yt===null?yt=e:yt.push.apply(yt,e)}function Mx(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var r=0;r<a.length;r++){var n=a[r],i=n.getSnapshot;n=n.value;try{if(!rs(i(),n))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bs(e,t){for(t&=~dd,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-ts(t),r=1<<a;e[a]=-1,t&=~r}}function zu(e){if(Se&6)throw Error(Z(327));rr();var t=ji(e,0);if(!(t&1))return St(e,Ge()),null;var a=$i(e,t);if(e.tag!==0&&a===2){var r=Ro(e);r!==0&&(t=r,a=ac(e,r))}if(a===1)throw a=gn,fa(e,0),Bs(e,t),St(e,Ge()),a;if(a===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ia(e,yt,fs),St(e,Ge()),null}function hd(e,t){var a=Se;Se|=1;try{return e(t)}finally{Se=a,Se===0&&(ur=Ge()+500,nl&&Zs())}}function ya(e){Os!==null&&Os.tag===0&&!(Se&6)&&rr();var t=Se;Se|=1;var a=$t.transition,r=Re;try{if($t.transition=null,Re=1,e)return e()}finally{Re=r,$t.transition=a,Se=t,!(Se&6)&&Zs()}}function md(){Lt=Ha.current,Be(Ha)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,fx(a)),We!==null)for(a=We.return;a!==null;){var r=a;switch(Wc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Li();break;case 3:cr(),Be(jt),Be(mt),sd();break;case 5:td(r);break;case 4:cr();break;case 13:Be(Me);break;case 19:Be(Me);break;case 10:Jc(r.type._context);break;case 22:case 23:md()}a=a.return}if(at=e,We=e=Ws(e.current,null),lt=Lt=t,Ye=0,gn=null,dd=cl=ba=0,yt=Hr=null,da!==null){for(t=0;t<da.length;t++)if(a=da[t],r=a.interleaved,r!==null){a.interleaved=null;var n=r.next,i=a.pending;if(i!==null){var l=i.next;i.next=n,r.next=l}a.pending=r}da=null}return e}function wf(e,t){do{var a=We;try{if(Kc(),di.current=Oi,Mi){for(var r=ze.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Mi=!1}if(va=0,tt=Je=ze=null,Gr=!1,pn=0,cd.current=null,a===null||a.return===null){Ye=1,gn=t,We=null;break}e:{var i=e,l=a.return,d=a,c=t;if(t=lt,d.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var o=c,u=d,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Su(l);if(m!==null){m.flags&=-257,ku(m,l,d,i,t),m.mode&1&&Cu(i,o,t),t=m,c=o;var A=t.updateQueue;if(A===null){var p=new Set;p.add(c),t.updateQueue=p}else A.add(c);break e}else{if(!(t&1)){Cu(i,o,t),fd();break e}c=Error(Z(426))}}else if(Ie&&d.mode&1){var b=Su(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ku(b,l,d,i,t),Hc(dr(c,d));break e}}i=c=dr(c,d),Ye!==4&&(Ye=2),Hr===null?Hr=[i]:Hr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=rf(i,c,t);bu(i,f);break e;case 1:d=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qs===null||!Qs.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=nf(i,d,t);bu(i,w);break e}}i=i.return}while(i!==null)}jf(a)}catch(_){t=_,We===a&&a!==null&&(We=a=a.return);continue}break}while(!0)}function _f(){var e=zi.current;return zi.current=Oi,e===null?Oi:e}function fd(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),at===null||!(ba&268435455)&&!(cl&268435455)||Bs(at,lt)}function $i(e,t){var a=Se;Se|=2;var r=_f();(at!==e||lt!==t)&&(fs=null,fa(e,t));do try{Ox();break}catch(n){wf(e,n)}while(!0);if(Kc(),Se=a,zi.current=r,We!==null)throw Error(Z(261));return at=null,lt=0,Ye}function Ox(){for(;We!==null;)Nf(We)}function zx(){for(;We!==null&&!u0();)Nf(We)}function Nf(e){var t=Sf(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?jf(e):We=t,cd.current=null}function jf(e){var t=e;do{var a=t.alternate;if(e=t.return,t.flags&32768){if(a=Fx(a,t),a!==null){a.flags&=32767,We=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,We=null;return}}else if(a=Tx(a,t,Lt),a!==null){We=a;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ye===0&&(Ye=5)}function ia(e,t,a){var r=Re,n=$t.transition;try{$t.transition=null,Re=1,Ux(e,t,a,r)}finally{$t.transition=n,Re=r}return null}function Ux(e,t,a,r){do rr();while(Os!==null);if(Se&6)throw Error(Z(327));a=e.finishedWork;var n=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=a.lanes|a.childLanes;if(y0(e,i),e===at&&(We=at=null,lt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Kn||(Kn=!0,kf(Ni,function(){return rr(),null})),i=(a.flags&15990)!==0,a.subtreeFlags&15990||i){i=$t.transition,$t.transition=null;var l=Re;Re=1;var d=Se;Se|=4,cd.current=null,Px(e,a),vf(a,e),lx(Po),Ci=!!Eo,Po=Eo=null,e.current=a,Bx(a),h0(),Se=d,Re=l,$t.transition=i}else e.current=a;if(Kn&&(Kn=!1,Os=e,qi=n),i=e.pendingLanes,i===0&&(Qs=null),p0(a.stateNode),St(e,Ge()),t!==null)for(r=e.onRecoverableError,a=0;a<t.length;a++)n=t[a],r(n.value,{componentStack:n.stack,digest:n.digest});if(Ui)throw Ui=!1,e=tc,tc=null,e;return qi&1&&e.tag!==0&&rr(),i=e.pendingLanes,i&1?e===sc?Xr++:(Xr=0,sc=e):Xr=0,Zs(),null}function rr(){if(Os!==null){var e=rm(qi),t=$t.transition,a=Re;try{if($t.transition=null,Re=16>e?16:e,Os===null)var r=!1;else{if(e=Os,Os=null,qi=0,Se&6)throw Error(Z(331));var n=Se;for(Se|=4,ie=e.current;ie!==null;){var i=ie,l=i.child;if(ie.flags&16){var d=i.deletions;if(d!==null){for(var c=0;c<d.length;c++){var o=d[c];for(ie=o;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:Wr(8,u,i)}var h=u.child;if(h!==null)h.return=u,ie=h;else for(;ie!==null;){u=ie;var x=u.sibling,m=u.return;if(xf(u),u===o){ie=null;break}if(x!==null){x.return=m,ie=x;break}ie=m}}}var A=i.alternate;if(A!==null){var p=A.child;if(p!==null){A.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}ie=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ie=l;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,ie=f;break e}ie=i.return}}var g=e.current;for(ie=g;ie!==null;){l=ie;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,ie=v;else e:for(l=g;ie!==null;){if(d=ie,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:ol(9,d)}}catch(_){qe(d,d.return,_)}if(d===l){ie=null;break e}var w=d.sibling;if(w!==null){w.return=d.return,ie=w;break e}ie=d.return}}if(Se=n,Zs(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(el,e)}catch{}r=!0}return r}finally{Re=a,$t.transition=t}}return!1}function Uu(e,t,a){t=dr(a,t),t=rf(e,t,1),e=Vs(e,t,1),t=xt(),e!==null&&(jn(e,1,t),St(e,t))}function qe(e,t,a){if(e.tag===3)Uu(e,e,a);else for(;t!==null;){if(t.tag===3){Uu(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qs===null||!Qs.has(r))){e=dr(a,e),e=nf(t,e,1),t=Vs(t,e,1),e=xt(),t!==null&&(jn(t,1,e),St(t,e));break}}t=t.return}}function qx(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&a,at===e&&(lt&a)===a&&(Ye===4||Ye===3&&(lt&130023424)===lt&&500>Ge()-ud?fa(e,0):dd|=a),St(e,t)}function Cf(e,t){t===0&&(e.mode&1?(t=zn,zn<<=1,!(zn&130023424)&&(zn=4194304)):t=1);var a=xt();e=Ns(e,t),e!==null&&(jn(e,t,a),St(e,a))}function $x(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Cf(e,a)}function Vx(e,t){var a=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Cf(e,a)}var Sf;Sf=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Nt=!0;else{if(!(e.lanes&a)&&!(t.flags&128))return Nt=!1,Dx(e,t,a);Nt=!!(e.flags&131072)}else Nt=!1,Ie&&t.flags&1048576&&Lm(t,Fi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hi(e,t),e=t.pendingProps;var n=ir(t,mt.current);ar(t,a),n=rd(null,t,r,e,n,a);var i=nd();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(r)?(i=!0,Di(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Zc(t),n.updater=ll,t.stateNode=n,n._reactInternals=t,Vo(t,r,e,a),t=Wo(null,t,r,!0,i,a)):(t.tag=0,Ie&&i&&Gc(t),pt(null,t,n,a),t=t.child),t;case 16:r=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,n=r._init,r=n(r._payload),t.type=r,n=t.tag=Gx(r),e=Kt(r,e),n){case 0:t=Go(null,t,r,e,a);break e;case 1:t=Du(null,t,r,e,a);break e;case 11:t=Ru(null,t,r,e,a);break e;case 14:t=Lu(null,t,r,Kt(r.type,e),a);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Kt(r,n),Go(e,t,r,n,a);case 1:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Kt(r,n),Du(e,t,r,n,a);case 3:e:{if(df(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,n=i.element,Bm(e,t),Bi(t,r,null,a);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=dr(Error(Z(423)),t),t=Tu(e,t,r,a,n);break e}else if(r!==n){n=dr(Error(Z(424)),t),t=Tu(e,t,r,a,n);break e}else for(Ft=$s(t.stateNode.containerInfo.firstChild),Et=t,Ie=!0,Zt=null,a=Em(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(lr(),r===n){t=js(e,t,a);break e}pt(e,t,r,a)}t=t.child}return t;case 5:return Im(t),e===null&&Uo(t),r=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,Bo(r,n)?l=null:i!==null&&Bo(r,i)&&(t.flags|=32),cf(e,t),pt(e,t,l,a),t.child;case 6:return e===null&&Uo(t),null;case 13:return uf(e,t,a);case 4:return ed(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,a):pt(e,t,r,a),t.child;case 11:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Kt(r,n),Ru(e,t,r,n,a);case 7:return pt(e,t,t.pendingProps,a),t.child;case 8:return pt(e,t,t.pendingProps.children,a),t.child;case 12:return pt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,Fe(Ei,r._currentValue),r._currentValue=l,i!==null)if(rs(i.value,l)){if(i.children===n.children&&!jt.current){t=js(e,t,a);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var d=i.dependencies;if(d!==null){l=i.child;for(var c=d.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ys(-1,a&-a),c.tag=2;var o=i.updateQueue;if(o!==null){o=o.shared;var u=o.pending;u===null?c.next=c:(c.next=u.next,u.next=c),o.pending=c}}i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),qo(i.return,a,t),d.lanes|=a;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Z(341));l.lanes|=a,d=l.alternate,d!==null&&(d.lanes|=a),qo(l,a,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}pt(e,t,n.children,a),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,ar(t,a),n=Gt(n),r=r(n),t.flags|=1,pt(e,t,r,a),t.child;case 14:return r=t.type,n=Kt(r,t.pendingProps),n=Kt(r.type,n),Lu(e,t,r,n,a);case 15:return lf(e,t,t.type,t.pendingProps,a);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Kt(r,n),hi(e,t),t.tag=1,Ct(r)?(e=!0,Di(t)):e=!1,ar(t,a),af(t,r,n),Vo(t,r,n,a),Wo(null,t,r,!0,e,a);case 19:return hf(e,t,a);case 22:return of(e,t,a)}throw Error(Z(156,t.tag))};function kf(e,t){return em(e,t)}function Qx(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,a,r){return new Qx(e,t,a,r)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gx(e){if(typeof e=="function")return pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ec)return 11;if(e===Pc)return 14}return 2}function Ws(e,t){var a=e.alternate;return a===null?(a=qt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function pi(e,t,a,r,n,i){var l=2;if(r=e,typeof e=="function")pd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ma:return pa(a.children,n,i,t);case Fc:l=8,n|=8;break;case fo:return e=qt(12,a,t,n|2),e.elementType=fo,e.lanes=i,e;case po:return e=qt(13,a,t,n),e.elementType=po,e.lanes=i,e;case xo:return e=qt(19,a,t,n),e.elementType=xo,e.lanes=i,e;case Ih:return dl(a,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ph:l=10;break e;case Bh:l=9;break e;case Ec:l=11;break e;case Pc:l=14;break e;case Ts:l=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=qt(l,a,t,n),t.elementType=e,t.type=r,t.lanes=i,t}function pa(e,t,a,r){return e=qt(7,e,r,t),e.lanes=a,e}function dl(e,t,a,r){return e=qt(22,e,r,t),e.elementType=Ih,e.lanes=a,e.stateNode={isHidden:!1},e}function Xl(e,t,a){return e=qt(6,e,null,t),e.lanes=a,e}function Kl(e,t,a){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wx(e,t,a,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function xd(e,t,a,r,n,i,l,d,c){return e=new Wx(e,t,a,d,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(i),e}function Hx(e,t,a){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ia,key:r==null?null:""+r,children:e,containerInfo:t,implementation:a}}function Rf(e){if(!e)return Xs;e=e._reactInternals;e:{if(Na(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var a=e.type;if(Ct(a))return km(e,a,t)}return t}function Lf(e,t,a,r,n,i,l,d,c){return e=xd(a,r,!0,e,n,i,l,d,c),e.context=Rf(null),a=e.current,r=xt(),n=Gs(a),i=ys(r,n),i.callback=t??null,Vs(a,i,n),e.current.lanes=n,jn(e,n,r),St(e,r),e}function ul(e,t,a,r){var n=t.current,i=xt(),l=Gs(n);return a=Rf(a),t.context===null?t.context=a:t.pendingContext=a,t=ys(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vs(n,t,l),e!==null&&(ss(e,n,l,i),ci(e,n,l)),l}function Vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ad(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function Xx(){return null}var Df=typeof reportError=="function"?reportError:function(e){console.error(e)};function gd(e){this._internalRoot=e}hl.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));ul(e,t,null,null)};hl.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ya(function(){ul(null,e,null,null)}),t[_s]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=lm();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ps.length&&t!==0&&t<Ps[a].priority;a++);Ps.splice(a,0,e),a===0&&cm(e)}};function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $u(){}function Kx(e,t,a,r,n){if(n){if(typeof r=="function"){var i=r;r=function(){var o=Vi(l);i.call(o)}}var l=Lf(t,r,e,0,null,!1,!1,"",$u);return e._reactRootContainer=l,e[_s]=l.current,dn(e.nodeType===8?e.parentNode:e),ya(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var d=r;r=function(){var o=Vi(c);d.call(o)}}var c=xd(e,0,!1,null,null,!1,!1,"",$u);return e._reactRootContainer=c,e[_s]=c.current,dn(e.nodeType===8?e.parentNode:e),ya(function(){ul(t,c,a,r)}),c}function fl(e,t,a,r,n){var i=a._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var d=n;n=function(){var c=Vi(l);d.call(c)}}ul(t,l,e,n)}else l=Kx(a,t,e,n,r);return Vi(l)}nm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=Br(t.pendingLanes);a!==0&&(Mc(t,a|1),St(t,Ge()),!(Se&6)&&(ur=Ge()+500,Zs()))}break;case 13:ya(function(){var r=Ns(e,1);if(r!==null){var n=xt();ss(r,e,1,n)}}),Ad(e,1)}};Oc=function(e){if(e.tag===13){var t=Ns(e,134217728);if(t!==null){var a=xt();ss(t,e,134217728,a)}Ad(e,134217728)}};im=function(e){if(e.tag===13){var t=Gs(e),a=Ns(e,t);if(a!==null){var r=xt();ss(a,e,t,r)}Ad(e,t)}};lm=function(){return Re};om=function(e,t){var a=Re;try{return Re=e,t()}finally{Re=a}};Co=function(e,t,a){switch(t){case"input":if(vo(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var n=rl(r);if(!n)throw Error(Z(90));Oh(r),vo(r,n)}}}break;case"textarea":Uh(e,a);break;case"select":t=a.value,t!=null&&Za(e,!!a.multiple,t,!1)}};Hh=hd;Xh=ya;var Jx={usingClientEntryPoint:!1,Events:[Sn,qa,rl,Gh,Wh,hd]},Dr={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yx={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yh(e),e===null?null:e.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||Xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jn.isDisabled&&Jn.supportsFiber)try{el=Jn.inject(Yx),ds=Jn}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jx;Bt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(t))throw Error(Z(200));return Hx(e,t,null,a)};Bt.createRoot=function(e,t){if(!vd(e))throw Error(Z(299));var a=!1,r="",n=Df;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=xd(e,1,!1,null,null,a,!1,r,n),e[_s]=t.current,dn(e.nodeType===8?e.parentNode:e),new gd(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Yh(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return ya(e)};Bt.hydrate=function(e,t,a){if(!ml(t))throw Error(Z(200));return fl(null,e,t,!0,a)};Bt.hydrateRoot=function(e,t,a){if(!vd(e))throw Error(Z(405));var r=a!=null&&a.hydratedSources||null,n=!1,i="",l=Df;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onRecoverableError!==void 0&&(l=a.onRecoverableError)),t=Lf(t,null,e,1,a??null,n,!1,i,l),e[_s]=t.current,dn(e),r)for(e=0;e<r.length;e++)a=r[e],n=a._getVersion,n=n(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,n]:t.mutableSourceEagerHydrationData.push(a,n);return new hl(t)};Bt.render=function(e,t,a){if(!ml(t))throw Error(Z(200));return fl(null,e,t,!1,a)};Bt.unmountComponentAtNode=function(e){if(!ml(e))throw Error(Z(40));return e._reactRootContainer?(ya(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[_s]=null})}),!0):!1};Bt.unstable_batchedUpdates=hd;Bt.unstable_renderSubtreeIntoContainer=function(e,t,a,r){if(!ml(a))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return fl(e,t,a,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function Tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tf)}catch(e){console.error(e)}}Tf(),Dh.exports=Bt;var Zx=Dh.exports,Ff,Vu=Zx;Ff=Vu.createRoot,Vu.hydrateRoot;const eA="modulepreload",tA=function(e){return"/"+e},Qu={},Cs=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(a.map(c=>{if(c=tA(c),c in Qu)return;Qu[c]=!0;const o=c.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":eA,o||(h.as="script"),h.crossOrigin="",h.href=c,d&&h.setAttribute("nonce",d),document.head.appendChild(h),o)return new Promise((x,m)=>{h.addEventListener("load",x),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return n.then(l=>{for(const d of l||[])d.status==="rejected"&&i(d.reason);return t().catch(i)})},sA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)};class bd extends Error{constructor(t,a="FunctionsError",r){super(t),this.name=a,this.context=r}}class aA extends bd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gu extends bd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wu extends bd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nc||(nc={}));var rA=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};class nA{constructor(t,{headers:a={},customFetch:r,region:n=nc.Any}={}){this.url=t,this.headers=a,this.region=n,this.fetch=sA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,a={}){var r;return rA(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:l}=a;let d={},{region:c}=a;c||(c=this.region);const o=new URL(`${this.url}/${t}`);c&&c!=="any"&&(d["x-region"]=c,o.searchParams.set("forceFunctionRegion",c));let u;l&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(d["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(d["Content-Type"]="application/json",u=JSON.stringify(l)));const h=yield this.fetch(o.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),n),body:u}).catch(p=>{throw new aA(p)}),x=h.headers.get("x-relay-error");if(x&&x==="true")throw new Gu(h);if(!h.ok)throw new Wu(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),A;return m==="application/json"?A=yield h.json():m==="application/octet-stream"?A=yield h.blob():m==="text/event-stream"?A=h:m==="multipart/form-data"?A=yield h.formData():A=yield h.text(),{data:A,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof Wu||n instanceof Gu?n.context:void 0}}})}}var wt={},yd={},pl={},Rn={},xl={},Al={},iA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hr=iA();const lA=hr.fetch,Ef=hr.fetch.bind(hr),Pf=hr.Headers,oA=hr.Request,cA=hr.Response,gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pf,Request:oA,Response:cA,default:Ef,fetch:lA},Symbol.toStringTag,{value:"Module"})),dA=Sp(gr);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});let uA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gl.default=uA;var Bf=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Al,"__esModule",{value:!0});const hA=Bf(dA),mA=Bf(gl);let fA=class{constructor(t){var a,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(a=t.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,a){return this.headers=new Headers(this.headers),this.headers.set(t,a),this}then(t,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,d,c,o;let u=null,h=null,x=null,m=i.status,A=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),f=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&f&&f.length>1&&(x=parseInt(f[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,x=null,m=406,A="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(h=[],u=null,m=200,A="OK")}catch{i.status===404&&b===""?(m=204,A="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,m=200,A="OK"),u&&this.shouldThrowOnError)throw new mA.default(u)}return{error:u,data:h,count:x,status:m,statusText:A}});return this.shouldThrowOnError||(n=n.catch(i=>{var l,d,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(d=i==null?void 0:i.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,a)}returns(){return this}overrideTypes(){return this}};Al.default=fA;var pA=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xl,"__esModule",{value:!0});const xA=pA(Al);let AA=class extends xA.default{select(t){let a=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!a?"":(n==='"'&&(a=!a),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:a=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.order`:"order",d=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${d?`${d},`:""}${t}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:a,referencedTable:r=a}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,a,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${a-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:a=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:l="text"}={}){var d;const c=[t?"analyze":null,a?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${o}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};xl.default=AA;var gA=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rn,"__esModule",{value:!0});const vA=gA(xl);let bA=class extends vA.default{eq(t,a){return this.url.searchParams.append(t,`eq.${a}`),this}neq(t,a){return this.url.searchParams.append(t,`neq.${a}`),this}gt(t,a){return this.url.searchParams.append(t,`gt.${a}`),this}gte(t,a){return this.url.searchParams.append(t,`gte.${a}`),this}lt(t,a){return this.url.searchParams.append(t,`lt.${a}`),this}lte(t,a){return this.url.searchParams.append(t,`lte.${a}`),this}like(t,a){return this.url.searchParams.append(t,`like.${a}`),this}likeAllOf(t,a){return this.url.searchParams.append(t,`like(all).{${a.join(",")}}`),this}likeAnyOf(t,a){return this.url.searchParams.append(t,`like(any).{${a.join(",")}}`),this}ilike(t,a){return this.url.searchParams.append(t,`ilike.${a}`),this}ilikeAllOf(t,a){return this.url.searchParams.append(t,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(t,a){return this.url.searchParams.append(t,`ilike(any).{${a.join(",")}}`),this}is(t,a){return this.url.searchParams.append(t,`is.${a}`),this}in(t,a){const r=Array.from(new Set(a)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cs.{${a.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(a)}`),this}containedBy(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cd.{${a.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(a)}`),this}rangeGt(t,a){return this.url.searchParams.append(t,`sr.${a}`),this}rangeGte(t,a){return this.url.searchParams.append(t,`nxl.${a}`),this}rangeLt(t,a){return this.url.searchParams.append(t,`sl.${a}`),this}rangeLte(t,a){return this.url.searchParams.append(t,`nxr.${a}`),this}rangeAdjacent(t,a){return this.url.searchParams.append(t,`adj.${a}`),this}overlaps(t,a){return typeof a=="string"?this.url.searchParams.append(t,`ov.${a}`):this.url.searchParams.append(t,`ov.{${a.join(",")}}`),this}textSearch(t,a,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${l}.${a}`),this}match(t){return Object.entries(t).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(t,a,r){return this.url.searchParams.append(t,`not.${a}.${r}`),this}or(t,{foreignTable:a,referencedTable:r=a}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,a,r){return this.url.searchParams.append(t,`${a}.${r}`),this}};Rn.default=bA;var yA=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const Tr=yA(Rn);let wA=class{constructor(t,{headers:a={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(a),this.schema=r,this.fetch=n}select(t,{head:a=!1,count:r}={}){const n=a?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new Tr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:a,defaultToNull:r=!0}={}){var n;const i="POST";if(a&&this.headers.append("Prefer",`count=${a}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(l.length>0){const d=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new Tr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:a,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var l;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(c.length>0){const o=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Tr.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:a}={}){var r;const n="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Tr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var a;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Tr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};pl.default=wA;var If=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});const _A=If(pl),NA=If(Rn);let jA=class Mf{constructor(t,{headers:a={},schema:r,fetch:n}={}){this.url=t,this.headers=new Headers(a),this.schemaName=r,this.fetch=n}from(t){const a=new URL(`${this.url}/${t}`);return new _A.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Mf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:r=!1,get:n=!1,count:i}={}){var l;let d;const c=new URL(`${this.url}/rpc/${t}`);let o;r||n?(d=r?"HEAD":"GET",Object.entries(a).filter(([h,x])=>x!==void 0).map(([h,x])=>[h,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([h,x])=>{c.searchParams.append(h,x)})):(d="POST",o=a);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new NA.default({method:d,url:c,headers:u,schema:this.schemaName,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};yd.default=jA;var vr=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0});wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const Of=vr(yd);wt.PostgrestClient=Of.default;const zf=vr(pl);wt.PostgrestQueryBuilder=zf.default;const Uf=vr(Rn);wt.PostgrestFilterBuilder=Uf.default;const qf=vr(xl);wt.PostgrestTransformBuilder=qf.default;const $f=vr(Al);wt.PostgrestBuilder=$f.default;const Vf=vr(gl);wt.PostgrestError=Vf.default;var CA=wt.default={PostgrestClient:Of.default,PostgrestQueryBuilder:zf.default,PostgrestFilterBuilder:Uf.default,PostgrestTransformBuilder:qf.default,PostgrestBuilder:$f.default,PostgrestError:Vf.default};const{PostgrestClient:SA,PostgrestQueryBuilder:Ty,PostgrestFilterBuilder:Fy,PostgrestTransformBuilder:Ey,PostgrestBuilder:Py,PostgrestError:By}=CA;class kA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const r=a.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const r=this.getWebSocketConstructor();return new r(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const RA="2.15.5",LA=`realtime-js/${RA}`,DA="1.0.0",ic=1e4,TA=1e3,FA=100;var Kr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kr||(Kr={}));var Xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xe||(Xe={}));var Yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yt||(Yt={}));var lc;(function(e){e.websocket="websocket"})(lc||(lc={}));var oa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oa||(oa={}));class EA{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,a,r)}_decodeBroadcast(t,a,r){const n=a.getUint8(1),i=a.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+n));l=l+n;const c=r.decode(t.slice(l,l+i));l=l+i;const o=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:c,payload:o}}}class Qf{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Te||(Te={}));const Hu=(e,t,a={})=>{var r;const n=(r=a.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,l)=>(i[l]=PA(l,e,t,n),i),{})},PA=(e,t,a,r)=>{const n=t.find(d=>d.name===e),i=n==null?void 0:n.type,l=a[e];return i&&!r.includes(i)?Gf(i,l):oc(l)},Gf=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return OA(t,a)}switch(e){case Te.bool:return BA(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return IA(t);case Te.json:case Te.jsonb:return MA(t);case Te.timestamp:return zA(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return oc(t);default:return oc(t)}},oc=e=>e,BA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OA=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,r=e[a];if(e[0]==="{"&&r==="}"){let i;const l=e.slice(1,a);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(d=>Gf(t,d))}return e},zA=e=>typeof e=="string"?e.replace(" ","T"):e,Wf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Jl{constructor(t,a,r={},n=ic){this.channel=t,this.event=a,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var r;return this._hasReceived(t)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xu||(Xu={}));class Jr{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jr.syncState(this.state,n,i,l),this.pendingDiffs.forEach(c=>{this.state=Jr.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Jr.syncDiff(this.state,n,i,l),d())}),this.onJoin((n,i,l)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:l})}),this.onLeave((n,i,l)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,r,n){const i=this.cloneDeep(t),l=this.transformState(a),d={},c={};return this.map(i,(o,u)=>{l[o]||(c[o]=u)}),this.map(l,(o,u)=>{const h=i[o];if(h){const x=u.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),A=u.filter(b=>m.indexOf(b.presence_ref)<0),p=h.filter(b=>x.indexOf(b.presence_ref)<0);A.length>0&&(d[o]=A),p.length>0&&(c[o]=p)}else d[o]=u}),this.syncDiff(i,{joins:d,leaves:c},r,n)}static syncDiff(t,a,r,n){const{joins:i,leaves:l}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(d,c)=>{var o;const u=(o=t[d])!==null&&o!==void 0?o:[];if(t[d]=this.cloneDeep(c),u.length>0){const h=t[d].map(m=>m.presence_ref),x=u.filter(m=>h.indexOf(m.presence_ref)<0);t[d].unshift(...x)}r(d,u,c)}),this.map(l,(d,c)=>{let o=t[d];if(!o)return;const u=c.map(h=>h.presence_ref);o=o.filter(h=>u.indexOf(h.presence_ref)<0),t[d]=o,n(d,o,c),o.length===0&&delete t[d]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(r=>a(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,r)=>{const n=t[r];return"metas"in n?a[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):a[r]=n,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ku;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ku||(Ku={}));var Yr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yr||(Yr={}));var ps;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ps||(ps={}));class wd{constructor(t,a={config:{}},r){this.topic=t,this.params=a,this.socket=r,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Jl(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Qf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Jr(this),this.broadcastEndpointURL=Wf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,a=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:l,presence:d,private:c}}=this.params,o=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Yr.PRESENCE]&&this.bindings[Yr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},x={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:u}),postgres_changes:o,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ps.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ps.CLOSED)),this.updateJoinPayload(Object.assign({config:x},h)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:m})=>{var A;if(this.socket.setAuth(),m===void 0){t==null||t(ps.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,b=(A=p==null?void 0:p.length)!==null&&A!==void 0?A:0,f=[];for(let g=0;g<b;g++){const v=p[g],{filter:{event:w,schema:_,table:D,filter:R}}=v,S=m&&m[g];if(S&&S.event===w&&S.schema===_&&S.table===D&&S.filter===R)f.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=Xe.errored,t==null||t(ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t(ps.SUBSCRIBED);return}}).receive("error",m=>{this.state=Xe.errored,t==null||t(ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,r){return this.state===Xe.joined&&t===Yr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,a,r)}async send(t,a={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=o.body)===null||n===void 0?void 0:n.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,d,c;const o=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),o.receive("ok",()=>i("ok")),o.receive("error",()=>i("error")),o.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Jl(this,Yt.leave,{},t),r.receive("ok",()=>{a(),n("ok")}).receive("timeout",()=>{a(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xe.closed,this.bindings={}}async _fetchWithTimeout(t,a,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:n.signal}));return clearTimeout(i),l}_push(t,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Jl(this,t,a,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>FA){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,r){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,r){var n,i;const l=t.toLocaleLowerCase(),{close:d,error:c,leave:o,join:u}=Yt;if(r&&[d,c,o,u].indexOf(l)>=0&&r!==this._joinRef())return;let x=this._onMessage(l,a,r);if(a&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(m=>{var A,p,b;return((A=m.filter)===null||A===void 0?void 0:A.event)==="*"||((b=(p=m.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(m=>m.callback(x,r)):(i=this.bindings[l])===null||i===void 0||i.filter(m=>{var A,p,b,f,g,v;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const w=m.id,_=(A=m.filter)===null||A===void 0?void 0:A.event;return w&&((p=a.ids)===null||p===void 0?void 0:p.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=a.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(g=(f=m==null?void 0:m.filter)===null||f===void 0?void 0:f.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((v=a==null?void 0:a.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof x=="object"&&"ids"in x){const A=x.data,{schema:p,table:b,commit_timestamp:f,type:g,errors:v}=A;x=Object.assign(Object.assign({},{schema:p,table:b,commit_timestamp:f,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(A))}m.callback(x,r)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,r){const n=t.toLocaleLowerCase(),i={type:n,filter:a,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,a){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&wd.isEqual(n.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yt.close,{},t)}_onError(t){this._on(Yt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Hu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Hu(t.columns,t.old_record)),a}}const Yl=()=>{},Yn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UA=[1e3,2e3,5e3,1e4],qA=1e4,$A=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VA{constructor(t,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ic,this.transport=null,this.heartbeatIntervalMs=Yn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yl,this.ref=0,this.reconnectTimer=null,this.logger=Yl,this.conn=null,this.sendBuffer=[],this.serializer=new EA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...l)=>Cs(async()=>{const{default:d}=await Promise.resolve().then(()=>gr);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((r=a==null?void 0:a.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${lc.websocket}`,this.httpEndpoint=Wf(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DA}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,r){this.logger(t,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return oa.Connecting;case Kr.open:return oa.Open;case Kr.closing:return oa.Closing;default:return oa.Closed}}isConnected(){return this.connectionState()===oa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const r=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new wd(`realtime:${t}`,a,this);return this.channels.push(i),i}}push(t){const{topic:a,event:r,payload:n,ref:i}=t,l=()=>{this.encode(t,d=>{var c;(c=this.conn)===null||c===void 0||c.send(d)})};this.log("push",`${a} ${r} (${i})`,n),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(TA,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Yn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:l}=a,d=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${n} ${d}`.trim(),i),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(n,i,l)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(a);return`${t}${r}${n}`}_workerObjectUrl(t){let a;if(t)a=t;else{const r=new Blob([$A],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a;t?a=t:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(r=>{const n={access_token:a,version:LA};a&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Yt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(a)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Qf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,r,n,i,l,d,c,o,u;if(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ic,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:Yn.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Yl,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>UA[h-1]||qA,this.encode=(o=t==null?void 0:t.encode)!==null&&o!==void 0?o:(h,x)=>x(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class _d extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QA extends _d{constructor(t,a,r){super(t),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cc extends _d{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}var GA=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};const Hf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)},WA=()=>GA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>gr),void 0)).Response:Response}),dc=e=>{if(Array.isArray(e))return e.map(a=>dc(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,r])=>{const n=a.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=dc(r)}),t},HA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ja=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};const Zl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XA=(e,t,a)=>ja(void 0,void 0,void 0,function*(){const r=yield WA();e instanceof r&&!(a!=null&&a.noResolveJson)?e.json().then(n=>{const i=e.status||500,l=(n==null?void 0:n.statusCode)||i+"";t(new QA(Zl(n),i,l))}).catch(n=>{t(new cc(Zl(n),n))}):t(new cc(Zl(e),e))}),KA=(e,t,a,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?n:(HA(r)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(r)):n.body=r,t!=null&&t.duplex&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),a))};function Ln(e,t,a,r,n,i){return ja(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(a,KA(t,r,n,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>XA(c,d,r))})})}function Qi(e,t,a,r){return ja(this,void 0,void 0,function*(){return Ln(e,"GET",t,a,r)})}function os(e,t,a,r,n){return ja(this,void 0,void 0,function*(){return Ln(e,"POST",t,r,n,a)})}function uc(e,t,a,r,n){return ja(this,void 0,void 0,function*(){return Ln(e,"PUT",t,r,n,a)})}function JA(e,t,a,r){return ja(this,void 0,void 0,function*(){return Ln(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),r)})}function Xf(e,t,a,r,n){return ja(this,void 0,void 0,function*(){return Ln(e,"DELETE",t,r,n,a)})}var ft=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};const YA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ju={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZA{constructor(t,a={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=a,this.bucketId=r,this.fetch=Hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,a,r,n){return ft(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Ju),n);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,c&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(d=Object.assign(Object.assign({},d),n.headers));const o=this._removeEmptyFolders(a),u=this._getFinalPath(o),h=yield(t=="PUT"?uc:os)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:o,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}upload(t,a,r){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,r)})}uploadToSignedUrl(t,a,r,n){return ft(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",a);try{let c;const o=Object.assign({upsert:Ju.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",o.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",o.cacheControl)):(c=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType);const h=yield uc(this.fetch,d.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,a){return ft(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);a!=null&&a.upsert&&(n["x-upsert"]="true");const i=yield os(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),l=new URL(this.url+i.url),d=l.searchParams.get("token");if(!d)throw new _d("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}update(t,a,r){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,r)})}move(t,a,r){return ft(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}copy(t,a,r){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}createSignedUrl(t,a,r){return ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield os(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:a},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}createSignedUrls(t,a,r){return ft(this,void 0,void 0,function*(){try{const n=yield os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}download(t,a){return ft(this,void 0,void 0,function*(){const n=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),l=i?`?${i}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield Qi(this.fetch,`${this.url}/${n}/${d}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}})}info(t){return ft(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const r=yield Qi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:dc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}exists(t){return ft(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield JA(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r)&&r instanceof cc){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,a){const r=this._getFinalPath(t),n=[],i=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";i!==""&&n.push(i);const d=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});c!==""&&n.push(c);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${o}`)}}}remove(t){return ft(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}list(t,a,r){return ft(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},YA),a),{prefix:t||""});return{data:yield os(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listV2(t,a){return ft(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield os(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const eg="2.12.1",tg={"X-Client-Info":`storage-js/${eg}`};var Sa=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};class sg{constructor(t,a={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},tg),a),this.fetch=Hf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Sa(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}})}getBucket(t){return Sa(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}createBucket(t,a={public:!1}){return Sa(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}updateBucket(t,a){return Sa(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Sa(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}deleteBucket(t){return Sa(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}}class ag extends sg{constructor(t,a={},r,n){super(t,a,r,n)}from(t){return new ZA(this.url,this.headers,t,this.fetch)}}const rg="2.57.4";let Mr="";typeof Deno<"u"?Mr="deno":typeof document<"u"?Mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mr="react-native":Mr="node";const ng={"X-Client-Info":`supabase-js-${Mr}/${rg}`},ig={headers:ng},lg={schema:"public"},og={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cg={};var dg=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};const ug=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ef:t=fetch,(...a)=>t(...a)},hg=()=>typeof Headers>"u"?Pf:Headers,mg=(e,t,a)=>{const r=ug(a),n=hg();return(i,l)=>dg(void 0,void 0,void 0,function*(){var d;const c=(d=yield t())!==null&&d!==void 0?d:e;let o=new n(l==null?void 0:l.headers);return o.has("apikey")||o.set("apikey",e),o.has("Authorization")||o.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},l),{headers:o}))})};var fg=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};function pg(e){return e.endsWith("/")?e:e+"/"}function xg(e,t){var a,r;const{db:n,auth:i,realtime:l,global:d}=e,{db:c,auth:o,realtime:u,global:h}=t,x={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},o),i),realtime:Object.assign(Object.assign({},u),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),d),{headers:Object.assign(Object.assign({},(a=h==null?void 0:h.headers)!==null&&a!==void 0?a:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fg(this,void 0,void 0,function*(){return""})};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function Ag(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pg(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Kf="2.71.1",Pa=30*1e3,hc=3,eo=hc*Pa,gg="http://localhost:9999",vg="supabase.auth.token",bg={"X-Client-Info":`gotrue-js/${Kf}`},mc="X-Supabase-Api-Version",Jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wg=10*60*1e3;class Nd extends Error{constructor(t,a,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _g extends Nd{constructor(t,a,r){super(t,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function Ng(e){return ve(e)&&e.name==="AuthApiError"}class Yf extends Nd{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ea extends Nd{constructor(t,a,r,n){super(t,r,n),this.name=a,this.status=r}}class Ds extends ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jg(e){return ve(e)&&e.name==="AuthSessionMissingError"}class Zn extends ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ei extends ea{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ti extends ea{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cg(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yu extends ea{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fc extends ea{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function to(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class Zu extends ea{constructor(t,a,r){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class pc extends ea{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eh=` 	
\r=`.split(""),Sg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eh.length;t+=1)e[eh[t].charCodeAt(0)]=-2;for(let t=0;t<Gi.length;t+=1)e[Gi[t].charCodeAt(0)]=t;return e})();function th(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(Gi[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(Gi[r]),t.queuedBits-=6}}function Zf(e,t,a){const r=Sg[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sh(e){const t=[],a=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=l=>{Lg(l,r,a)};for(let l=0;l<e.length;l+=1)Zf(e.charCodeAt(l),n,i);return t.join("")}function kg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Rg(e,t){for(let a=0;a<e.length;a+=1){let r=e.charCodeAt(a);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(e.charCodeAt(a+1)-56320&65535|n)+65536,a+=1}kg(r,t)}}function Lg(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Dg(e){const t=[],a={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Zf(e.charCodeAt(n),a,r);return new Uint8Array(t)}function Tg(e){const t=[];return Rg(e,a=>t.push(a)),new Uint8Array(t)}function Fg(e){const t=[],a={queue:0,queuedBits:0},r=n=>{t.push(n)};return e.forEach(n=>th(n,a,r)),th(null,a,r),t.join("")}function Eg(e){return Math.round(Date.now()/1e3)+e}function Pg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},ep=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function Bg(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return a.searchParams.forEach((r,n)=>{t[n]=r}),t}const tp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)},Ig=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ba=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},sa=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ls=async(e,t)=>{await e.removeItem(t)};class vl{constructor(){this.promise=new vl.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}vl.promiseConstructor=Promise;function so(e){const t=e.split(".");if(t.length!==3)throw new pc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!yg.test(t[r]))throw new pc("JWT not in base64url format");return{header:JSON.parse(sh(t[0])),payload:JSON.parse(sh(t[1])),signature:Dg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Og(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){r(l);return}}catch(l){if(!t(i,l)){n(l);return}}})()})}function zg(e){return("0"+e.toString(16)).substr(-2)}function Ug(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let n="";for(let i=0;i<56;i++)n+=a.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,zg).join("")}async function qg(e){const a=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",a),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function $g(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await qg(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ka(e,t,a=!1){const r=Ug();let n=r;a&&(n+="/PASSWORD_RECOVERY"),await Ba(e,`${t}-code-verifier`,n);const i=await $g(r);return[i,r===i?"plain":"s256"]}const Vg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qg(e){const t=e.headers.get(mc);if(!t||!t.match(Vg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Gg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ra(e){if(!Hg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ao(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ah(e){return JSON.parse(JSON.stringify(e))}var Xg=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};const la=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kg=[502,503,504];async function rh(e){var t;if(!Ig(e))throw new fc(la(e),0);if(Kg.includes(e.status))throw new fc(la(e),e.status);let a;try{a=await e.json()}catch(i){throw new Yf(la(i),i)}let r;const n=Qg(e);if(n&&n.getTime()>=Jf["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new Zu(la(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ds}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Zu(la(a),e.status,a.weak_password.reasons);throw new _g(la(a),e.status||500,r)}const Jg=(e,t,a,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),a))};async function ye(e,t,a,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[mc]||(i[mc]=Jf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Yg(e,t,a+d,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Yg(e,t,a,r,n,i){const l=Jg(t,r,n,i);let d;try{d=await e(a,Object.assign({},l))}catch(c){throw console.error(c),new fc(la(c),0)}if(d.ok||await rh(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(c){await rh(c)}}function ms(e){var t;let a=null;sv(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=Eg(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:r},error:null}}function nh(e){const t=ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Is(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Zg(e){return{data:e,error:null}}function ev(e){const{action_link:t,email_otp:a,hashed_token:r,redirect_to:n,verification_type:i}=e,l=Xg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:a,hashed_token:r,redirect_to:n,verification_type:i},c=Object.assign({},l);return{data:{properties:d,user:c},error:null}}function tv(e){return e}function sv(e){return e.access_token&&e.refresh_token&&e.expires_in}const ro=["global","local","others"];var av=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};class rv{constructor({url:t="",headers:a={},fetch:r}){this.url=t,this.headers=a,this.fetch=tp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,a=ro[0]){if(ro.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ro.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,a={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Is})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:a}=t,r=av(t,["options"]),n=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ev,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(ve(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Is})}catch(a){if(ve(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,r,n,i,l,d,c;try{const o={nextPage:null,lastPage:0,total:0},u=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:tv});if(u.error)throw u.error;const h=await u.json(),x=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(c=(d=u.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(A=>{const p=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(A.split(";")[1].split("=")[1]);o[`${b}Page`]=p}),o.total=parseInt(x)),{data:Object.assign(Object.assign({},h),o),error:null}}catch(o){if(ve(o))return{data:{users:[]},error:o};throw o}}async getUserById(t){Ra(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Is})}catch(a){if(ve(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Ra(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Is})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,a=!1){Ra(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Is})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ra(t.userId);try{const{data:a,error:r}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:a,error:r}}catch(a){if(ve(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Ra(t.userId),Ra(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}}}function ih(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}function nv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const La={debug:!!(globalThis&&ep()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iv extends sp{}async function lv(e,t,a){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),La.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await a()}finally{La.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw La.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(La.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}nv();const ov={url:gg,storageKey:vg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lh(e,t,a){return await a()}const Da={};class vn{constructor(t){var a,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vn.nextInstanceID,vn.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},ov),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new rv({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=tp(n.fetch),this.lock=n.lock||lh,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Xt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=lv:this.lock=lh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ep()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ih(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ih(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,a;return(a=(t=Da[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Da[this.storageKey]=Object.assign(Object.assign({},Da[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Da[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Da[this.storageKey]=Object.assign(Object.assign({},Da[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=Bg(window.location.href);let r="none";if(this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce"),Xt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(a,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cg(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:d}=n;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return ve(a)?{error:a}:{error:new Yf("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,r,n;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:ms}),{data:l,error:d}=i;if(d||!l)return{data:{user:null,session:null},error:d};const c=l.session,o=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var a,r,n;try{let i;if("email"in t){const{email:u,password:h,options:x}=t;let m=null,A=null;this.flowType==="pkce"&&([m,A]=await ka(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:u,password:h,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:m,code_challenge_method:A},xform:ms})}else if("phone"in t){const{phone:u,password:h,options:x}=t;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(n=x==null?void 0:x.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:ms})}else throw new ei("You must provide either an email or phone number and a password");const{data:l,error:d}=i;if(d||!l)return{data:{user:null,session:null},error:d};const c=l.session,o=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let a;if("email"in t){const{email:i,password:l,options:d}=t;a=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:nh})}else if("phone"in t){const{phone:i,password:l,options:d}=t;a=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:nh})}else throw new ei("You must provide either an email or phone number and a password");const{data:r,error:n}=a;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;if(a==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(t){var a,r,n,i,l,d,c,o,u,h,x,m;let A,p;if("message"in t)A=t.message,p=t.signature;else{const{chain:b,wallet:f,statement:g,options:v}=t;let w;if(Xt())if(typeof f=="object")w=f;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))w=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=f}const _=new URL((a=v==null?void 0:v.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in w&&w.signIn){const D=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)A=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),p=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(n=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await w.signMessage(new TextEncoder().encode(A),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=D}}try{const{data:b,error:f}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Fg(p)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ms});if(f)throw f;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Zn}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:f})}catch(b){if(ve(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const a=await sa(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(a??"").split("/");try{const{data:i,error:l}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ms});if(await Ls(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:l})}catch(i){if(ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:a,provider:r,token:n,access_token:i,nonce:l}=t,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ms}),{data:c,error:o}=d;return o?{data:{user:null,session:null},error:o}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:o})}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,r,n,i,l;try{if("email"in t){const{email:d,options:c}=t;let o=null,u=null;this.flowType==="pkce"&&([o,u]=await ka(this.storage,this.storageKey));const{error:h}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:o,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:d,options:c}=t,{data:o,error:u}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new ei("You must provide either an email or phone number.")}catch(d){if(ve(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var a,r;try{let n,i;"options"in t&&(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ms});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,o=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var a,r,n;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await ka(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Zg})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;if(r)throw r;if(!a)throw new Ds;const{error:n}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:l}=await ye(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:l,error:d}=await ye(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new ei("You must provide either an email or phone number and a type")}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<eo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await sa(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=ao()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,o,u)=>(!l&&o==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,o,u))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Is}):await this._useSession(async a=>{var r,n,i;const{data:l,error:d}=a;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ds}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Is})})}catch(a){if(ve(a))return jg(a)&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Ds;const l=n.session;let d=null,c=null;this.flowType==="pkce"&&t.email!=null&&([d,c]=await ka(this.storage,this.storageKey));const{data:o,error:u}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:c}),jwt:l.access_token,xform:Is});if(u)throw u;return l.user=o.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ds;const a=Date.now()/1e3;let r=a,n=!0,i=null;const{payload:l}=so(t.access_token);if(l.exp&&(r=l.exp,n=r<=a),n){const{session:d,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!d)return{data:{user:null,session:null},error:null};i=d}else{const{data:d,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(a){if(ve(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var r;if(!t){const{data:l,error:d}=a;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ds;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!Xt())throw new ti("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ti(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Yu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ti("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yu("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:l,expires_in:d,expires_at:c,token_type:o}=t;if(!i||!d||!l||!o)throw new ti("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(d);let x=u+h;c&&(x=parseInt(c));const m=x-u;m*1e3<=Pa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const A=x-h;u-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,x,u):u-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,x,u);const{data:p,error:b}=await this._getUser(i);if(b)throw b;const f={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:x,refresh_token:l,token_type:o,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:t.type},error:null}}catch(r){if(ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:n,error:i}=a;if(i)return{error:i};const l=(r=n.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(Ng(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=Pg(),r={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async a=>{var r,n;try{const{data:{session:i},error:l}=a;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,a={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ka(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}}async linkIdentity(t){var a;try{const{data:r,error:n}=await this._useSession(async i=>{var l,d,c,o,u;const{data:h,error:x}=i;if(x)throw x;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Xt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async a=>{var r,n;const{data:i,error:l}=a;if(l)throw l;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(a){if(ve(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await Og(async n=>(n>0&&await Mg(200*Math.pow(2,n-1)),this._debug(a,"refreshing attempt",n),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ms})),(n,i)=>{const l=200*Math.pow(2,n);return i&&to(i)&&Date.now()+l-r<Pa})}catch(r){if(this._debug(a,"error",r),ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",r),Xt()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await sa(this.storage,this.storageKey);if(n&&this.userStorage){let l=await sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:n.user},await Ba(this.userStorage,this.storageKey+"-user",l)),n.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:ao()}else if(n&&!n.user&&!n.user){const l=await sa(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(n.user=l.user,await Ls(this.storage,this.storageKey+"-user"),await Ba(this.storage,this.storageKey,n)):n.user=ao()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((a=n.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<eo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${eo}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),to(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(n.access_token);!d&&(l!=null&&l.user)?(n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var a,r;if(!t)throw new Ds;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new vl;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Ds;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const d={session:i.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(i){if(this._debug(n,"error",i),ve(i)){const l={session:null,error:i};return to(i)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,a,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:a});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,a)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let d=0;d<i.length;d+=1)console.error(i[d]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Ba(this.userStorage,this.storageKey+"-user",{user:a.user});const n=Object.assign({},a);delete n.user;const i=ah(n);await Ba(this.storage,this.storageKey,i)}else{const n=ah(a);await Ba(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ls(this.storage,this.storageKey),await Ls(this.storage,this.storageKey+"-code-verifier"),await Ls(this.storage,this.storageKey+"-user"),this.userStorage&&await Ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/Pa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Pa}ms, refresh threshold is ${hc} ticks`),n<=hc&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,r){const n=[`provider=${encodeURIComponent(a)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,l]=await ka(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});n.push(d.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var r;const{data:n,error:i}=a;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(ve(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var r,n;const{data:i,error:l}=a;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:o}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(t.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(a){if(ve(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:n,error:i}=a;if(i)return{data:null,error:i};const{data:l,error:d}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(a){if(ve(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:n,error:i}=a;return i?{data:null,error:i}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(ve(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const r=(t==null?void 0:t.factors)||[],n=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=so(n.access_token);let d=null;l.aal&&(d=l.aal);let c=d;((r=(a=n.user.factors)===null||a===void 0?void 0:a.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:d,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,a={keys:[]}){let r=a.keys.find(d=>d.kid===t);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+wg>n)return r;const{data:i,error:l}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,a={}){try{let r=t;if(!r){const{data:m,error:A}=await this.getSession();if(A||!m.session)return{data:null,error:A};r=m.session.access_token}const{header:n,payload:i,signature:l,raw:{header:d,payload:c}}=so(r);a!=null&&a.allowExpired||Gg(i.exp);const o=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!o){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:n,signature:l},error:null}}const u=Wg(n.alg),h=await crypto.subtle.importKey("jwk",o,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,Tg(`${d}.${c}`)))throw new pc("Invalid JWT signature");return{data:{claims:i,header:n,signature:l},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}vn.nextInstanceID=0;const cv=vn;class dv extends cv{constructor(t){super(t)}}var uv=function(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,t||[])).next())})};class hv{constructor(t,a,r){var n,i,l;this.supabaseUrl=t,this.supabaseKey=a;const d=Ag(t);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const c=`sb-${d.hostname.split(".")[0]}-auth-token`,o={db:lg,realtime:cg,auth:Object.assign(Object.assign({},og),{storageKey:c}),global:ig},u=xg(r??{},o);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=mg(a,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new SA(new URL("rest/v1",d).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ag(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new nA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},r={}){return this.rest.rpc(t,a,r)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,a;return uv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(a=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:l,flowType:d,lock:c,debug:o},u,h){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dv({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),u),storageKey:l,autoRefreshToken:t,persistSession:a,detectSessionInUrl:r,storage:n,userStorage:i,flowType:d,lock:c,debug:o,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new VA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,a,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mv=(e,t,a)=>new hv(e,t,a);function fv(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}fv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pv="https://loecznaujbzobsjbwlmg.supabase.co",xv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZWN6bmF1amJ6b2JzamJ3bG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxODQyNzMsImV4cCI6MjA4MTc2MDI3M30.6XeHGMlyaqHWi5Nn5wcRdruznkFGSmGxWVHJ3iz0C-s",X=mv(pv,xv);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const a=O.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:c,...o},u)=>O.createElement("svg",{ref:u,...Av,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:["lucide",`lucide-${gv(e)}`,d].join(" "),...o},[...t.map(([h,x])=>O.createElement(h,x)),...Array.isArray(c)?c:[c]]));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=le("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=le("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=le("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=le("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=le("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=le("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=le("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=le("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=le("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=le("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=le("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);async function Pv(){const e=[{user_id:null,entity_code:"SSC",entity_name:"State Street Corporation",entity_type:"parent",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Parent Holding Company"],description:"Top-tier bank holding company"},{user_id:null,entity_code:"SSBT",entity_name:"State Street Bank and Trust Company",entity_type:"subsidiary",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody","Investment Servicing","Investment Management"],description:"Principal banking subsidiary providing custody and investment servicing"},{user_id:null,entity_code:"SSIF",entity_name:"State Street Intermediate Funding LLC",entity_type:"funding_entity",jurisdiction:"United States (DE)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Internal Funding"],description:"Intermediate funding entity for capital and liquidity distribution"},{user_id:null,entity_code:"SSIH",entity_name:"State Street International Holdings",entity_type:"material_entity",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"Edge corporation holding international subsidiaries"},{user_id:null,entity_code:"SSTCC",entity_name:"State Street Trust Company Canada",entity_type:"material_entity",jurisdiction:"Canada",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"Canadian trust company for custody services"},{user_id:null,entity_code:"SSGA",entity_name:"State Street Global Advisors",entity_type:"material_entity",jurisdiction:"United States (MA)",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Investment Management"],description:"Investment management division"},{user_id:null,entity_code:"SSBEL",entity_name:"State Street Bank Europe Limited",entity_type:"material_entity",jurisdiction:"Ireland",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody","Investment Servicing"],description:"European banking operations"},{user_id:null,entity_code:"SSLUX",entity_name:"State Street Bank International GmbH",entity_type:"material_entity",jurisdiction:"Germany",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"German banking subsidiary"},{user_id:null,entity_code:"SSAPAC",entity_name:"State Street Australia Limited",entity_type:"material_entity",jurisdiction:"Australia",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Global Custody"],description:"Asia-Pacific custody operations"},{user_id:null,entity_code:"SSTZ",entity_name:"State Street Technology (Zhejiang) Co. Ltd",entity_type:"material_entity",jurisdiction:"China",is_material_entity:!0,parent_entity_id:null,core_business_lines:["Technology Services"],description:"IT development and technology services"}],{data:t,error:a}=await X.from("legal_entities").insert(e).select();if(a)throw console.error("Error seeding legal entities:",a),console.error("Error details:",{code:a.code,message:a.message,details:a.details,hint:a.hint}),new Error(`Failed to insert legal entities: ${a.message}`);if(!t||t.length===0)throw new Error("No legal entities were inserted");const r={};return t.forEach(n=>{r[n.entity_code]=n.id}),console.log(` Successfully inserted ${t.length} legal entities`),{entities:t,entityMap:r}}async function Bv(){const e=[{user_id:null,feed_name:"Core Banking System",feed_type:"core_banking",source_system:"State Street Core",status:"active",last_successful_run:new Date(Date.now()-72e5).toISOString(),last_run_at:new Date(Date.now()-72e5).toISOString(),records_loaded:2547891,error_count:0,freshness_threshold_hours:4,is_stale:!1,connection_status:"connected",notes:"Primary source for account balances and transactions"},{user_id:null,feed_name:"Treasury Management System",feed_type:"treasury",source_system:"TMS Pro",status:"active",last_successful_run:new Date(Date.now()-36e5).toISOString(),last_run_at:new Date(Date.now()-36e5).toISOString(),records_loaded:156432,error_count:0,freshness_threshold_hours:2,is_stale:!1,connection_status:"connected",notes:"Cash positions and liquidity forecasts"},{user_id:null,feed_name:"Market Data Feed",feed_type:"market_data",source_system:"Bloomberg",status:"active",last_successful_run:new Date(Date.now()-9e5).toISOString(),last_run_at:new Date(Date.now()-9e5).toISOString(),records_loaded:89234,error_count:0,freshness_threshold_hours:1,is_stale:!1,connection_status:"connected",notes:"Real-time pricing and FX rates"},{user_id:null,feed_name:"Regulatory Reporting",feed_type:"regulatory",source_system:"Federal Reserve",status:"active",last_successful_run:new Date(Date.now()-864e5).toISOString(),last_run_at:new Date(Date.now()-864e5).toISOString(),records_loaded:45678,error_count:0,freshness_threshold_hours:24,is_stale:!1,connection_status:"connected",notes:"FR 2052a and other regulatory submissions"},{user_id:null,feed_name:"Securities Reference Data",feed_type:"market_data",source_system:"DTCC",status:"active",last_successful_run:new Date(Date.now()-216e5).toISOString(),last_run_at:new Date(Date.now()-216e5).toISOString(),records_loaded:342109,error_count:2,freshness_threshold_hours:12,is_stale:!1,connection_status:"connected",notes:"Securities master data and corporate actions"},{user_id:null,feed_name:"Payment Systems",feed_type:"core_banking",source_system:"Fedwire/CHIPS",status:"active",last_successful_run:new Date(Date.now()-18e5).toISOString(),last_run_at:new Date(Date.now()-18e5).toISOString(),records_loaded:12456,error_count:0,freshness_threshold_hours:1,is_stale:!1,connection_status:"connected",notes:"Intraday payment flows and settlement data"}],t=[{user_id:null,check_name:"Balance Sheet Reconciliation",check_type:"reconciliation",data_source:"balance_sheet_metrics",status:"passed",total_records:12,passed_records:12,failed_records:0,execution_time_ms:245,last_run_at:new Date(Date.now()-3*60*60*1e3).toISOString()},{user_id:null,check_name:"LCR HQLA Validation",check_type:"input",data_source:"lcr_metrics",status:"passed",total_records:8,passed_records:8,failed_records:0,execution_time_ms:189,last_run_at:new Date(Date.now()-2*60*60*1e3).toISOString()},{user_id:null,check_name:"NSFR Component Check",check_type:"transformation",data_source:"nsfr_metrics",status:"passed",total_records:8,passed_records:8,failed_records:0,execution_time_ms:312,last_run_at:new Date(Date.now()-2*60*60*1e3).toISOString()},{user_id:null,check_name:"Interest Rate Risk Data Quality",check_type:"input",data_source:"interest_rate_risk_metrics",status:"passed",total_records:48,passed_records:48,failed_records:0,execution_time_ms:523,last_run_at:new Date(Date.now()-4*60*60*1e3).toISOString()},{user_id:null,check_name:"Resolution Liquidity Completeness",check_type:"output",data_source:"resolution_liquidity_metrics",status:"passed",total_records:8,passed_records:8,failed_records:0,execution_time_ms:198,last_run_at:new Date(Date.now()-3*60*60*1e3).toISOString()},{user_id:null,check_name:"Stress Test Scenario Validation",check_type:"transformation",data_source:"liquidity_stress_tests",status:"warning",total_records:30,passed_records:28,failed_records:2,error_message:"2 scenarios missing severity classification",execution_time_ms:445,last_run_at:new Date(Date.now()-5*60*60*1e3).toISOString()},{user_id:null,check_name:"Legal Entity Hierarchy",check_type:"reconciliation",data_source:"legal_entities",status:"passed",total_records:10,passed_records:10,failed_records:0,execution_time_ms:134,last_run_at:new Date(Date.now()-1*60*60*1e3).toISOString()},{user_id:null,check_name:"Account Balance Cross-Check",check_type:"reconciliation",data_source:"accounts",status:"passed",total_records:4,passed_records:4,failed_records:0,execution_time_ms:87,last_run_at:new Date(Date.now()-2*60*60*1e3).toISOString()},{user_id:null,check_name:"Transaction Category Mapping",check_type:"transformation",data_source:"transactions",status:"passed",total_records:450,passed_records:450,failed_records:0,execution_time_ms:678,last_run_at:new Date(Date.now()-1*60*60*1e3).toISOString()}],a=[{user_id:null,source_system:"Core Banking",source_table:"accounts",source_column:"current_balance",target_system:"Analytics",target_table:"balance_sheet_metrics",target_column:"cash_and_due_from_banks",transformation_rule:"SUM(current_balance) WHERE account_type IN ('checking', 'savings')",transformation_type:"aggregated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Core Banking",source_table:"accounts",source_column:"current_balance",target_system:"Analytics",target_table:"balance_sheet_metrics",target_column:"total_assets",transformation_rule:"SUM(current_balance) WHERE current_balance > 0",transformation_type:"aggregated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Treasury Management",source_table:"securities_holdings",source_column:"market_value",target_system:"Analytics",target_table:"lcr_metrics",target_column:"hqla_level_1",transformation_rule:"SUM(market_value) WHERE security_type = 'US Treasury' AND maturity <= 90",transformation_type:"calculated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Analytics",source_table:"lcr_metrics",source_column:"total_hqla",target_system:"Reporting",target_table:"fr2052a_data",target_column:"hqla_amount",transformation_rule:"Direct mapping with date alignment",transformation_type:"direct",dependency_level:2,is_critical:!0},{user_id:null,source_system:"Analytics",source_table:"balance_sheet_metrics",source_column:"tier1_capital",target_system:"Analytics",target_table:"resolution_liquidity_metrics",target_column:"rcap_amount",transformation_rule:"tier1_capital * stress_factor WHERE scenario = 'resolution'",transformation_type:"derived",dependency_level:2,is_critical:!0},{user_id:null,source_system:"Market Data",source_table:"yield_curves",source_column:"rate",target_system:"Analytics",target_table:"interest_rate_risk_metrics",target_column:"eve_change_amount",transformation_rule:"Apply shock scenarios to rate curve and revalue portfolio",transformation_type:"calculated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Core Banking",source_table:"deposits",source_column:"balance",target_system:"Analytics",target_table:"nsfr_metrics",target_column:"required_stable_funding",transformation_rule:"Apply RSF factors based on deposit type and maturity",transformation_type:"calculated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Payment Systems",source_table:"fedwire_transactions",source_column:"amount",target_system:"Analytics",target_table:"intraday_liquidity",target_column:"peak_usage",transformation_rule:"MAX(cumulative_debit_position) GROUP BY business_day",transformation_type:"aggregated",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Legal Entity Master",source_table:"entity_structure",source_column:"entity_id",target_system:"Analytics",target_table:"legal_entities",target_column:"id",transformation_rule:"Direct synchronization with enrichment",transformation_type:"direct",dependency_level:1,is_critical:!0},{user_id:null,source_system:"Analytics",source_table:"lcr_metrics",source_column:"lcr_ratio",target_system:"Analytics",target_table:"liquidity_stress_tests",target_column:"baseline_liquidity",transformation_rule:"Use current LCR as baseline for stress scenarios",transformation_type:"derived",dependency_level:2,is_critical:!1}],{error:r}=await X.from("data_feeds").insert(e);r&&console.error("Error seeding data feeds:",r);const{error:n}=await X.from("data_quality_checks").insert(t);n&&console.error("Error seeding quality checks:",n);const{error:i}=await X.from("data_lineage").insert(a);i&&console.error("Error seeding data lineage:",i),console.log("Data quality data seeded:",e.length,"feeds,",t.length,"checks,",a.length,"lineage mappings")}async function Ac(){const e=[{user_id:null,name:"Operating Account",account_type:"checking",currency:"USD",current_balance:245e4,institution:"State Street Bank",is_active:!0},{user_id:null,name:"Money Market Fund",account_type:"savings",currency:"USD",current_balance:58e5,institution:"State Street Global Advisors",is_active:!0},{user_id:null,name:"Investment Portfolio",account_type:"investment",currency:"USD",current_balance:125e5,institution:"State Street Investments",is_active:!0},{user_id:null,name:"Credit Facility",account_type:"credit",currency:"USD",current_balance:-12e5,institution:"State Street Bank",is_active:!0}],t=new Date,a=[];for(let r=0;r<90;r++){const n=new Date(t);n.setDate(n.getDate()-r);const i=n.toISOString().split("T")[0];r%3===0&&a.push({user_id:null,transaction_date:i,description:"Client Service Fees",amount:75e4+Math.random()*2e5,transaction_type:"credit",category:"Revenue"}),r%2===0&&a.push({user_id:null,transaction_date:i,description:"Operational Expenses",amount:-(8e4+Math.random()*6e4),transaction_type:"debit",category:"Operations"}),r%4===0&&a.push({user_id:null,transaction_date:i,description:"Securities Trading Revenue",amount:3e5+Math.random()*25e4,transaction_type:"credit",category:"Trading"}),r%5===0&&a.push({user_id:null,transaction_date:i,description:"Custody Fees",amount:6e5+Math.random()*15e4,transaction_type:"credit",category:"Revenue"}),r%7===1&&a.push({user_id:null,transaction_date:i,description:"Technology Infrastructure",amount:-(7e4+Math.random()*4e4),transaction_type:"debit",category:"Technology"}),r%6===0&&a.push({user_id:null,transaction_date:i,description:"Management Fees",amount:45e4+Math.random()*18e4,transaction_type:"credit",category:"Revenue"}),r%14===0&&a.push({user_id:null,transaction_date:i,description:"Compensation & Benefits",amount:-(28e4+Math.random()*8e4),transaction_type:"debit",category:"Personnel"}),r%5===2&&a.push({user_id:null,transaction_date:i,description:"FX Trading Revenue",amount:2e5+Math.random()*15e4,transaction_type:"credit",category:"Trading"}),r%10===0&&a.push({user_id:null,transaction_date:i,description:"Regulatory Compliance",amount:-(5e4+Math.random()*3e4),transaction_type:"debit",category:"Compliance"}),r%4===1&&a.push({user_id:null,transaction_date:i,description:"Investment Advisory Fees",amount:65e4+Math.random()*18e4,transaction_type:"credit",category:"Revenue"})}try{await X.from("transactions").delete().is("user_id",null),await X.from("accounts").delete().is("user_id",null);const r=await X.from("accounts").insert(e).select();if(r.error)return console.error("Error inserting accounts:",r.error),{success:!1,error:r.error};const n=r.data.map(d=>d.id),i=a.map((d,c)=>({...d,account_id:n[c%n.length]}));console.log("Inserting",i.length,"transactions");const l=await X.from("transactions").insert(i);return l.error?(console.error("Error inserting transactions:",l.error),{success:!1,error:l.error}):(console.log("Successfully seeded",n.length,"accounts and",i.length,"transactions"),{success:!0,message:"Dashboard data seeded successfully"})}catch(r){return console.error("Error seeding dashboard data:",r),{success:!1,error:r}}}async function lp(){try{console.log("Clearing existing data from tables...");const c=["fr2052a_data_rows","lcr_metrics","nsfr_metrics","balance_sheet_metrics","interest_rate_risk_metrics","resolution_metrics","reg_k_metrics","resolution_liquidity_metrics","liquidity_stress_tests","data_lineage","data_quality_checks","data_feeds","legal_entities"];for(const o of c)try{await X.from(o).delete().is("user_id",null)}catch{console.log(`Note: Could not clear ${o}, may not exist or be empty`)}console.log(" Existing data cleared")}catch{console.log("Note: Some tables may not exist yet or have no data to delete")}let e,t;try{const c=await Pv();e=c.entities,t=c.entityMap,console.log(" Seeded legal entities:",e.length)}catch(c){return console.error(" Failed to seed legal entities:",c),{success:!1,error:c instanceof Error?c.message:"Failed to seed legal entities"}}try{await Bv(),console.log(" Seeded data quality data")}catch(c){return console.error(" Failed to seed data quality data:",c),{success:!1,error:c instanceof Error?c.message:"Failed to seed data quality data"}}const a=[{user_id:null,report_date:"2024-12-31",total_assets:3105e8,total_liabilities:2817e8,total_equity:288e8,cash_and_due_from_banks:468e8,securities_available_for_sale:1012e8,securities_held_to_maturity:127e8,loans_gross:429e8,allowance_for_loan_losses:-37e7,deposits_total:2584e8,deposits_noninterest_bearing:1001e8,deposits_interest_bearing:1583e8,short_term_borrowings:79e8,long_term_debt:153e8,tier1_capital:232e8,total_risk_weighted_assets:1645e8,tier1_capital_ratio:.141,leverage_ratio:.075,notes:"Q4 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-11-30",total_assets:3082e8,total_liabilities:2801e8,total_equity:281e8,cash_and_due_from_banks:462e8,securities_available_for_sale:1001e8,securities_held_to_maturity:125e8,loans_gross:426e8,allowance_for_loan_losses:-36e7,deposits_total:2569e8,deposits_noninterest_bearing:994e8,deposits_interest_bearing:1575e8,short_term_borrowings:8e9,long_term_debt:152e8,tier1_capital:228e8,total_risk_weighted_assets:1636e8,tier1_capital_ratio:.139,leverage_ratio:.074,notes:"Nov 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-10-31",total_assets:3071e8,total_liabilities:2792e8,total_equity:279e8,cash_and_due_from_banks:458e8,securities_available_for_sale:996e8,securities_held_to_maturity:124e8,loans_gross:424e8,allowance_for_loan_losses:-355e6,deposits_total:2558e8,deposits_noninterest_bearing:99e9,deposits_interest_bearing:1568e8,short_term_borrowings:81e8,long_term_debt:153e8,tier1_capital:226e8,total_risk_weighted_assets:1631e8,tier1_capital_ratio:.139,leverage_ratio:.074,notes:"Oct 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-09-30",total_assets:3058e8,total_liabilities:2782e8,total_equity:276e8,cash_and_due_from_banks:452e8,securities_available_for_sale:985e8,securities_held_to_maturity:123e8,loans_gross:421e8,allowance_for_loan_losses:-35e7,deposits_total:2548e8,deposits_noninterest_bearing:982e8,deposits_interest_bearing:1566e8,short_term_borrowings:82e8,long_term_debt:152e8,tier1_capital:224e8,total_risk_weighted_assets:1623e8,tier1_capital_ratio:.138,leverage_ratio:.072,notes:"Q3 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-08-31",total_assets:3042e8,total_liabilities:2768e8,total_equity:274e8,cash_and_due_from_banks:448e8,securities_available_for_sale:979e8,securities_held_to_maturity:122e8,loans_gross:418e8,allowance_for_loan_losses:-345e6,deposits_total:2534e8,deposits_noninterest_bearing:976e8,deposits_interest_bearing:1558e8,short_term_borrowings:83e8,long_term_debt:151e8,tier1_capital:222e8,total_risk_weighted_assets:1617e8,tier1_capital_ratio:.137,leverage_ratio:.073,notes:"Aug 2024 - State Street Corporation Balance Sheet"},{user_id:null,report_date:"2024-07-31",total_assets:3021e8,total_liabilities:2752e8,total_equity:269e8,cash_and_due_from_banks:441e8,securities_available_for_sale:968e8,securities_held_to_maturity:121e8,loans_gross:415e8,allowance_for_loan_losses:-34e7,deposits_total:2512e8,deposits_noninterest_bearing:968e8,deposits_interest_bearing:1544e8,short_term_borrowings:85e8,long_term_debt:155e8,tier1_capital:221e8,total_risk_weighted_assets:1608e8,tier1_capital_ratio:.137,leverage_ratio:.073,notes:"Jul 2024 - State Street Corporation Balance Sheet"}],r=[{user_id:null,report_date:"2024-09-30",scenario_type:"+200bp Parallel Shift",nii_current:52e8,nii_scenario:56264e5,nii_change_amount:4264e5,nii_change_percent:.082,eve_current:276e8,eve_scenario:26496e6,eve_change_amount:-1104e6,eve_change_percent:-.04,duration_gap:.35,notes:"Q3 2024 - Asset sensitive position"},{user_id:null,report_date:"2024-09-30",scenario_type:"+100bp Parallel Shift",nii_current:52e8,nii_scenario:5408e6,nii_change_amount:208e6,nii_change_percent:.04,eve_current:276e8,eve_scenario:27048e6,eve_change_amount:-552e6,eve_change_percent:-.02,duration_gap:.35,notes:"Q3 2024 - Moderate rate increase"},{user_id:null,report_date:"2024-09-30",scenario_type:"-100bp Parallel Shift",nii_current:52e8,nii_scenario:4992e6,nii_change_amount:-208e6,nii_change_percent:-.04,eve_current:276e8,eve_scenario:28152e6,eve_change_amount:552e6,eve_change_percent:.02,duration_gap:.35,notes:"Q3 2024 - Rate decrease scenario"}],n=[{user_id:null,report_date:"2024-09-30",total_loss_absorbing_capacity:352e8,tlac_ratio:.217,qualified_ltd:128e8,operational_deposit_capacity:982e8,resolution_liquidity_requirement:45e9,resolution_liquidity_available:59e9,critical_operations_count:8,material_entities_count:12,cross_border_exposures:1568e8,is_resolution_ready:!0,notes:"Q3 2024 - Resolution Planning Metrics"}],i=[{user_id:null,report_date:"2024-09-30",total_foreign_exposures:1568e8,country_risk_rating:"Investment Grade",cross_currency_funding_gap:123e8,foreign_office_assets:1425e8,foreign_office_liabilities:1302e8,fx_swap_notional:856e8,net_stable_funding_ratio_foreign:1.185,notes:"Q3 2024 - Significant operations in UK, Europe, APAC"}],l=[{user_id:null,report_date:"2024-09-30",rcap_amount:284e8,rcap_ratio:1.175,rcap_requirement:242e8,rcap_surplus_deficit:42e8,rcen_amount:185e8,rcen_ratio:1.085,rcen_requirement:1705e7,rlap_amount:628e8,rlap_ratio:1.256,rlap_requirement:5e10,rlap_surplus_deficit:128e8,rlen_amount:382e8,rlen_ratio:1.146,rlen_requirement:3335e7,resolution_strategy:"Single Point of Entry (SPE)",material_entities_count:12,is_compliant:!0,notes:"Q3 2024 - All resolution metrics exceed minimum thresholds"},{user_id:null,report_date:"2024-06-30",rcap_amount:278e8,rcap_ratio:1.165,rcap_requirement:2385e7,rcap_surplus_deficit:395e7,rcen_amount:181e8,rcen_ratio:1.075,rcen_requirement:1684e7,rlap_amount:615e8,rlap_ratio:1.242,rlap_requirement:495e8,rlap_surplus_deficit:12e9,rlen_amount:376e8,rlen_ratio:1.138,rlen_requirement:3305e7,resolution_strategy:"Single Point of Entry (SPE)",material_entities_count:12,is_compliant:!0,notes:"Q2 2024 - Resolution readiness maintained"}],d=[{user_id:null,report_date:"2024-09-30",scenario_name:"Severe Market Stress - 30 Day",scenario_type:"30_day_short_term",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:428e8,stressed_cash_inflows:85e8,stressed_cash_outflows:247e8,stressed_net_cash_flow:-162e8,liquidity_shortfall:0,survival_days:30,stress_severity:"Severe",deposit_runoff_rate:.15,wholesale_funding_rollover_rate:.25,credit_line_drawdown_rate:.35,asset_liquidation_haircut:.12,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"30-day severe stress - passes all internal thresholds with adequate buffer"},{user_id:null,report_date:"2024-09-30",scenario_name:"Baseline Adverse - 30 Day",scenario_type:"30_day_short_term",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:482e8,stressed_cash_inflows:124e8,stressed_cash_outflows:232e8,stressed_net_cash_flow:-108e8,liquidity_shortfall:0,survival_days:30,stress_severity:"Moderate",deposit_runoff_rate:.08,wholesale_funding_rollover_rate:.15,credit_line_drawdown_rate:.2,asset_liquidation_haircut:.08,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"30-day baseline adverse - comfortable liquidity position maintained"},{user_id:null,report_date:"2024-09-30",scenario_name:"Extended Crisis - 1 Year",scenario_type:"1_year_extended",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:385e8,stressed_cash_inflows:452e8,stressed_cash_outflows:657e8,stressed_net_cash_flow:-205e8,liquidity_shortfall:0,survival_days:365,stress_severity:"Severe",deposit_runoff_rate:.25,wholesale_funding_rollover_rate:.5,credit_line_drawdown_rate:.6,asset_liquidation_haircut:.2,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"1-year extended crisis - survives full year with liquidity buffer intact"},{user_id:null,report_date:"2024-09-30",scenario_name:"Idiosyncratic Stress - 1 Year",scenario_type:"1_year_extended",baseline_liquidity:59e9,baseline_hqla:59e9,baseline_deposits:2548e8,stressed_liquidity:442e8,stressed_cash_inflows:528e8,stressed_cash_outflows:676e8,stressed_net_cash_flow:-148e8,liquidity_shortfall:0,survival_days:365,stress_severity:"Moderate",deposit_runoff_rate:.18,wholesale_funding_rollover_rate:.35,credit_line_drawdown_rate:.45,asset_liquidation_haircut:.15,passes_internal_threshold:!0,min_liquidity_buffer_maintained:!0,notes:"1-year idiosyncratic stress - maintains adequate liquidity throughout period"}];try{const o=(await Promise.all([X.from("balance_sheet_metrics").insert(a),X.from("interest_rate_risk_metrics").insert(r),X.from("resolution_metrics").insert(n),X.from("reg_k_metrics").insert(i),X.from("resolution_liquidity_metrics").insert(l),X.from("liquidity_stress_tests").insert(d)])).filter(u=>u.error);return o.length>0?(console.error("Errors seeding data:",o),{success:!1,errors:o}):{success:!0,message:"State Street Corporation data seeded successfully"}}catch(c){return console.error("Error seeding data:",c),{success:!1,error:c}}}function Iv(e,t){const a=[],n=[{category:"deposits",counterpartyTypes:["retail","wholesale","financial_institution"],subProducts:["stable","less_stable","operational","non_operational"],maturities:["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year"],isHQLA:!1},{category:"loans",counterpartyTypes:["retail","corporate","sme","financial_institution"],subProducts:["mortgage","consumer","commercial","revolving"],maturities:["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year"],assetClasses:["residential","commercial","unsecured"],isHQLA:!1},{category:"securities",counterpartyTypes:["government","corporate","financial_institution","sovereign"],subProducts:["treasury","agency","municipal","corporate_bond","equity"],maturities:["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year"],assetClasses:["government","corporate","covered_bond","equity"],isHQLA:!0},{category:"derivatives",counterpartyTypes:["financial_institution","corporate","hedge_fund"],subProducts:["interest_rate_swap","fx_forward","credit_default_swap","equity_option"],maturities:["overnight","8-30days","31-90days","91-180days","181-365days","gt_1year"],assetClasses:["interest_rate","fx","credit","equity"],isHQLA:!1},{category:"secured_funding",counterpartyTypes:["financial_institution","central_bank","corporate"],subProducts:["repo","reverse_repo","securities_lending","collateral_swap"],maturities:["overnight","2-7days","8-30days","31-90days"],assetClasses:["government","corporate","equity"],isHQLA:!1},{category:"credit_facilities",counterpartyTypes:["retail","corporate","sme"],subProducts:["committed","uncommitted","standby_letter_of_credit"],maturities:["open","gt_1year"],isHQLA:!1},{category:"liquidity_facilities",counterpartyTypes:["special_purpose_vehicle","financial_institution"],subProducts:["conduit","asset_backed_commercial_paper"],maturities:["open","8-30days","31-90days"],isHQLA:!1},{category:"capital",counterpartyTypes:["shareholder"],subProducts:["common_equity","preferred_stock","retained_earnings"],maturities:["open"],isHQLA:!1},{category:"other_assets",counterpartyTypes:["various"],subProducts:["cash","central_bank_reserves","fixed_assets","intangibles"],maturities:["overnight","open","gt_1year"],assetClasses:["cash","property","intangible"],isHQLA:!0},{category:"other_liabilities",counterpartyTypes:["various","trade_creditor"],subProducts:["accounts_payable","accrued_expenses","deferred_revenue"],maturities:["8-30days","31-90days","open"],isHQLA:!1}];let i=1;return n.forEach(l=>{l.counterpartyTypes.forEach(d=>{(l.subProducts||["standard"]).forEach(c=>{(l.maturities||["standard"]).forEach(o=>{(l.assetClasses||["standard"]).forEach(h=>{const x=["deposits","secured_funding","other_liabilities","capital"].includes(l.category),m=["loans","securities","other_assets"].includes(l.category),A=["credit_facilities","liquidity_facilities","derivatives"].includes(l.category),p=`FR2052A-${l.category.toUpperCase()}-${i.toString().padStart(6,"0")}`,b=`${l.category} - ${c} - ${d} - ${o}${h!=="standard"?` - ${h}`:""}`;let f=!1,g,v=0;l.category==="securities"?h==="government"&&c==="treasury"?(f=!0,g=1,v=0):h==="government"||c==="agency"?(f=!0,g=2,v=.15):h==="corporate"&&c==="corporate_bond"&&(f=!0,g=3,v=.5):l.category==="other_assets"&&(c==="cash"||c==="central_bank_reserves")&&(f=!0,g=1,v=0);let w=0,_=0;if(m&&l.category!=="securities"){const j=Ki(o);j<=30?w=1e6*.15:j<=90&&(w=1e6*.05)}x&&l.category==="deposits"?_=1e6*mh(d,c):l.category==="secured_funding"?_=1e6*.25:A&&(_=1e6*.05);let D;l.category==="deposits"&&(D=mh(d,c));let R,S;(x||l.category==="capital")&&(R=Mv(l.category,d,c,o)),(m||A)&&(S=Ov(l.category,c,o,f,g));const L=f?1e6*.1:0,k=["AAA","AA","A","BBB","BB","B"],F=k[Math.floor(Math.random()*k.length)];a.push({productId:p,productName:b,productCategory:l.category,subProduct:c,maturityBucket:o,counterpartyType:d,assetClass:h!=="standard"?h:void 0,currency:"USD",outstandingBalance:1e6,projectedCashInflow:w,projectedCashOutflow:_,isHQLA:f,hqlaLevel:g,haircut:v,runoffRate:D,requiredStableFundingFactor:S,availableStableFundingFactor:R,encumberedAmount:L,internalRating:F,reportDate:e}),i++})})})})}),a}function Ki(e){return{overnight:1,"2-7days":5,"8-30days":20,"31-90days":60,"91-180days":135,"181-365days":270,gt_1year:730,open:9999}[e]||0}function mh(e,t){return e==="retail"?t==="stable"?.03:.1:e==="wholesale"?t==="operational"?.25:.4:e==="financial_institution"?1:.4}function Mv(e,t,a,r){if(e==="capital")return 1;if(e==="deposits"){if(t==="retail")return a==="stable"?.95:.9;if(t==="wholesale"||t==="financial_institution"){if(a==="operational")return .5;const n=Ki(r);return n<180?0:n<365?.5:1}}return e==="secured_funding"?Ki(r)<180?0:.5:0}function Ov(e,t,a,r,n){if(r&&n===1)return 0;if(r&&n===2)return .15;if(r&&n===3)return .5;if(e==="loans")return Ki(a)>=365&&(t==="mortgage"||t==="consumer")?.65:.85;if(e==="securities")return .85;if(e==="derivatives")return 1;if(e==="credit_facilities"||e==="liquidity_facilities")return .05;if(e==="other_assets"){if(t==="cash"||t==="central_bank_reserves")return 0;if(t==="fixed_assets"||t==="intangibles")return 1}return 1}class zv{constructor(t){this.data=t}calculateLCR(){const t=this.calculateHQLA(),a=this.calculateCashOutflows(),r=this.calculateCashInflows(),n=Math.max(a.total-Math.min(r.total,a.total*.75),a.total*.25),i=n>0?t.total/n:0;return{totalHQLA:t.total,level1Assets:t.level1,level2aAssets:t.level2a,level2bAssets:t.level2b,totalCashOutflows:a.total,totalCashInflows:r.total,netCashOutflows:n,lcrRatio:i,isCompliant:i>=1,details:{retailDepositOutflows:a.retailDeposits,wholesaleFundingOutflows:a.wholesaleFunding,securedFundingOutflows:a.securedFunding,derivativesOutflows:a.derivatives,otherContractualOutflows:a.otherContractual,otherContingentOutflows:a.otherContingent,cappedInflows:Math.min(r.total,a.total*.75)}}}calculateNSFR(){const t=this.calculateAvailableStableFunding(),a=this.calculateRequiredStableFunding(),r=a.total>0?t.total/a.total:0;return{availableStableFunding:t.total,requiredStableFunding:a.total,nsfrRatio:r,isCompliant:r>=1,details:{capitalASF:t.capital,retailDepositsASF:t.retailDeposits,wholesaleFundingASF:t.wholesaleFunding,otherLiabilitiesASF:t.otherLiabilities,level1AssetsRSF:a.level1Assets,level2aAssetsRSF:a.level2aAssets,level2bAssetsRSF:a.level2bAssets,loansRSF:a.loans,otherAssetsRSF:a.otherAssets}}}calculateHQLA(){let t=0,a=0,r=0;this.data.forEach(l=>{if(!l.isHQLA)return;const c=(l.outstandingBalance-l.encumberedAmount)*(1-l.haircut);l.hqlaLevel===1?t+=c:l.hqlaLevel===2?(l.productCategory==="securities"&&l.assetClass,a+=c*.85):l.hqlaLevel===3&&(r+=c*.5)});const n=t*(2/3),i=t*(15/85);return a=Math.min(a,n),r=Math.min(r,i),{level1:t,level2a:a,level2b:r,total:t+a+r}}calculateCashOutflows(){let t=0,a=0,r=0,n=0,i=0,l=0;this.data.forEach(c=>{if(!(c.projectedCashOutflow<=0&&c.productCategory!=="deposits"))if(c.productCategory==="deposits"){if(c.counterpartyType==="retail"){const o=this.getRetailDepositRunoffRate(c);t+=c.outstandingBalance*o}else if(c.counterpartyType==="wholesale"||c.counterpartyType==="financial_institution"){const o=this.getWholesaleRunoffRate(c);a+=c.outstandingBalance*o}}else c.productCategory==="secured_funding"?r+=this.getSecuredFundingOutflow(c):c.productCategory==="derivatives"?n+=c.projectedCashOutflow:c.maturityBucket==="overnight"||c.maturityBucket==="2-7days"||c.maturityBucket==="8-30days"?i+=c.projectedCashOutflow:(c.productCategory==="credit_facilities"||c.productCategory==="liquidity_facilities")&&(l+=c.outstandingBalance*.05)});const d=t+a+r+n+i+l;return{retailDeposits:t,wholesaleFunding:a,securedFunding:r,derivatives:n,otherContractual:i,otherContingent:l,total:d}}calculateCashInflows(){let t=0;return this.data.forEach(a=>{a.projectedCashInflow>0&&(a.productCategory==="loans"?this.getMaturityDays(a.maturityBucket)<=30&&(t+=a.projectedCashInflow*.5):t+=a.projectedCashInflow)}),{total:t}}calculateAvailableStableFunding(){let t=0,a=0,r=0,n=0;return this.data.forEach(i=>{if(i.productCategory==="equity"||i.productCategory==="capital")t+=i.outstandingBalance*1;else if(i.productCategory==="deposits"&&i.counterpartyType==="retail"){const l=i.availableStableFundingFactor||this.getRetailDepositASFFactor(i);a+=i.outstandingBalance*l}else if(i.productCategory==="deposits"&&(i.counterpartyType==="wholesale"||i.counterpartyType==="financial_institution")){const l=i.availableStableFundingFactor||this.getWholesaleASFFactor(i);r+=i.outstandingBalance*l}else if(i.productCategory==="other_liabilities"){const l=i.availableStableFundingFactor||0;n+=i.outstandingBalance*l}}),{capital:t,retailDeposits:a,wholesaleFunding:r,otherLiabilities:n,total:t+a+r+n}}calculateRequiredStableFunding(){let t=0,a=0,r=0,n=0,i=0;return this.data.forEach(l=>{if(l.productCategory==="deposits"||l.productCategory==="capital"||l.productCategory==="equity")return;const d=l.requiredStableFundingFactor||this.getRSFFactor(l),c=l.outstandingBalance*d;l.isHQLA&&l.hqlaLevel===1?t+=c:l.isHQLA&&l.hqlaLevel===2?a+=c:l.isHQLA&&l.hqlaLevel===3?r+=c:l.productCategory==="loans"?n+=c:i+=c}),{level1Assets:t,level2aAssets:a,level2bAssets:r,loans:n,otherAssets:i,total:t+a+r+n+i}}getRetailDepositRunoffRate(t){return t.runoffRate?t.runoffRate:t.subProduct==="stable"?.03:(t.subProduct==="less_stable",.1)}getWholesaleRunoffRate(t){return t.runoffRate?t.runoffRate:t.subProduct==="operational"?.25:t.counterpartyType==="financial_institution"?1:.4}getSecuredFundingOutflow(t){return t.isHQLA&&t.hqlaLevel===1?t.outstandingBalance*0:t.outstandingBalance*1}getRetailDepositASFFactor(t){return t.subProduct==="stable"?.95:(t.subProduct==="less_stable",.9)}getWholesaleASFFactor(t){if(t.subProduct==="operational")return .5;const a=this.getMaturityDays(t.maturityBucket);return a<180?0:a<365?.5:1}getRSFFactor(t){return t.isHQLA&&t.hqlaLevel===1?0:t.isHQLA&&t.hqlaLevel===2?.15:t.isHQLA&&t.hqlaLevel===3?.5:t.productCategory==="loans"?t.counterpartyType==="retail"&&t.maturityBucket==="gt_1year"?.65:.85:t.productCategory==="securities"?.85:1}getMaturityDays(t){return{overnight:1,"2-7days":5,"8-30days":20,"31-90days":60,"91-180days":135,"181-365days":270,gt_1year:730,open:9999}[t]||0}}function Uv(e,t){return{deposits:t.includes("retail")?"Retail":"Wholesale",loans:"Asset",securities:"Asset",derivatives:"Derivative",secured_funding:"Secured",credit_facilities:"Unsecured",liquidity_facilities:"Wholesale",capital:"Asset",other_assets:"Asset",other_liabilities:"Unsecured"}[e]||"Asset"}function qv(e){return{overnight:"Overnight","2-7days":"4-7 Days","8-30days":"8-14 Days","31-90days":"31-90 Days","91-180days":"91-180 Days","181-365days":"181-365 Days",gt_1year:">365 Days",open:"Open"}[e]||"Open"}async function kd(){var A;console.log("=== FR 2052a Data Generation Started ==="),console.log("Step 0: Verifying tables exist...");const{error:e}=await X.from("fr2052a_data_rows").select("id").limit(1);if(e)return console.error(" ERROR: fr2052a_data_rows table not accessible:",e),{success:!1,error:`Table fr2052a_data_rows error: ${e.message}`};console.log(" fr2052a_data_rows table exists");const{error:t}=await X.from("lcr_metrics").select("id").limit(1);if(t)return console.error(" ERROR: lcr_metrics table not accessible:",t),{success:!1,error:`Table lcr_metrics error: ${t.message}`};console.log(" lcr_metrics table exists");const{error:a}=await X.from("nsfr_metrics").select("id").limit(1);if(a)return console.error(" ERROR: nsfr_metrics table not accessible:",a),{success:!1,error:`Table nsfr_metrics error: ${a.message}`};console.log(" nsfr_metrics table exists"),console.log("Step 1: Fetching legal entities (limit for performance)...");const r=Date.now(),{data:n,error:i}=await X.from("legal_entities").select("id, entity_name").is("user_id",null).limit(3);if(console.log(`  Fetch took ${Date.now()-r}ms`),i)return console.error("ERROR fetching legal entities:",i),{success:!1,error:i.message};if(!n||n.length===0)return console.error("No legal entities found. Please create entities first."),{success:!1,error:"No legal entities found"};console.log(` Found ${n.length} legal entities:`,n.map(p=>p.entity_name));const l=["2024-12-31","2024-11-30","2024-10-31"],d={totalRecords:0,totalEntities:0,totalPeriods:0,lcrCalculations:[],nsfrCalculations:[]};for(const p of n){console.log(`
Processing entity ${d.totalEntities+1}/${n.length}: ${p.entity_name}`),d.totalEntities++;for(const b of l){const f=d.totalPeriods+1;console.log(`  Period ${f}/$(entities.length * reportDates.length)}: Generating data for ${b}...`);const g=Date.now(),v=Iv(b,p.id);console.log(`  Generated ${v.length} FR 2052a line items (${Date.now()-g}ms)`);const w=v.map(P=>({user_id:null,legal_entity_id:p.id,report_date:b,table_name:"FR2052a",reporting_entity:p.entity_name,product:Uv(P.productCategory,P.counterpartyType),sub_product:P.subProduct||null,sub_product2:P.assetClass||null,counterparty:P.counterpartyType,maturity_bucket:qv(P.maturityBucket),currency:P.currency,amount:P.outstandingBalance,market_value:P.outstandingBalance,fair_value:P.outstandingBalance,asset_class:P.assetClass||null,is_hqla:P.isHQLA,hqla_level:P.hqlaLevel||null,haircut_rate:P.haircut,runoff_rate:P.runoffRate||null,rsf_factor:P.requiredStableFundingFactor||null,asf_factor:P.availableStableFundingFactor||null,projected_inflow:P.projectedCashInflow,projected_outflow:P.projectedCashOutflow,encumbered_amount:P.encumberedAmount,internal_rating:P.internalRating||null}));console.log(`  Step 2a: Inserting ${w.length} rows to database...`);const _=Date.now(),D=1e3;let R=0;const S=Math.ceil(w.length/D);for(let P=0;P<w.length;P+=D){const U=Math.floor(P/D)+1,ee=w.slice(P,P+D),se=Date.now(),{error:K}=await X.from("fr2052a_data_rows").insert(ee);if(K)return console.error(`   ERROR inserting batch ${U}/${S}:`,K),{success:!1,error:K.message};R+=ee.length;const re=Date.now()-se,Ne=(Date.now()-_)/U,ge=(S-U)*Ne;S>1&&console.log(`  ... batch ${U}/${S} (${ee.length} rows in ${re}ms, ~${Math.round(ge/1e3)}s remaining)`)}console.log(`   Successfully inserted ${R} rows (total time: ${Math.round((Date.now()-_)/1e3)}s)`),d.totalRecords+=w.length,d.totalPeriods++,console.log("  Step 2b: Calculating LCR and NSFR...");const L=Date.now(),k=new zv(v),F=k.calculateLCR(),j=k.calculateNSFR();console.log(`   LCR: ${(F.lcrRatio*100).toFixed(2)}%, NSFR: ${(j.nsfrRatio*100).toFixed(2)}% (${Date.now()-L}ms)`);const T={user_id:null,legal_entity_id:p.id,report_date:b,hqla_level_1:F.level1Assets,hqla_level_2a:F.level2aAssets,hqla_level_2b:F.level2bAssets,total_hqla:F.totalHQLA,total_net_cash_outflows:F.netCashOutflows,lcr_ratio:F.lcrRatio,is_compliant:F.isCompliant,notes:`FR2052a calculation - ${w.length} records processed`};console.log("  Step 2c: Saving metrics...");const y=Date.now(),{error:I}=await X.from("lcr_metrics").upsert(T,{onConflict:"legal_entity_id,report_date"});if(I)return console.error("   ERROR saving LCR metrics:",I),{success:!1,error:I.message};d.lcrCalculations.push(F);const $={user_id:null,legal_entity_id:p.id,report_date:b,available_stable_funding:j.availableStableFunding,required_stable_funding:j.requiredStableFunding,nsfr_ratio:j.nsfrRatio,is_compliant:j.isCompliant,retail_deposits:j.details.retailDepositsASF||0,wholesale_funding:j.details.wholesaleFundingASF||0,notes:`FR2052a calculation - ${w.length} records processed`},{error:C}=await X.from("nsfr_metrics").upsert($,{onConflict:"legal_entity_id,report_date"});if(C)return console.error("   ERROR saving NSFR metrics:",C),{success:!1,error:C.message};console.log(`   Metrics saved (${Date.now()-y}ms)`),d.nsfrCalculations.push(j),console.log("  Step 2e: Creating FR2052a submission record...");const z={user_id:null,submission_date:new Date().toISOString().split("T")[0],reporting_period:b,submission_type:"system_generated",legal_entity_id:p.id,total_hqla:F.totalHQLA,total_outflows:F.totalCashOutflows,total_inflows:F.totalCashInflows,net_cash_outflow:F.netCashOutflows,lcr_ratio:F.lcrRatio,is_submitted:!0,submission_status:"completed",notes:`Auto-generated from ${w.length} FR2052a records`},{data:B,error:V}=await X.from("fr2052a_submissions").insert(z).select().maybeSingle();V?console.error("   Warning: Could not create submission record:",V.message):(console.log(`   Submission record created (${(A=B==null?void 0:B.id)==null?void 0:A.substring(0,8)}...)`),B&&(d.nsfrCalculations[d.nsfrCalculations.length-1].submissionId=B.id))}}console.log(`
=== FR 2052a Generation & Calculation Summary ===`),console.log(`Total Entities Processed: ${d.totalEntities}`),console.log(`Total Periods Generated: ${d.totalPeriods}`),console.log(`Total FR 2052a Records: ${d.totalRecords}`),console.log(`LCR Calculations: ${d.lcrCalculations.length}`),console.log(`NSFR Calculations: ${d.nsfrCalculations.length}`),console.log(`================================================
`),console.log("Step 3: Quick verification (spot check)...");const{data:c,error:o}=await X.from("fr2052a_data_rows").select("id").is("user_id",null).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:u,error:h}=await X.from("lcr_metrics").select("id").is("user_id",null).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:x,error:m}=await X.from("nsfr_metrics").select("id").is("user_id",null).order("created_at",{ascending:!1}).limit(1).maybeSingle();return console.log(`
=== Quick Verification ===`),console.log(` FR 2052a data exists: ${c?"YES":"NO"}`),console.log(` LCR metrics exist: ${u?"YES":"NO"}`),console.log(` NSFR metrics exist: ${x?"YES":"NO"}`),console.log(`Expected records: ~${d.totalRecords}`),console.log(`==========================
`),c?u?x?(console.log(" All data successfully generated and verified in database!"),console.log(`
  Validations NOT executed automatically.`),console.log("   Execute validations on-demand from the FR2052a Validation screen."),console.log(`
=== FR 2052a Generation Summary ===`),console.log(`Total Entities: ${d.totalEntities}`),console.log(`Total Periods: ${d.totalPeriods}`),console.log(`Total Records: ${d.totalRecords}`),console.log(`LCR Calculations: ${d.lcrCalculations.length}`),console.log(`NSFR Calculations: ${d.nsfrCalculations.length}`),console.log(`Submissions Created: ${d.totalEntities*d.totalPeriods}`),console.log("Validations: NOT EXECUTED (execute via UI)"),console.log(`=====================================
`),{success:!0,results:{...d,message:"Data generation complete. Execute validations from UI."}}):(console.error(" WARNING: No NSFR metrics found in database after generation!"),{success:!1,error:"NSFR calculation failed - no records in database"}):(console.error(" WARNING: No LCR metrics found in database after generation!"),{success:!1,error:"LCR calculation failed - no records in database"}):(console.error(" WARNING: No FR 2052a data found in database after generation!"),{success:!1,error:"Data generation failed - no records in database"})}const op=O.createContext(void 0);function $v({children:e}){const[t]=O.useState(null),[a]=O.useState(!1),r=async(l,d,c)=>({error:null}),n=async(l,d)=>({error:null}),i=async()=>{};return s.jsx(op.Provider,{value:{user:t,loading:a,signUp:r,signIn:n,signOut:i},children:e})}function bt(){const e=O.useContext(op);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function cp({metricName:e,targetTable:t,targetColumn:a,onClose:r}){bt();const[n,i]=O.useState([]),[l,d]=O.useState(!0);O.useEffect(()=>{c()},[t,a]);const c=async()=>{try{const{data:h,error:x}=await X.from("data_lineage").select("*").is("user_id",null).eq("target_table",t).eq("target_column",a).order("dependency_level",{ascending:!0});if(x)throw x;i(h||[])}catch(h){console.error("Error loading lineage data:",h)}finally{d(!1)}},o=n.reduce((h,x)=>{const m=x.dependency_level;return h[m]||(h[m]=[]),h[m].push(x),h},{}),u=Object.keys(o).map(Number).sort((h,x)=>h-x);return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Data Lineage"}),s.jsx("p",{className:"text-sm text-blue-100 mt-1",children:e})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:s.jsx(kt,{className:"w-5 h-5 text-white"})})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?s.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading lineage data..."}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wn,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600",children:"No lineage data available for this metric"})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Oe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Target Metric"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Table:"})," ",t]}),s.jsxs("p",{className:"text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Column:"})," ",a]})]})]})]})}),u.map((h,x)=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-slate-700 text-white text-sm font-bold",children:h}),s.jsxs("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:["Dependency Level ",h]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-11",children:o[h].map(m=>s.jsxs("div",{className:`relative rounded-lg border-2 p-4 ${m.is_critical?"bg-red-50 border-red-300":"bg-slate-50 border-slate-200"}`,children:[m.is_critical&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-semibold rounded",children:"CRITICAL"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"SOURCE"}),s.jsx("p",{className:"text-sm font-medium text-slate-900",children:m.source_system}),s.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[m.source_table,".",m.source_column]})]})}),s.jsx(bv,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"TARGET"}),s.jsx("p",{className:"text-sm font-medium text-slate-900",children:m.target_system}),s.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[m.target_table,".",m.target_column]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${m.transformation_type==="direct"?"bg-green-100 text-green-700":m.transformation_type==="calculated"?"bg-blue-100 text-blue-700":m.transformation_type==="aggregated"?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:m.transformation_type.toUpperCase()})}),s.jsx("p",{className:"text-xs text-slate-700",children:m.transformation_rule})]})]})]},m.id))}),x<u.length-1&&s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-0.5 h-8 bg-slate-300"})})]},h))]})}),s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-6 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-green-100 border border-green-300"}),s.jsx("span",{className:"text-slate-600",children:"Direct Mapping"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-blue-100 border border-blue-300"}),s.jsx("span",{className:"text-slate-600",children:"Calculated"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-purple-100 border border-purple-300"}),s.jsx("span",{className:"text-slate-600",children:"Aggregated"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-amber-100 border border-amber-300"}),s.jsx("span",{className:"text-slate-600",children:"Derived"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-red-50 border-2 border-red-300"}),s.jsx("span",{className:"text-slate-600",children:"Critical Path"})]})]})})]})})}function Vv({metricName:e,dataSource:t,onClose:a}){bt();const[r,n]=O.useState([]),[i,l]=O.useState([]),[d,c]=O.useState(!0);O.useEffect(()=>{o()},[t]);const o=async()=>{try{const[A,p]=await Promise.all([X.from("data_quality_checks").select("*").is("user_id",null).eq("data_source",t).order("last_run_at",{ascending:!1}).limit(10),X.from("data_feeds").select("*").is("user_id",null).ilike("feed_name",`%${t}%`).order("last_run_at",{ascending:!1}).limit(5)]);if(A.error)throw A.error;if(p.error)throw p.error;n(A.data||[]),l(p.data||[])}catch(A){console.error("Error loading quality data:",A)}finally{c(!1)}},u=A=>({completeness:{label:"Completeness Check",description:"Validates that required fields are populated and not null",color:"bg-blue-100 text-blue-700 border-blue-300"},accuracy:{label:"Accuracy Check",description:"Ensures data values are correct and match expected patterns",color:"bg-green-100 text-green-700 border-green-300"},consistency:{label:"Consistency Check",description:"Verifies data consistency across related tables and fields",color:"bg-purple-100 text-purple-700 border-purple-300"},timeliness:{label:"Timeliness Check",description:"Checks if data is fresh and updated within expected timeframes",color:"bg-amber-100 text-amber-700 border-amber-300"},uniqueness:{label:"Uniqueness Check",description:"Validates that records do not contain duplicates",color:"bg-cyan-100 text-cyan-700 border-cyan-300"},validity:{label:"Validity Check",description:"Ensures values conform to defined business rules and constraints",color:"bg-indigo-100 text-indigo-700 border-indigo-300"},variance:{label:"Variance Analysis",description:"Detects unusual changes or anomalies in input values",color:"bg-rose-100 text-rose-700 border-rose-300"}})[A]||{label:A,description:"Data quality validation",color:"bg-slate-100 text-slate-700 border-slate-300"},h=A=>{switch(A){case"passed":return s.jsx(oe,{className:"w-5 h-5 text-green-600"});case"failed":return s.jsx(et,{className:"w-5 h-5 text-red-600"});case"warning":return s.jsx(Le,{className:"w-5 h-5 text-amber-600"});default:return s.jsx(Ss,{className:"w-5 h-5 text-slate-400"})}},x=A=>new Date(A).toLocaleString(),m=A=>A.total_records===0?0:(A.passed_records/A.total_records*100).toFixed(1);return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Data Quality & Feeds"}),s.jsx("p",{className:"text-sm text-green-100 mt-1",children:e})]}),s.jsx("button",{onClick:a,className:"p-2 hover:bg-green-500 rounded-lg transition-colors",children:s.jsx(kt,{className:"w-5 h-5 text-white"})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:d?s.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading quality data..."}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(Oe,{className:"w-5 h-5 text-green-600"}),"Data Feeds"]}),i.length===0?s.jsxs("div",{className:"bg-slate-50 rounded-lg p-8 text-center",children:[s.jsx(Oe,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600",children:"No data feeds configured for this metric"})]}):s.jsx("div",{className:"space-y-3",children:i.map(A=>s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900",children:A.feed_name}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:A.source_system})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${A.status==="active"?"bg-green-100 text-green-700":A.status==="error"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:A.status.toUpperCase()}),A.is_stale&&s.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-amber-100 text-amber-700",children:"STALE"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Records Loaded"}),s.jsx("p",{className:"font-semibold text-slate-900",children:A.records_loaded.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Errors"}),s.jsx("p",{className:"font-semibold text-slate-900",children:A.error_count})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Last Run"}),s.jsx("p",{className:"font-semibold text-slate-900 text-xs",children:x(A.last_run_at)})]})]})]},A.id))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(oe,{className:"w-5 h-5 text-green-600"}),"Quality Checks"]}),r.length===0?s.jsxs("div",{className:"bg-slate-50 rounded-lg p-8 text-center",children:[s.jsx(oe,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600",children:"No quality checks configured for this metric"})]}):s.jsx("div",{className:"space-y-4",children:r.map(A=>{const p=u(A.check_type),b=m(A);return s.jsx("div",{className:"bg-white rounded-lg border-2 border-slate-200 overflow-hidden",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h(A.status),s.jsx("h4",{className:"font-semibold text-slate-900",children:A.check_name})]}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${p.color}`,children:p.label})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-2xl font-bold ${parseFloat(b)>=95?"text-green-600":parseFloat(b)>=80?"text-amber-600":"text-red-600"}`,children:[b,"%"]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Pass Rate"})]})]}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-3 mb-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(it,{className:"w-4 h-4 text-slate-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-slate-700",children:p.description})]})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Total Records"}),s.jsx("p",{className:"font-semibold text-slate-900",children:A.total_records.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Passed"}),s.jsx("p",{className:"font-semibold text-green-600",children:A.passed_records.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Failed"}),s.jsx("p",{className:"font-semibold text-red-600",children:A.failed_records.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Execution Time"}),s.jsxs("p",{className:"font-semibold text-slate-900",children:[A.execution_time_ms,"ms"]})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 text-xs text-slate-500",children:["Last run: ",x(A.last_run_at)]}),A.error_message&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:A.error_message})})]})},A.id)})})]})]})})]})})}function Qv({children:e,metricName:t,targetTable:a,targetColumn:r,dataSource:n,className:i=""}){const[l,d]=O.useState(!1),[c,o]=O.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`relative group ${i}`,children:[e,s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[s.jsx("button",{onClick:()=>o(!0),className:"p-1.5 bg-white/90 hover:bg-white rounded-lg shadow-md border border-slate-200 transition-all hover:scale-105",title:"View Data Quality Checks",children:s.jsx(wa,{className:"w-4 h-4 text-green-600"})}),s.jsx("button",{onClick:()=>d(!0),className:"p-1.5 bg-white/90 hover:bg-white rounded-lg shadow-md border border-slate-200 transition-all hover:scale-105",title:"View Data Lineage",children:s.jsx(wn,{className:"w-4 h-4 text-blue-600"})})]})]}),l&&s.jsx(cp,{metricName:t,targetTable:a,targetColumn:r,onClose:()=>d(!1)}),c&&s.jsx(Vv,{metricName:t,dataSource:n,onClose:()=>o(!1)})]})}function fh({onNavigate:e}={}){const[t,a]=O.useState({totalAssets:0,totalLiabilities:0,netLiquidity:0,lcrRatio:null,lcrSurplus:null,nsfrRatio:null,nsfrSurplus:null,tier1Ratio:null,rcapRatio:null,rcapSurplus:null,rcenRatio:null,rlapRatio:null,rlapSurplus:null,rlenRatio:null,cashGap:0,bindingCashGapHorizon:"30-day",bindingStressScenario:"None",bindingStressLiquidity:null,intradayPeak:0,bindingEveScenario:"None",bindingEveChange:null,niiChangePercent:null,dataQualityScore:0}),[r,n]=O.useState(!0);O.useState(!1);const[i,l]=O.useState(!1);O.useEffect(()=>{d()},[]);const d=async()=>{var Ee,xe,ue,pe,N,W,G,M,E,q;const[u,h,x,m,A,p,b,f,g]=await Promise.all([X.from("accounts").select("*").eq("is_active",!0),X.from("transactions").select("*").order("transaction_date",{ascending:!1}).limit(100),X.from("lcr_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),X.from("nsfr_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),X.from("balance_sheet_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),X.from("interest_rate_risk_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),X.from("resolution_liquidity_metrics").select("*").order("report_date",{ascending:!1}).limit(1).maybeSingle(),X.from("liquidity_stress_tests").select("*").order("report_date",{ascending:!1}).limit(10),X.from("interest_rate_risk_metrics").select("*").order("report_date",{ascending:!1}).limit(10)]),v=u.data||[],w=h.data||[],_=v.filter(H=>["checking","savings","investment"].includes(H.account_type)).reduce((H,J)=>H+J.current_balance,0),D=v.filter(H=>["credit","loan"].includes(H.account_type)).reduce((H,J)=>H+Math.abs(J.current_balance),0),R=w.filter(H=>H.amount>0).reduce((H,J)=>H+J.amount,0),S=w.filter(H=>H.amount<0).reduce((H,J)=>H+Math.abs(J.amount),0),L=R-S,k="30-day",F=_*.15,j=x.data?x.data.total_hqla-x.data.total_net_cash_outflows:null,T=m.data?m.data.available_stable_funding-m.data.required_stable_funding:null,y=((Ee=b.data)==null?void 0:Ee.rcap_ratio)||null,I=((xe=b.data)==null?void 0:xe.rcap_surplus_deficit)||null,$=((ue=b.data)==null?void 0:ue.rcen_ratio)||null,C=((pe=b.data)==null?void 0:pe.rlap_ratio)||null,z=((N=b.data)==null?void 0:N.rlap_surplus_deficit)||null,B=((W=b.data)==null?void 0:W.rlen_ratio)||null,V=f.data||[];let P="None",U=null;if(V.length>0){const J=[...V].sort((Q,te)=>Q.stressed_liquidity-te.stressed_liquidity)[0];P=J.scenario_type==="30_day_short_term"?"30-day":"1-year",U=J.stressed_liquidity}const ee=g.data||[];let se="None",K=null;if(ee.length>0){const J=[...ee].sort((Q,te)=>Math.abs(te.eve_change_percent)-Math.abs(Q.eve_change_percent))[0];se=J.scenario_type||"Unknown",K=J.eve_change_percent}const re=((G=p.data)==null?void 0:G.nii_change_percent)||null,Ne=[v.length>0,w.length>0,x.data!==null,m.data!==null,A.data!==null],ge=Ne.filter(Boolean).length/Ne.length*100,be=v.length>0||x.data||m.data||A.data;l(be),a({totalAssets:_,totalLiabilities:D,netLiquidity:_-D,lcrRatio:((M=x.data)==null?void 0:M.lcr_ratio)||null,lcrSurplus:j,nsfrRatio:((E=m.data)==null?void 0:E.nsfr_ratio)||null,nsfrSurplus:T,tier1Ratio:((q=A.data)==null?void 0:q.tier1_capital_ratio)||null,rcapRatio:y,rcapSurplus:I,rcenRatio:$,rlapRatio:C,rlapSurplus:z,rlenRatio:B,cashGap:L,bindingCashGapHorizon:k,bindingStressScenario:P,bindingStressLiquidity:U,intradayPeak:F,bindingEveScenario:se,bindingEveChange:K,niiChangePercent:re,dataQualityScore:ge}),n(!1)},c=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(u),o=u=>u===null?"N/A":`${(u*100).toFixed(2)}%`;return r?s.jsx("div",{className:"text-slate-600",children:"Loading dashboard..."}):s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:s.jsx(np,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Executive Dashboard"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Click any card below to drill into detailed metrics, validations, and regulatory compliance"})]})]})}),!i&&!r&&s.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"No Data Found"}),s.jsxs("p",{className:"text-sm text-slate-700 mb-3",children:["To populate this dashboard with comprehensive State Street Corporation sample data, navigate to the",s.jsx("span",{className:"font-semibold text-blue-700",children:" Data Setup "}),"page and generate sample data."]}),s.jsx("button",{onClick:()=>e==null?void 0:e("data-setup"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:"Go to Data Setup"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("button",{onClick:()=>e==null?void 0:e("balance-sheet"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-blue-500 hover:shadow-md transition-all text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx($e,{className:"w-5 h-5 text-blue-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Balance Sheet"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"Balance Sheet & IRRBB"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Total Assets"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.totalAssets)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Total Equity"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:c(t.netLiquidity)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-slate-600",children:["Binding EVE (",t.bindingEveScenario,")"]}),s.jsx("span",{className:`text-sm font-semibold ${t.bindingEveChange&&t.bindingEveChange<0?"text-red-600":"text-slate-900"}`,children:t.bindingEveChange!==null?o(t.bindingEveChange):"N/A"})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"NII Change"}),s.jsx("span",{className:`text-sm font-bold ${t.niiChangePercent&&t.niiChangePercent>=0?"text-green-600":"text-red-600"}`,children:t.niiChangePercent!==null?o(t.niiChangePercent):"N/A"})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("capital-metrics"),className:`rounded-xl shadow-sm p-6 border-2 hover:shadow-md transition-all text-left ${t.tier1Ratio&&t.tier1Ratio>=.08&&t.rcapSurplus&&t.rcapSurplus>=0?"bg-green-50 border-green-300 hover:border-green-500":"bg-amber-50 border-amber-300 hover:border-amber-500"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ze,{className:"w-5 h-5 text-blue-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Capital Metrics"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Regulatory & Resolution Capital"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Tier 1 Ratio"}),s.jsx("span",{className:`text-sm font-semibold ${t.tier1Ratio&&t.tier1Ratio>=.08?"text-green-600":"text-amber-600"}`,children:t.tier1Ratio!==null?o(t.tier1Ratio):"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"RCAP Surplus"}),s.jsx("span",{className:`text-sm font-semibold ${t.rcapSurplus&&t.rcapSurplus>=0?"text-green-600":"text-red-600"}`,children:t.rcapSurplus!==null?c(t.rcapSurplus):"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"RCEN"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:t.rcenRatio!==null?o(t.rcenRatio):"N/A"})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[t.tier1Ratio&&t.tier1Ratio>=.08&&t.rcapSurplus&&t.rcapSurplus>=0?s.jsx(oe,{className:"w-4 h-4 text-green-600"}):s.jsx(Le,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-xs font-medium text-slate-700",children:t.tier1Ratio&&t.tier1Ratio>=.08&&t.rcapSurplus&&t.rcapSurplus>=0?"Well Capitalized":"Monitor"})]})})]})]}),s.jsx(Qv,{metricName:"Liquidity Coverage Ratio (LCR)",targetTable:"lcr_metrics",targetColumn:"lcr_ratio",dataSource:"Analytics",children:s.jsxs("button",{onClick:()=>e==null?void 0:e("liquidity-metrics"),className:`rounded-xl shadow-sm p-6 border-2 hover:shadow-md transition-all text-left w-full ${t.lcrRatio&&t.lcrRatio>=1&&t.nsfrRatio&&t.nsfrRatio>=1&&t.rlapSurplus&&t.rlapSurplus>=0?"bg-green-50 border-green-300 hover:border-green-500":"bg-amber-50 border-amber-300 hover:border-amber-500"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(yn,{className:"w-5 h-5 text-blue-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Liquidity Metrics"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Regulatory & Resolution Liquidity"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"LCR"}),s.jsx("span",{className:`text-sm font-semibold ${t.lcrRatio&&t.lcrRatio>=1?"text-green-600":"text-red-600"}`,children:t.lcrRatio!==null?o(t.lcrRatio):"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"NSFR"}),s.jsx("span",{className:`text-sm font-semibold ${t.nsfrRatio&&t.nsfrRatio>=1?"text-green-600":"text-red-600"}`,children:t.nsfrRatio!==null?o(t.nsfrRatio):"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"RLAP Surplus"}),s.jsx("span",{className:`text-sm font-semibold ${t.rlapSurplus&&t.rlapSurplus>=0?"text-green-600":"text-red-600"}`,children:t.rlapSurplus!==null?c(t.rlapSurplus):"N/A"})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[t.lcrRatio&&t.lcrRatio>=1&&t.nsfrRatio&&t.nsfrRatio>=1?s.jsx(oe,{className:"w-4 h-4 text-green-600"}):s.jsx(Le,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-xs font-medium text-slate-700",children:t.lcrRatio&&t.lcrRatio>=1&&t.nsfrRatio&&t.nsfrRatio>=1?"Compliant":"Monitor"})]})})]})]})}),s.jsxs("button",{onClick:()=>e==null?void 0:e("cash-flow"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-green-500 hover:shadow-md transition-all text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(wa,{className:"w-5 h-5 text-green-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Cash Flows"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"Cash Flow Analysis"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Cash Gap (30-day)"}),s.jsx("span",{className:`text-sm font-semibold ${t.cashGap>=0?"text-green-600":"text-red-600"}`,children:c(t.cashGap)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Net Liquidity (Point-in-Time)"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.netLiquidity)})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Binding Gap Horizon"}),s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:t.bindingCashGapHorizon})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("intraday-liquidity"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-purple-500 hover:shadow-md transition-all text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Ss,{className:"w-5 h-5 text-purple-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Intraday"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"Intraday Liquidity"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Peak Requirement"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.intradayPeak)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Available"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:c(t.totalAssets)})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Coverage"}),s.jsx("span",{className:"text-base font-bold text-green-600",children:t.totalAssets>0?`${(t.totalAssets/(t.intradayPeak||1)*100).toFixed(0)}%`:"N/A"})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("fr2052a"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-blue-500 hover:shadow-md transition-all text-left",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ve,{className:"w-5 h-5 text-blue-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Regulatory Reporting"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-600 mb-3",children:"FR 2052a"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Report Status"}),s.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Current"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Last Submission"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Today"})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Quality Validated"})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("fr2052a"),className:"rounded-xl shadow-sm p-6 border-2 border-slate-300 bg-white hover:border-blue-500 hover:shadow-md transition-all text-left w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ve,{className:"w-5 h-5 text-blue-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"FR2052a Report"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Liquidity Reporting & Validation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Report Status"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Complete"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Validation Checks"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"All Passing"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Data Quality"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:"High"})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Ready for Submission"})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("regulatory-compliance"),className:"rounded-xl shadow-sm p-6 border-2 border-slate-300 bg-white hover:border-purple-500 hover:shadow-md transition-all text-left w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Ze,{className:"w-5 h-5 text-purple-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Compliance"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Regulatory Compliance Status"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Requirements Tracked"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"53"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Fully Implemented"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:"48"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Partial/Gaps"}),s.jsx("span",{className:"text-sm font-semibold text-amber-600",children:"5"})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"91% Complete"})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("resolution-planning"),className:"rounded-xl shadow-sm p-6 border-2 border-slate-300 bg-white hover:border-indigo-500 hover:shadow-md transition-all text-left w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:s.jsx(wa,{className:"w-5 h-5 text-indigo-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Resolution"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Resolution Planning & Stress"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"RCAP Coverage"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:t.rcapSurplus!==null?c(t.rcapSurplus):"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"RLAP Coverage"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:t.rlapSurplus!==null?c(t.rlapSurplus):"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Stress Tests"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Current"})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Resolution Ready"})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("contingency-funding"),className:"rounded-xl shadow-sm p-6 border-2 border-slate-300 bg-white hover:border-orange-500 hover:shadow-md transition-all text-left w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(Le,{className:"w-5 h-5 text-orange-600"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"CFP"})]}),s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Contingency Funding Plan"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Funding Sources"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"Available"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Stress Horizon"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:t.bindingCashGapHorizon})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Funding Gap"}),s.jsx("span",{className:`text-sm font-semibold ${t.cashGap>=0?"text-green-600":"text-red-600"}`,children:c(Math.abs(t.cashGap))})]}),s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Plan Current"})]})})]})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("data-quality"),className:"bg-white rounded-xl shadow-sm p-6 border-2 border-slate-200 hover:border-emerald-500 hover:shadow-md transition-all text-left md:col-span-2 lg:col-span-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:s.jsx(Oe,{className:"w-5 h-5 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"Data Quality Assessment"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Coverage across all data sources - Click for details"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[t.dataQualityScore.toFixed(0),"%"]}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Overall Score"})]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 mb-4",children:s.jsx("div",{className:`h-3 rounded-full transition-all ${t.dataQualityScore>=80?"bg-green-500":t.dataQualityScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.dataQualityScore}%`}})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.totalAssets>0?"bg-green-500":"bg-slate-300"}`}),s.jsx("p",{className:"text-xs text-slate-600",children:"Accounts"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.cashGap!==0?"bg-green-500":"bg-slate-300"}`}),s.jsx("p",{className:"text-xs text-slate-600",children:"Transactions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.lcrRatio!==null?"bg-green-500":"bg-slate-300"}`}),s.jsx("p",{className:"text-xs text-slate-600",children:"LCR Data"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.nsfrRatio!==null?"bg-green-500":"bg-slate-300"}`}),s.jsx("p",{className:"text-xs text-slate-600",children:"NSFR Data"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mx-auto mb-2 ${t.tier1Ratio!==null?"bg-green-500":"bg-slate-300"}`}),s.jsx("p",{className:"text-xs text-slate-600",children:"Balance Sheet"})]})]})]})]})]})}function es({isOpen:e,onClose:t,title:a,data:r,availableAttributes:n,defaultAggregateField:i}){var D,R;const l=(D=n.find(S=>S.type==="date"))==null?void 0:D.name,d=!!l,[c,o]=O.useState({type:d?"trend":"bar",groupBy:d?[l]:[],aggregateField:i||((R=n.find(S=>S.type==="number"))==null?void 0:R.name)||"",aggregateFunction:"avg",dateField:l,dateGrouping:"month"});O.useState([]),O.useState(!0);const u=O.useMemo(()=>n.filter(S=>S.type==="number"),[n]),h=O.useMemo(()=>n.filter(S=>S.type==="string"||S.type==="boolean"),[n]),x=O.useMemo(()=>n.filter(S=>S.type==="date"),[n]),m=(S,L)=>{const k=S.filter(F=>typeof F=="number"&&!isNaN(F));if(k.length===0)return 0;switch(L){case"sum":return k.reduce((F,j)=>F+j,0);case"avg":return k.reduce((F,j)=>F+j,0)/k.length;case"count":return k.length;case"min":return Math.min(...k);case"max":return Math.max(...k);default:return 0}},A=(S,L)=>S.reduce((k,F)=>{const j=L.map(T=>F[T]||"N/A").join(" | ");return k[j]||(k[j]=[]),k[j].push(F),k},{}),p=(S,L)=>{if(!L.dateField)return[];const k=S.reduce((F,j)=>{const T=j[L.dateField];if(!T)return F;const y=new Date(T);let I;switch(L.dateGrouping){case"day":I=y.toISOString().split("T")[0];break;case"week":const $=new Date(y);$.setDate(y.getDate()-y.getDay()),I=$.toISOString().split("T")[0];break;case"month":I=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}`;break;case"quarter":const C=Math.floor(y.getMonth()/3)+1;I=`${y.getFullYear()}-Q${C}`;break;case"year":I=String(y.getFullYear());break;default:I=y.toISOString().split("T")[0]}return F[I]||(F[I]=[]),F[I].push(j),F},{});return Object.entries(k).map(([F,j])=>({category:F,value:m(j.map(T=>T[L.aggregateField]),L.aggregateFunction),count:j.length})).sort((F,j)=>F.category.localeCompare(j.category))},b=O.useMemo(()=>{if(!c.aggregateField||r.length===0)return[];if(c.type==="trend"&&c.dateField)return p(r,c);if(c.groupBy.length===0)return[{category:"Total",value:m(r.map(k=>k[c.aggregateField]),c.aggregateFunction)}];const S=A(r,c.groupBy);return Object.entries(S).map(([L,k])=>({category:L,value:m(k.map(F=>F[c.aggregateField]),c.aggregateFunction),count:k.length})).sort((L,k)=>k.value-L.value)},[r,c]),f=S=>{c.groupBy.includes(S)||o(L=>({...L,groupBy:[...L.groupBy,S]}))},g=S=>{o(L=>({...L,groupBy:L.groupBy.filter(k=>k!==S)}))},v=()=>{const L=[["Category","Value","Count"],...b.map(T=>[T.category,T.value,T.count||""])].map(T=>T.join(",")).join(`
`),k=new Blob([L],{type:"text/csv"}),F=URL.createObjectURL(k),j=document.createElement("a");j.href=F,j.download=`${a.replace(/\s+/g,"_")}_visualization_${new Date().toISOString().split("T")[0]}.csv`,j.click()},w=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),_=Math.max(...b.map(S=>S.value));return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-7xl max-h-[95vh] flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-4 flex items-center justify-between rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($e,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:a}),s.jsx("p",{className:"text-sm text-purple-100",children:"Data Visualization & Analytics"})]})]}),s.jsx("button",{onClick:t,className:"text-white hover:text-purple-100 p-1 rounded-full hover:bg-purple-800 transition-colors",children:s.jsx(kt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"border-b border-slate-200 bg-slate-50 px-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Chart Type"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>o(S=>({...S,type:"bar"})),className:`flex-1 px-3 py-2 text-xs rounded-lg border ${c.type==="bar"?"bg-purple-600 text-white border-purple-600":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:s.jsx($e,{className:"h-4 w-4 mx-auto"})}),s.jsx("button",{onClick:()=>o(S=>({...S,type:"line"})),className:`flex-1 px-3 py-2 text-xs rounded-lg border ${c.type==="line"?"bg-purple-600 text-white border-purple-600":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:s.jsx(Nv,{className:"h-4 w-4 mx-auto"})}),s.jsx("button",{onClick:()=>o(S=>({...S,type:"trend"})),className:`flex-1 px-3 py-2 text-xs rounded-lg border ${c.type==="trend"?"bg-purple-600 text-white border-purple-600":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:s.jsx(He,{className:"h-4 w-4 mx-auto"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Measure"}),s.jsx("select",{value:c.aggregateField,onChange:S=>o(L=>({...L,aggregateField:S.target.value})),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:u.map(S=>s.jsx("option",{value:S.name,children:S.label},S.name))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Function"}),s.jsxs("select",{value:c.aggregateFunction,onChange:S=>o(L=>({...L,aggregateFunction:S.target.value})),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"sum",children:"Sum"}),s.jsx("option",{value:"avg",children:"Average"}),s.jsx("option",{value:"count",children:"Count"}),s.jsx("option",{value:"min",children:"Minimum"}),s.jsx("option",{value:"max",children:"Maximum"})]})]}),c.type==="trend"&&x.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Time Period"}),s.jsxs("select",{value:c.dateGrouping,onChange:S=>o(L=>({...L,dateGrouping:S.target.value})),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"day",children:"Daily"}),s.jsx("option",{value:"week",children:"Weekly"}),s.jsx("option",{value:"month",children:"Monthly"}),s.jsx("option",{value:"quarter",children:"Quarterly"}),s.jsx("option",{value:"year",children:"Yearly"})]})]})]}),c.type!=="trend"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Group By Attributes"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.groupBy.map(S=>{const L=n.find(k=>k.name===S);return s.jsxs("button",{onClick:()=>g(S),className:"px-3 py-1 text-xs bg-purple-600 text-white rounded-full hover:bg-purple-700 flex items-center gap-1",children:[(L==null?void 0:L.label)||S,s.jsx(Cv,{className:"h-3 w-3"})]},S)}),h.filter(S=>!c.groupBy.includes(S.name)).map(S=>s.jsxs("button",{onClick:()=>f(S.name),className:"px-3 py-1 text-xs bg-slate-200 text-slate-700 rounded-full hover:bg-slate-300 flex items-center gap-1",children:[S.label,s.jsx(Dn,{className:"h-3 w-3"})]},S.name))]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",b.length," ",b.length===1?"group":"groups"," from ",r.length," records"]}),s.jsxs("button",{onClick:v,className:"px-4 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(bl,{className:"h-4 w-4"}),"Export CSV"]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($e,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No data to visualize. Adjust your filters or select different attributes."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:w(b.reduce((S,L)=>S+L.value,0))})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-green-700 font-medium",children:"Average"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:w(b.reduce((S,L)=>S+L.value,0)/b.length)})]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-orange-700 font-medium",children:"Maximum"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:w(Math.max(...b.map(S=>S.value)))})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-purple-700 font-medium",children:"Groups"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:b.length})]})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"space-y-3",children:b.slice(0,50).map((S,L)=>{const k=S.value/_*100;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium text-slate-700 truncate max-w-md",title:S.category,children:S.category}),s.jsx("span",{className:"font-semibold text-slate-900 ml-4",children:w(S.value)})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-8 relative overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${c.type==="trend"?"bg-gradient-to-r from-blue-500 to-blue-600":L===0?"bg-gradient-to-r from-purple-500 to-purple-600":L===1?"bg-gradient-to-r from-blue-500 to-blue-600":L===2?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-slate-400 to-slate-500"}`,style:{width:`${k}%`},children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3",children:s.jsxs("span",{className:"text-xs font-medium text-white",children:[k.toFixed(1),"%"]})})})}),S.count&&s.jsxs("div",{className:"text-xs text-slate-500 ml-1",children:[S.count," ",S.count===1?"record":"records"]})]},L)})}),b.length>50&&s.jsxs("div",{className:"mt-4 text-center text-sm text-slate-500",children:["Showing top 50 of ",b.length," groups"]})]})]})}),s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end rounded-b-lg",children:s.jsx("button",{onClick:t,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Close"})})]})}):null}function Gv(){bt();const[e,t]=O.useState([]),[a,r]=O.useState(!0),[n,i]=O.useState(!1),[l,d]=O.useState(!1),[c,o]=O.useState(!1);O.useEffect(()=>{u()},[]);const u=async()=>{const{data:f,error:g}=await X.from("accounts").select("*").is("user_id",null).order("created_at",{ascending:!1});console.log("Accounts loaded:",{data:f,error:g}),f&&t(f),r(!1)},h=async()=>{i(!0);try{const f=await Ac();f.success?(await u(),alert("Sample accounts loaded successfully!")):(console.error("Seed error:",f.error),alert("Error loading data. Check console for details."))}catch(f){console.error("Error seeding data:",f),alert("Error loading data. Check console for details.")}i(!1)},x=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),m=f=>["checking","savings","investment"].includes(f)?s.jsx(He,{className:"w-5 h-5 text-green-600"}):s.jsx(Xi,{className:"w-5 h-5 text-red-600"}),A=f=>["checking","savings","investment"].includes(f)?"bg-green-50 border-green-200":"bg-red-50 border-red-200",p=e.filter(f=>["checking","savings","investment"].includes(f.account_type)).reduce((f,g)=>f+g.current_balance,0),b=e.filter(f=>["credit","loan"].includes(f.account_type)).reduce((f,g)=>f+Math.abs(g.current_balance),0);return a?s.jsx("div",{className:"text-slate-600",children:"Loading accounts..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-green-600 p-2 rounded-lg",children:s.jsx(Ai,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Accounts"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Manage your accounts and balances"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>o(!0),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Data",children:s.jsx($e,{className:"w-4 h-4"})}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Dn,{className:"w-4 h-4"}),"Add Account"]})]})]}),e.length===0&&!a&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"No Accounts Found"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Load sample accounts to get started with the liquidity management system."}),s.jsxs("button",{onClick:h,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(Oe,{className:"w-4 h-4"}),n?"Loading Data...":"Load Sample Accounts"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(He,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Assets"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:x(p)})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(Xi,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Liabilities"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:x(b)})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ai,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Active Accounts"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.length})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"All Accounts"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Institution"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Balance"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(f=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${A(f.account_type)}`,children:m(f.account_type)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900",children:f.name}),s.jsx("p",{className:"text-sm text-slate-500",children:f.currency})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 capitalize",children:f.account_type})}),s.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:f.institution||"N/A"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("p",{className:`font-semibold ${f.current_balance>=0?"text-green-600":"text-red-600"}`,children:x(f.current_balance)})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(kv,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Tv,{className:"w-4 h-4"})})]})})]},f.id))})]})}),e.length===0&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Ai,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No accounts found. Create your first account to get started."})]})]}),l&&s.jsx(Wv,{onClose:()=>d(!1),onSuccess:()=>{d(!1),u()}})]})}function Wv({onClose:e,onSuccess:t}){bt();const[a,r]=O.useState({name:"",account_type:"checking",currency:"USD",current_balance:0,institution:""}),[n,i]=O.useState(!1),l=async d=>{d.preventDefault(),i(!0);const{error:c}=await X.from("accounts").insert([{...a,user_id:null,is_active:!0}]);if(i(!1),c){alert("Error creating account: "+c.message);return}t()};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Add New Account"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Name"}),s.jsx("input",{type:"text",value:a.name,onChange:d=>r({...a,name:d.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Operating Account"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Type"}),s.jsxs("select",{value:a.account_type,onChange:d=>r({...a,account_type:d.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"checking",children:"Checking"}),s.jsx("option",{value:"savings",children:"Savings"}),s.jsx("option",{value:"investment",children:"Investment"}),s.jsx("option",{value:"credit",children:"Credit"}),s.jsx("option",{value:"loan",children:"Loan"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Institution"}),s.jsx("input",{type:"text",value:a.institution,onChange:d=>r({...a,institution:d.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., State Street Bank"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Initial Balance"}),s.jsx("input",{type:"number",step:"0.01",value:a.current_balance,onChange:d=>r({...a,current_balance:parseFloat(d.target.value)}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:n?"Adding...":"Add Account"})]})]})]}),s.jsx(es,{isOpen:showVisualization,onClose:()=>setShowVisualization(!1),title:"Accounts Data Visualization",data:accounts,availableAttributes:[{name:"account_type",label:"Account Type",type:"string"},{name:"currency",label:"Currency",type:"string"},{name:"institution",label:"Institution",type:"string"},{name:"is_active",label:"Active Status",type:"boolean"},{name:"current_balance",label:"Current Balance",type:"number"}],defaultAggregateField:"current_balance"})]})}function Hv(){bt();const[e,t]=O.useState([]),[a,r]=O.useState([]),[n,i]=O.useState(!0),[l,d]=O.useState(!1),[c,o]=O.useState("all"),[u,h]=O.useState(!1);O.useEffect(()=>{x()},[]);const x=async()=>{var D,R;const[w,_]=await Promise.all([X.from("transactions").select("*").is("user_id",null).order("transaction_date",{ascending:!1}),X.from("accounts").select("id, name, account_type").is("user_id",null)]);console.log("Transactions loaded:",{transactions:((D=w.data)==null?void 0:D.length)||0,accounts:((R=_.data)==null?void 0:R.length)||0}),w.data&&t(w.data),_.data&&r(_.data),i(!1)},m=w=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(w),A=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=w=>{const _=a.find(D=>D.id===w);return(_==null?void 0:_.name)||"Unknown Account"},b=c==="all"?e:e.filter(w=>c==="inflow"?w.amount>0:w.amount<0),f=e.filter(w=>w.amount>0).reduce((w,_)=>w+_.amount,0),g=e.filter(w=>w.amount<0).reduce((w,_)=>w+Math.abs(_.amount),0),v=f-g;return n?s.jsx("div",{className:"text-slate-600",children:"Loading transactions..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-purple-600 p-2 rounded-lg",children:s.jsx(xi,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Transactions"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Track all account transactions"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>h(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Visualize Data",children:s.jsx($e,{className:"w-4 h-4"})}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(Dn,{className:"w-4 h-4"}),"Add Transaction"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(ch,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Inflow"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:m(f)})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(oh,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Outflow"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:m(g)})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${v>=0?"bg-green-100":"bg-red-100"}`,children:s.jsx(xi,{className:`w-5 h-5 ${v>=0?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Net Cash Flow"}),s.jsx("p",{className:`text-2xl font-bold ${v>=0?"text-green-600":"text-red-600"}`,children:m(v)})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"All Transactions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rp,{className:"w-4 h-4 text-slate-600"}),s.jsxs("select",{value:c,onChange:w=>o(w.target.value),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Transactions"}),s.jsx("option",{value:"inflow",children:"Inflows Only"}),s.jsx("option",{value:"outflow",children:"Outflows Only"})]})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Amount"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:b.map(w=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:A(w.transaction_date)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${w.amount>0?"bg-green-100":"bg-red-100"}`,children:w.amount>0?s.jsx(ch,{className:"w-4 h-4 text-green-600"}):s.jsx(oh,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900",children:w.description}),s.jsx("p",{className:"text-xs text-slate-500",children:w.transaction_type})]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:p(w.account_id)}),s.jsx("td",{className:"px-6 py-4",children:w.category&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:w.category})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("p",{className:`font-semibold ${w.amount>=0?"text-green-600":"text-red-600"}`,children:m(w.amount)})})]},w.id))})]})}),b.length===0&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(xi,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No transactions found."})]})]}),l&&s.jsx(Xv,{accounts:a,onClose:()=>d(!1),onSuccess:()=>{d(!1),x()}})]})}function Xv({accounts:e,onClose:t,onSuccess:a}){var c;bt();const[r,n]=O.useState({account_id:((c=e[0])==null?void 0:c.id)||"",description:"",amount:0,transaction_type:"credit",category:"",transaction_date:new Date().toISOString().split("T")[0]}),[i,l]=O.useState(!1),d=async o=>{o.preventDefault(),l(!0);const{error:u}=await X.from("transactions").insert([{...r,user_id:null}]);if(l(!1),u){alert("Error creating transaction: "+u.message);return}a()};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Add New Transaction"}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account"}),s.jsx("select",{value:r.account_id,onChange:o=>n({...r,account_id:o.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:e.map(o=>s.jsx("option",{value:o.id,children:o.name},o.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:r.description,onChange:o=>n({...r,description:o.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Client Service Fees"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Amount"}),s.jsx("input",{type:"number",step:"0.01",value:r.amount,onChange:o=>n({...r,amount:parseFloat(o.target.value)}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Use negative for expenses"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Type"}),s.jsxs("select",{value:r.transaction_type,onChange:o=>n({...r,transaction_type:o.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"credit",children:"Credit"}),s.jsx("option",{value:"debit",children:"Debit"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Category"}),s.jsx("input",{type:"text",value:r.category,onChange:o=>n({...r,category:o.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Revenue, Operations"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date"}),s.jsx("input",{type:"date",value:r.transaction_date,onChange:o=>n({...r,transaction_date:o.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:i?"Adding...":"Add Transaction"})]})]})]}),s.jsx(es,{isOpen:showVisualization,onClose:()=>setShowVisualization(!1),title:"Transactions Data Visualization",data:transactions.map(o=>{var u;return{...o,account_name:((u=e.find(h=>h.id===o.account_id))==null?void 0:u.name)||"Unknown"}}),availableAttributes:[{name:"transaction_type",label:"Transaction Type",type:"string"},{name:"category",label:"Category",type:"string"},{name:"account_name",label:"Account",type:"string"},{name:"transaction_date",label:"Transaction Date",type:"date"},{name:"amount",label:"Amount",type:"number"}],defaultAggregateField:"amount"})]})}function Kv(){bt();const[e,t]=O.useState([]),[a,r]=O.useState(!0),[n,i]=O.useState(!1);O.useEffect(()=>{l()},[]);const l=async()=>{const{data:h}=await X.from("liquidity_reports").select("*").is("user_id",null).order("report_date",{ascending:!1});h&&t(h),r(!1)},d=async(h,x)=>{const{data:m}=await X.from("accounts").select("*").is("user_id",null).eq("is_active",!0);if(!m)return;const A=m.filter(w=>["checking","savings","investment"].includes(w.account_type)).reduce((w,_)=>w+_.current_balance,0),p=m.filter(w=>["credit","loan"].includes(w.account_type)).reduce((w,_)=>w+Math.abs(_.current_balance),0),b=A-p,f=p>0?A/p:null,g=p>0?A*.9/p:null,{error:v}=await X.from("liquidity_reports").insert({user_id:null,report_type:h,total_assets:A,total_liabilities:p,net_liquidity:b,cash_ratio:f,quick_ratio:g,notes:x||null});v||(i(!1),l())},c=h=>{var b,f;const x=[["Liquidity Report"],["Date",new Date(h.report_date).toLocaleDateString()],["Type",h.report_type],[""],["Metric","Value"],["Total Assets",h.total_assets.toFixed(2)],["Total Liabilities",h.total_liabilities.toFixed(2)],["Net Liquidity",h.net_liquidity.toFixed(2)],["Cash Ratio",((b=h.cash_ratio)==null?void 0:b.toFixed(4))||"N/A"],["Quick Ratio",((f=h.quick_ratio)==null?void 0:f.toFixed(4))||"N/A"],[""],["Notes",h.notes||""]].map(g=>g.join(",")).join(`
`),m=new Blob([x],{type:"text/csv"}),A=window.URL.createObjectURL(m),p=document.createElement("a");p.href=A,p.download=`liquidity-report-${h.report_date}.csv`,p.click(),window.URL.revokeObjectURL(A)},o=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),u=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return a?s.jsx("div",{className:"text-slate-600",children:"Loading reports..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ve,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Liquidity Reports"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(He,{className:"w-4 h-4"}),"Generate Report"]})]}),e.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[s.jsx(Ve,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 mb-2",children:"No reports generated yet"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Generate your first liquidity report to track your financial position"})]}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(h=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(jd,{className:"w-5 h-5 text-slate-500"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:u(h.report_date)})]}),s.jsxs("p",{className:"text-sm text-slate-600 capitalize",children:[h.report_type," Report"]})]}),s.jsxs("button",{onClick:()=>c(h),className:"flex items-center gap-2 px-3 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",children:[s.jsx(bl,{className:"w-4 h-4"}),"Export CSV"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Total Assets"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:o(h.total_assets)})]}),s.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("p",{className:"text-sm text-red-700 mb-1",children:"Total Liabilities"}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:o(h.total_liabilities)})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${h.net_liquidity>=0?"bg-blue-50 border-blue-200":"bg-orange-50 border-orange-200"}`,children:[s.jsx("p",{className:`text-sm mb-1 ${h.net_liquidity>=0?"text-blue-700":"text-orange-700"}`,children:"Net Liquidity"}),s.jsx("p",{className:`text-2xl font-bold ${h.net_liquidity>=0?"text-blue-900":"text-orange-900"}`,children:o(h.net_liquidity)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Cash Ratio"}),s.jsx("p",{className:"text-xl font-semibold text-slate-900",children:h.cash_ratio?h.cash_ratio.toFixed(4):"N/A"})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Quick Ratio"}),s.jsx("p",{className:"text-xl font-semibold text-slate-900",children:h.quick_ratio?h.quick_ratio.toFixed(4):"N/A"})]})]}),h.notes&&s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Notes"}),s.jsx("p",{className:"text-slate-900",children:h.notes})]})]},h.id))}),n&&s.jsx(Jv,{onClose:()=>i(!1),onGenerate:d})]})}function Jv({onClose:e,onGenerate:t}){const[a,r]=O.useState("monthly"),[n,i]=O.useState(""),[l,d]=O.useState(!1),c=async o=>{o.preventDefault(),d(!0),await t(a,n),d(!1)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Generate Liquidity Report"}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Report Type"}),s.jsxs("select",{value:a,onChange:o=>r(o.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"}),s.jsx("option",{value:"annual",children:"Annual"}),s.jsx("option",{value:"custom",children:"Custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes (Optional)"}),s.jsx("textarea",{value:n,onChange:o=>i(o.target.value),rows:4,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any observations or context for this report..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:l?"Generating...":"Generate Report"})]})]})]})})}function yl({selectedEntityId:e,onEntityChange:t,showMaterialOnly:a=!1}){bt();const[r,n]=O.useState([]),[i,l]=O.useState(!0),[d,c]=O.useState(!1);O.useEffect(()=>{o()},[a]);const o=async()=>{let h=X.from("legal_entities").select("*").is("user_id",null).order("entity_code");a&&(h=h.eq("is_material_entity",!0));const{data:x,error:m}=await h;x&&n(x),l(!1)},u=r.find(h=>h.id===e);return s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Legal Entity View"}),s.jsxs("button",{onClick:()=>c(!d),className:"w-full flex items-center justify-between gap-3 px-4 py-2 bg-white border border-slate-300 rounded-lg hover:border-slate-400 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dh,{className:"w-4 h-4 text-slate-600"}),s.jsx("span",{className:"text-sm text-slate-900",children:u?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-semibold",children:u.entity_code}),u.is_material_entity&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Material Entity"})]}):"Consolidated (All Entities)"})]}),s.jsx(Vt,{className:`w-4 h-4 text-slate-600 transition-transform ${d?"rotate-180":""}`})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),s.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[s.jsx("button",{onClick:()=>{t(null),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors border-b border-slate-100 ${e?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dh,{className:"w-4 h-4 text-slate-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Consolidated View"}),s.jsx("p",{className:"text-xs text-slate-500",children:"All legal entities aggregated"})]})]})}),i?s.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading entities..."}):r.length===0?s.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No legal entities found"}):r.map(h=>s.jsx("button",{onClick:()=>{t(h.id),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors ${e===h.id?"bg-blue-50":""}`,children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:h.entity_code}),h.is_material_entity&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Material Entity"})]}),s.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:h.entity_name}),s.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[h.jurisdiction,"  ",h.entity_type]})]})})},h.id))]})]})]})}function dp({metricName:e,metricValue:t,targetTable:a,targetColumn:r,dataSource:n,onClose:i}){bt();const[l,d]=O.useState(!0),[c,o]=O.useState("lineage"),[u,h]=O.useState([]),[x,m]=O.useState([]),[A,p]=O.useState([]),[b,f]=O.useState([]),[g,v]=O.useState(new Set),[w,_]=O.useState(null);O.useEffect(()=>{D()},[a,r]);const D=async()=>{try{const[j,T,y]=await Promise.all([X.from("data_quality_checks").select("*").is("user_id",null).eq("data_source",n).order("last_run_at",{ascending:!1}).limit(10),X.from("data_feeds").select("*").is("user_id",null).ilike("source_system",`%${n}%`).order("last_run_at",{ascending:!1}).limit(5),X.from("data_lineage").select("*").is("user_id",null).eq("target_table",a).eq("target_column",r).order("dependency_level",{ascending:!0})]);if(j.error)throw j.error;if(T.error)throw T.error;if(y.error)throw y.error;h(j.data||[]),m(T.data||[]),p(y.data||[]);const I=(y.data||[]).map($=>({table:$.source_table,column:$.source_column,system:$.source_system,transformationType:$.transformation_type,transformationRule:$.transformation_rule,isCritical:$.is_critical,dependencyLevel:$.dependency_level}));f(I)}catch(j){console.error("Error loading metric details:",j)}finally{d(!1)}},R=j=>j?new Date(j).toLocaleString():"Never",S=j=>j.total_records===0?0:(j.passed_records/j.total_records*100).toFixed(1),L=j=>{switch(j){case"direct":return"bg-green-100 text-green-700 border-green-300";case"calculated":return"bg-blue-100 text-blue-700 border-blue-300";case"aggregated":return"bg-purple-100 text-purple-700 border-purple-300";case"derived":return"bg-amber-100 text-amber-700 border-amber-300";default:return"bg-slate-100 text-slate-700 border-slate-300"}},k=j=>{_(j)},F=j=>{v(T=>{const y=new Set(T);return y.has(j)?y.delete(j):y.add(j),y})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx("span",{className:"text-3xl font-bold text-white",children:t}),s.jsxs("span",{className:"px-3 py-1 bg-blue-500/50 rounded-full text-sm text-white",children:[a,".",r]})]})]}),s.jsx("button",{onClick:i,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:s.jsx(kt,{className:"w-5 h-5 text-white"})})]}),s.jsx("div",{className:"flex gap-2 mt-4",children:["lineage","quality","feeds"].map(j=>s.jsxs("button",{onClick:()=>o(j),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${c===j?"bg-white text-blue-600":"bg-blue-500/30 text-white hover:bg-blue-500/50"}`,children:[j==="lineage"&&"Data Lineage",j==="quality"&&"Quality Checks",j==="feeds"&&"Data Feeds"]},j))})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?s.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading metric details..."}):s.jsxs(s.Fragment,{children:[c==="lineage"&&s.jsx("div",{className:"space-y-6",children:b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No predecessor data found"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Current Metric"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Table:"})," ",a]}),s.jsxs("p",{className:"text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Column:"})," ",r]}),s.jsxs("p",{className:"text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Value:"})," ",t]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Predecessor Data"}),s.jsx("div",{className:"space-y-3",children:b.map((j,T)=>{const y=`${j.table}.${j.column}`,I=g.has(y);return s.jsx("div",{className:`border-2 rounded-lg overflow-hidden ${j.isCritical?"border-red-300 bg-red-50":"border-slate-200 bg-white"}`,children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("button",{onClick:()=>F(y),className:"p-1 hover:bg-slate-100 rounded",children:I?s.jsx(Vt,{className:"w-4 h-4 text-slate-600"}):s.jsx(as,{className:"w-4 h-4 text-slate-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"font-semibold text-slate-900",children:[j.table,".",j.column]}),j.isCritical&&s.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-semibold rounded",children:"CRITICAL"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:j.system})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${L(j.transformationType)}`,children:j.transformationType.toUpperCase()}),s.jsx("button",{onClick:()=>k(j),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors border border-slate-200",title:"View details for this predecessor",children:s.jsx(Wi,{className:"w-4 h-4 text-blue-600"})})]})]}),I&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"TRANSFORMATION RULE"}),s.jsx("p",{className:"text-sm text-slate-700",children:j.transformationRule})]}),s.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Dependency Level:"})," ",j.dependencyLevel]})]})]})},T)})})]}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:s.jsxs("p",{className:"text-sm text-slate-700",children:[s.jsx("strong",{children:"Note:"})," Click the ",s.jsx(Wi,{className:"w-4 h-4 inline mx-1 text-blue-600"})," icon next to any predecessor to view its own data quality, feeds, and lineage information."]})})]})}),c==="quality"&&s.jsx("div",{className:"space-y-4",children:u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oe,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No quality checks configured"})]}):u.map(j=>{const T=S(j);return s.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:j.check_name}),s.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:j.check_type})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-3xl font-bold ${parseFloat(T)>=95?"text-green-600":parseFloat(T)>=80?"text-amber-600":"text-red-600"}`,children:[T,"%"]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Pass Rate"})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:j.total_records.toLocaleString()}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Total"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.passed_records.toLocaleString()}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Passed"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.failed_records.toLocaleString()}),s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Failed"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.execution_time_ms}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"ms"})]})]}),s.jsxs("div",{className:"text-sm text-slate-500",children:["Last run: ",R(j.last_run_at)]}),j.error_message&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:j.error_message})})]},j.id)})}),c==="feeds"&&s.jsx("div",{className:"space-y-4",children:x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oe,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No data feeds configured"})]}):x.map(j=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:j.feed_name}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:j.source_system})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j.status==="active"?"bg-green-100 text-green-700":j.status==="error"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:j.status.toUpperCase()}),j.is_stale&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700",children:"STALE"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.records_loaded.toLocaleString()}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Records Loaded"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.error_count}),s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Errors"})]}),s.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-bold text-slate-900",children:R(j.last_run_at)}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Last Run"})]})]})]},j.id))})]})})]})}),w&&s.jsx(dp,{metricName:`${w.table}.${w.column}`,metricValue:"Predecessor Data",targetTable:w.table,targetColumn:w.column,dataSource:w.system,onClose:()=>_(null)})]})}const Yv={"Tier 1 Capital":[{title:"Basel III: Finalising Post-Crisis Reforms",description:"Defines Tier 1 capital composition, including Common Equity Tier 1 (CET1) and Additional Tier 1 capital components.",url:"https://www.bis.org/bcbs/publ/d424.htm",section:"Part 1: Minimum Capital Requirements"},{title:"Federal Reserve - Capital Requirements",description:"US implementation of Basel III capital standards, including minimum ratios and buffer requirements for banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/topics/capital.htm"},{title:"12 CFR Part 217 - Capital Adequacy",description:"Federal regulation establishing minimum capital requirements for national banks and federal savings associations.",url:"https://www.ecfr.gov/current/title-12/chapter-II/subchapter-A/part-217",section:"Subpart B: Capital Ratio Requirements"}],"Tier 1 Capital Ratio":[{title:"Basel III: Finalising Post-Crisis Reforms",description:"Minimum Tier 1 capital ratio requirement of 6% of risk-weighted assets.",url:"https://www.bis.org/bcbs/publ/d424.htm",section:"Part 1: Minimum Capital Requirements"},{title:"Federal Reserve SR 15-18",description:"Guidance on capital planning for Category I and II banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/srletters/sr1518.htm"}],"Leverage Ratio":[{title:"Basel III Leverage Ratio Framework",description:"Minimum 3% leverage ratio requirement, with enhanced requirements for G-SIBs.",url:"https://www.bis.org/bcbs/publ/d270.htm"},{title:"Enhanced Supplementary Leverage Ratio (eSLR)",description:"US G-SIBs must maintain a minimum 5% supplementary leverage ratio (3% base + 2% buffer).",url:"https://www.federalreserve.gov/supervisionreg/topics/supplementary_leverage_ratio.htm"},{title:"12 CFR 217.10 - Minimum Capital Requirements",description:"Federal regulation establishing leverage ratio requirements.",url:"https://www.ecfr.gov/current/title-12/section-217.10"}],"Liquidity Coverage Ratio (LCR)":[{title:"Basel III: The Liquidity Coverage Ratio (BCBS 238)",description:"Requires banks to hold sufficient high-quality liquid assets (HQLA) to cover 30 days of net cash outflows under stress.",url:"https://www.bis.org/publ/bcbs238.htm"},{title:"Federal Reserve LCR Rule",description:"US implementation requiring minimum 100% LCR for covered banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/topics/liquidity_coverage_ratio.htm"},{title:"12 CFR Part 249 - Liquidity Risk Measurement",description:"Federal regulation establishing LCR requirements and calculation methodology.",url:"https://www.ecfr.gov/current/title-12/chapter-II/subchapter-A/part-249"}],"Total High-Quality Liquid Assets (HQLA)":[{title:"Basel III: The Liquidity Coverage Ratio (BCBS 238)",description:"Defines HQLA composition: Level 1 (100%), Level 2A (85%), and Level 2B (50%) assets.",url:"https://www.bis.org/publ/bcbs238.htm",section:"Section II: HQLA Definition"},{title:"12 CFR 249.20 - HQLA Amount",description:"US regulatory definition and calculation of high-quality liquid assets.",url:"https://www.ecfr.gov/current/title-12/section-249.20"}],"Total Net Cash Outflows (30-day)":[{title:"Basel III: The Liquidity Coverage Ratio (BCBS 238)",description:"Defines net cash outflow calculation methodology for 30-day stressed scenario.",url:"https://www.bis.org/publ/bcbs238.htm",section:"Section III: Net Cash Outflows"},{title:"12 CFR 249.30 - Total Net Cash Outflow Amount",description:"US regulatory methodology for calculating stressed net cash outflows.",url:"https://www.ecfr.gov/current/title-12/section-249.30"}],"Net Stable Funding Ratio (NSFR)":[{title:"Basel III: The Net Stable Funding Ratio (BCBS 295)",description:"Requires minimum 100% ratio of available stable funding to required stable funding over one year.",url:"https://www.bis.org/bcbs/publ/d295.htm"},{title:"Federal Reserve NSFR Rule",description:"US implementation of NSFR requirements for Category I-III banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/topics/net_stable_funding_ratio.htm"},{title:"12 CFR Part 329 - Net Stable Funding Ratio",description:"Federal regulation establishing NSFR requirements and calculation standards.",url:"https://www.ecfr.gov/current/title-12/chapter-III/subchapter-B/part-329"}],"Available Stable Funding (ASF)":[{title:"Basel III: The Net Stable Funding Ratio (BCBS 295)",description:"Defines ASF factors for various funding sources (capital, deposits, long-term borrowings).",url:"https://www.bis.org/bcbs/publ/d295.htm",section:"Section II: Available Stable Funding"}],"Required Stable Funding (RSF)":[{title:"Basel III: The Net Stable Funding Ratio (BCBS 295)",description:"Defines RSF factors for assets and off-balance sheet exposures.",url:"https://www.bis.org/bcbs/publ/d295.htm",section:"Section III: Required Stable Funding"}],"Resolution Capital Adequacy Position (RCAP) Ratio":[{title:"Federal Reserve - Resolution Planning",description:"Requirements for resolution capital adequacy under Title I of Dodd-Frank Act.",url:"https://www.federalreserve.gov/supervisionreg/resolution-plans.htm"},{title:"Federal Reserve SR 19-7",description:"Guidance on resolution planning for large banking organizations.",url:"https://www.federalreserve.gov/supervisionreg/srletters/sr1907.htm"},{title:"Dodd-Frank Act Section 165(d)",description:"Requires resolution plans demonstrating rapid and orderly resolution.",url:"https://www.govinfo.gov/content/pkg/PLAW-111publ203/html/PLAW-111publ203.htm",section:"Section 165(d): Resolution Plans"}],"Total Assets":[{title:"FASB ASC 210 - Balance Sheet",description:"US GAAP accounting standards for asset recognition and measurement.",url:"https://www.fasb.org/standards"}],"Total Liabilities":[{title:"FASB ASC 210 - Balance Sheet",description:"US GAAP accounting standards for liability recognition and measurement.",url:"https://www.fasb.org/standards"}],"Total Equity":[{title:"FASB ASC 505 - Equity",description:"US GAAP accounting standards for equity instruments and transactions.",url:"https://www.fasb.org/standards"}]};function Zv({metricName:e,onClose:t}){const a=Yv[e]||[{title:"General Regulatory Framework",description:"This metric is subject to various regulatory requirements. Please consult relevant Basel III standards and Federal Reserve guidance.",url:"https://www.bis.org/bcbs/publ/d424.htm"}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-slate-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ve,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Regulatory References"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:e})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:s.jsx(kt,{className:"w-5 h-5 text-slate-600"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx("div",{className:"space-y-4",children:a.map((r,n)=>s.jsx("div",{className:"bg-slate-50 rounded-lg p-5 border border-slate-200 hover:border-blue-300 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:r.title}),r.section&&s.jsx("p",{className:"text-xs font-medium text-blue-600 mb-2",children:r.section}),s.jsx("p",{className:"text-sm text-slate-700 mb-3",children:r.description}),s.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"View Regulatory Text"})]})]})})},n))}),s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-700",children:[s.jsx("strong",{className:"text-slate-900",children:"Note:"})," These references provide the regulatory context and requirements relevant to this metric. Always consult the most current regulatory guidance and work with compliance teams for interpretation and application."]})})]}),s.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:s.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium",children:"Close"})})]})})}function eb({metricName:e,targetTable:t,targetColumn:a,onClose:r}){const[n,i]=O.useState([]),[l,d]=O.useState(!0),[c,o]=O.useState(null),[u,h]=O.useState([]);O.useEffect(()=>{x()},[t]);const x=async()=>{try{d(!0),o(null);const{data:b,error:f}=await X.from(t).select("*").order("report_date",{ascending:!1}).limit(10);if(f)throw f;b&&b.length>0?(i(b),h(Object.keys(b[0]))):(i([]),h([]))}catch(b){console.error("Error fetching data:",b),o(b.message||"Failed to fetch data")}finally{d(!1)}},m=b=>{if(b==null)return"-";if(typeof b=="boolean")return b?"Yes":"No";if(typeof b=="number")return b>1e6?`$${(b/1e6).toFixed(2)}M`:b<1&&b>0?`${(b*100).toFixed(2)}%`:b.toLocaleString();if(typeof b=="string"){if(b.length>50)return b.substring(0,47)+"...";if(b.match(/^\d{4}-\d{2}-\d{2}/))return new Date(b).toLocaleDateString()}return String(b)},A=b=>b.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" "),p=()=>{if(n.length===0)return;const b=u.join(","),f=n.map(D=>u.map(R=>{const S=D[R];return S==null?"":typeof S=="string"&&S.includes(",")?`"${S}"`:S}).join(",")),g=[b,...f].join(`
`),v=new Blob([g],{type:"text/csv"}),w=URL.createObjectURL(v),_=document.createElement("a");_.href=w,_.download=`${t}_${a}_${new Date().toISOString().split("T")[0]}.csv`,_.click(),URL.revokeObjectURL(w)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-slate-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(ip,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Raw Data Table"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-0.5",children:[e," - ",t,".",a]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n.length>0&&s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[s.jsx(bl,{className:"w-4 h-4"}),"Export CSV"]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:s.jsx(kt,{className:"w-5 h-5 text-slate-600"})})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-slate-600",children:"Loading data..."})}):c?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-red-800",children:[s.jsx("strong",{children:"Error:"})," ",c]})}):n.length===0?s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-amber-800",children:"No data available in this table."})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-700",children:[s.jsx("strong",{children:"Table:"})," ",t," | ",s.jsx("strong",{children:"Records:"})," ",n.length," (showing most recent 10)"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsx("tr",{className:"bg-slate-100 border-b-2 border-slate-300",children:u.map(b=>s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider whitespace-nowrap",children:A(b)},b))})}),s.jsx("tbody",{children:n.map((b,f)=>s.jsx("tr",{className:`border-b border-slate-200 hover:bg-slate-50 ${f%2===0?"bg-white":"bg-slate-50"}`,children:u.map(g=>s.jsx("td",{className:`px-4 py-3 text-sm text-slate-900 whitespace-nowrap ${g===a?"font-semibold bg-yellow-50":""}`,title:String(b[g]||""),children:m(b[g])},g))},f))})]})}),s.jsx("div",{className:"mt-4 bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-700",children:[s.jsx("strong",{children:"Highlighted Column:"})," The ",s.jsx("span",{className:"font-mono bg-yellow-100 px-1 py-0.5 rounded",children:a}),' column (highlighted in yellow) contains the data used for calculating the "',e,'" metric.']})})]})}),s.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:s.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium",children:"Close"})})]})})}const tb={"Tier 1 Capital":{delta:"+$2.3B (+3.2%)",trend:"up",drivers:["Retained earnings increased by $1.8B due to strong quarterly net income, driven by higher net interest income and improved fee-based revenue from asset servicing","Common stock issuance of $800M through employee compensation programs and dividend reinvestment plans","Regulatory deductions decreased by $300M following the phase-out of certain goodwill and intangible assets under Basel III transition rules"]},"Tier 1 Capital Ratio":{delta:"+0.45% (from 13.2% to 13.65%)",trend:"up",drivers:["Tier 1 capital increased by $2.3B (3.2%) while risk-weighted assets grew by only $1.1B (0.8%), resulting in improved capital efficiency","Risk-weighted asset optimization through strategic balance sheet management, including reduction in lower-yielding, higher-risk-weight corporate loans","Migration of certain exposures to lower risk-weight categories following credit rating upgrades of investment-grade counterparties"]},"Leverage Ratio":{delta:"+0.12% (from 6.8% to 6.92%)",trend:"up",drivers:["Tier 1 capital growth of $2.3B outpaced total leverage exposure growth of $8.5B (2.1%), improving the ratio","Strategic reduction in repo financing activities and optimization of securities financing transactions, reducing leverage exposure","Enhanced capital planning and stress testing results demonstrating capacity to support higher leverage ratio buffers"]},"Liquidity Coverage Ratio (LCR)":{delta:"+3.2% (from 118% to 121.2%)",trend:"up",drivers:["High-Quality Liquid Assets (HQLA) increased by $5.2B through strategic accumulation of Level 1 assets, including central bank reserves and U.S. Treasury securities","Net cash outflows declined by $1.8B due to reduced reliance on less stable wholesale funding sources and increased proportion of operational deposits","Improved deposit mix with higher proportion of retail and small business deposits qualifying for lower outflow rates under LCR rules"]},"Total High-Quality Liquid Assets (HQLA)":{delta:"+$5.2B (+4.8%)",trend:"up",drivers:["Increased holdings of U.S. Treasury securities by $3.5B as part of proactive liquidity management and HQLA optimization strategy","Growth in central bank reserve deposits by $1.2B following strong deposit inflows and reduced loan demand","Acquisition of $500M in highly-rated sovereign bonds qualifying as Level 1 HQLA, enhancing liquidity buffer diversification"]},"Total Net Cash Outflows (30-day)":{delta:"-$1.8B (-3.9%)",trend:"down",drivers:["Deposit base stabilization with 8% increase in retail deposits subject to lower stress outflow assumptions (5-10% vs. 25-40% for wholesale)","Extension of wholesale funding maturity profile, with $2.1B of short-term funding rolled into tenors beyond 30 days","Reduced reliance on secured funding through securities lending and repo transactions, lowering expected collateral calls in stress scenarios"]},"Net Stable Funding Ratio (NSFR)":{delta:"+2.1% (from 115% to 117.1%)",trend:"up",drivers:["Available Stable Funding (ASF) increased by $4.7B through issuance of $3.2B in long-term debt and growth in stable deposit balances","Required Stable Funding (RSF) decreased by $1.8B due to portfolio rebalancing toward more liquid, lower RSF-weighted assets","Maturity extension of derivative liabilities reduced RSF requirements by optimizing the funding stability profile"]},"Available Stable Funding (ASF)":{delta:"+$4.7B (+3.2%)",trend:"up",drivers:["Long-term debt issuance of $3.2B in senior unsecured notes with maturities beyond one year, providing 100% ASF factor","Core retail and small business deposits grew by $2.8B, qualifying for 95% ASF factors due to stable funding characteristics","Growth in equity by $1.5B through retained earnings, offsetting partial reduction from less stable wholesale deposits"]},"Required Stable Funding (RSF)":{delta:"-$1.8B (-1.4%)",trend:"down",drivers:["Portfolio rebalancing with $2.5B shift from less liquid corporate loans (85% RSF) to Level 1 HQLA securities (5% RSF)","Maturity profile optimization of securities portfolio, reducing weighted average maturity and associated RSF requirements","Derivative asset reduction of $800M following netting arrangement enhancements and trade compression initiatives"]},"Resolution Capital Adequacy Position (RCAP) Ratio":{delta:"+1.8% (from 125% to 126.8%)",trend:"up",drivers:["RCAP numerator increased by $2.1B through issuance of long-term debt instruments eligible for resolution recapitalization","Pre-positioned capital buffers enhanced through improved internal loss-absorbing capacity planning and stress testing","RCEN (Resolution Capital Execution Need) remained stable while capital position improved, demonstrating enhanced resolvability"]},"Total Assets":{delta:"+$12.5B (+4.2%)",trend:"up",drivers:["Strong deposit growth of $8.3B drove corresponding increase in liquid asset holdings, particularly central bank reserves and securities","Loan portfolio expansion of $4.8B concentrated in secured lending to financial institutions and trade finance activities","Investment securities portfolio increased by $3.5B through strategic allocation to high-quality sovereign and agency securities"]},"Total Liabilities":{delta:"+$10.2B (+4.0%)",trend:"up",drivers:["Customer deposit growth of $8.3B driven by corporate treasury services and institutional asset servicing businesses","Long-term debt issuance of $3.2B to support TLAC (Total Loss-Absorbing Capacity) and NSFR regulatory requirements","Short-term borrowings decreased by $1.5B as deposit funding displaced higher-cost wholesale funding sources"]},"Total Equity":{delta:"+$2.3B (+5.1%)",trend:"up",drivers:["Net income of $2.1B for the quarter, primarily from asset servicing fees, securities lending revenue, and net interest income","Common stock issuance of $800M through employee stock compensation and dividend reinvestment programs","Accumulated other comprehensive income decreased by $600M due to unrealized losses on available-for-sale securities from rising rates"]}};function sb(e,t,a){const r=["Prior period comparison data is currently being collected and will be available in the next reporting cycle","Historical analysis requires at least two consecutive reporting periods to identify meaningful trends and drivers","Contact the Data Quality team for historical data requests and custom period-over-period analysis"];if(!a||!t)return r;const n=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]/g,"")):t,i=typeof a=="string"?parseFloat(a.replace(/[^0-9.-]/g,"")):a;if(isNaN(n)||isNaN(i))return r;const l=(n-i)/Math.abs(i)*100,d=l>0?"increase":"decrease",c=Math.abs(l);return e.toLowerCase().includes("capital")?[`Tier 1 Capital ${d}d primarily due to ${c>5?"strong":"moderate"} retained earnings from ${c>5?"exceptional":"solid"} quarterly performance and strategic capital management initiatives`,`Risk-weighted assets ${l>0?"increased moderately":"decreased"}, reflecting ${l>0?"portfolio growth in higher-rated assets":"strategic deleveraging and portfolio optimization"}`,`Regulatory capital planning and stress testing outcomes supported ${l>0?"increased":"maintained"} capital buffers above minimum requirements`]:e.toLowerCase().includes("liquidity")||e.toLowerCase().includes("lcr")?[`High-Quality Liquid Assets (HQLA) ${d}d by ${c.toFixed(1)}% through ${l>0?"strategic accumulation":"planned deployment"} of Level 1 assets including central bank reserves and government securities`,`Net cash outflows ${l>0?"declined":"increased"}, driven by ${l>0?"improved deposit stability and reduced wholesale funding reliance":"seasonal variations in funding mix and deposit flows"}`,`Balance sheet composition changes, including ${l>0?"optimization":"adjustment"} of funding sources and liquidity buffer management strategies`]:e.toLowerCase().includes("nsfr")?[`Available Stable Funding (ASF) ${d}d through ${l>0?"issuance of long-term debt and growth in stable deposits":"maturity of certain funding instruments and deposit mix changes"}`,`Required Stable Funding (RSF) ${l>0?"declined":"increased"} due to ${l>0?"portfolio rebalancing toward more liquid assets":"asset composition changes and portfolio growth"}`,`Strategic funding management initiatives focused on ${l>0?"extending":"optimizing"} the maturity profile of liabilities and assets`]:e.toLowerCase().includes("asset")?[`Total assets ${d}d by ${c.toFixed(1)}%, driven by ${l>0?"strong deposit inflows and strategic portfolio expansion":"planned balance sheet optimization and asset redeployment"}`,`Loan portfolio ${l>0?"expanded":"contracted"} in line with ${l>0?"business growth objectives":"risk management strategies"} and market conditions`,`Investment securities and liquid assets ${l>0?"increased":"decreased"} reflecting ${l>0?"strategic allocation decisions":"portfolio rebalancing activities"}`]:r}function ab(e,t){if(!t||!e)return{deltaText:"N/A",trend:"stable"};const a=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]/g,"")):e,r=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]/g,"")):t;if(isNaN(a)||isNaN(r))return{deltaText:"N/A",trend:"stable"};const n=a-r,i=n/Math.abs(r)*100,l=typeof e=="string"&&e.includes("%"),d=typeof e=="string"&&(e.includes("$")||e.includes("B")||e.includes("M"));let c="";if(d){const u=Math.abs(n),h=n>=0?"+":"-";u>=1?c=`${h}$${u.toFixed(2)}B (${i>=0?"+":""}${i.toFixed(1)}%)`:c=`${h}$${(u*1e3).toFixed(0)}M (${i>=0?"+":""}${i.toFixed(1)}%)`}else l?c=`${n>=0?"+":""}${n.toFixed(2)}%`:c=`${i>=0?"+":""}${i.toFixed(1)}%`;const o=n>.1?"up":n<-.1?"down":"stable";return{deltaText:c,trend:o}}function rb({metricName:e,currentValue:t,priorValue:a,currentDate:r,priorDate:n,availablePeriods:i,onClose:l}){var g;const[d,c]=O.useState(n||(i&&i.length>1?i[1].date:"")),o=i&&d&&((g=i.find(v=>v.date===d))==null?void 0:g.value)||a,u=i&&d?d:n,h=tb[e],x=sb(e,t,o),m=ab(t,o),A=h||{delta:m.deltaText,trend:m.trend,drivers:x},p=A.trend==="up"?He:A.trend==="down"?Xi:wa,b=A.trend==="up"?"text-green-600":A.trend==="down"?"text-red-600":"text-slate-600",f=A.trend==="up"?"bg-green-50":A.trend==="down"?"bg-red-50":"bg-slate-50";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-slate-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 ${f} rounded-lg`,children:s.jsx(p,{className:`w-5 h-5 ${b}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Change Analysis"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:e})]})]}),s.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:s.jsx(kt,{className:"w-5 h-5 text-slate-600"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Current Value"}),r&&s.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(",r,")"]})]}),s.jsx("span",{className:"text-lg font-bold text-slate-900",children:t})]}),o&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-200",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Prior Period"}),i&&i.length>1?s.jsx("select",{value:d,onChange:v=>c(v.target.value),className:"ml-2 text-xs border border-slate-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.slice(1).map(v=>s.jsx("option",{value:v.date,children:v.date},v.date))}):u&&s.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(",u,")"]})]}),s.jsx("span",{className:"text-lg font-semibold text-slate-700",children:o})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Change"}),s.jsxs("span",{className:`text-lg font-bold flex items-center gap-2 ${b}`,children:[s.jsx(p,{className:"w-5 h-5"}),A.delta]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Key Drivers of Change"}),s.jsx("div",{className:"space-y-3",children:A.drivers.map((v,w)=>s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:w+1}),s.jsx("p",{className:"text-sm text-slate-700 flex-1",children:v})]})},w))})]}),s.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-700",children:[s.jsx("strong",{className:"text-slate-900",children:"Analysis Period:"})," This analysis compares the current period to the immediate prior reporting period. Drivers identified represent the primary quantitative and qualitative factors contributing to the observed change based on internal management analysis and regulatory reporting data."]})})]}),s.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:s.jsx("button",{onClick:l,className:"w-full px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium",children:"Close"})})]})})}function st({value:e,metricName:t,targetTable:a,targetColumn:r,dataSource:n,className:i="",priorValue:l,currentDate:d,priorDate:c,availablePeriods:o}){const[u,h]=O.useState(!1),[x,m]=O.useState(!1),[A,p]=O.useState(!1),[b,f]=O.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[s.jsx("span",{className:i,children:e}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("button",{onClick:g=>{g.stopPropagation(),h(!0)},className:"flex-shrink-0 p-1 hover:bg-blue-100 rounded transition-colors",title:"View data quality, feeds, and lineage",children:s.jsx(Wi,{className:"w-4 h-4 text-blue-600 hover:text-blue-700"})}),s.jsx("button",{onClick:g=>{g.stopPropagation(),m(!0)},className:"flex-shrink-0 p-1 hover:bg-purple-100 rounded transition-colors",title:"View regulatory references",children:s.jsx(Ve,{className:"w-4 h-4 text-purple-600 hover:text-purple-700"})}),s.jsx("button",{onClick:g=>{g.stopPropagation(),p(!0)},className:"flex-shrink-0 p-1 hover:bg-green-100 rounded transition-colors",title:"View raw data table",children:s.jsx(ip,{className:"w-4 h-4 text-green-600 hover:text-green-700"})}),s.jsx("button",{onClick:g=>{g.stopPropagation(),f(!0)},className:"flex-shrink-0 p-1 hover:bg-orange-100 rounded transition-colors",title:"View change drivers and analysis",children:s.jsx(He,{className:"w-4 h-4 text-orange-600 hover:text-orange-700"})})]})]}),u&&s.jsx(dp,{metricName:t,metricValue:e,targetTable:a,targetColumn:r,dataSource:n,onClose:()=>h(!1)}),x&&s.jsx(Zv,{metricName:t,onClose:()=>m(!1)}),A&&s.jsx(eb,{metricName:t,targetTable:a,targetColumn:r,onClose:()=>p(!1)}),b&&s.jsx(rb,{metricName:t,currentValue:e,priorValue:l,currentDate:d,priorDate:c,availablePeriods:o,onClose:()=>f(!1)})]})}function wl({items:e}){var t;return s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[s.jsxs("button",{onClick:(t=e[0])==null?void 0:t.onClick,className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[s.jsx(wv,{className:"w-4 h-4"}),s.jsx("span",{children:"Dashboard"})]}),e.slice(1).map((a,r)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-slate-400"}),a.onClick?s.jsx("button",{onClick:a.onClick,className:"hover:text-blue-600 transition-colors",children:a.label}):s.jsx("span",{className:"text-slate-900 font-medium",children:a.label})]},r))]})}function si(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var up={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(a){e.exports=a()})(function(){return function a(r,n,i){function l(o,u){if(!n[o]){if(!r[o]){var h=typeof si=="function"&&si;if(!u&&h)return h(o,!0);if(d)return d(o,!0);var x=new Error("Cannot find module '"+o+"'");throw x.code="MODULE_NOT_FOUND",x}var m=n[o]={exports:{}};r[o][0].call(m.exports,function(A){var p=r[o][1][A];return l(p||A)},m,m.exports,a,r,n,i)}return n[o].exports}for(var d=typeof si=="function"&&si,c=0;c<i.length;c++)l(i[c]);return l}({1:[function(a,r,n){var i=a("./utils"),l=a("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(c){for(var o,u,h,x,m,A,p,b=[],f=0,g=c.length,v=g,w=i.getTypeOf(c)!=="string";f<c.length;)v=g-f,h=w?(o=c[f++],u=f<g?c[f++]:0,f<g?c[f++]:0):(o=c.charCodeAt(f++),u=f<g?c.charCodeAt(f++):0,f<g?c.charCodeAt(f++):0),x=o>>2,m=(3&o)<<4|u>>4,A=1<v?(15&u)<<2|h>>6:64,p=2<v?63&h:64,b.push(d.charAt(x)+d.charAt(m)+d.charAt(A)+d.charAt(p));return b.join("")},n.decode=function(c){var o,u,h,x,m,A,p=0,b=0,f="data:";if(c.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var g,v=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===d.charAt(64)&&v--,c.charAt(c.length-2)===d.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=l.uint8array?new Uint8Array(0|v):new Array(0|v);p<c.length;)o=d.indexOf(c.charAt(p++))<<2|(x=d.indexOf(c.charAt(p++)))>>4,u=(15&x)<<4|(m=d.indexOf(c.charAt(p++)))>>2,h=(3&m)<<6|(A=d.indexOf(c.charAt(p++))),g[b++]=o,m!==64&&(g[b++]=u),A!==64&&(g[b++]=h);return g}},{"./support":30,"./utils":32}],2:[function(a,r,n){var i=a("./external"),l=a("./stream/DataWorker"),d=a("./stream/Crc32Probe"),c=a("./stream/DataLengthProbe");function o(u,h,x,m,A){this.compressedSize=u,this.uncompressedSize=h,this.crc32=x,this.compression=m,this.compressedContent=A}o.prototype={getContentWorker:function(){var u=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(u,h,x){return u.pipe(new d).pipe(new c("uncompressedSize")).pipe(h.compressWorker(x)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},r.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,r,n){var i=a("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,r,n){var i=a("./utils"),l=function(){for(var d,c=[],o=0;o<256;o++){d=o;for(var u=0;u<8;u++)d=1&d?3988292384^d>>>1:d>>>1;c[o]=d}return c}();r.exports=function(d,c){return d!==void 0&&d.length?i.getTypeOf(d)!=="string"?function(o,u,h,x){var m=l,A=x+h;o^=-1;for(var p=x;p<A;p++)o=o>>>8^m[255&(o^u[p])];return-1^o}(0|c,d,d.length,0):function(o,u,h,x){var m=l,A=x+h;o^=-1;for(var p=x;p<A;p++)o=o>>>8^m[255&(o^u.charCodeAt(p))];return-1^o}(0|c,d,d.length,0):0}},{"./utils":32}],5:[function(a,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(a,r,n){var i=null;i=typeof Promise<"u"?Promise:a("lie"),r.exports={Promise:i}},{lie:37}],7:[function(a,r,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=a("pako"),d=a("./utils"),c=a("./stream/GenericWorker"),o=i?"uint8array":"array";function u(h,x){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=x,this.meta={}}n.magic="\b\0",d.inherits(u,c),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(o,h.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(x){h.push({data:x,meta:h.meta})}},n.compressWorker=function(h){return new u("Deflate",h)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,r,n){function i(m,A){var p,b="";for(p=0;p<A;p++)b+=String.fromCharCode(255&m),m>>>=8;return b}function l(m,A,p,b,f,g){var v,w,_=m.file,D=m.compression,R=g!==o.utf8encode,S=d.transformTo("string",g(_.name)),L=d.transformTo("string",o.utf8encode(_.name)),k=_.comment,F=d.transformTo("string",g(k)),j=d.transformTo("string",o.utf8encode(k)),T=L.length!==_.name.length,y=j.length!==k.length,I="",$="",C="",z=_.dir,B=_.date,V={crc32:0,compressedSize:0,uncompressedSize:0};A&&!p||(V.crc32=m.crc32,V.compressedSize=m.compressedSize,V.uncompressedSize=m.uncompressedSize);var P=0;A&&(P|=8),R||!T&&!y||(P|=2048);var U=0,ee=0;z&&(U|=16),f==="UNIX"?(ee=798,U|=function(K,re){var Ne=K;return K||(Ne=re?16893:33204),(65535&Ne)<<16}(_.unixPermissions,z)):(ee=20,U|=function(K){return 63&(K||0)}(_.dosPermissions)),v=B.getUTCHours(),v<<=6,v|=B.getUTCMinutes(),v<<=5,v|=B.getUTCSeconds()/2,w=B.getUTCFullYear()-1980,w<<=4,w|=B.getUTCMonth()+1,w<<=5,w|=B.getUTCDate(),T&&($=i(1,1)+i(u(S),4)+L,I+="up"+i($.length,2)+$),y&&(C=i(1,1)+i(u(F),4)+j,I+="uc"+i(C.length,2)+C);var se="";return se+=`
\0`,se+=i(P,2),se+=D.magic,se+=i(v,2),se+=i(w,2),se+=i(V.crc32,4),se+=i(V.compressedSize,4),se+=i(V.uncompressedSize,4),se+=i(S.length,2),se+=i(I.length,2),{fileRecord:h.LOCAL_FILE_HEADER+se+S+I,dirRecord:h.CENTRAL_FILE_HEADER+i(ee,2)+se+i(F.length,2)+"\0\0\0\0"+i(U,4)+i(b,4)+S+I+F}}var d=a("../utils"),c=a("../stream/GenericWorker"),o=a("../utf8"),u=a("../crc32"),h=a("../signature");function x(m,A,p,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=p,this.encodeFileName=b,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(x,c),x.prototype.push=function(m){var A=m.meta.percent||0,p=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:p?(A+100*(p-b-1))/p:100}}))},x.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var A=this.streamFiles&&!m.file.dir;if(A){var p=l(m,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(m){this.accumulate=!1;var A=this.streamFiles&&!m.file.dir,p=l(m,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),A)this.push({data:function(b){return h.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var m=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var p=this.bytesWritten-m,b=function(f,g,v,w,_){var D=d.transformTo("string",_(w));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(g,4)+i(v,4)+i(D.length,2)+D}(this.dirRecords.length,p,m,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(m){this._sources.push(m);var A=this;return m.on("data",function(p){A.processChunk(p)}),m.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),m.on("error",function(p){A.error(p)}),this},x.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(m){var A=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var p=0;p<A.length;p++)try{A[p].error(m)}catch{}return!0},x.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,A=0;A<m.length;A++)m[A].lock()},r.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,r,n){var i=a("../compressions"),l=a("./ZipFileWorker");n.generateWorker=function(d,c,o){var u=new l(c.streamFiles,o,c.platform,c.encodeFileName),h=0;try{d.forEach(function(x,m){h++;var A=function(g,v){var w=g||v,_=i[w];if(!_)throw new Error(w+" is not a valid compression method !");return _}(m.options.compression,c.compression),p=m.options.compressionOptions||c.compressionOptions||{},b=m.dir,f=m.date;m._compressWorker(A,p).withStreamInfo("file",{name:x,dir:b,date:f,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(x){u.error(x)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,r,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var d in this)typeof this[d]!="function"&&(l[d]=this[d]);return l}}(i.prototype=a("./object")).loadAsync=a("./load"),i.support=a("./support"),i.defaults=a("./defaults"),i.version="3.10.1",i.loadAsync=function(l,d){return new i().loadAsync(l,d)},i.external=a("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,r,n){var i=a("./utils"),l=a("./external"),d=a("./utf8"),c=a("./zipEntries"),o=a("./stream/Crc32Probe"),u=a("./nodejsUtils");function h(x){return new l.Promise(function(m,A){var p=x.decompressed.getContentWorker().pipe(new o);p.on("error",function(b){A(b)}).on("end",function(){p.streamInfo.crc32!==x.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(x,m){var A=this;return m=i.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),u.isNode&&u.isStream(x)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",x,!0,m.optimizedBinaryString,m.base64).then(function(p){var b=new c(m);return b.load(p),b}).then(function(p){var b=[l.Promise.resolve(p)],f=p.files;if(m.checkCRC32)for(var g=0;g<f.length;g++)b.push(h(f[g]));return l.Promise.all(b)}).then(function(p){for(var b=p.shift(),f=b.files,g=0;g<f.length;g++){var v=f[g],w=v.fileNameStr,_=i.resolve(v.fileNameStr);A.file(_,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:m.createFolders}),v.dir||(A.file(_).unsafeOriginalName=w)}return b.zipComment.length&&(A.comment=b.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,r,n){var i=a("../utils"),l=a("../stream/GenericWorker");function d(c,o){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(o)}i.inherits(d,l),d.prototype._bindStream=function(c){var o=this;(this._stream=c).pause(),c.on("data",function(u){o.push({data:u,meta:{percent:0}})}).on("error",function(u){o.isPaused?this.generatedError=u:o.error(u)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},d.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,r,n){var i=a("readable-stream").Readable;function l(d,c,o){i.call(this,c),this._helper=d;var u=this;d.on("data",function(h,x){u.push(h)||u._helper.pause(),o&&o(x)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}a("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(a,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(a,r,n){function i(_,D,R){var S,L=d.getTypeOf(D),k=d.extend(R||{},u);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(_=f(_)),k.createFolders&&(S=b(_))&&g.call(this,S,!0);var F=L==="string"&&k.binary===!1&&k.base64===!1;R&&R.binary!==void 0||(k.binary=!F),(D instanceof h&&D.uncompressedSize===0||k.dir||!D||D.length===0)&&(k.base64=!1,k.binary=!0,D="",k.compression="STORE",L="string");var j=null;j=D instanceof h||D instanceof c?D:A.isNode&&A.isStream(D)?new p(_,D):d.prepareContent(_,D,k.binary,k.optimizedBinaryString,k.base64);var T=new x(_,j,k);this.files[_]=T}var l=a("./utf8"),d=a("./utils"),c=a("./stream/GenericWorker"),o=a("./stream/StreamHelper"),u=a("./defaults"),h=a("./compressedObject"),x=a("./zipObject"),m=a("./generate"),A=a("./nodejsUtils"),p=a("./nodejs/NodejsStreamInputAdapter"),b=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var D=_.lastIndexOf("/");return 0<D?_.substring(0,D):""},f=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},g=function(_,D){return D=D!==void 0?D:u.createFolders,_=f(_),this.files[_]||i.call(this,_,null,{dir:!0,createFolders:D}),this.files[_]};function v(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var D,R,S;for(D in this.files)S=this.files[D],(R=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&_(R,S)},filter:function(_){var D=[];return this.forEach(function(R,S){_(R,S)&&D.push(S)}),D},file:function(_,D,R){if(arguments.length!==1)return _=this.root+_,i.call(this,_,D,R),this;if(v(_)){var S=_;return this.filter(function(k,F){return!F.dir&&S.test(k)})}var L=this.files[this.root+_];return L&&!L.dir?L:null},folder:function(_){if(!_)return this;if(v(_))return this.filter(function(L,k){return k.dir&&_.test(L)});var D=this.root+_,R=g.call(this,D),S=this.clone();return S.root=R.name,S},remove:function(_){_=this.root+_;var D=this.files[_];if(D||(_.slice(-1)!=="/"&&(_+="/"),D=this.files[_]),D&&!D.dir)delete this.files[_];else for(var R=this.filter(function(L,k){return k.name.slice(0,_.length)===_}),S=0;S<R.length;S++)delete this.files[R[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var D,R={};try{if((R=d.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");d.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var S=R.comment||this.comment||"";D=m.generateWorker(this,R,S)}catch(L){(D=new c("error")).error(L)}return new o(D,R.type||"string",R.mimeType)},generateAsync:function(_,D){return this.generateInternalStream(_).accumulate(D)},generateNodeStream:function(_,D){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(D)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,r,n){r.exports=a("stream")},{stream:void 0}],17:[function(a,r,n){var i=a("./DataReader");function l(d){i.call(this,d);for(var c=0;c<this.data.length;c++)d[c]=255&d[c]}a("../utils").inherits(l,i),l.prototype.byteAt=function(d){return this.data[this.zero+d]},l.prototype.lastIndexOfSignature=function(d){for(var c=d.charCodeAt(0),o=d.charCodeAt(1),u=d.charCodeAt(2),h=d.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===c&&this.data[x+1]===o&&this.data[x+2]===u&&this.data[x+3]===h)return x-this.zero;return-1},l.prototype.readAndCheckSignature=function(d){var c=d.charCodeAt(0),o=d.charCodeAt(1),u=d.charCodeAt(2),h=d.charCodeAt(3),x=this.readData(4);return c===x[0]&&o===x[1]&&u===x[2]&&h===x[3]},l.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(a,r,n){var i=a("../utils");function l(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var c,o=0;for(this.checkOffset(d),c=this.index+d-1;c>=this.index;c--)o=(o<<8)+this.byteAt(c);return this.index+=d,o},readString:function(d){return i.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},r.exports=l},{"../utils":32}],19:[function(a,r,n){var i=a("./Uint8ArrayReader");function l(d){i.call(this,d)}a("../utils").inherits(l,i),l.prototype.readData=function(d){this.checkOffset(d);var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,r,n){var i=a("./DataReader");function l(d){i.call(this,d)}a("../utils").inherits(l,i),l.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},l.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},l.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},l.prototype.readData=function(d){this.checkOffset(d);var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(a,r,n){var i=a("./ArrayReader");function l(d){i.call(this,d)}a("../utils").inherits(l,i),l.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(a,r,n){var i=a("../utils"),l=a("../support"),d=a("./ArrayReader"),c=a("./StringReader"),o=a("./NodeBufferReader"),u=a("./Uint8ArrayReader");r.exports=function(h){var x=i.getTypeOf(h);return i.checkSupport(x),x!=="string"||l.uint8array?x==="nodebuffer"?new o(h):l.uint8array?new u(i.transformTo("uint8array",h)):new d(i.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,r,n){var i=a("./GenericWorker"),l=a("../utils");function d(c){i.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(d,i),d.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},r.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(a,r,n){var i=a("./GenericWorker"),l=a("../crc32");function d(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(d,i),d.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,r,n){var i=a("../utils"),l=a("./GenericWorker");function d(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(d,l),d.prototype.processChunk=function(c){if(c){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+c.data.length}l.prototype.processChunk.call(this,c)},r.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(a,r,n){var i=a("../utils"),l=a("./GenericWorker");function d(c){l.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){o.dataIsReady=!0,o.data=u,o.max=u&&u.length||0,o.type=i.getTypeOf(u),o.isPaused||o._tickAndRepeat()},function(u){o.error(u)})}i.inherits(d,l),d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,o);break;case"uint8array":c=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":c=this.data.slice(this.index,o)}return this.index=o,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(a,r,n){function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,d){return this._listeners[l].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,d){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,d)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var d=this;return l.on("data",function(c){d.processChunk(c)}),l.on("end",function(){d.end()}),l.on("error",function(c){d.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,d){return this.extraStreamInfo[l]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=i},{}],29:[function(a,r,n){var i=a("../utils"),l=a("./ConvertWorker"),d=a("./GenericWorker"),c=a("../base64"),o=a("../support"),u=a("../external"),h=null;if(o.nodestream)try{h=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(A,p){return new u.Promise(function(b,f){var g=[],v=A._internalType,w=A._outputType,_=A._mimeType;A.on("data",function(D,R){g.push(D),p&&p(R)}).on("error",function(D){g=[],f(D)}).on("end",function(){try{var D=function(R,S,L){switch(R){case"blob":return i.newBlob(i.transformTo("arraybuffer",S),L);case"base64":return c.encode(S);default:return i.transformTo(R,S)}}(w,function(R,S){var L,k=0,F=null,j=0;for(L=0;L<S.length;L++)j+=S[L].length;switch(R){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(F=new Uint8Array(j),L=0;L<S.length;L++)F.set(S[L],k),k+=S[L].length;return F;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+R+"'")}}(v,g),_);b(D)}catch(R){f(R)}g=[]}).resume()})}function m(A,p,b){var f=p;switch(p){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=p,this._mimeType=b,i.checkSupport(f),this._worker=A.pipe(new l(f)),A.lock()}catch(g){this._worker=new d("error"),this._worker.error(g)}}m.prototype={accumulate:function(A){return x(this,A)},on:function(A,p){var b=this;return A==="data"?this._worker.on(A,function(f){p.call(b,f.data,f.meta)}):this._worker.on(A,function(){i.delay(p,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},A)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),n.blob=l.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!a("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(a,r,n){for(var i=a("./utils"),l=a("./support"),d=a("./nodejsUtils"),c=a("./stream/GenericWorker"),o=new Array(256),u=0;u<256;u++)o[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;o[254]=o[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function x(){c.call(this,"utf-8 encode")}n.utf8encode=function(m){return l.nodebuffer?d.newBufferFrom(m,"utf-8"):function(A){var p,b,f,g,v,w=A.length,_=0;for(g=0;g<w;g++)(64512&(b=A.charCodeAt(g)))==55296&&g+1<w&&(64512&(f=A.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(f-56320),g++),_+=b<128?1:b<2048?2:b<65536?3:4;for(p=l.uint8array?new Uint8Array(_):new Array(_),g=v=0;v<_;g++)(64512&(b=A.charCodeAt(g)))==55296&&g+1<w&&(64512&(f=A.charCodeAt(g+1)))==56320&&(b=65536+(b-55296<<10)+(f-56320),g++),b<128?p[v++]=b:(b<2048?p[v++]=192|b>>>6:(b<65536?p[v++]=224|b>>>12:(p[v++]=240|b>>>18,p[v++]=128|b>>>12&63),p[v++]=128|b>>>6&63),p[v++]=128|63&b);return p}(m)},n.utf8decode=function(m){return l.nodebuffer?i.transformTo("nodebuffer",m).toString("utf-8"):function(A){var p,b,f,g,v=A.length,w=new Array(2*v);for(p=b=0;p<v;)if((f=A[p++])<128)w[b++]=f;else if(4<(g=o[f]))w[b++]=65533,p+=g-1;else{for(f&=g===2?31:g===3?15:7;1<g&&p<v;)f=f<<6|63&A[p++],g--;1<g?w[b++]=65533:f<65536?w[b++]=f:(f-=65536,w[b++]=55296|f>>10&1023,w[b++]=56320|1023&f)}return w.length!==b&&(w.subarray?w=w.subarray(0,b):w.length=b),i.applyFromCharCode(w)}(m=i.transformTo(l.uint8array?"uint8array":"array",m))},i.inherits(h,c),h.prototype.processChunk=function(m){var A=i.transformTo(l.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var p=A;(A=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),A.set(p,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var b=function(g,v){var w;for((v=v||g.length)>g.length&&(v=g.length),w=v-1;0<=w&&(192&g[w])==128;)w--;return w<0||w===0?v:w+o[g[w]]>v?w:v}(A),f=A;b!==A.length&&(l.uint8array?(f=A.subarray(0,b),this.leftOver=A.subarray(b,A.length)):(f=A.slice(0,b),this.leftOver=A.slice(b,A.length))),this.push({data:n.utf8decode(f),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=h,i.inherits(x,c),x.prototype.processChunk=function(m){this.push({data:n.utf8encode(m.data),meta:m.meta})},n.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,r,n){var i=a("./support"),l=a("./base64"),d=a("./nodejsUtils"),c=a("./external");function o(p){return p}function u(p,b){for(var f=0;f<p.length;++f)b[f]=255&p.charCodeAt(f);return b}a("setimmediate"),n.newBlob=function(p,b){n.checkSupport("blob");try{return new Blob([p],{type:b})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(p),f.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(p,b,f){var g=[],v=0,w=p.length;if(w<=f)return String.fromCharCode.apply(null,p);for(;v<w;)b==="array"||b==="nodebuffer"?g.push(String.fromCharCode.apply(null,p.slice(v,Math.min(v+f,w)))):g.push(String.fromCharCode.apply(null,p.subarray(v,Math.min(v+f,w)))),v+=f;return g.join("")},stringifyByChar:function(p){for(var b="",f=0;f<p.length;f++)b+=String.fromCharCode(p[f]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function x(p){var b=65536,f=n.getTypeOf(p),g=!0;if(f==="uint8array"?g=h.applyCanBeUsed.uint8array:f==="nodebuffer"&&(g=h.applyCanBeUsed.nodebuffer),g)for(;1<b;)try{return h.stringifyByChunk(p,f,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(p)}function m(p,b){for(var f=0;f<p.length;f++)b[f]=p[f];return b}n.applyFromCharCode=x;var A={};A.string={string:o,array:function(p){return u(p,new Array(p.length))},arraybuffer:function(p){return A.string.uint8array(p).buffer},uint8array:function(p){return u(p,new Uint8Array(p.length))},nodebuffer:function(p){return u(p,d.allocBuffer(p.length))}},A.array={string:x,array:o,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return d.newBufferFrom(p)}},A.arraybuffer={string:function(p){return x(new Uint8Array(p))},array:function(p){return m(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:o,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return d.newBufferFrom(new Uint8Array(p))}},A.uint8array={string:x,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:o,nodebuffer:function(p){return d.newBufferFrom(p)}},A.nodebuffer={string:x,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return A.nodebuffer.uint8array(p).buffer},uint8array:function(p){return m(p,new Uint8Array(p.length))},nodebuffer:o},n.transformTo=function(p,b){if(b=b||"",!p)return b;n.checkSupport(p);var f=n.getTypeOf(b);return A[f][p](b)},n.resolve=function(p){for(var b=p.split("/"),f=[],g=0;g<b.length;g++){var v=b[g];v==="."||v===""&&g!==0&&g!==b.length-1||(v===".."?f.pop():f.push(v))}return f.join("/")},n.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":i.nodebuffer&&d.isBuffer(p)?"nodebuffer":i.uint8array&&p instanceof Uint8Array?"uint8array":i.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(p){if(!i[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(p){var b,f,g="";for(f=0;f<(p||"").length;f++)g+="\\x"+((b=p.charCodeAt(f))<16?"0":"")+b.toString(16).toUpperCase();return g},n.delay=function(p,b,f){setImmediate(function(){p.apply(f||null,b||[])})},n.inherits=function(p,b){function f(){}f.prototype=b.prototype,p.prototype=new f},n.extend=function(){var p,b,f={};for(p=0;p<arguments.length;p++)for(b in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],b)&&f[b]===void 0&&(f[b]=arguments[p][b]);return f},n.prepareContent=function(p,b,f,g,v){return c.Promise.resolve(b).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,D){var R=new FileReader;R.onload=function(S){_(S.target.result)},R.onerror=function(S){D(S.target.error)},R.readAsArrayBuffer(w)}):w}).then(function(w){var _=n.getTypeOf(w);return _?(_==="arraybuffer"?w=n.transformTo("uint8array",w):_==="string"&&(v?w=l.decode(w):f&&g!==!0&&(w=function(D){return u(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))}(w))),w):c.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,r,n){var i=a("./reader/readerFor"),l=a("./utils"),d=a("./signature"),c=a("./zipEntry"),o=a("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(x)+", expected "+l.pretty(h)+")")}},isSignature:function(h,x){var m=this.reader.index;this.reader.setIndex(h);var A=this.reader.readString(4)===x;return this.reader.setIndex(m),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),x=o.uint8array?"uint8array":"array",m=l.transformTo(x,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,x,m,A=this.zip64EndOfCentralSize-44;0<A;)h=this.reader.readInt(2),x=this.reader.readInt(4),m=this.reader.readData(x),this.zip64ExtensibleData[h]={id:h,length:x,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,x;for(h=0;h<this.files.length;h++)x=this.files[h],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var x=h;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var A=x-m;if(0<A)this.isSignature(x,d.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,r,n){var i=a("./reader/readerFor"),l=a("./utils"),d=a("./compressedObject"),c=a("./crc32"),o=a("./utf8"),u=a("./compressions"),h=a("./support");function x(m,A){this.options=m,this.loadOptions=A}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var A,p;if(m.skip(22),this.fileNameLength=m.readInt(2),p=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(b){for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)&&u[f].magic===b)return u[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,A,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var A=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(A),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var A,p,b,f=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<f;)A=m.readInt(2),p=m.readInt(2),b=m.readData(p),this.extraFields[A]={id:A,length:p,value:b};m.setIndex(f)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var p=l.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var f=l.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var A=i(m.value);return A.readInt(1)!==1||c(this.fileName)!==A.readInt(4)?null:o.utf8decode(A.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var A=i(m.value);return A.readInt(1)!==1||c(this.fileComment)!==A.readInt(4)?null:o.utf8decode(A.readData(m.length-5))}return null}},r.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,r,n){function i(A,p,b){this.name=A,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=p,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var l=a("./stream/StreamHelper"),d=a("./stream/DataWorker"),c=a("./utf8"),o=a("./compressedObject"),u=a("./stream/GenericWorker");i.prototype={internalStream:function(A){var p=null,b="string";try{if(!A)throw new Error("No output type specified.");var f=(b=A.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),p=this._decompressWorker();var g=!this._dataBinary;g&&!f&&(p=p.pipe(new c.Utf8EncodeWorker)),!g&&f&&(p=p.pipe(new c.Utf8DecodeWorker))}catch(v){(p=new u("error")).error(v)}return new l(p,b,"")},async:function(A,p){return this.internalStream(A).accumulate(p)},nodeStream:function(A,p){return this.internalStream(A||"nodebuffer").toNodejsStream(p)},_compressWorker:function(A,p){if(this._data instanceof o&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),o.createWorkerFrom(b,A,p)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof u?this._data:new d(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)i.prototype[h[m]]=x;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,r,n){(function(i){var l,d,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var o=0,u=new c(A),h=i.document.createTextNode("");u.observe(h,{characterData:!0}),l=function(){h.data=o=++o%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var p=i.document.createElement("script");p.onreadystatechange=function(){A(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},i.document.documentElement.appendChild(p)}:function(){setTimeout(A,0)};else{var x=new i.MessageChannel;x.port1.onmessage=A,l=function(){x.port2.postMessage(0)}}var m=[];function A(){var p,b;d=!0;for(var f=m.length;f;){for(b=m,m=[],p=-1;++p<f;)b[p]();f=m.length}d=!1}r.exports=function(p){m.push(p)!==1||d||l()}}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,r,n){var i=a("immediate");function l(){}var d={},c=["REJECTED"],o=["FULFILLED"],u=["PENDING"];function h(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,f!==l&&p(this,f)}function x(f,g,v){this.promise=f,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function m(f,g,v){i(function(){var w;try{w=g(v)}catch(_){return d.reject(f,_)}w===f?d.reject(f,new TypeError("Cannot resolve promise with itself")):d.resolve(f,w)})}function A(f){var g=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof g=="function")return function(){g.apply(f,arguments)}}function p(f,g){var v=!1;function w(R){v||(v=!0,d.reject(f,R))}function _(R){v||(v=!0,d.resolve(f,R))}var D=b(function(){g(_,w)});D.status==="error"&&w(D.value)}function b(f,g){var v={};try{v.value=f(g),v.status="success"}catch(w){v.status="error",v.value=w}return v}(r.exports=h).prototype.finally=function(f){if(typeof f!="function")return this;var g=this.constructor;return this.then(function(v){return g.resolve(f()).then(function(){return v})},function(v){return g.resolve(f()).then(function(){throw v})})},h.prototype.catch=function(f){return this.then(null,f)},h.prototype.then=function(f,g){if(typeof f!="function"&&this.state===o||typeof g!="function"&&this.state===c)return this;var v=new this.constructor(l);return this.state!==u?m(v,this.state===o?f:g,this.outcome):this.queue.push(new x(v,f,g)),v},x.prototype.callFulfilled=function(f){d.resolve(this.promise,f)},x.prototype.otherCallFulfilled=function(f){m(this.promise,this.onFulfilled,f)},x.prototype.callRejected=function(f){d.reject(this.promise,f)},x.prototype.otherCallRejected=function(f){m(this.promise,this.onRejected,f)},d.resolve=function(f,g){var v=b(A,g);if(v.status==="error")return d.reject(f,v.value);var w=v.value;if(w)p(f,w);else{f.state=o,f.outcome=g;for(var _=-1,D=f.queue.length;++_<D;)f.queue[_].callFulfilled(g)}return f},d.reject=function(f,g){f.state=c,f.outcome=g;for(var v=-1,w=f.queue.length;++v<w;)f.queue[v].callRejected(g);return f},h.resolve=function(f){return f instanceof this?f:d.resolve(new this(l),f)},h.reject=function(f){var g=new this(l);return d.reject(g,f)},h.all=function(f){var g=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=f.length,w=!1;if(!v)return this.resolve([]);for(var _=new Array(v),D=0,R=-1,S=new this(l);++R<v;)L(f[R],R);return S;function L(k,F){g.resolve(k).then(function(j){_[F]=j,++D!==v||w||(w=!0,d.resolve(S,_))},function(j){w||(w=!0,d.reject(S,j))})}},h.race=function(f){var g=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=f.length,w=!1;if(!v)return this.resolve([]);for(var _=-1,D=new this(l);++_<v;)R=f[_],g.resolve(R).then(function(S){w||(w=!0,d.resolve(D,S))},function(S){w||(w=!0,d.reject(D,S))});var R;return D}},{immediate:36}],38:[function(a,r,n){var i={};(0,a("./lib/utils/common").assign)(i,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,r,n){var i=a("./zlib/deflate"),l=a("./utils/common"),d=a("./utils/strings"),c=a("./zlib/messages"),o=a("./zlib/zstream"),u=Object.prototype.toString,h=0,x=-1,m=0,A=8;function p(f){if(!(this instanceof p))return new p(f);this.options=l.assign({level:x,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},f||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var v=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(v!==h)throw new Error(c[v]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var w;if(w=typeof g.dictionary=="string"?d.string2buf(g.dictionary):u.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(v=i.deflateSetDictionary(this.strm,w))!==h)throw new Error(c[v]);this._dict_set=!0}}function b(f,g){var v=new p(g);if(v.push(f,!0),v.err)throw v.msg||c[v.err];return v.result}p.prototype.push=function(f,g){var v,w,_=this.strm,D=this.options.chunkSize;if(this.ended)return!1;w=g===~~g?g:g===!0?4:0,typeof f=="string"?_.input=d.string2buf(f):u.call(f)==="[object ArrayBuffer]"?_.input=new Uint8Array(f):_.input=f,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(D),_.next_out=0,_.avail_out=D),(v=i.deflate(_,w))!==1&&v!==h)return this.onEnd(v),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(l.shrinkBuf(_.output,_.next_out))):this.onData(l.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&v!==1);return w===4?(v=i.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===h):w!==2||(this.onEnd(h),!(_.avail_out=0))},p.prototype.onData=function(f){this.chunks.push(f)},p.prototype.onEnd=function(f){f===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Deflate=p,n.deflate=b,n.deflateRaw=function(f,g){return(g=g||{}).raw=!0,b(f,g)},n.gzip=function(f,g){return(g=g||{}).gzip=!0,b(f,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,r,n){var i=a("./zlib/inflate"),l=a("./utils/common"),d=a("./utils/strings"),c=a("./zlib/constants"),o=a("./zlib/messages"),u=a("./zlib/zstream"),h=a("./zlib/gzheader"),x=Object.prototype.toString;function m(p){if(!(this instanceof m))return new m(p);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},p||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||p&&p.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,b.windowBits);if(f!==c.Z_OK)throw new Error(o[f]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function A(p,b){var f=new m(b);if(f.push(p,!0),f.err)throw f.msg||o[f.err];return f.result}m.prototype.push=function(p,b){var f,g,v,w,_,D,R=this.strm,S=this.options.chunkSize,L=this.options.dictionary,k=!1;if(this.ended)return!1;g=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof p=="string"?R.input=d.binstring2buf(p):x.call(p)==="[object ArrayBuffer]"?R.input=new Uint8Array(p):R.input=p,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new l.Buf8(S),R.next_out=0,R.avail_out=S),(f=i.inflate(R,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&L&&(D=typeof L=="string"?d.string2buf(L):x.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,f=i.inflateSetDictionary(this.strm,D)),f===c.Z_BUF_ERROR&&k===!0&&(f=c.Z_OK,k=!1),f!==c.Z_STREAM_END&&f!==c.Z_OK)return this.onEnd(f),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&f!==c.Z_STREAM_END&&(R.avail_in!==0||g!==c.Z_FINISH&&g!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=d.utf8border(R.output,R.next_out),w=R.next_out-v,_=d.buf2string(R.output,v),R.next_out=w,R.avail_out=S-w,w&&l.arraySet(R.output,R.output,v,w,0),this.onData(_)):this.onData(l.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(k=!0)}while((0<R.avail_in||R.avail_out===0)&&f!==c.Z_STREAM_END);return f===c.Z_STREAM_END&&(g=c.Z_FINISH),g===c.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===c.Z_OK):g!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(R.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},n.Inflate=m,n.inflate=A,n.inflateRaw=function(p,b){return(b=b||{}).raw=!0,A(p,b)},n.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,r,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(c){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var u=o.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(c[h]=u[h])}}return c},n.shrinkBuf=function(c,o){return c.length===o?c:c.subarray?c.subarray(0,o):(c.length=o,c)};var l={arraySet:function(c,o,u,h,x){if(o.subarray&&c.subarray)c.set(o.subarray(u,u+h),x);else for(var m=0;m<h;m++)c[x+m]=o[u+m]},flattenChunks:function(c){var o,u,h,x,m,A;for(o=h=0,u=c.length;o<u;o++)h+=c[o].length;for(A=new Uint8Array(h),o=x=0,u=c.length;o<u;o++)m=c[o],A.set(m,x),x+=m.length;return A}},d={arraySet:function(c,o,u,h,x){for(var m=0;m<h;m++)c[x+m]=o[u+m]},flattenChunks:function(c){return[].concat.apply([],c)}};n.setTyped=function(c){c?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,l)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,d))},n.setTyped(i)},{}],42:[function(a,r,n){var i=a("./common"),l=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var c=new i.Buf8(256),o=0;o<256;o++)c[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function u(h,x){if(x<65537&&(h.subarray&&d||!h.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(h,x));for(var m="",A=0;A<x;A++)m+=String.fromCharCode(h[A]);return m}c[254]=c[254]=1,n.string2buf=function(h){var x,m,A,p,b,f=h.length,g=0;for(p=0;p<f;p++)(64512&(m=h.charCodeAt(p)))==55296&&p+1<f&&(64512&(A=h.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(A-56320),p++),g+=m<128?1:m<2048?2:m<65536?3:4;for(x=new i.Buf8(g),p=b=0;b<g;p++)(64512&(m=h.charCodeAt(p)))==55296&&p+1<f&&(64512&(A=h.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(A-56320),p++),m<128?x[b++]=m:(m<2048?x[b++]=192|m>>>6:(m<65536?x[b++]=224|m>>>12:(x[b++]=240|m>>>18,x[b++]=128|m>>>12&63),x[b++]=128|m>>>6&63),x[b++]=128|63&m);return x},n.buf2binstring=function(h){return u(h,h.length)},n.binstring2buf=function(h){for(var x=new i.Buf8(h.length),m=0,A=x.length;m<A;m++)x[m]=h.charCodeAt(m);return x},n.buf2string=function(h,x){var m,A,p,b,f=x||h.length,g=new Array(2*f);for(m=A=0;m<f;)if((p=h[m++])<128)g[A++]=p;else if(4<(b=c[p]))g[A++]=65533,m+=b-1;else{for(p&=b===2?31:b===3?15:7;1<b&&m<f;)p=p<<6|63&h[m++],b--;1<b?g[A++]=65533:p<65536?g[A++]=p:(p-=65536,g[A++]=55296|p>>10&1023,g[A++]=56320|1023&p)}return u(g,A)},n.utf8border=function(h,x){var m;for((x=x||h.length)>h.length&&(x=h.length),m=x-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?x:m+c[h[m]]>x?m:x}},{"./common":41}],43:[function(a,r,n){r.exports=function(i,l,d,c){for(var o=65535&i|0,u=i>>>16&65535|0,h=0;d!==0;){for(d-=h=2e3<d?2e3:d;u=u+(o=o+l[c++]|0)|0,--h;);o%=65521,u%=65521}return o|u<<16|0}},{}],44:[function(a,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,r,n){var i=function(){for(var l,d=[],c=0;c<256;c++){l=c;for(var o=0;o<8;o++)l=1&l?3988292384^l>>>1:l>>>1;d[c]=l}return d}();r.exports=function(l,d,c,o){var u=i,h=o+c;l^=-1;for(var x=o;x<h;x++)l=l>>>8^u[255&(l^d[x])];return-1^l}},{}],46:[function(a,r,n){var i,l=a("../utils/common"),d=a("./trees"),c=a("./adler32"),o=a("./crc32"),u=a("./messages"),h=0,x=4,m=0,A=-2,p=-1,b=4,f=2,g=8,v=9,w=286,_=30,D=19,R=2*w+1,S=15,L=3,k=258,F=k+L+1,j=42,T=113,y=1,I=2,$=3,C=4;function z(N,W){return N.msg=u[W],W}function B(N){return(N<<1)-(4<N?9:0)}function V(N){for(var W=N.length;0<=--W;)N[W]=0}function P(N){var W=N.state,G=W.pending;G>N.avail_out&&(G=N.avail_out),G!==0&&(l.arraySet(N.output,W.pending_buf,W.pending_out,G,N.next_out),N.next_out+=G,W.pending_out+=G,N.total_out+=G,N.avail_out-=G,W.pending-=G,W.pending===0&&(W.pending_out=0))}function U(N,W){d._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,W),N.block_start=N.strstart,P(N.strm)}function ee(N,W){N.pending_buf[N.pending++]=W}function se(N,W){N.pending_buf[N.pending++]=W>>>8&255,N.pending_buf[N.pending++]=255&W}function K(N,W){var G,M,E=N.max_chain_length,q=N.strstart,H=N.prev_length,J=N.nice_match,Q=N.strstart>N.w_size-F?N.strstart-(N.w_size-F):0,te=N.window,ne=N.w_mask,ae=N.prev,ce=N.strstart+k,De=te[q+H-1],Ce=te[q+H];N.prev_length>=N.good_match&&(E>>=2),J>N.lookahead&&(J=N.lookahead);do if(te[(G=W)+H]===Ce&&te[G+H-1]===De&&te[G]===te[q]&&te[++G]===te[q+1]){q+=2,G++;do;while(te[++q]===te[++G]&&te[++q]===te[++G]&&te[++q]===te[++G]&&te[++q]===te[++G]&&te[++q]===te[++G]&&te[++q]===te[++G]&&te[++q]===te[++G]&&te[++q]===te[++G]&&q<ce);if(M=k-(ce-q),q=ce-k,H<M){if(N.match_start=W,J<=(H=M))break;De=te[q+H-1],Ce=te[q+H]}}while((W=ae[W&ne])>Q&&--E!=0);return H<=N.lookahead?H:N.lookahead}function re(N){var W,G,M,E,q,H,J,Q,te,ne,ae=N.w_size;do{if(E=N.window_size-N.lookahead-N.strstart,N.strstart>=ae+(ae-F)){for(l.arraySet(N.window,N.window,ae,ae,0),N.match_start-=ae,N.strstart-=ae,N.block_start-=ae,W=G=N.hash_size;M=N.head[--W],N.head[W]=ae<=M?M-ae:0,--G;);for(W=G=ae;M=N.prev[--W],N.prev[W]=ae<=M?M-ae:0,--G;);E+=ae}if(N.strm.avail_in===0)break;if(H=N.strm,J=N.window,Q=N.strstart+N.lookahead,te=E,ne=void 0,ne=H.avail_in,te<ne&&(ne=te),G=ne===0?0:(H.avail_in-=ne,l.arraySet(J,H.input,H.next_in,ne,Q),H.state.wrap===1?H.adler=c(H.adler,J,ne,Q):H.state.wrap===2&&(H.adler=o(H.adler,J,ne,Q)),H.next_in+=ne,H.total_in+=ne,ne),N.lookahead+=G,N.lookahead+N.insert>=L)for(q=N.strstart-N.insert,N.ins_h=N.window[q],N.ins_h=(N.ins_h<<N.hash_shift^N.window[q+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[q+L-1])&N.hash_mask,N.prev[q&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=q,q++,N.insert--,!(N.lookahead+N.insert<L)););}while(N.lookahead<F&&N.strm.avail_in!==0)}function Ne(N,W){for(var G,M;;){if(N.lookahead<F){if(re(N),N.lookahead<F&&W===h)return y;if(N.lookahead===0)break}if(G=0,N.lookahead>=L&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+L-1])&N.hash_mask,G=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),G!==0&&N.strstart-G<=N.w_size-F&&(N.match_length=K(N,G)),N.match_length>=L)if(M=d._tr_tally(N,N.strstart-N.match_start,N.match_length-L),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=L){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+L-1])&N.hash_mask,G=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else M=d._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(M&&(U(N,!1),N.strm.avail_out===0))return y}return N.insert=N.strstart<L-1?N.strstart:L-1,W===x?(U(N,!0),N.strm.avail_out===0?$:C):N.last_lit&&(U(N,!1),N.strm.avail_out===0)?y:I}function ge(N,W){for(var G,M,E;;){if(N.lookahead<F){if(re(N),N.lookahead<F&&W===h)return y;if(N.lookahead===0)break}if(G=0,N.lookahead>=L&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+L-1])&N.hash_mask,G=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=L-1,G!==0&&N.prev_length<N.max_lazy_match&&N.strstart-G<=N.w_size-F&&(N.match_length=K(N,G),N.match_length<=5&&(N.strategy===1||N.match_length===L&&4096<N.strstart-N.match_start)&&(N.match_length=L-1)),N.prev_length>=L&&N.match_length<=N.prev_length){for(E=N.strstart+N.lookahead-L,M=d._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-L),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=E&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+L-1])&N.hash_mask,G=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=L-1,N.strstart++,M&&(U(N,!1),N.strm.avail_out===0))return y}else if(N.match_available){if((M=d._tr_tally(N,0,N.window[N.strstart-1]))&&U(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return y}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(M=d._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<L-1?N.strstart:L-1,W===x?(U(N,!0),N.strm.avail_out===0?$:C):N.last_lit&&(U(N,!1),N.strm.avail_out===0)?y:I}function be(N,W,G,M,E){this.good_length=N,this.max_lazy=W,this.nice_length=G,this.max_chain=M,this.func=E}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*R),this.dyn_dtree=new l.Buf16(2*(2*_+1)),this.bl_tree=new l.Buf16(2*(2*D+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(S+1),this.heap=new l.Buf16(2*w+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*w+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(N){var W;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=f,(W=N.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?j:T,N.adler=W.wrap===2?0:1,W.last_flush=h,d._tr_init(W),m):z(N,A)}function ue(N){var W=xe(N);return W===m&&function(G){G.window_size=2*G.w_size,V(G.head),G.max_lazy_match=i[G.level].max_lazy,G.good_match=i[G.level].good_length,G.nice_match=i[G.level].nice_length,G.max_chain_length=i[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=L-1,G.match_available=0,G.ins_h=0}(N.state),W}function pe(N,W,G,M,E,q){if(!N)return A;var H=1;if(W===p&&(W=6),M<0?(H=0,M=-M):15<M&&(H=2,M-=16),E<1||v<E||G!==g||M<8||15<M||W<0||9<W||q<0||b<q)return z(N,A);M===8&&(M=9);var J=new Ee;return(N.state=J).strm=N,J.wrap=H,J.gzhead=null,J.w_bits=M,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=E+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+L-1)/L),J.window=new l.Buf8(2*J.w_size),J.head=new l.Buf16(J.hash_size),J.prev=new l.Buf16(J.w_size),J.lit_bufsize=1<<E+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new l.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=W,J.strategy=q,J.method=G,ue(N)}i=[new be(0,0,0,0,function(N,W){var G=65535;for(G>N.pending_buf_size-5&&(G=N.pending_buf_size-5);;){if(N.lookahead<=1){if(re(N),N.lookahead===0&&W===h)return y;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var M=N.block_start+G;if((N.strstart===0||N.strstart>=M)&&(N.lookahead=N.strstart-M,N.strstart=M,U(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-F&&(U(N,!1),N.strm.avail_out===0))return y}return N.insert=0,W===x?(U(N,!0),N.strm.avail_out===0?$:C):(N.strstart>N.block_start&&(U(N,!1),N.strm.avail_out),y)}),new be(4,4,8,4,Ne),new be(4,5,16,8,Ne),new be(4,6,32,32,Ne),new be(4,4,16,16,ge),new be(8,16,32,32,ge),new be(8,16,128,128,ge),new be(8,32,128,256,ge),new be(32,128,258,1024,ge),new be(32,258,258,4096,ge)],n.deflateInit=function(N,W){return pe(N,W,g,15,8,0)},n.deflateInit2=pe,n.deflateReset=ue,n.deflateResetKeep=xe,n.deflateSetHeader=function(N,W){return N&&N.state?N.state.wrap!==2?A:(N.state.gzhead=W,m):A},n.deflate=function(N,W){var G,M,E,q;if(!N||!N.state||5<W||W<0)return N?z(N,A):A;if(M=N.state,!N.output||!N.input&&N.avail_in!==0||M.status===666&&W!==x)return z(N,N.avail_out===0?-5:A);if(M.strm=N,G=M.last_flush,M.last_flush=W,M.status===j)if(M.wrap===2)N.adler=0,ee(M,31),ee(M,139),ee(M,8),M.gzhead?(ee(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),ee(M,255&M.gzhead.time),ee(M,M.gzhead.time>>8&255),ee(M,M.gzhead.time>>16&255),ee(M,M.gzhead.time>>24&255),ee(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),ee(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(ee(M,255&M.gzhead.extra.length),ee(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(N.adler=o(N.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(ee(M,0),ee(M,0),ee(M,0),ee(M,0),ee(M,0),ee(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),ee(M,3),M.status=T);else{var H=g+(M.w_bits-8<<4)<<8;H|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(H|=32),H+=31-H%31,M.status=T,se(M,H),M.strstart!==0&&(se(M,N.adler>>>16),se(M,65535&N.adler)),N.adler=1}if(M.status===69)if(M.gzhead.extra){for(E=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>E&&(N.adler=o(N.adler,M.pending_buf,M.pending-E,E)),P(N),E=M.pending,M.pending!==M.pending_buf_size));)ee(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>E&&(N.adler=o(N.adler,M.pending_buf,M.pending-E,E)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){E=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>E&&(N.adler=o(N.adler,M.pending_buf,M.pending-E,E)),P(N),E=M.pending,M.pending===M.pending_buf_size)){q=1;break}q=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,ee(M,q)}while(q!==0);M.gzhead.hcrc&&M.pending>E&&(N.adler=o(N.adler,M.pending_buf,M.pending-E,E)),q===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){E=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>E&&(N.adler=o(N.adler,M.pending_buf,M.pending-E,E)),P(N),E=M.pending,M.pending===M.pending_buf_size)){q=1;break}q=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,ee(M,q)}while(q!==0);M.gzhead.hcrc&&M.pending>E&&(N.adler=o(N.adler,M.pending_buf,M.pending-E,E)),q===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&P(N),M.pending+2<=M.pending_buf_size&&(ee(M,255&N.adler),ee(M,N.adler>>8&255),N.adler=0,M.status=T)):M.status=T),M.pending!==0){if(P(N),N.avail_out===0)return M.last_flush=-1,m}else if(N.avail_in===0&&B(W)<=B(G)&&W!==x)return z(N,-5);if(M.status===666&&N.avail_in!==0)return z(N,-5);if(N.avail_in!==0||M.lookahead!==0||W!==h&&M.status!==666){var J=M.strategy===2?function(Q,te){for(var ne;;){if(Q.lookahead===0&&(re(Q),Q.lookahead===0)){if(te===h)return y;break}if(Q.match_length=0,ne=d._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,ne&&(U(Q,!1),Q.strm.avail_out===0))return y}return Q.insert=0,te===x?(U(Q,!0),Q.strm.avail_out===0?$:C):Q.last_lit&&(U(Q,!1),Q.strm.avail_out===0)?y:I}(M,W):M.strategy===3?function(Q,te){for(var ne,ae,ce,De,Ce=Q.window;;){if(Q.lookahead<=k){if(re(Q),Q.lookahead<=k&&te===h)return y;if(Q.lookahead===0)break}if(Q.match_length=0,Q.lookahead>=L&&0<Q.strstart&&(ae=Ce[ce=Q.strstart-1])===Ce[++ce]&&ae===Ce[++ce]&&ae===Ce[++ce]){De=Q.strstart+k;do;while(ae===Ce[++ce]&&ae===Ce[++ce]&&ae===Ce[++ce]&&ae===Ce[++ce]&&ae===Ce[++ce]&&ae===Ce[++ce]&&ae===Ce[++ce]&&ae===Ce[++ce]&&ce<De);Q.match_length=k-(De-ce),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=L?(ne=d._tr_tally(Q,1,Q.match_length-L),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(ne=d._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),ne&&(U(Q,!1),Q.strm.avail_out===0))return y}return Q.insert=0,te===x?(U(Q,!0),Q.strm.avail_out===0?$:C):Q.last_lit&&(U(Q,!1),Q.strm.avail_out===0)?y:I}(M,W):i[M.level].func(M,W);if(J!==$&&J!==C||(M.status=666),J===y||J===$)return N.avail_out===0&&(M.last_flush=-1),m;if(J===I&&(W===1?d._tr_align(M):W!==5&&(d._tr_stored_block(M,0,0,!1),W===3&&(V(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),P(N),N.avail_out===0))return M.last_flush=-1,m}return W!==x?m:M.wrap<=0?1:(M.wrap===2?(ee(M,255&N.adler),ee(M,N.adler>>8&255),ee(M,N.adler>>16&255),ee(M,N.adler>>24&255),ee(M,255&N.total_in),ee(M,N.total_in>>8&255),ee(M,N.total_in>>16&255),ee(M,N.total_in>>24&255)):(se(M,N.adler>>>16),se(M,65535&N.adler)),P(N),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?m:1)},n.deflateEnd=function(N){var W;return N&&N.state?(W=N.state.status)!==j&&W!==69&&W!==73&&W!==91&&W!==103&&W!==T&&W!==666?z(N,A):(N.state=null,W===T?z(N,-3):m):A},n.deflateSetDictionary=function(N,W){var G,M,E,q,H,J,Q,te,ne=W.length;if(!N||!N.state||(q=(G=N.state).wrap)===2||q===1&&G.status!==j||G.lookahead)return A;for(q===1&&(N.adler=c(N.adler,W,ne,0)),G.wrap=0,ne>=G.w_size&&(q===0&&(V(G.head),G.strstart=0,G.block_start=0,G.insert=0),te=new l.Buf8(G.w_size),l.arraySet(te,W,ne-G.w_size,G.w_size,0),W=te,ne=G.w_size),H=N.avail_in,J=N.next_in,Q=N.input,N.avail_in=ne,N.next_in=0,N.input=W,re(G);G.lookahead>=L;){for(M=G.strstart,E=G.lookahead-(L-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[M+L-1])&G.hash_mask,G.prev[M&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=M,M++,--E;);G.strstart=M,G.lookahead=L-1,re(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=L-1,G.match_available=0,N.next_in=J,N.input=Q,N.avail_in=H,G.wrap=q,m},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,r,n){r.exports=function(i,l){var d,c,o,u,h,x,m,A,p,b,f,g,v,w,_,D,R,S,L,k,F,j,T,y,I;d=i.state,c=i.next_in,y=i.input,o=c+(i.avail_in-5),u=i.next_out,I=i.output,h=u-(l-i.avail_out),x=u+(i.avail_out-257),m=d.dmax,A=d.wsize,p=d.whave,b=d.wnext,f=d.window,g=d.hold,v=d.bits,w=d.lencode,_=d.distcode,D=(1<<d.lenbits)-1,R=(1<<d.distbits)-1;e:do{v<15&&(g+=y[c++]<<v,v+=8,g+=y[c++]<<v,v+=8),S=w[g&D];t:for(;;){if(g>>>=L=S>>>24,v-=L,(L=S>>>16&255)===0)I[u++]=65535&S;else{if(!(16&L)){if(!(64&L)){S=w[(65535&S)+(g&(1<<L)-1)];continue t}if(32&L){d.mode=12;break e}i.msg="invalid literal/length code",d.mode=30;break e}k=65535&S,(L&=15)&&(v<L&&(g+=y[c++]<<v,v+=8),k+=g&(1<<L)-1,g>>>=L,v-=L),v<15&&(g+=y[c++]<<v,v+=8,g+=y[c++]<<v,v+=8),S=_[g&R];s:for(;;){if(g>>>=L=S>>>24,v-=L,!(16&(L=S>>>16&255))){if(!(64&L)){S=_[(65535&S)+(g&(1<<L)-1)];continue s}i.msg="invalid distance code",d.mode=30;break e}if(F=65535&S,v<(L&=15)&&(g+=y[c++]<<v,(v+=8)<L&&(g+=y[c++]<<v,v+=8)),m<(F+=g&(1<<L)-1)){i.msg="invalid distance too far back",d.mode=30;break e}if(g>>>=L,v-=L,(L=u-h)<F){if(p<(L=F-L)&&d.sane){i.msg="invalid distance too far back",d.mode=30;break e}if(T=f,(j=0)===b){if(j+=A-L,L<k){for(k-=L;I[u++]=f[j++],--L;);j=u-F,T=I}}else if(b<L){if(j+=A+b-L,(L-=b)<k){for(k-=L;I[u++]=f[j++],--L;);if(j=0,b<k){for(k-=L=b;I[u++]=f[j++],--L;);j=u-F,T=I}}}else if(j+=b-L,L<k){for(k-=L;I[u++]=f[j++],--L;);j=u-F,T=I}for(;2<k;)I[u++]=T[j++],I[u++]=T[j++],I[u++]=T[j++],k-=3;k&&(I[u++]=T[j++],1<k&&(I[u++]=T[j++]))}else{for(j=u-F;I[u++]=I[j++],I[u++]=I[j++],I[u++]=I[j++],2<(k-=3););k&&(I[u++]=I[j++],1<k&&(I[u++]=I[j++]))}break}}break}}while(c<o&&u<x);c-=k=v>>3,g&=(1<<(v-=k<<3))-1,i.next_in=c,i.next_out=u,i.avail_in=c<o?o-c+5:5-(c-o),i.avail_out=u<x?x-u+257:257-(u-x),d.hold=g,d.bits=v}},{}],49:[function(a,r,n){var i=a("../utils/common"),l=a("./adler32"),d=a("./crc32"),c=a("./inffast"),o=a("./inftrees"),u=1,h=2,x=0,m=-2,A=1,p=852,b=592;function f(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(j){var T;return j&&j.state?(T=j.state,j.total_in=j.total_out=T.total=0,j.msg="",T.wrap&&(j.adler=1&T.wrap),T.mode=A,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new i.Buf32(p),T.distcode=T.distdyn=new i.Buf32(b),T.sane=1,T.back=-1,x):m}function w(j){var T;return j&&j.state?((T=j.state).wsize=0,T.whave=0,T.wnext=0,v(j)):m}function _(j,T){var y,I;return j&&j.state?(I=j.state,T<0?(y=0,T=-T):(y=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?m:(I.window!==null&&I.wbits!==T&&(I.window=null),I.wrap=y,I.wbits=T,w(j))):m}function D(j,T){var y,I;return j?(I=new g,(j.state=I).window=null,(y=_(j,T))!==x&&(j.state=null),y):m}var R,S,L=!0;function k(j){if(L){var T;for(R=new i.Buf32(512),S=new i.Buf32(32),T=0;T<144;)j.lens[T++]=8;for(;T<256;)j.lens[T++]=9;for(;T<280;)j.lens[T++]=7;for(;T<288;)j.lens[T++]=8;for(o(u,j.lens,0,288,R,0,j.work,{bits:9}),T=0;T<32;)j.lens[T++]=5;o(h,j.lens,0,32,S,0,j.work,{bits:5}),L=!1}j.lencode=R,j.lenbits=9,j.distcode=S,j.distbits=5}function F(j,T,y,I){var $,C=j.state;return C.window===null&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new i.Buf8(C.wsize)),I>=C.wsize?(i.arraySet(C.window,T,y-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(I<($=C.wsize-C.wnext)&&($=I),i.arraySet(C.window,T,y-I,$,C.wnext),(I-=$)?(i.arraySet(C.window,T,y-I,I,0),C.wnext=I,C.whave=C.wsize):(C.wnext+=$,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=$))),0}n.inflateReset=w,n.inflateReset2=_,n.inflateResetKeep=v,n.inflateInit=function(j){return D(j,15)},n.inflateInit2=D,n.inflate=function(j,T){var y,I,$,C,z,B,V,P,U,ee,se,K,re,Ne,ge,be,Ee,xe,ue,pe,N,W,G,M,E=0,q=new i.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return m;(y=j.state).mode===12&&(y.mode=13),z=j.next_out,$=j.output,V=j.avail_out,C=j.next_in,I=j.input,B=j.avail_in,P=y.hold,U=y.bits,ee=B,se=V,W=x;e:for(;;)switch(y.mode){case A:if(y.wrap===0){y.mode=13;break}for(;U<16;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(2&y.wrap&&P===35615){q[y.check=0]=255&P,q[1]=P>>>8&255,y.check=d(y.check,q,2,0),U=P=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&P)<<8)+(P>>8))%31){j.msg="incorrect header check",y.mode=30;break}if((15&P)!=8){j.msg="unknown compression method",y.mode=30;break}if(U-=4,N=8+(15&(P>>>=4)),y.wbits===0)y.wbits=N;else if(N>y.wbits){j.msg="invalid window size",y.mode=30;break}y.dmax=1<<N,j.adler=y.check=1,y.mode=512&P?10:12,U=P=0;break;case 2:for(;U<16;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(y.flags=P,(255&y.flags)!=8){j.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){j.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=P>>8&1),512&y.flags&&(q[0]=255&P,q[1]=P>>>8&255,y.check=d(y.check,q,2,0)),U=P=0,y.mode=3;case 3:for(;U<32;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}y.head&&(y.head.time=P),512&y.flags&&(q[0]=255&P,q[1]=P>>>8&255,q[2]=P>>>16&255,q[3]=P>>>24&255,y.check=d(y.check,q,4,0)),U=P=0,y.mode=4;case 4:for(;U<16;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}y.head&&(y.head.xflags=255&P,y.head.os=P>>8),512&y.flags&&(q[0]=255&P,q[1]=P>>>8&255,y.check=d(y.check,q,2,0)),U=P=0,y.mode=5;case 5:if(1024&y.flags){for(;U<16;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}y.length=P,y.head&&(y.head.extra_len=P),512&y.flags&&(q[0]=255&P,q[1]=P>>>8&255,y.check=d(y.check,q,2,0)),U=P=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(B<(K=y.length)&&(K=B),K&&(y.head&&(N=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),i.arraySet(y.head.extra,I,C,K,N)),512&y.flags&&(y.check=d(y.check,I,K,C)),B-=K,C+=K,y.length-=K),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(B===0)break e;for(K=0;N=I[C+K++],y.head&&N&&y.length<65536&&(y.head.name+=String.fromCharCode(N)),N&&K<B;);if(512&y.flags&&(y.check=d(y.check,I,K,C)),B-=K,C+=K,N)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(B===0)break e;for(K=0;N=I[C+K++],y.head&&N&&y.length<65536&&(y.head.comment+=String.fromCharCode(N)),N&&K<B;);if(512&y.flags&&(y.check=d(y.check,I,K,C)),B-=K,C+=K,N)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;U<16;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(P!==(65535&y.check)){j.msg="header crc mismatch",y.mode=30;break}U=P=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),j.adler=y.check=0,y.mode=12;break;case 10:for(;U<32;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}j.adler=y.check=f(P),U=P=0,y.mode=11;case 11:if(y.havedict===0)return j.next_out=z,j.avail_out=V,j.next_in=C,j.avail_in=B,y.hold=P,y.bits=U,2;j.adler=y.check=1,y.mode=12;case 12:if(T===5||T===6)break e;case 13:if(y.last){P>>>=7&U,U-=7&U,y.mode=27;break}for(;U<3;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}switch(y.last=1&P,U-=1,3&(P>>>=1)){case 0:y.mode=14;break;case 1:if(k(y),y.mode=20,T!==6)break;P>>>=2,U-=2;break e;case 2:y.mode=17;break;case 3:j.msg="invalid block type",y.mode=30}P>>>=2,U-=2;break;case 14:for(P>>>=7&U,U-=7&U;U<32;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if((65535&P)!=(P>>>16^65535)){j.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&P,U=P=0,y.mode=15,T===6)break e;case 15:y.mode=16;case 16:if(K=y.length){if(B<K&&(K=B),V<K&&(K=V),K===0)break e;i.arraySet($,I,C,K,z),B-=K,C+=K,V-=K,z+=K,y.length-=K;break}y.mode=12;break;case 17:for(;U<14;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(y.nlen=257+(31&P),P>>>=5,U-=5,y.ndist=1+(31&P),P>>>=5,U-=5,y.ncode=4+(15&P),P>>>=4,U-=4,286<y.nlen||30<y.ndist){j.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;U<3;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}y.lens[H[y.have++]]=7&P,P>>>=3,U-=3}for(;y.have<19;)y.lens[H[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,G={bits:y.lenbits},W=o(0,y.lens,0,19,y.lencode,0,y.work,G),y.lenbits=G.bits,W){j.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;be=(E=y.lencode[P&(1<<y.lenbits)-1])>>>16&255,Ee=65535&E,!((ge=E>>>24)<=U);){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(Ee<16)P>>>=ge,U-=ge,y.lens[y.have++]=Ee;else{if(Ee===16){for(M=ge+2;U<M;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(P>>>=ge,U-=ge,y.have===0){j.msg="invalid bit length repeat",y.mode=30;break}N=y.lens[y.have-1],K=3+(3&P),P>>>=2,U-=2}else if(Ee===17){for(M=ge+3;U<M;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}U-=ge,N=0,K=3+(7&(P>>>=ge)),P>>>=3,U-=3}else{for(M=ge+7;U<M;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}U-=ge,N=0,K=11+(127&(P>>>=ge)),P>>>=7,U-=7}if(y.have+K>y.nlen+y.ndist){j.msg="invalid bit length repeat",y.mode=30;break}for(;K--;)y.lens[y.have++]=N}}if(y.mode===30)break;if(y.lens[256]===0){j.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,G={bits:y.lenbits},W=o(u,y.lens,0,y.nlen,y.lencode,0,y.work,G),y.lenbits=G.bits,W){j.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,G={bits:y.distbits},W=o(h,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,G),y.distbits=G.bits,W){j.msg="invalid distances set",y.mode=30;break}if(y.mode=20,T===6)break e;case 20:y.mode=21;case 21:if(6<=B&&258<=V){j.next_out=z,j.avail_out=V,j.next_in=C,j.avail_in=B,y.hold=P,y.bits=U,c(j,se),z=j.next_out,$=j.output,V=j.avail_out,C=j.next_in,I=j.input,B=j.avail_in,P=y.hold,U=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;be=(E=y.lencode[P&(1<<y.lenbits)-1])>>>16&255,Ee=65535&E,!((ge=E>>>24)<=U);){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(be&&!(240&be)){for(xe=ge,ue=be,pe=Ee;be=(E=y.lencode[pe+((P&(1<<xe+ue)-1)>>xe)])>>>16&255,Ee=65535&E,!(xe+(ge=E>>>24)<=U);){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}P>>>=xe,U-=xe,y.back+=xe}if(P>>>=ge,U-=ge,y.back+=ge,y.length=Ee,be===0){y.mode=26;break}if(32&be){y.back=-1,y.mode=12;break}if(64&be){j.msg="invalid literal/length code",y.mode=30;break}y.extra=15&be,y.mode=22;case 22:if(y.extra){for(M=y.extra;U<M;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}y.length+=P&(1<<y.extra)-1,P>>>=y.extra,U-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;be=(E=y.distcode[P&(1<<y.distbits)-1])>>>16&255,Ee=65535&E,!((ge=E>>>24)<=U);){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(!(240&be)){for(xe=ge,ue=be,pe=Ee;be=(E=y.distcode[pe+((P&(1<<xe+ue)-1)>>xe)])>>>16&255,Ee=65535&E,!(xe+(ge=E>>>24)<=U);){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}P>>>=xe,U-=xe,y.back+=xe}if(P>>>=ge,U-=ge,y.back+=ge,64&be){j.msg="invalid distance code",y.mode=30;break}y.offset=Ee,y.extra=15&be,y.mode=24;case 24:if(y.extra){for(M=y.extra;U<M;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}y.offset+=P&(1<<y.extra)-1,P>>>=y.extra,U-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){j.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(V===0)break e;if(K=se-V,y.offset>K){if((K=y.offset-K)>y.whave&&y.sane){j.msg="invalid distance too far back",y.mode=30;break}re=K>y.wnext?(K-=y.wnext,y.wsize-K):y.wnext-K,K>y.length&&(K=y.length),Ne=y.window}else Ne=$,re=z-y.offset,K=y.length;for(V<K&&(K=V),V-=K,y.length-=K;$[z++]=Ne[re++],--K;);y.length===0&&(y.mode=21);break;case 26:if(V===0)break e;$[z++]=y.length,V--,y.mode=21;break;case 27:if(y.wrap){for(;U<32;){if(B===0)break e;B--,P|=I[C++]<<U,U+=8}if(se-=V,j.total_out+=se,y.total+=se,se&&(j.adler=y.check=y.flags?d(y.check,$,se,z-se):l(y.check,$,se,z-se)),se=V,(y.flags?P:f(P))!==y.check){j.msg="incorrect data check",y.mode=30;break}U=P=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;U<32;){if(B===0)break e;B--,P+=I[C++]<<U,U+=8}if(P!==(4294967295&y.total)){j.msg="incorrect length check",y.mode=30;break}U=P=0}y.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return m}return j.next_out=z,j.avail_out=V,j.next_in=C,j.avail_in=B,y.hold=P,y.bits=U,(y.wsize||se!==j.avail_out&&y.mode<30&&(y.mode<27||T!==4))&&F(j,j.output,j.next_out,se-j.avail_out)?(y.mode=31,-4):(ee-=j.avail_in,se-=j.avail_out,j.total_in+=ee,j.total_out+=se,y.total+=se,y.wrap&&se&&(j.adler=y.check=y.flags?d(y.check,$,se,j.next_out-se):l(y.check,$,se,j.next_out-se)),j.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(ee==0&&se===0||T===4)&&W===x&&(W=-5),W)},n.inflateEnd=function(j){if(!j||!j.state)return m;var T=j.state;return T.window&&(T.window=null),j.state=null,x},n.inflateGetHeader=function(j,T){var y;return j&&j.state&&2&(y=j.state).wrap?((y.head=T).done=!1,x):m},n.inflateSetDictionary=function(j,T){var y,I=T.length;return j&&j.state?(y=j.state).wrap!==0&&y.mode!==11?m:y.mode===11&&l(1,T,I,0)!==y.check?-3:F(j,T,I,I)?(y.mode=31,-4):(y.havedict=1,x):m},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,r,n){var i=a("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,h,x,m,A,p,b,f){var g,v,w,_,D,R,S,L,k,F=f.bits,j=0,T=0,y=0,I=0,$=0,C=0,z=0,B=0,V=0,P=0,U=null,ee=0,se=new i.Buf16(16),K=new i.Buf16(16),re=null,Ne=0;for(j=0;j<=15;j++)se[j]=0;for(T=0;T<m;T++)se[h[x+T]]++;for($=F,I=15;1<=I&&se[I]===0;I--);if(I<$&&($=I),I===0)return A[p++]=20971520,A[p++]=20971520,f.bits=1,0;for(y=1;y<I&&se[y]===0;y++);for($<y&&($=y),j=B=1;j<=15;j++)if(B<<=1,(B-=se[j])<0)return-1;if(0<B&&(u===0||I!==1))return-1;for(K[1]=0,j=1;j<15;j++)K[j+1]=K[j]+se[j];for(T=0;T<m;T++)h[x+T]!==0&&(b[K[h[x+T]]++]=T);if(R=u===0?(U=re=b,19):u===1?(U=l,ee-=257,re=d,Ne-=257,256):(U=c,re=o,-1),j=y,D=p,z=T=P=0,w=-1,_=(V=1<<(C=$))-1,u===1&&852<V||u===2&&592<V)return 1;for(;;){for(S=j-z,k=b[T]<R?(L=0,b[T]):b[T]>R?(L=re[Ne+b[T]],U[ee+b[T]]):(L=96,0),g=1<<j-z,y=v=1<<C;A[D+(P>>z)+(v-=g)]=S<<24|L<<16|k|0,v!==0;);for(g=1<<j-1;P&g;)g>>=1;if(g!==0?(P&=g-1,P+=g):P=0,T++,--se[j]==0){if(j===I)break;j=h[x+b[T]]}if($<j&&(P&_)!==w){for(z===0&&(z=$),D+=y,B=1<<(C=j-z);C+z<I&&!((B-=se[C+z])<=0);)C++,B<<=1;if(V+=1<<C,u===1&&852<V||u===2&&592<V)return 1;A[w=P&_]=$<<24|C<<16|D-p|0}}return P!==0&&(A[D+P]=j-z<<24|64<<16|0),f.bits=$,0}},{"../utils/common":41}],51:[function(a,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,r,n){var i=a("../utils/common"),l=0,d=1;function c(E){for(var q=E.length;0<=--q;)E[q]=0}var o=0,u=29,h=256,x=h+1+u,m=30,A=19,p=2*x+1,b=15,f=16,g=7,v=256,w=16,_=17,D=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(x+2));c(F);var j=new Array(2*m);c(j);var T=new Array(512);c(T);var y=new Array(256);c(y);var I=new Array(u);c(I);var $,C,z,B=new Array(m);function V(E,q,H,J,Q){this.static_tree=E,this.extra_bits=q,this.extra_base=H,this.elems=J,this.max_length=Q,this.has_stree=E&&E.length}function P(E,q){this.dyn_tree=E,this.max_code=0,this.stat_desc=q}function U(E){return E<256?T[E]:T[256+(E>>>7)]}function ee(E,q){E.pending_buf[E.pending++]=255&q,E.pending_buf[E.pending++]=q>>>8&255}function se(E,q,H){E.bi_valid>f-H?(E.bi_buf|=q<<E.bi_valid&65535,ee(E,E.bi_buf),E.bi_buf=q>>f-E.bi_valid,E.bi_valid+=H-f):(E.bi_buf|=q<<E.bi_valid&65535,E.bi_valid+=H)}function K(E,q,H){se(E,H[2*q],H[2*q+1])}function re(E,q){for(var H=0;H|=1&E,E>>>=1,H<<=1,0<--q;);return H>>>1}function Ne(E,q,H){var J,Q,te=new Array(b+1),ne=0;for(J=1;J<=b;J++)te[J]=ne=ne+H[J-1]<<1;for(Q=0;Q<=q;Q++){var ae=E[2*Q+1];ae!==0&&(E[2*Q]=re(te[ae]++,ae))}}function ge(E){var q;for(q=0;q<x;q++)E.dyn_ltree[2*q]=0;for(q=0;q<m;q++)E.dyn_dtree[2*q]=0;for(q=0;q<A;q++)E.bl_tree[2*q]=0;E.dyn_ltree[2*v]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function be(E){8<E.bi_valid?ee(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function Ee(E,q,H,J){var Q=2*q,te=2*H;return E[Q]<E[te]||E[Q]===E[te]&&J[q]<=J[H]}function xe(E,q,H){for(var J=E.heap[H],Q=H<<1;Q<=E.heap_len&&(Q<E.heap_len&&Ee(q,E.heap[Q+1],E.heap[Q],E.depth)&&Q++,!Ee(q,J,E.heap[Q],E.depth));)E.heap[H]=E.heap[Q],H=Q,Q<<=1;E.heap[H]=J}function ue(E,q,H){var J,Q,te,ne,ae=0;if(E.last_lit!==0)for(;J=E.pending_buf[E.d_buf+2*ae]<<8|E.pending_buf[E.d_buf+2*ae+1],Q=E.pending_buf[E.l_buf+ae],ae++,J===0?K(E,Q,q):(K(E,(te=y[Q])+h+1,q),(ne=R[te])!==0&&se(E,Q-=I[te],ne),K(E,te=U(--J),H),(ne=S[te])!==0&&se(E,J-=B[te],ne)),ae<E.last_lit;);K(E,v,q)}function pe(E,q){var H,J,Q,te=q.dyn_tree,ne=q.stat_desc.static_tree,ae=q.stat_desc.has_stree,ce=q.stat_desc.elems,De=-1;for(E.heap_len=0,E.heap_max=p,H=0;H<ce;H++)te[2*H]!==0?(E.heap[++E.heap_len]=De=H,E.depth[H]=0):te[2*H+1]=0;for(;E.heap_len<2;)te[2*(Q=E.heap[++E.heap_len]=De<2?++De:0)]=1,E.depth[Q]=0,E.opt_len--,ae&&(E.static_len-=ne[2*Q+1]);for(q.max_code=De,H=E.heap_len>>1;1<=H;H--)xe(E,te,H);for(Q=ce;H=E.heap[1],E.heap[1]=E.heap[E.heap_len--],xe(E,te,1),J=E.heap[1],E.heap[--E.heap_max]=H,E.heap[--E.heap_max]=J,te[2*Q]=te[2*H]+te[2*J],E.depth[Q]=(E.depth[H]>=E.depth[J]?E.depth[H]:E.depth[J])+1,te[2*H+1]=te[2*J+1]=Q,E.heap[1]=Q++,xe(E,te,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],function(Ce,Mt){var yr,ns,wr,Qe,Fn,Nl,hs=Mt.dyn_tree,Ed=Mt.max_code,_p=Mt.stat_desc.static_tree,Np=Mt.stat_desc.has_stree,jp=Mt.stat_desc.extra_bits,Pd=Mt.stat_desc.extra_base,_r=Mt.stat_desc.max_length,En=0;for(Qe=0;Qe<=b;Qe++)Ce.bl_count[Qe]=0;for(hs[2*Ce.heap[Ce.heap_max]+1]=0,yr=Ce.heap_max+1;yr<p;yr++)_r<(Qe=hs[2*hs[2*(ns=Ce.heap[yr])+1]+1]+1)&&(Qe=_r,En++),hs[2*ns+1]=Qe,Ed<ns||(Ce.bl_count[Qe]++,Fn=0,Pd<=ns&&(Fn=jp[ns-Pd]),Nl=hs[2*ns],Ce.opt_len+=Nl*(Qe+Fn),Np&&(Ce.static_len+=Nl*(_p[2*ns+1]+Fn)));if(En!==0){do{for(Qe=_r-1;Ce.bl_count[Qe]===0;)Qe--;Ce.bl_count[Qe]--,Ce.bl_count[Qe+1]+=2,Ce.bl_count[_r]--,En-=2}while(0<En);for(Qe=_r;Qe!==0;Qe--)for(ns=Ce.bl_count[Qe];ns!==0;)Ed<(wr=Ce.heap[--yr])||(hs[2*wr+1]!==Qe&&(Ce.opt_len+=(Qe-hs[2*wr+1])*hs[2*wr],hs[2*wr+1]=Qe),ns--)}}(E,q),Ne(te,De,E.bl_count)}function N(E,q,H){var J,Q,te=-1,ne=q[1],ae=0,ce=7,De=4;for(ne===0&&(ce=138,De=3),q[2*(H+1)+1]=65535,J=0;J<=H;J++)Q=ne,ne=q[2*(J+1)+1],++ae<ce&&Q===ne||(ae<De?E.bl_tree[2*Q]+=ae:Q!==0?(Q!==te&&E.bl_tree[2*Q]++,E.bl_tree[2*w]++):ae<=10?E.bl_tree[2*_]++:E.bl_tree[2*D]++,te=Q,De=(ae=0)===ne?(ce=138,3):Q===ne?(ce=6,3):(ce=7,4))}function W(E,q,H){var J,Q,te=-1,ne=q[1],ae=0,ce=7,De=4;for(ne===0&&(ce=138,De=3),J=0;J<=H;J++)if(Q=ne,ne=q[2*(J+1)+1],!(++ae<ce&&Q===ne)){if(ae<De)for(;K(E,Q,E.bl_tree),--ae!=0;);else Q!==0?(Q!==te&&(K(E,Q,E.bl_tree),ae--),K(E,w,E.bl_tree),se(E,ae-3,2)):ae<=10?(K(E,_,E.bl_tree),se(E,ae-3,3)):(K(E,D,E.bl_tree),se(E,ae-11,7));te=Q,De=(ae=0)===ne?(ce=138,3):Q===ne?(ce=6,3):(ce=7,4)}}c(B);var G=!1;function M(E,q,H,J){se(E,(o<<1)+(J?1:0),3),function(Q,te,ne,ae){be(Q),ee(Q,ne),ee(Q,~ne),i.arraySet(Q.pending_buf,Q.window,te,ne,Q.pending),Q.pending+=ne}(E,q,H)}n._tr_init=function(E){G||(function(){var q,H,J,Q,te,ne=new Array(b+1);for(Q=J=0;Q<u-1;Q++)for(I[Q]=J,q=0;q<1<<R[Q];q++)y[J++]=Q;for(y[J-1]=Q,Q=te=0;Q<16;Q++)for(B[Q]=te,q=0;q<1<<S[Q];q++)T[te++]=Q;for(te>>=7;Q<m;Q++)for(B[Q]=te<<7,q=0;q<1<<S[Q]-7;q++)T[256+te++]=Q;for(H=0;H<=b;H++)ne[H]=0;for(q=0;q<=143;)F[2*q+1]=8,q++,ne[8]++;for(;q<=255;)F[2*q+1]=9,q++,ne[9]++;for(;q<=279;)F[2*q+1]=7,q++,ne[7]++;for(;q<=287;)F[2*q+1]=8,q++,ne[8]++;for(Ne(F,x+1,ne),q=0;q<m;q++)j[2*q+1]=5,j[2*q]=re(q,5);$=new V(F,R,h+1,x,b),C=new V(j,S,0,m,b),z=new V(new Array(0),L,0,A,g)}(),G=!0),E.l_desc=new P(E.dyn_ltree,$),E.d_desc=new P(E.dyn_dtree,C),E.bl_desc=new P(E.bl_tree,z),E.bi_buf=0,E.bi_valid=0,ge(E)},n._tr_stored_block=M,n._tr_flush_block=function(E,q,H,J){var Q,te,ne=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=function(ae){var ce,De=4093624447;for(ce=0;ce<=31;ce++,De>>>=1)if(1&De&&ae.dyn_ltree[2*ce]!==0)return l;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return d;for(ce=32;ce<h;ce++)if(ae.dyn_ltree[2*ce]!==0)return d;return l}(E)),pe(E,E.l_desc),pe(E,E.d_desc),ne=function(ae){var ce;for(N(ae,ae.dyn_ltree,ae.l_desc.max_code),N(ae,ae.dyn_dtree,ae.d_desc.max_code),pe(ae,ae.bl_desc),ce=A-1;3<=ce&&ae.bl_tree[2*k[ce]+1]===0;ce--);return ae.opt_len+=3*(ce+1)+5+5+4,ce}(E),Q=E.opt_len+3+7>>>3,(te=E.static_len+3+7>>>3)<=Q&&(Q=te)):Q=te=H+5,H+4<=Q&&q!==-1?M(E,q,H,J):E.strategy===4||te===Q?(se(E,2+(J?1:0),3),ue(E,F,j)):(se(E,4+(J?1:0),3),function(ae,ce,De,Ce){var Mt;for(se(ae,ce-257,5),se(ae,De-1,5),se(ae,Ce-4,4),Mt=0;Mt<Ce;Mt++)se(ae,ae.bl_tree[2*k[Mt]+1],3);W(ae,ae.dyn_ltree,ce-1),W(ae,ae.dyn_dtree,De-1)}(E,E.l_desc.max_code+1,E.d_desc.max_code+1,ne+1),ue(E,E.dyn_ltree,E.dyn_dtree)),ge(E),J&&be(E)},n._tr_tally=function(E,q,H){return E.pending_buf[E.d_buf+2*E.last_lit]=q>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&q,E.pending_buf[E.l_buf+E.last_lit]=255&H,E.last_lit++,q===0?E.dyn_ltree[2*H]++:(E.matches++,q--,E.dyn_ltree[2*(y[H]+h+1)]++,E.dyn_dtree[2*U(q)]++),E.last_lit===E.lit_bufsize-1},n._tr_align=function(E){se(E,2,3),K(E,v,F),function(q){q.bi_valid===16?(ee(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(E)}},{"../utils/common":41}],53:[function(a,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,r,n){(function(i){(function(l,d){if(!l.setImmediate){var c,o,u,h,x=1,m={},A=!1,p=l.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(l);b=b&&b.setTimeout?b:l,c={}.toString.call(l.process)==="[object process]"?function(w){process.nextTick(function(){g(w)})}:function(){if(l.postMessage&&!l.importScripts){var w=!0,_=l.onmessage;return l.onmessage=function(){w=!1},l.postMessage("","*"),l.onmessage=_,w}}()?(h="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",v,!1):l.attachEvent("onmessage",v),function(w){l.postMessage(h+w,"*")}):l.MessageChannel?((u=new MessageChannel).port1.onmessage=function(w){g(w.data)},function(w){u.port2.postMessage(w)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,function(w){var _=p.createElement("script");_.onreadystatechange=function(){g(w),_.onreadystatechange=null,o.removeChild(_),_=null},o.appendChild(_)}):function(w){setTimeout(g,0,w)},b.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var _=new Array(arguments.length-1),D=0;D<_.length;D++)_[D]=arguments[D+1];var R={callback:w,args:_};return m[x]=R,c(x),x++},b.clearImmediate=f}function f(w){delete m[w]}function g(w){if(A)setTimeout(g,0,w);else{var _=m[w];if(_){A=!0;try{(function(D){var R=D.callback,S=D.args;switch(S.length){case 0:R();break;case 1:R(S[0]);break;case 2:R(S[0],S[1]);break;case 3:R(S[0],S[1],S[2]);break;default:R.apply(d,S)}})(_)}finally{f(w),A=!1}}}}function v(w){w.source===l&&typeof w.data=="string"&&w.data.indexOf(h)===0&&g(+w.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(up);var nb=up.exports;const hp=Cp(nb);function Dt(e,t,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function d(u){try{o(r.next(u))}catch(h){l(h)}}function c(u){try{o(r.throw(u))}catch(h){l(h)}}function o(u){u.done?i(u.value):n(u.value).then(d,c)}o((r=r.apply(e,[])).next())})}const fe=914400,Tn=12700,rt=`\r
`,ib=2147483649,io=/^[0-9a-fA-F]{6}$/,lb=1.67,ob=27,Ta={type:"solid",color:"666666",pt:1},mp=[.05,.1,.05,.1],Fa={color:"363636",pt:1},ha={color:"888888",style:"solid",size:1,cap:"flat"},_t="000000",Ut=12,cb=18,Ea="LAYOUT_16x9",gc="DEFAULT",fp="333333",aa={type:"outer",blur:3,offset:23e3/12700,angle:90,color:"000000",opacity:.35,rotateWithShape:!0},_n=[.5,.5,.5,.5],ph={color:"000000"},db={size:8,color:"FFFFFF",opacity:.75},xs="2094734552",gi="2094734553",Or="2094734554",vc="2094734555",pp="2094734556",Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),zr=["C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360","C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360"],ub=["5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7","5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7"];var Xa;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(Xa||(Xa={}));var Ka;(function(e){e.b="b",e.ctr="ctr",e.t="t"})(Ka||(Ka={}));const xp="{F7021451-1387-4CA6-816F-3879F97B5CBC}";var bc;(function(e){e.arraybuffer="arraybuffer",e.base64="base64",e.binarystring="binarystring",e.blob="blob",e.nodebuffer="nodebuffer",e.uint8array="uint8array"})(bc||(bc={}));var yc;(function(e){e.area="area",e.bar="bar",e.bar3d="bar3D",e.bubble="bubble",e.bubble3d="bubble3D",e.doughnut="doughnut",e.line="line",e.pie="pie",e.radar="radar",e.scatter="scatter"})(yc||(yc={}));var wc;(function(e){e.accentBorderCallout1="accentBorderCallout1",e.accentBorderCallout2="accentBorderCallout2",e.accentBorderCallout3="accentBorderCallout3",e.accentCallout1="accentCallout1",e.accentCallout2="accentCallout2",e.accentCallout3="accentCallout3",e.actionButtonBackPrevious="actionButtonBackPrevious",e.actionButtonBeginning="actionButtonBeginning",e.actionButtonBlank="actionButtonBlank",e.actionButtonDocument="actionButtonDocument",e.actionButtonEnd="actionButtonEnd",e.actionButtonForwardNext="actionButtonForwardNext",e.actionButtonHelp="actionButtonHelp",e.actionButtonHome="actionButtonHome",e.actionButtonInformation="actionButtonInformation",e.actionButtonMovie="actionButtonMovie",e.actionButtonReturn="actionButtonReturn",e.actionButtonSound="actionButtonSound",e.arc="arc",e.bentArrow="bentArrow",e.bentUpArrow="bentUpArrow",e.bevel="bevel",e.blockArc="blockArc",e.borderCallout1="borderCallout1",e.borderCallout2="borderCallout2",e.borderCallout3="borderCallout3",e.bracePair="bracePair",e.bracketPair="bracketPair",e.callout1="callout1",e.callout2="callout2",e.callout3="callout3",e.can="can",e.chartPlus="chartPlus",e.chartStar="chartStar",e.chartX="chartX",e.chevron="chevron",e.chord="chord",e.circularArrow="circularArrow",e.cloud="cloud",e.cloudCallout="cloudCallout",e.corner="corner",e.cornerTabs="cornerTabs",e.cube="cube",e.curvedDownArrow="curvedDownArrow",e.curvedLeftArrow="curvedLeftArrow",e.curvedRightArrow="curvedRightArrow",e.curvedUpArrow="curvedUpArrow",e.custGeom="custGeom",e.decagon="decagon",e.diagStripe="diagStripe",e.diamond="diamond",e.dodecagon="dodecagon",e.donut="donut",e.doubleWave="doubleWave",e.downArrow="downArrow",e.downArrowCallout="downArrowCallout",e.ellipse="ellipse",e.ellipseRibbon="ellipseRibbon",e.ellipseRibbon2="ellipseRibbon2",e.flowChartAlternateProcess="flowChartAlternateProcess",e.flowChartCollate="flowChartCollate",e.flowChartConnector="flowChartConnector",e.flowChartDecision="flowChartDecision",e.flowChartDelay="flowChartDelay",e.flowChartDisplay="flowChartDisplay",e.flowChartDocument="flowChartDocument",e.flowChartExtract="flowChartExtract",e.flowChartInputOutput="flowChartInputOutput",e.flowChartInternalStorage="flowChartInternalStorage",e.flowChartMagneticDisk="flowChartMagneticDisk",e.flowChartMagneticDrum="flowChartMagneticDrum",e.flowChartMagneticTape="flowChartMagneticTape",e.flowChartManualInput="flowChartManualInput",e.flowChartManualOperation="flowChartManualOperation",e.flowChartMerge="flowChartMerge",e.flowChartMultidocument="flowChartMultidocument",e.flowChartOfflineStorage="flowChartOfflineStorage",e.flowChartOffpageConnector="flowChartOffpageConnector",e.flowChartOnlineStorage="flowChartOnlineStorage",e.flowChartOr="flowChartOr",e.flowChartPredefinedProcess="flowChartPredefinedProcess",e.flowChartPreparation="flowChartPreparation",e.flowChartProcess="flowChartProcess",e.flowChartPunchedCard="flowChartPunchedCard",e.flowChartPunchedTape="flowChartPunchedTape",e.flowChartSort="flowChartSort",e.flowChartSummingJunction="flowChartSummingJunction",e.flowChartTerminator="flowChartTerminator",e.folderCorner="folderCorner",e.frame="frame",e.funnel="funnel",e.gear6="gear6",e.gear9="gear9",e.halfFrame="halfFrame",e.heart="heart",e.heptagon="heptagon",e.hexagon="hexagon",e.homePlate="homePlate",e.horizontalScroll="horizontalScroll",e.irregularSeal1="irregularSeal1",e.irregularSeal2="irregularSeal2",e.leftArrow="leftArrow",e.leftArrowCallout="leftArrowCallout",e.leftBrace="leftBrace",e.leftBracket="leftBracket",e.leftCircularArrow="leftCircularArrow",e.leftRightArrow="leftRightArrow",e.leftRightArrowCallout="leftRightArrowCallout",e.leftRightCircularArrow="leftRightCircularArrow",e.leftRightRibbon="leftRightRibbon",e.leftRightUpArrow="leftRightUpArrow",e.leftUpArrow="leftUpArrow",e.lightningBolt="lightningBolt",e.line="line",e.lineInv="lineInv",e.mathDivide="mathDivide",e.mathEqual="mathEqual",e.mathMinus="mathMinus",e.mathMultiply="mathMultiply",e.mathNotEqual="mathNotEqual",e.mathPlus="mathPlus",e.moon="moon",e.noSmoking="noSmoking",e.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",e.notchedRightArrow="notchedRightArrow",e.octagon="octagon",e.parallelogram="parallelogram",e.pentagon="pentagon",e.pie="pie",e.pieWedge="pieWedge",e.plaque="plaque",e.plaqueTabs="plaqueTabs",e.plus="plus",e.quadArrow="quadArrow",e.quadArrowCallout="quadArrowCallout",e.rect="rect",e.ribbon="ribbon",e.ribbon2="ribbon2",e.rightArrow="rightArrow",e.rightArrowCallout="rightArrowCallout",e.rightBrace="rightBrace",e.rightBracket="rightBracket",e.round1Rect="round1Rect",e.round2DiagRect="round2DiagRect",e.round2SameRect="round2SameRect",e.roundRect="roundRect",e.rtTriangle="rtTriangle",e.smileyFace="smileyFace",e.snip1Rect="snip1Rect",e.snip2DiagRect="snip2DiagRect",e.snip2SameRect="snip2SameRect",e.snipRoundRect="snipRoundRect",e.squareTabs="squareTabs",e.star10="star10",e.star12="star12",e.star16="star16",e.star24="star24",e.star32="star32",e.star4="star4",e.star5="star5",e.star6="star6",e.star7="star7",e.star8="star8",e.stripedRightArrow="stripedRightArrow",e.sun="sun",e.swooshArrow="swooshArrow",e.teardrop="teardrop",e.trapezoid="trapezoid",e.triangle="triangle",e.upArrow="upArrow",e.upArrowCallout="upArrowCallout",e.upDownArrow="upDownArrow",e.upDownArrowCallout="upDownArrowCallout",e.uturnArrow="uturnArrow",e.verticalScroll="verticalScroll",e.wave="wave",e.wedgeEllipseCallout="wedgeEllipseCallout",e.wedgeRectCallout="wedgeRectCallout",e.wedgeRoundRectCallout="wedgeRoundRectCallout"})(wc||(wc={}));var Rt;(function(e){e.text1="tx1",e.text2="tx2",e.background1="bg1",e.background2="bg2",e.accent1="accent1",e.accent2="accent2",e.accent3="accent3",e.accent4="accent4",e.accent5="accent5",e.accent6="accent6"})(Rt||(Rt={}));var _c;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(_c||(_c={}));var Nc;(function(e){e.top="top",e.middle="middle",e.bottom="bottom"})(Nc||(Nc={}));var Ks;(function(e){e.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",e.ACTION_BUTTON_BEGINNING="actionButtonBeginning",e.ACTION_BUTTON_CUSTOM="actionButtonBlank",e.ACTION_BUTTON_DOCUMENT="actionButtonDocument",e.ACTION_BUTTON_END="actionButtonEnd",e.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",e.ACTION_BUTTON_HELP="actionButtonHelp",e.ACTION_BUTTON_HOME="actionButtonHome",e.ACTION_BUTTON_INFORMATION="actionButtonInformation",e.ACTION_BUTTON_MOVIE="actionButtonMovie",e.ACTION_BUTTON_RETURN="actionButtonReturn",e.ACTION_BUTTON_SOUND="actionButtonSound",e.ARC="arc",e.BALLOON="wedgeRoundRectCallout",e.BENT_ARROW="bentArrow",e.BENT_UP_ARROW="bentUpArrow",e.BEVEL="bevel",e.BLOCK_ARC="blockArc",e.CAN="can",e.CHART_PLUS="chartPlus",e.CHART_STAR="chartStar",e.CHART_X="chartX",e.CHEVRON="chevron",e.CHORD="chord",e.CIRCULAR_ARROW="circularArrow",e.CLOUD="cloud",e.CLOUD_CALLOUT="cloudCallout",e.CORNER="corner",e.CORNER_TABS="cornerTabs",e.CROSS="plus",e.CUBE="cube",e.CURVED_DOWN_ARROW="curvedDownArrow",e.CURVED_DOWN_RIBBON="ellipseRibbon",e.CURVED_LEFT_ARROW="curvedLeftArrow",e.CURVED_RIGHT_ARROW="curvedRightArrow",e.CURVED_UP_ARROW="curvedUpArrow",e.CURVED_UP_RIBBON="ellipseRibbon2",e.CUSTOM_GEOMETRY="custGeom",e.DECAGON="decagon",e.DIAGONAL_STRIPE="diagStripe",e.DIAMOND="diamond",e.DODECAGON="dodecagon",e.DONUT="donut",e.DOUBLE_BRACE="bracePair",e.DOUBLE_BRACKET="bracketPair",e.DOUBLE_WAVE="doubleWave",e.DOWN_ARROW="downArrow",e.DOWN_ARROW_CALLOUT="downArrowCallout",e.DOWN_RIBBON="ribbon",e.EXPLOSION1="irregularSeal1",e.EXPLOSION2="irregularSeal2",e.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",e.FLOWCHART_CARD="flowChartPunchedCard",e.FLOWCHART_COLLATE="flowChartCollate",e.FLOWCHART_CONNECTOR="flowChartConnector",e.FLOWCHART_DATA="flowChartInputOutput",e.FLOWCHART_DECISION="flowChartDecision",e.FLOWCHART_DELAY="flowChartDelay",e.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",e.FLOWCHART_DISPLAY="flowChartDisplay",e.FLOWCHART_DOCUMENT="flowChartDocument",e.FLOWCHART_EXTRACT="flowChartExtract",e.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",e.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",e.FLOWCHART_MANUAL_INPUT="flowChartManualInput",e.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",e.FLOWCHART_MERGE="flowChartMerge",e.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",e.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",e.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",e.FLOWCHART_OR="flowChartOr",e.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",e.FLOWCHART_PREPARATION="flowChartPreparation",e.FLOWCHART_PROCESS="flowChartProcess",e.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",e.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",e.FLOWCHART_SORT="flowChartSort",e.FLOWCHART_STORED_DATA="flowChartOnlineStorage",e.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",e.FLOWCHART_TERMINATOR="flowChartTerminator",e.FOLDED_CORNER="folderCorner",e.FRAME="frame",e.FUNNEL="funnel",e.GEAR_6="gear6",e.GEAR_9="gear9",e.HALF_FRAME="halfFrame",e.HEART="heart",e.HEPTAGON="heptagon",e.HEXAGON="hexagon",e.HORIZONTAL_SCROLL="horizontalScroll",e.ISOSCELES_TRIANGLE="triangle",e.LEFT_ARROW="leftArrow",e.LEFT_ARROW_CALLOUT="leftArrowCallout",e.LEFT_BRACE="leftBrace",e.LEFT_BRACKET="leftBracket",e.LEFT_CIRCULAR_ARROW="leftCircularArrow",e.LEFT_RIGHT_ARROW="leftRightArrow",e.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",e.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",e.LEFT_RIGHT_RIBBON="leftRightRibbon",e.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",e.LEFT_UP_ARROW="leftUpArrow",e.LIGHTNING_BOLT="lightningBolt",e.LINE_CALLOUT_1="borderCallout1",e.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",e.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",e.LINE_CALLOUT_1_NO_BORDER="callout1",e.LINE_CALLOUT_2="borderCallout2",e.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",e.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",e.LINE_CALLOUT_2_NO_BORDER="callout2",e.LINE_CALLOUT_3="borderCallout3",e.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",e.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",e.LINE_CALLOUT_3_NO_BORDER="callout3",e.LINE_CALLOUT_4="borderCallout4",e.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",e.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",e.LINE_CALLOUT_4_NO_BORDER="callout4",e.LINE="line",e.LINE_INVERSE="lineInv",e.MATH_DIVIDE="mathDivide",e.MATH_EQUAL="mathEqual",e.MATH_MINUS="mathMinus",e.MATH_MULTIPLY="mathMultiply",e.MATH_NOT_EQUAL="mathNotEqual",e.MATH_PLUS="mathPlus",e.MOON="moon",e.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",e.NOTCHED_RIGHT_ARROW="notchedRightArrow",e.NO_SYMBOL="noSmoking",e.OCTAGON="octagon",e.OVAL="ellipse",e.OVAL_CALLOUT="wedgeEllipseCallout",e.PARALLELOGRAM="parallelogram",e.PENTAGON="homePlate",e.PIE="pie",e.PIE_WEDGE="pieWedge",e.PLAQUE="plaque",e.PLAQUE_TABS="plaqueTabs",e.QUAD_ARROW="quadArrow",e.QUAD_ARROW_CALLOUT="quadArrowCallout",e.RECTANGLE="rect",e.RECTANGULAR_CALLOUT="wedgeRectCallout",e.REGULAR_PENTAGON="pentagon",e.RIGHT_ARROW="rightArrow",e.RIGHT_ARROW_CALLOUT="rightArrowCallout",e.RIGHT_BRACE="rightBrace",e.RIGHT_BRACKET="rightBracket",e.RIGHT_TRIANGLE="rtTriangle",e.ROUNDED_RECTANGLE="roundRect",e.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",e.ROUND_1_RECTANGLE="round1Rect",e.ROUND_2_DIAG_RECTANGLE="round2DiagRect",e.ROUND_2_SAME_RECTANGLE="round2SameRect",e.SMILEY_FACE="smileyFace",e.SNIP_1_RECTANGLE="snip1Rect",e.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",e.SNIP_2_SAME_RECTANGLE="snip2SameRect",e.SNIP_ROUND_RECTANGLE="snipRoundRect",e.SQUARE_TABS="squareTabs",e.STAR_10_POINT="star10",e.STAR_12_POINT="star12",e.STAR_16_POINT="star16",e.STAR_24_POINT="star24",e.STAR_32_POINT="star32",e.STAR_4_POINT="star4",e.STAR_5_POINT="star5",e.STAR_6_POINT="star6",e.STAR_7_POINT="star7",e.STAR_8_POINT="star8",e.STRIPED_RIGHT_ARROW="stripedRightArrow",e.SUN="sun",e.SWOOSH_ARROW="swooshArrow",e.TEAR="teardrop",e.TRAPEZOID="trapezoid",e.UP_ARROW="upArrow",e.UP_ARROW_CALLOUT="upArrowCallout",e.UP_DOWN_ARROW="upDownArrow",e.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",e.UP_RIBBON="ribbon2",e.U_TURN_ARROW="uturnArrow",e.VERTICAL_SCROLL="verticalScroll",e.WAVE="wave"})(Ks||(Ks={}));var Y;(function(e){e.AREA="area",e.BAR="bar",e.BAR3D="bar3D",e.BUBBLE="bubble",e.BUBBLE3D="bubble3D",e.DOUGHNUT="doughnut",e.LINE="line",e.PIE="pie",e.RADAR="radar",e.SCATTER="scatter"})(Y||(Y={}));var Ji;(function(e){e.TEXT1="tx1",e.TEXT2="tx2",e.BACKGROUND1="bg1",e.BACKGROUND2="bg2",e.ACCENT1="accent1",e.ACCENT2="accent2",e.ACCENT3="accent3",e.ACCENT4="accent4",e.ACCENT5="accent5",e.ACCENT6="accent6"})(Ji||(Ji={}));var Es;(function(e){e.chart="chart",e.image="image",e.line="line",e.rect="rect",e.text="text",e.placeholder="placeholder"})(Es||(Es={}));var me;(function(e){e.chart="chart",e.hyperlink="hyperlink",e.image="image",e.media="media",e.online="online",e.placeholder="placeholder",e.table="table",e.tablecell="tablecell",e.text="text",e.notes="notes"})(me||(me={}));var en;(function(e){e.title="title",e.body="body",e.image="pic",e.chart="chart",e.table="tbl",e.media="media"})(en||(en={}));var Ja;(function(e){e.DEFAULT="&#x2022;",e.CHECK="&#x2713;",e.STAR="&#x2605;",e.TRIANGLE="&#x25B6;"})(Ja||(Ja={}));const Ya="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB3CAYAAAD1oOVhAAAGAUlEQVR4Xu2dT0xcRRzHf7tAYSsc0EBSIq2xEg8mtTGebVzEqOVIolz0siRE4gGTStqKwdpWsXoyGhMuyAVJOHBgqyvLNgonDkabeCBYW/8kTUr0wsJC+Wfm0bfuvn37Znbem9mR9303mJnf/Pb7ed95M7PDI5JIJPYJV5EC7e3t1N/fT62trdqViQCIu+bVgpIHEo/Hqbe3V/sdYVKHyWSSZmZm8ilVA0oeyNjYmEnaVC2Xvr6+qg5fAOJAz4DU1dURGzFSqZRVqtMpAFIGyMjICC0vL9PExIRWKADiAYTNshYWFrRCARAOEFZcCKWtrY0GBgaUTYkBRACIE4rKZwqACALR5RQAqQCIDqcASIVAVDsFQCSAqHQKgEgCUeUUAPEBRIVTAMQnEBvK5OQkbW9vk991CoAEAMQJxc86BUACAhKUUwAkQCBBOAVAAgbi1ykAogCIH6cAiCIgsk4BEIVAZJwCIIqBVLqiBxANQFgXS0tLND4+zl08AogmIG5OSSQS1gGKwgtANAIRcQqAaAbCe6YASBWA2E6xDyeyDUl7+AKQMkDYYevm5mZHabA/Li4uUiaTsYLau8QA4gLE/hU7wajyYtv1hReDAiAOxQcHBymbzark4BkbQKom/X8dp9Npmpqasn4BIAYAYSnYp+4BBEAMUcCwNOCQsAKZnp62NtQOw8WmwT09PUo+ijaHsOMx7GppaaH6+nolH0Z10K2tLVpdXbW6UfV3mNqBdHd3U1NTk2rtlMRfW1uj2dlZAFGirkRQAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAGHqrm8caPzQ0WC1logbeiC7X3xJm0PvUmRzh45cuki1588FAmVn9BO6P3yF9utrqGH0MtW82S8UN9RA9v/4k7InjhcJFTs/TLVXLwmJV67S7vD7tHF5pKi46fYdosdOcOOGG8j1OcqefbFEJD9Q3GCwDhqT31HklS4A8VRgfYM2Op6k3bt/BQJl58J7lPvwg5JYNccepaMry0LPqFA7hCm39+NNyp2J0172b19QysGINj5CsRtpij57musOViH0QPJQXn6J9u7dlYJSFkbrMYolrwvDAJAC+WWdEpQz7FTgECeUCpzi6YxvvqXoM6eEhqnCSgDikEzUKUE7Aw7xuHctKB5OYU3dZlNR9syQdAaAcAYTC0pXF+39c09o2Ik+3EqxVKqiB7hbYAxZkk4pbBaEM+AQofv+wTrFwylBOQNABIGwavdfe4O2pg5elO+86l99nY58/VUF0byrYsjiSFluNlXYrOHcBar7+EogUADEQ0YRGHbzoKAASBkg2+9cpM1rV0tK2QOcXW7bLEFAARAXIF4w2DrDWoeUWaf4hQIgDiA8GPZ2iNfi0Q8UACkAIgrDbrJ385eDxaPLLrEsFAB5oG6lMPJQPLZZZKAACBGVhcG2Q+bmuLu2nk55e4jqPv1IeEoceiBeX7s2zCa5MAqdstl91vfXwaEGsv/rb5TtOFk6tWXOuJGh6KmnhO9sayrMninPx103JBtXblHkice58cINZP4Hyr5wpkgkdiChEmc4FWazLzenNKa/p0jncwDiqcD6BuWePk07t1asatZGoYQzSqA4nFJ7soNiP/+EUyfc25GI2GG53dHPrKo1g/1Cw4pIXLrzO+1c+/wg7tBbFDle/EbQcjFCPWQJCau5EoBoFpzXHYDwFNJcDiCaBed1ByA8hTSXA4hmwXndAQhPIc3lAKJZcF53AMJTSHM5gGgWnNcdgPAU0lwOIJoF53UHIDyFNJcfSiCdnZ0Ui8U0SxlMd7lcjubn561gh+Y1scFIU/0o/3sgeLO12E2k7UXKYumgFoAYdg8ACIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6ZQ4JB6PKzviYthnNy4d9h+1M5mMlVckkUjsG5dhiBMCEMPg/wuOfrZZ/RSywQAAAABJRU5ErkJggg==",hb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAVnCAYAAACzfHDVAAAAYHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVcjJDYAwDEXBu6ughBfH+YnLQSwSHVA+Yrkwx7HtPHabHuEWrQ+lBBAZ6TMweBWoCwUH8quZH6VWFXVT696zxp12ARkVFEqn8wB8AAAACXBIWXMAAC4jAAAuIwF4pT92AADZLklEQVR42uzdd5hV9Z0/8M+dmcsUZmDovYOhKCiKYhR7JJuoSTCWGFI0WUxijBoTTXazVlyza4maYm9rTRSJigVsqCDNQhHBAogKCEgRMjMMU+7vj93sL8kqClLmnPt6PY+PeXZM9vP9vO8jZ+Y955xMfJLjorBrRMuSgmiViyjN1Ee2oSCyucbIBAAAAAAAAADbXaYgcoWNUZcrirpMbdRsysa69wbF+rggGrf439vSF7seF12aFUTnxvoosGIAAAAAAACAXacgoqEgF++/VRgr4r5o+Kh/pvD//F8uiII+LaPrum/EXzqui2b1ddHGKgEAAAAAAAB2rVxEQWMmWrQtjHZlA6N2w2tR84//zP8pgHu3ib6NBdG+zdqorK6KVUXZaB85j3sGAAAAAAAAaAoaG6OwIBdtyneP2PBabPzbr/1dAdx3VHRtyESHiIhcYzQrLo7WmVzkcjmPgAYAAAAAAABoSgpy0eIfS+D/LYD7fy3abC6Inn/7X2hsjELlLwAAAAAAAEDT9D8lcM1fHwddFBFxyAVR9M686PVp/gfqayKiJiLqLBMAAAAAAABgh8hGRGlEUekn/6PFEb3ikNgQk6O+KCJi6dzoksv83/cB/1X9xoiaJdmoWxlRV1dk2QAAAAAAAAA7QTZbH9muERX96v7n9t7/q6Exinq3i86LI94pjOOisHUu+uYykfmof7h+Y8Sa6aVRt74gGhs9DRoAAAAAAABgZ2lsLIi69QWxeUUmSjs0/vedwR8hk4uydSfE+wVd6qOyMfMx7/mtj9jwUtbjngEAAAAAAAB2obrqolg7IxtR/9Ffb4wo7P5GtCwobRaVH/c/UvNmNuqqPfIZAAAAAAAAYFerqy6KmjezH/v1ktpoVZBr/PgCeMN7yl8AAAAAAACApmJLHW5jUVQWNDSP+Q3ZeLco4i9/+8X6teHRzwAAAAAAAABNSd3/dLn/oLAoqqIuVhXFxhhSGB/xqGjlLwAAAAAAAECTU1eTjaK/KXSLIv7SWB+bc5ko9YxnAAAAAAAAgATJFv393bz1EeV//c8F1gMAAAAAAACQDgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3+NLkFRQURK9evWLQoEExePDg6Natm6U0EdXV1UvuvvvuX//kJz+ZYxsAAMCnpQAGAIAEOuqoo1r99re//VmHDh0Ot41da9OmTTF79uyYO3duLFy4MKqqqiyFRGvevHn0798/Bg8eHHvuuWeUlJRYyi62cuXKp04//fTLJ0yYsM42AACAT6IABgCAhBk3btwRRxxxxFnZbLaNbewaVVVVMXfu3Jg7d27Mnz8/amtrLYVUKi4ujoEDB8bgwYNj8ODBUV5ebim7SF1d3ZqnnnrqqlGjRj1hGwAAwJYogAEAICFOOeWUjhdddNEvW7duvZ9t7HwrV66MWbNmxdy5c+Odd96JXC5nKeSdzp07x9577x3Dhg2LDh06WMgusHbt2hnnnXfepbfccsv7tgEAAHwUBTAAADRxpaWlBU899dQ3Bw8e/L2CggLPYt2JVqxYES+99FK89NJLsXz5cguBv/HXMnjvvfeOTp06WchO1NjYuGnu3Lk3H3744XfV1NR40TgAAPB3FMAAANCEjR49usOll176yzZt2gy3jZ1j/fr18eKLL8bMmTNj6dKlFgKfQs+ePWPfffeNYcOGRYsWLSxkJ1mzZs0L55577q/vvvvuVbYBAAD8lQIYAACaoIqKioKJEyd+c/Dgwd8vKCgotpEda8OGDfHiiy/G9OnTlb7wGfXo0SOGDx8ew4YNi4qKCgvZwdwNDAAA/CMFMAAANDGnnHJKx7Fjx/5rZWXlMNvYcerr6+PVV1+NGTNmxLx586Kurs5SYDvKZrMxZMiQ2HfffWP33XePwsJCS9mB1q5dO+MXv/jFv995550rbQMAAPKbAhgAAJqIbDabeeKJJ47fZ599fuSu3x0jl8vFwoULY/r06TF79uzYtGmTpcBOUFpaGkOGDInhw4fHgAEDLGQHaWhoqJ42bdo1Rx555J9tAwAA8pcCGAAAmoDjjz++7ZVXXvmr1q1be9fvDrBmzZqYNm1azJw5M1audHMc7EodO3aMz3/+87H//vt7X/CO+3fetDPPPPOScePGfWAbAACQfxTAAACwi9100037HXvssf9WXFzc1ja2n1wuF6+99lo8//zzMW/evKivr7cUaEKKiopizz33jBEjRsTnPve5yGQylrId1dbWrvrjH/948Q9+8INZtgEAAPlFAQwAALvIkCFDSu+///5zunTp8k+2sf2sXbs2Jk+eHNOnT48PP/zQQiABKisrY8SIEXHIIYdEeXm5hWxHy5Yte+zrX//6f86ZM6fGNgAAID9sqQAurBwYXT/qC41VETUrsrYHAADb6IILLtjt97///VVt2rQZZhvbx+LFi2P8+PFx9913xxtvvBG1tbWWAgmxadOmeOONN+LZZ5+NtWvXRps2bTweejtp0aJFv5NOOumg0tLSuc8+++xaGwEAgPQr61wfBR/zu7XuAAYAgO0sm81mJk2a9PVhw4b9pKCgwG9VfkZ1dXUxY8aMeOaZZ+K9996zEEiRfv36xSGHHBJDhw6NgoICC/mMGhsbN8+YMeOaL37xi+Pq6upyNgIAAOnlEdAAALCTHH/88W2vuuqqCyorK/exjc9mzZo18dRTT8XUqVNj06ZNFgIpVlFREZ///OfjsMMOi8rKSgv5jNavXz/r9NNPv3DcuHEf2AYAAKSTAhgAAHaC22677fNf+9rXzstms5W2se0WLVoUjz/+eMybNy9yOTewQT4pKiqKIUOGxBFHHBG9e/e2kM+grq5u3QMPPHDRySefPM02AAAgfRTAAACwA1VUVBQ8/fTTpwwcOPCUTCbjGabbIJfLxauvvhpPPvlkLFy40EIgz2UymRgwYEAcccQRMWjQIAvZ9n+3Ns6fP/+Www8//JaNGzc22ggAAKTHlgrgwsqB0fWjvtBYFVGzwuvKAABgS0488cR2EyZMuLx79+5fzmQyGRvZOo2NjTFr1qy49dZb48knn4wPPvC0UuC/rV69OmbMmBFz5syJ0tLS6NSpU/jX7NbJZDKZ9u3bD/3+978/dPny5TNfffXValsBAIB0KOtcHwXlH/O9gDuAAQBg29x66637H3vssRcWFRW1sI2tU1NTE0899VQ8++yzsWHDBgsBPlGLFi3i4IMPjsMPPzxKS/28YmvV19d/OG7cuPNPPvnk6bYBAADJ5xHQAACwHWWz2cyzzz77rSFDhvzAI5+3zqZNm2Ly5Mnx1FNPKX6BbdKiRYs47LDD4pBDDlEEb6VcLtfwyiuvXHfooYfeWVdX5yXrAACQYApgAADYTo455pjW11133cWVlZV728ant2HDhnj88cdjypQpUVtbayHAZ1ZcXBwHHnhgfPGLX4wWLTyIYWusWbNm2re//e3zn3nmGb+JAwAACeUdwAAAsB1cfvnlu1900UW/LS8v72cbn05VVVVMmDAhbrnllnjzzTejoaHBUoDtoqGhIZYsWRLPPfdc1NTURI8ePSKb9XOMT6OsrKzb17/+9SPbtm0774knnlhtIwAAkMDreu8ABgCAz+bhhx/+8qGHHnpOQUFBsW18sk2bNsUzzzwTTzzxRFRVVVkIsMOVl5fHkUceGYccckgUF/tX9afR2Ni46emnn/71Mccc87htAABAsngENAAAbKN27doVTZ48+YxevXodZxufrK6uLp5++umYOHGi4hfYJSoqKuKLX/xiHHzwwe4I/pQWLVr0x4MOOuiadevWeUwDAAAkhEdAAwDANjj22GPbPvzww7/p2LHjobaxZXV1dfHkk0/GddddF3Pnzo26ujpLAXaJzZs3x2uvvRbPPfdcRET06NEjCgsLLWYLWrduvfv3vve9fd9+++1pCxYsqLYRAABo+rb0CGgFMAAAfITLL7989wsuuOB3zZs372UbH6+xsTGmTJkS119/fbzyyiuKX6DJ2Lx5cyxYsCCmT58excXF0a1bt8hkMhbzMUpKSjp8+ctfPrJt27ZzvBcYAACaPu8ABgCArTB+/Pgjv/CFL/xLQUFBiW18vAULFsT48eNj6dKllgE0eT169IivfOUrMWjQIMvYgsbGxpqJEydecuyxxz5pGwAA0HR5BzAAAHwK7dq1K3ruued+1qNHj6/axsdbtGhR3H///bF48WLLABKnV69ecdxxx0WfPn0sYwuWLl3654MOOujy1atX19sGAAA0Pd4BDAAAn2DYsGHNn3766V936tTpC7bx0TZs2BD33Xdf/PGPf4y1a9daCJBI69evj2nTpsW6deuiZ8+eUVLiYQ8fpbKysv+3v/3t/lOmTJmyfPlyz/cHAIAmxjuAAQBgC372s5/1uP76669t0aKF54J+hJqamhg/fnzcfPPN8fbbb0cul7MUINFyuVy888478cwzz0RVVVX07t07slk/A/lHZWVl3U488cTD6+rqZkyfPv1DGwEAgCZ0va4ABgCAj3bFFVfscdZZZ11dXFzcwTb+Xi6XixkzZsR1110XCxYsiMbGRksBUqWxsTGWLFkSM2bMiPLy8ujSpUtkMhmL+RvZbLbFQQcddHibNm1mP/HEE6ttBAAAmoYtFcDeAQwAQN6aNGnSqAMOOODsTCZTaBt/b9GiRXHPPffEu+++axlA3ujWrVucdNJJ0bt3b8v4B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibjeqq+vj6lTpwoNdqK2bdvG6NGj47zzzovhw4crggGaoBdeeCHq6+sTMWsmkyk844wzDpUaAAB+wgAAsIP079//C0mZdc6cObFhwwahwS7QqVOnOPnkk+Pf/u3fYu+9945MJmMpAE3Ehg0bYvbs2YmZd8CAAR4DDQCAAhgAYEf43ve+16mysnKPpMybpMcbQlp17tw5xowZE7/61a8UwQBNyPPPP5+YWSsrKwd/73vf6yQ1AID8pgAGANgBTj755CMiIhHtzcqVK+P1118XGjQRXbt2jTFjxsQ555wTgwcPthCAXez111+PlStXJmXczMknn3y41AAA8psCGABgB+jXr19iHv88ZcqUyOVyQoMmpnfv3nHaaafFOeecE/3797cQgF0kl8vFlClTknQd6jHQAAB5TgEMALCdnX766d0qKip2S8Ks9fX1MW3aNKFBE9anT58466yz4pxzzonddtvNQgB2gWnTpkV9fX0iZq2oqNjt9NNP7yY1AID8pQAGANjORo8efURSZp03b15s3LhRaJAAffr0ibPPPjvOPPPM6Nmzp4UA7EQbN26MefPmuR4FACARFMAAANtZr169EvPetSQ9zhD4bwMGDIhf/vKXceaZZ0b37t0tBGAnmTp1apKuRw+TGABA/lIAAwBsR2eccUb38vLyvkmYdf369fHaa68JDRJqwIAB8S//8i9x2mmnRbdunvQJsKPNnz8/Pvzww0TMWl5e3u9HP/pRF6kBAOQnBTAAwHZ03HHHHZSUWWfMmBGNjY1CgwTLZDIxePDg+Nd//dcYM2ZMdOjQwVIAdpDGxsaYMWNGYub9xje+cYjUAADykwIYAGA76tOnz8FJmDOXyyXqMYbAlmUymdh7773jwgsvjDFjxkT79u0tBWAHeOGFF5J0XXqIxAAA8pMCGABgOznppJPat2zZcvckzLpkyZJYuXKl0CBl/loEX3DBBXHyySdH27ZtLQVgO1qxYkW8/fbbiZi1srJy0PHHH+8PAgCAPKQABgDYTr773e8eGBGZJMyapMcXAluvsLAwhg8fHhdeeGGMHj06KisrLQVgO5k+fXpSRi34/ve/f6DEAADyjwIYAGA72X333Q9Nwpz19fUxc+ZMgUEeKCoqihEjRsQll1wSo0ePjpYtW1oKwGc0c+bMqK+vT8SsAwcOPFRiAAD5RwEMALAdHHTQQRUtW7bcKwmzLly4MKqrq4UGeeSvRfDFF18cJ5xwQrRo0cJSALZRVVVVvP7664mYtVWrVkOHDx9eLjUAgPyiAAYA2A7OPvvsz2cymaIkzOrxz5C/iouL47DDDouxY8fGqFGjoqyszFIAtkFSnqaSyWSy55577uclBgCQXxTAAADbwe67735AEuasra2NOXPmCAzyXHFxcYwcOTIuvfRSRTDANpg9e3bU1dUlYtY99tjjAIkBAOQXBTAAwGfUqlWrwnbt2u2fhFnnzZsXtbW1QgMiIqKkpCRGjhwZY8eOjaOPPjpKSkosBeBT2LRpU8ybNy8Rs7Zv337/iooKPwMEAMgjLv4AAD6jCy+8cPeioqKKJMz64osvCgz4P5o3bx5HHXVUXHLJJTFy5MjIZrOWAvAJZs2alYg5i4qKWlx88cWDJAYAkD8UwAAAn9GBBx6YiMfqVVdXJ+ZOFWDXKC8vj1GjRsWll16qCAb4BPPmzYuamppEzHrQQQd5DDQAQB5RAAMAfEZdu3YdnoQ5582bF/X19QIDPlFFRUWMGjUqLr744jj88MOjqKjIUgD+QV1dXbz66quJmLVLly77SwwAIH8ogAEAPoNTTjmlY3l5+W5JmPXll18WGLBVWrVqFccff3xcdNFFMWLEiCgo8C0kwN966aWXEjFnRUXFbieddFJ7iQEA5AffvQMAfAYnnnji55MwZ21tbcyfP19gwDZp06ZNjB49OsaOHasIBvgb8+fPj9ra2iSMmvnud7/7eYkBAOQH37UDAHwGn/vc5/ZLwpwLFy6Muro6gQGfyV+L4PPOOy+GDx+uCAby3ubNm2PhwoWJmLVfv37DJQYAkB98tw4AsI1atWpV2Lp1672TMKvHPwPbU6dOneLkk0+Oc889NwYNGmQhQF6bPXt2IuZs06bN3hUVFX4WCACQB1z0AQBso/PPP39gYWFheVOfs76+PubMmSMwYLvr2bNn/OQnP4nzzjsv9t5778hkMpYC5J3Zs2dHfX19k5+zqKio4vzzzx8oMQCA9FMAAwBso/3333/fJMz5+uuvR01NjcCAHaZLly4xZsyYOOecc2Lw4MEWAuSV6urqeOONNxIx64EHHriPxAAA0k8BDACwjbp27ZqIxz/PnTtXWMBO0bt37zjttNPinHPOif79+1sIkDeScr3VvXv3vaUFAJB+CmAAgG0wZMiQ0srKyj2a+py5XM7jn4Gdrk+fPnHWWWfFOeecE7vttpuFAKk3e/bsyOVyTX7Oli1b7jlo0KBSiQEApJsCGABgG5x55pl7ZjKZbFOfc9myZbFu3TqBAbtEnz594uyzz44zzzwzevbsaSFAaq1bty6WL1/e5OfMZDLZs846a4jEAADSrcgKAAC23tChQ4clYc558+YJC9jlBgwYEAMGDIgFCxbE+PHjY+nSpZYCpM68efOiS5cuTX7OffbZZ5+ImC4xAID0cgcwAMA26Nix4z5JmHP+/PnCApqMAQMGxC9/+cs47bTTolu3bhYCpEpSrrs6deq0j7QAANJNAQwAsJWOOOKIlhUVFf2a+pxVVVWxaNEigQFNSiaTicGDB8e//uu/xpgxY6JDhw6WAqTCW2+9FVVVVU1+zoqKis8deuihLSQGAJBeCmAAgK108sknD46ITFOfc/78+dHY2CgwoEnKZDKx9957x4UXXhhjxoyJ9u3bWwqQaI2NjbFgwYJE/Cv4u9/97h4SAwBILwUwAMBW2n333fdMwpze/wskwV+L4AsuuCBOPvnkaNu2raUAiZWU66/BgwfvKS0AgPQqsgIAgK3Trl27wU19xlwul5Q7UAAiIqKwsDCGDx8e++yzT0ybNi0mTJgQ69evtxggURYsWBC5XC4ymab9sJgOHToMlhYAQHq5AxgAYCsMGjSotGXLlgOa+pzvvfdebNy4UWBA4hQVFcWIESPikksuidGjR0fLli0tBUiMDz/8MJYtW9bk52zZsuXA/v37l0gMACCdFMAAAFvhxz/+8aBMJtPkn6Li7l8g6f5aBI8dOzZOOOGEaNGihaUAibBw4cImP2Mmk8n+5Cc/GSAtAIB0UgADAGyFvffee88kzJmEHzwCfBrNmjWLww47LMaOHRujRo2KsrIySwGatKT8Il5SrmsBANh63gEMALAVunbtOqSpz1hfXx9vvvmmsIBUKS4ujpEjR8bBBx8czz77bDz++ONRXV1tMUCT8+abb0Z9fX0UFTXtH7t16dJlT2kBAKSTO4ABAD6lioqKgoqKikFNfc4lS5bE5s2bBQakUklJSYwcOTLGjh0bRx99dJSUeIUl0LTU1tbG0qVLm/ycLVu2HFRaWupngwAAKeQiDwDgUzr77LP7FhYWNvlnj7722mvCAlKvefPmcdRRR8Ull1wSI0eOjGbNmlkK4HpsKxQWFpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee2kNaAADp4A5gAIAt2Hvvvfs29RlXrlwZtbW1wgLYSf5aBO+5554xa9asmDBhQqxevdpigI9UW1sb77//fnTu3LlJzzls2LC+EbFIYgAAyecOYACALejRo0eTL4DfeecdQQHsAoWFhTF8+PC48MILY/To0VFZWWkpQGKv15Jw3QsAwKejAAYA2ILWrVs3+ff/vvvuu4IC2IUKCwtjxIgRcckll8To0aOjZcuWlgIk7notCde9AAB8Oh4BDQCwBc2bN+/Z1GdUAAM0kW+wi4pixIgRsd9++8WUKVPiscceiw0bNlgMEO+9914SrnsVwAAAKeEOYACAj9G/f/+SkpKSjk19TgUwQNPSrFmzOOyww2Ls2LExatSoKCsrsxTIc0m4XistLe3Ut2/fYmkBACSfAhgA4GOccMIJ3Zr69dK6deuiqqpKWABNUHFxcYwcOTJ+/etfK4Ihz1VVVcX69eub+pgF3/zmN7tLCwAg+RTAAAAfY8iQIT2b+oxJeJwgQL77axE8duzYOProo6OkpMRSIA8l4botCde/AAB8MgUwAMDH6N69e8+mPqPHPwMkR/PmzeOoo46KSy65JEaOHBnNmjWzFMgjSbhuS8L1LwAAn0wBDADwMVq1atWjqc+4bNkyQQEkTHl5eYwaNSr+/d//PUaOHBnZbNZSIA8k4botCde/AAB8MgUwAMDHqKio6NXUZ1y+fLmgAJL750yMGjUqLr744jj88MOjqKjIUiDFknDd1rJly16SAgBIPgUwAMBHyGazmbKysq5NecbGxsZYtWqVsAASrlWrVnH88cfHxRdfHCNGjIiCAt+qQxqtWrUqGhsbm/SMJSUlXbPZbEZaAADJ5rtKAICPcNxxx7UrKCgobsozrl69Ourr64UFkBKtW7eO0aNHx9ixYxXBkEJ1dXXxwQcfNOkZCwoKio877rh20gIASDbfTQIAfITPf/7zXZr6jO+//76gAFKoTZs2MXr06Dj//PNj+PDhimBIkRUrVrgOBgBgh/NdJP+PvTuPr7I888d/nSwEkhD2HUQEUVRAoIiouCtq64Jabd1arVorbqO2tlXbaavTOu38Rqffdmpbu9rWpYogsqgFRXCttAIKArJDgAAJBLKQ5JzfH8WO4+DOcp6T9/v18jWvTv657ut6hNvnk/t+AICd2G+//bL+xVcSXiAC8PF17do1Lr300rj99ttj2LBhkUq5lRWSLgn7tyTsgwEAeH8FWgAA8H917txZAAxAVujevXtceeWVsXr16njiiSdi9uzZkclkNAYSKAn7tyTsgwEAeH8CYACAnWjXrp0roAHIKj169Igrr7wyli5dGpMmTYo5c+ZoCiRMEvZvSdgHAwDw/gTAAAA7UVxc3D3baxQAAzRPffr0ibFjx8aSJUti/PjxsWDBAk2BhEjC/i0J+2AAAN6fbwADAOxESUlJz2yur7q6Ourq6gwKoBnbb7/94l/+5V/ia1/7WhxwwAEaAglQV1cX1dXV9sEAAOxWAmAAgHc5/PDDSwsKCtpmc40VFRUGBUBERPTt2zduvPHGuOGGG2LffffVEMhy2b6PKygoaDt8+PASkwIASC4BMADAu5x44oldsr3GDRs2GBQA/8uAAQPiG9/4Rtxwww3Ru3dvDQH7uE+yH+5qUgAAyeUbwAAA79KvX7+sD4DXr19vUADs1IABA+LAAw+MuXPnxoQJE2LlypWaAlkkCTe5HHDAAV0i4i3TAgBIJgEwAMC7dO/evXO21+gEMADvJ5VKxaBBg2LgwIExe/bsGD9+fKxbt05jwD4uZ/bDAAC8NwEwAMC7tG/fvlO21ygABuDDSKVSMWzYsBg6dGjMnj07HnvsMbdIwF6WhBPASdgPAwDw3gTAAADv0rp166w/8ZCEF4cAZI+3g+BDDz00XnnllZg4caK/S8A+LtH7YQAA3psAGADgXUpKSrL6xENjY2Ns3rzZoAD4yPLz8+Pwww+P4cOHx/PPPx8TJ06MqqoqjYE9aPPmzdHY2BgFBdn7Wi7b98MAALw/ATAAwLu0bNmySzbXV1lZGZlMxqAA+Njy8/Nj1KhRMXLkyHjhhRcEwbAHZTKZqKqqio4dO9oPAwCwWwiAAQDepaioKKuvvKusrDQkAHaJgoKCGDVqVIwYMSJmzpwZkydPji1btmgM7IH9XDYHwNm+HwYA4P3laQEAwP8YPnx4SX5+fkk21ygABmBXa9GiRRx//PFxxx13xNlnnx0lJSWaAs14P5efn18yfPhwfxAAACSUABgA4B2OOOKIDtleo+//ArC7FBUVxejRo+P73/9+nH322VFcXKwpsBsk4cr1JOyLAQDYOQEwAMA79O3bt1221+gEMAC729tB8B133BGnn356tGrVSlOgme3n9ttvv7YmBQCQTAJgAIB36NSpkwAYAHYoKSmJz3zmM3HnnXfG6NGjo0WLFpoCzWQ/l4R9MQAAOycABgB4hw4dOrTN9hqTcGUgALmlpKQkzj777PjOd74To0aNivz8fE2BHN/PJWFfDADAzgmAAQDeoaysrG221ygABmBvad++fVx00UVx5513xgknnBCFhYWaAjm6nysrK3MCGAAgoQTAAADvUFJS0j6b68tkMlFdXW1QAOxV7dq1i/POOy+++93vxqhRoyIvz+sF+CiSsJ8rLS0VAAMAJJT/QgMAeIfi4uK22VxfXV1dNDY2GhQAWeHtE8F33HGHIBg+gsbGxqirq7MvBgBgt/BfZgAA79CqVausPung9C8A2ahDhw5x0UUXxbe//e04/PDDBcGQA/u6oqIiJ4ABABLKf5EBALxDQUGBABgAPqauXbvGpZdeGt/61rdi2LBhkUqlNAUSuq9r0aJFW1MCAEimAi0AAPgfhYWFZdlc39atWw0JgKzXrVu3uPLKK2P16tXxxBNPxOzZsyOTyWgMJGhfl+37YgAA3psAGADgnZujgoLW2VyfE8AAJEmPHj3iyiuvjKVLl8akSZNizpw5mgIJ2ddl+74YAID35gpoAIAdWrdunZefn98ym2sUAAOQRH369ImxY8fGLbfcEgMGDNAQSMC+Lj8/v1WrVq28OwQASCCbOACAHQYNGlQSEVn9scJt27YZFACJtd9++8UNN9wQX/va1+KAAw7QEJq1BOzr8gYPHlxsUgAAySMABgDY4YADDijJ9hpramoMCoDE69u3b9x4441xww03xL777qshNEu1tbVZX2P//v1LTQoAIHl8AxgAYIeePXtm/QuuJLwoBIAPa8CAATFgwICYP39+jBs3LpYvX64pNBtJ2Nf16NGjxKQAAJJHAAwAsEOnTp0EwACwFwwYMCAOPPDAmDt3bkyYMCFWrlypKeS8JOzrunbtKgAGAEggATAAwA5lZWVZ/4Krrq7OoADISalUKgYNGhQDBw6M2bNnx4QJE2Lt2rUaQ85KQgDcpk0bV0ADACSQABgAYIeysjIngAFgL0ulUjFs2LAYOnRozJ49O8aPHx/r1q3TGHKOABgAgN1FAAwAsENJSUlxttfoBDAAzcXbQfCQIUPi5ZdfjokTJ0ZFRYXGkDOSEAAnYX8MAMD/JQAGANihqKioKNtrrKmpMSgAmpW8vLw4/PDDY/jw4fH888/HE088EZWVlRpD4iUhAG7RokWRSQEAJI8AGABgh8LCwhbZXF86nY7t27cbFADNUn5+fowaNSpGjhwZL7zwQkycODGqqqo0hsTavn17ZDKZSKVSWVtjixYtWpgUAEDyCIABAHbI9gC4oaHBkABo9goKCmLUqFExYsSImDlzZkyePDm2bNmiMSROJpOJhoaGyOaMtbCw0AlgAIAk/neTFgAA7NgYFRRk9QuuxsZGQwKAHVq0aBHHH398HHnkkfHMM8/E1KlTY9u2bRpDomR7AJzt+2MAAN5jH6cFAAA7NkZZ/oLL9c8A8H8VFRXF6NGj49hjj41nnnkmpkyZEjU1NRpDImT7DS8FBQWugAYASCABMADA2xujLH/B5QpoAHhvbwfBRx11VEyfPj2efvrpqK2t1RiymgAYAIDdIU8LAAD+QQAMAMlXUlISn/nMZ+LOO++M0aNHZ/X1uiAABgBgdxAAAwDskO1XQAuAAeDDKykpibPPPjv+7d/+LUaPHh2FhYWagv3dR5Sfn9/SlAAAkkcADADw9sYoL88JYADIMa1bt46zzz47vve978UJJ5wgCMb+7iPIz8/3LwwAQAIJgAEAdkilUlm9N2psbDQkAPiY2rVrF+edd15897vfjRNOOCEKCgo0Bfu7D94f55sSAEDyCIABAHbI9gA4nU4bEgB8Qu3bt/9nEDxq1KjIy/NqBPu799kfp0wJACB5/FcOAMAOXnABQPPRoUOHuOiii+J73/ueIJi9JpPJZHuJ/sUAAEggmzgAgP+R1QFwAl4QAkDidOzYMS666KL41re+FYcffnj4fTDs796xOc7yG3IAANg5mzgAgITsjQTAALD7dOvWLS699NL41re+FcOGDRMEs0dk+xXQeXl5/kUAAEigAi0AAPiHbH/BJQAGgN2ve/fuceWVV8ayZcviiSeeiDlz5mgKzXl/5/AIAEACCYABAHbIZDJOAAMAERGx7777xtixY2PJkiUxYcKEmD9/vqZgfwwAQCIIgAEA/ocr7gCA/2W//faLG264Id56660YP358vPnmm5rCLpPtV0Cn3IUOAJBIAmAAgB2y/QVXtr8gBIBc1rdv37jxxhvjrbfeinHjxsWiRYs0hU/MFdAAANjEAQDsXln9Bs4BDADY+/r27Rs333xz3HDDDdG7d28NIdf3d75BAgCQQE4AAwDskO0nMATAAJA9BgwYEAMGDIj58+fHI488EitXrtQUcnF/5woaAIAEcgIYAGCHVCqVzvL6DAkAssyAAQPi1ltvjbFjx0bPnj01hJza32UScEc1AAD/lxPAAAD/QwAMAHysv6MHDRoUBx98cDz//PMxadKk2LRpk8aQ+P1dtv+CJAAAO+cEMADADul0dr/fEgADQHarr6+PioqK2LZtm2aQE/u7dDrtBDAAQAI5AQwA8D+cAAYAPrK6urp4+umnY9q0acJfcm1/5wQwAEACCYABAP6HEw4AwIfW0NAQ06ZNiyeffDK2bt2qIXxkCfgGsAAYACCBBMAAADtkMpmsDoDz8ny9AwCywdvB71NPPRXV1dUaQs7u7wTAAADJJAAGANgh219wCYABYO9qbGyMGTNmxJNPPhmVlZUawieWn5+f9VtkUwIASB4BMADADplMpiGb6yssLDQkANgL0ul0zJo1KyZPnhwbN27UEHaZgoLsfjXX1NTUaEoAAAncZ2oBAMA/NDY2bs/m+gTAALBnpdPpePnll2Py5Mmxdu1aDWGXa9GiRbb/O1BvSgAAySMABgDYoampSQAMAEQmk4nZs2fH448/HuXl5RpCs93fNTY2CoABABJIAAwAsENDQ0NWv+ASAAPA7vV28PvEE0/E6tWrNYTdLtuvgM72G3IAAHiPfaYWAAD8gyugAaD5mjNnTkyaNCmWLl2qGewx2X4FtAAYACCZBMAAADs0NTU5AQwAzcyCBQtiwoQJ8dZbb2kG9nfv0tDQIAAGAEggATAAwA7Z/oJLAAwAu87ChQtj/PjxsXjxYs1gr8n2K6Cz/RckAQB4j32mFgAA/EO2B8AFBQWRl5cX6XTasADgY1q+fHmMGzcu5s+frxnsVXl5eVkfAG/fvt0JYACABBIAAwDs0NDQkPUnHFq1ahXbtm0zLAD4iFauXBmPPPKI4Jes2tclYH8sAAYASCABMADADrW1tXXZXqMAGAA+mnXr1sX48eNj9uzZkclkNISs2tdlu7q6ulqTAgBIHgEwAMAOW7du3ZrtNSbhRSEAZIP169fHY489JvjFvu4TqK6u3mpSAADJIwAGANihqqpKAAwACbdhw4Z4/PHH45VXXommpiYNwb7uE6isrHT1DABAAgmAAQB22LRpU9a/4GrZsqVBAcBOVFVVxcSJE+OFF16IxsZGDSHrJSEA3rRpkxPAAAAJJAAGANhh3bp1WR8AOwEMAP/bli1bYsKECYJfEicJ+7ry8nIBMABAAgmAAQB2WLZsmSugASAhqqurY/LkyTFz5syor6/XEBInCfu6pUuXCoABABJIAAwAsMP8+fOz/gRwcXGxQQHQrNXU1MSUKVPimWeeEfySaEnY173++uu+AQwAkEACYACAHRYsWFCXyWQaUqlUYbbW2Lp1a4MCoFmqq6uLp59+OqZNmxbbtsmkSL5s39el0+mGpUuXbjcpAIDkEQADALxDU1PTtoKCgrbZWp8AGIDmZvv27TF9+vR48sknY+tWt9GSO7J9X9fU1ORfOACAhBIAAwC8Q0NDw9ZsDoBLS0sNCYDm8ndyTJs2LZ566qmorq7WEHJOtu/rGhsb/YsHAJBQAmAAgHeor6+vbNWqVc9src8JYAByXWNjY8yYMSOefPLJqKys1BByVrbv6+rr66tMCQAgmQTAAADv0NDQkNVvmgXAAOSqdDods2bNismTJ8fGjRs1hJyX7fu6bN8XAwDw3gTAAADvUFdXV5XN9ZWWlkYqlYpMJmNYAOSETCYTr732Wjz++OOxatUqDaFZSKVSUVJSktU11tbWVpkUAEAyCYABAN5h27Ztm7K5vvz8/GjVqlXU1NQYFgCJlslkYvbs2fH4449HeXm5htCstGrVKvLz87O6xq1btzoBDACQUAJgAIB3qK6u3pztNZaVlQmAAUist4PfiRMnxpo1azSEZqmsrCzra9y2bVuVSQEAJJMAGADgHaqqqjZle43t2rWLtWvXGhYAiTNnzpyYNGlSLF26VDNo1tq1a5f1NW7atMkJYACALNbQWBgFjQ0REZFKRSavMJre/pkAGADgHSoqKqqyvcYkvDAEgHdasGBBTJgwId566y3NgITs5zZs2CAABgDIYoUFDf9MejMRqab0/+S+AmAAgHdYtWpV1r/oatu2rUEBkAgLFy6M8ePHx+LFizUD3iEJAfDq1aurTAoAIJkEwAAA77BgwYKsD4CdAAYg2y1fvjzGjRsX8+fP1wzYiST8Ql8S9sUAAOycABgA4B2eeOKJjZlMpimVSuVna41OAAOQrVauXBmPPPKI4Bc+QLb/Ql8mk2l64oknNpoUAEAyCYABAN6huro6vX379g1FRUVdsrVGJ4AByDZr166NCRMmxOzZsyOTyWgIJHw/t3379g3V1dVpkwIASCYBMADAu9TV1a0XAAPAB1u/fn089thjgl/Isf1cXV3delMCAEguATAAwLvU1dVVtGnTJmvrKykpiRYtWsT27dsNC4C9oqKiIiZOnBivvPJKNDU1aQh8BEVFRVFcXJz1+2GTAgBILgEwAMC7bN26dV2XLll7ADhSqVR07Ngx1qxZY1gA7FFVVVUxceLEeP755wW/8DF17NgxUqlU1u+HTQoAILkEwAAA71JVVZX1Jx46deokAAZgj9m8eXM8/vjj8cILL0RjY6OGwCfcx9kPAwCwOwmAAQDeZf369Vn/zbMkvDgEIPm2bNkSU6ZMiZkzZ0Z9fb2GwC7QsWNH+2EAAHYrATAAwLusXr066088JOHFIQDJVVNTE1OmTIlnnnlG8Au7WBJ+kW/VqlUCYACABBMAAwC8y9///ves/+aZABiA3aG2tjYmT54czz77bNTV1WkINNN93KuvvioABgBIMAEwAMC7PPzww+t//OMfN6RSqcJsrbFz584GBcAus3379pg+fXpMnTo1tm3bpiGwG2X7CeB0Ot3w8MMPC4ABABJMAAwA8C7V1dXpurq68latWu2TrTV26NAh8vLyIp1OGxgAH1tDQ0NMmzYtnnrqqaiurtYQ2M3y8vKiQ4cOWV1jfX39mtraWptMAIAEEwADAOxEbW3tmmwOgAsKCqJdu3axceNGwwLgI2tsbIwZM2bEk08+GZWVlRoCe0j79u2joCC7X8fV1NSUmxQAQLIJgAEAdmLz5s2r2rdvn9U1duvWTQAMwEeSTqdj1qxZMXnyZH+HwF7av2W7LVu2rDQpAIBkEwADAOzEpk2bVvfp0yera+zWrVvMmzfPsAD4QG8Hv1OmTIkNGzZoCOzF/Vu227BhwxqTAgBINgEwAMBOrFixYvWwYcOyusYkvEAEYO/KZDLx0ksvxZQpU6K83K2usLd17do162tctWrVKpMCAEg2ATAAwE7Mnz9/9ZgxY7K6xiS8QARg78hkMjF79uyYOHFirFnjMB9kiyT8At+8efP8oQEAkHACYACAnRg3btyab37zm5mISGVrjU4AA7Azc+bMiSeeeCKWLVumGZBlEvALfJlx48atNikAgGQTAAMA7MTrr79e29DQsKmwsLBDttZYXFwcZWVlsWXLFgMDIBYsWBDjx4+PJUuWaAZkobKysiguLs7qGhsaGjYuWLCgzrQAAJJNAAwA8B62bt26vF27dh2yucauXbsKgAGauYULF8b48eNj8eLFmgFZLAm3t2zbtm25SQEAJJ8AGADgPVRVVS1t167d0GyusWfPnrFw4ULDAmiGli1bFo899ljMnz9fMyABevbsmfU1VlZWLjUpAIDkEwADALyHdevWLevTp09W15iEF4kA7ForVqyIRx99VPALCZOEfdvatWuXmRQAQPIJgAEA3sPChQuXHX744VldY69evQwKoJlYtWpVjB8/PubOnRuZTEZDIGGSsG9buHDhMpMCAEg+ATAAwHuYNm3a0ksuuSSra+zevXvk5+dHU1OTgQHkqHXr1sX48eNj9uzZgl9IqIKCgkR8A/jpp59eZloAADmw/9QCAICde+ihhzbcd999W/Pz80uzdjNXUBBdunSJNWvWGBhAjqmoqIiJEyfGyy+/HOl0WkMgwbp27RoFBdn9Gq6xsbH6kUce2WBaAADJJwAGAHgf27ZtW15WVnZwNtfYq1cvATBADqmqqoqJEyfG888/74YHyBFJ+P7vtm3blpsUAEBuEAADALyPLVu2LMv2ALhnz57x0ksvGRZAwm3evDkef/zxeOGFF6KxsVFDIIck4fu/W7ZsWWpSAAC5QQAMAPA+1q9fvyzbT2z06NHDoAASbMuWLTFlypSYOXNm1NfXawjkoCTs19avX7/MpAAAcoMAGADgfSxYsGDh0KFDs7rGfffdN1KpVGQyGQMDSJCampqYMmVKPPPMM4JfyGGpVCr23XffrK9z/vz5C00LACA3CIABAN7Ho48++uYFF1yQ1TWWlJRE586dY926dQYGkAC1tbUxefLkePbZZ6Ourk5DIMd17do1WrVqlfV1/vnPf15kWgAAuUEADADwPiZNmlRVX1+/oaioqGM217nvvvsKgAGy3Pbt22P69OkxderU2LZtm4ZAM9GnT5+sr7G+vr7iySefrDItAIDcIAAGAPgAW7duXZTtAXCfPn3ipZdeMiyALNTQ0BDTpk2Lp556KqqrqzUEmpkkXP+8detWp38BAHKIABgA4ANUVFQs7NChw8hsrjEJLxYBmpvGxsaYMWNGPPnkk1FZWakh0EwlYZ9WUVHh+78AADlEAAwA8AGWLl266MADD8zqGnv16hUFBQXR2NhoYAB7WTqdjlmzZsWkSZNi06ZNGgLNWGFhYfTs2TMR+13TAgDIHQJgAIAPMHPmzEWnnnpqdm/qCgqiZ8+esWzZMgMD2EveDn4nT54cGzdu1BAg9tlnn8jPz0/CfnexaQEA5I48LQAAeH+//OUvV6bT6bpsr7NPnz6GBbAXZDKZePHFF+O73/1u3H///cJf4J+ScP1zOp2u++Uvf7nStAAAcocTwAAAH6C6ujpdXV29uE2bNodkc539+vWL6dOnGxjAHpLJZGL27NkxceLEWLNmjYYAO92fJWCvu7i6ujptWgAAuUMADADwIWzYsGFetgfA/fv3NyiAPeTVV1+NSZMmxapVqzQD2KlUKpWI/dmGDRvmmhYAQG4RAAMAfAiLFy9+o2/fvlldY1lZWXTu3DnWr19vYAC7yYIFC2L8+PGxZMkSzQDeV5cuXaK0tDQJ+9z5pgUAkFsEwAAAH8JTTz31+ujRo7O+zv33318ADLAbLFy4MMaPHx+LFy/WDOBD78uSYMqUKa+bFgBAbsnTAgCAD/aLX/xiTWNjY1W215mUF40ASbFs2bK4++674z/+4z+Ev8BHkoTv/zY0NFTee++9q00LACC3OAEMAPAhNDQ0ZDZv3jy/Q4cOI7O5TgEwwK6xYsWKePTRR2P+fDejArm7L9uyZYs/5AAAcpAAGADgQ1q3bl3WB8AdO3aMNm3axObNmw0M4GNYtWpVjB8/PubOnRuZTEZDgI+lbdu20aFDh0Tsb00LACD3CIABAD6kefPmzTvooIOyvs4DDzwwXnrpJQMD+AjWrVsX48ePj9mzZwt+gV2yH0uCuXPnzjMtAIDcIwAGAPiQ/vznP88/77zzsr7OAw44QAAM8CFVVFTEuHHjBL/ALt+PJcHDDz/sBDAAQA4SAAMAfEgTJ06srK2tXdGqVat9srnOgw8+2LAAPkBVVVVMnDgxnn/++WhqatIQYJdKwq0xNTU1yydNmlRlWgAAuUcADADwEWzYsOHvvXr1yuoAuG3bttG1a9dYu3atgQG8y+bNm+Pxxx+PF154IRobGzUE2OW6desWbdu2TcS+1rQAAHKTABgA4CNYuHDha7169Toj2+scMGCAABjgHbZs2RJTpkyJ5557LrZv364hwG6TlO//Lly48O+mBQCQmwTAAAAfwcSJE/9+wgknZH2dBx54YEyfPt3AgGavpqYmpkyZEs8880zU19drCLDbDRgwIBF1jh8//u+mBQCQmwTAAAAfwb333rv6Bz/4wfqioqLO2VznAQccEHl5eZFOpw0NaJZqa2tj8uTJ8eyzz0ZdXZ2GAHtEXl5e9O/fP+vrrK+vX3ffffeVmxgAQG4SAAMAfESVlZVzu3btmtXHgFu1ahX77LNPLFu2zMCAZqWuri6efvrpmDZtWmzbtk1DgD1qn332iVatWmV9nZs2bZpjWgAAuUsADADwES1dunR2tgfAERGDBg0SAAPNRkNDQ0ybNi2eeuqpqK6u1hBgr+2/kuCtt976m2kBAOQuATAAwEc0ffr0v48cOTLr6xw4cGBMmDDBwICc1tDQEM8991w8+eSTUVlZqSHAXt9/JcG0adP+bloAALlLAAwA8BH9x3/8x9JbbrmlOj8/v3U219mrV68oKyuLLVu2GBqQc9LpdMyaNSsmTZoUmzZt0hBgrysrK4tevXplfZ2NjY1b7rnnnmUmBgCQuwTAAAAfUW1tbXrDhg1/7dKly3HZXGcqlYqBAwfGrFmzDA3IGW8Hv5MnT46NGzdqCJA1Bg4cGKlUKuvr3Lhx4yu1tbVpEwMAyF0CYACAj+Gtt956JdsD4IgQAAM5I51Ox8svvxxTpkyJ8vJyDQGyct+VBIsWLXrFtAAAcpsAGADgYxg/fvwrRxxxRNbXedBBB0VBQUE0NjYaGpBImUwmZs+eHRMnTow1a9ZoCJCVCgoK4qCDDkpErY888ogAGAAgx+VpAQDAR/fjH/94ZX19/fpsr7OoqCj69etnYEAivfrqq3HHHXfEz3/+c+EvkNX69esXRUVFWV9nXV1d+b333rvaxAAAcpsTwAAAH9OGDRte6dGjx6ezvc5BgwbFggULDAxIjCVLlsSECRNi/vz5mgEkwuDBgxNR5/r1653+BQBoBgTAAAAf07x5815OQgA8bNiwePjhhyOTyRgakNXefPPNmDBhQixevFgzgMRIpVIxdOjQRNQ6d+7cl0wMACD3CYABAD6m++677+XRo0dnIiKVzXW2bds2evfuHcuWLTM0ICstW7YsHnvsMSd+gUTq06dPtG3bNgmlpu+9996/mhgAQO4TAAMAfEwTJ06s3Lp165LS0tK+2V7rkCFDBMBA1lmxYkU8+uijgl8g0YYMGZKIOqurqxc+/fTTm00MACD3CYABAD6B8vLyl/fff/+sD4AHDx4c48aNMzAgK6xcuTImTJgQc+fOdT09kHhJ+f7vmjVrfP8XAKCZEAADAHwCM2fOfG7//ff/fLbX2a1bt+jWrVuUl5cbGrDXrFu3LsaPHx+zZ88W/AI5oWfPntGlS5dE1DpjxoznTAwAoHkQAAMAfAK33Xbba5dcckl1fn5+62yvdciQIQJgYK9Yv359PPbYY4JfIOck5frnxsbGzbfddts8EwMAaB4EwAAAn0BlZWXThg0b/tqlS5fjsr3WQw89NCZNmmRowJ78MzKeeOKJeP7556OpqUlDgJxz6KGHJqLOioqKV6qrq9MmBgDQPAiAAQA+oXnz5s1MQgDcu3dv10ADe0RVVVVMnDgxXnjhhWhsbNQQICd17949evbsmZT9quufAQCakTwtAAD4ZP77v/97VkQk4kTFpz71KQMDdpstW7bEQw89FLfffns899xzwl8gpw0fPjwRdWYymfTdd9/9gokBADQfTgADAHxCkyZNqtqyZcuCsrKyg7K91uHDh8fjjz9uaMAuVVNTE1OmTIlnnnkm6uvrNQTIealUKg477LBE1Lply5bXp0+fvsXUAACaDwEwAMAusHz58lkDBw7M+gC4S5cu0atXr1i5cqWhAZ9YbW1tTJ48OZ599tmoq6vTEKDZ6N27d3Ts2DEx+1QTAwBoXgTAAAC7wLPPPvvCwIEDr0hCrcOGDRMAA59IXV1dPP300zFt2rTYtm2bhgDNzrBhwxJT61/+8pcXTQwAoHnxDWAAgF3g1ltvnV9fX782CbUefvjhkUqlDA34yBoaGmLq1Klx6623xuOPPy78BZqlJF3/XFdXt/rWW29dYGoAAM2LE8AAALtAQ0NDZs2aNc/16dPns9lea7t27aJPnz6xZMkSgwM+7J9xMW3atHjqqaeiurpaQ4Bmbb/99ou2bdsmotbVq1fPNDEAgOZHAAwAsIs8++yz05IQAEdEHHHEEQJg4AOl0+mYNWtWTJo0KTZt2qQhABFx5JFHJqbW6dOnTzMxAIDmxxXQAAC7yC233PJaQ0NDZRJqHT58eLRo0cLQgJ1Kp9Px3HPPxW233Rb333+/8Bdgh6KiovjUpz6ViFobGho23HLLLXNNDQCg+XECGABgF6murk6Xl5c/t88++5yR7bW2bNkyDj300Hj55ZcNDvindDodL7/8ckyZMiXKy8s1BOBdhgwZEkVFRYmodc2aNc/V1tamTQ0AoPkRAAMA7EIvvvjiM0kIgCMiRo4cKQAGIiIik8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd/H7jG9+IqVOnRn19vaYA7GYtWrSIo48+OjH1btmy5Y177rlnhckBABDhCmgAgN3u9ddfn3T44YcPSEKtxcXFcdhhh8XMmTMNDvayurq6ePrpp2PatGmxbds2DQHYgw477LAoKSlJTL3z5s17wtQAAHibE8AAALvZ9773vanpdLohKfWecMIJkUqlDA72koaGhpg6dWrceuut8fjjjwt/AfawVCoVJ5xwQmLqTafT27/73e8+ZXIAALzNCWAAgN1s+vTpWyoqKmZ26dIlER/Y7d69e/Tv3z/efPNNw4M9qKGhIaZNmxZPPfVUVFdXawjAXnLAAQdE9+7dE1NvRUXFczNmzPAXBwAA/+QEMADAHjBr1qxEXcuXpFMvkHTpdDqee+65uP322+PRRx8V/gLsZccff3yi6p0xY8YkUwMA4J2cAAYA2AO++tWvvnT66adXFRYWtk1CvQMHDoyOHTvGhg0bDA92k3Q6HbNmzYrJkyfHxo0bNQQgC3Ts2DEGDhyYmHobGhoqb7755pdMDgCAd3ICGABgDygvL29YsWLF1MRsEvPy4sQTTzQ42A3S6XS8+OKL8Z3vfCfuv/9+4S9AFjnppJMiLy85r8tWrFgxpaKiotHkAAB4JwEwAMAe8qtf/erRiMgkpd6jjjoqysrKDA52kUwmE6+++mp873vfi1//+texdu1aTQHIImVlZXHUUUcl6q+W//7v//6zyQEA8G4CYACAPeQ///M/l1dWVv4tKfUWFhbGMcccY3CwC7wd/P785z+PNWvWaAhAFjruuOOioCA5X0urqqqa/dOf/nS1yQEA8G4CYACAPeill14al6R6jzvuuCgqKjI4+JjmzJkTd911V/z85z+P1au9owfIVkVFRYn7xbcXXnhhnMkBALAzBVoAALDnjB079pkFCxZUFhYWtktCvSUlJXHEEUfE9OnTDQ8+gjfffDPGjx8fb731lmYAJMCRRx4ZJSUliam3oaFh0zXXXPOsyQEAsDMCYACAPai8vLxh6dKlE/v3739xUmo+8cQT49lnn410Om2A8AEWLVoUjz32WCxevFgzABIiLy8vTjzxxETVvGTJkifKy8sbTA8AgJ3ucbUAAGDP+u1vfzsxIjJJqbdjx44xdOhQg4P3sXz58rj77rvjRz/6kfAXIGGGDRsWHTp0SFLJmd/85jePmxwAAO9FAAwAsIf953/+5/JNmza9kqSaTz/99EilUoYH77Jy5cr4yU9+Et///vdj/vz5GgKQMHl5eXHGGWckquZNmza9fM8996wwPQAA3osroAEA9oKXXnpp/KmnnnpYUurt2rVrDBkyJGbPnm14EBHr1q2L8ePHx+zZsyOTyWgIQEINHTo0OnfunKiaX3jhhQkmBwDA+xEAAwDsBZdffvkzS5YsWVdUVNQlKTWfccYZ8be//U3YRbO2fv36eOyxxwS/ADkglUrF6aefnqia6+rq1lx22WXTTQ8AgPcjAAYA2AsqKyub5s+f/8ihhx56dVJq7tatm1PANFsbNmyIxx9/PF555ZVoamrSEIAc8KlPfSq6du2aqJrfeOONcdXV1WnTAwDg/fgGMADAXvL1r399XDqdrktSzb4FTHNTVVUV999/f3z729+OF198UfgLkCNSqVR8+tOfTlTN6XS69pvf/OZjpgcAwAdxAhgAYC+ZMWNG9Zo1a/7Ss2fPxLx97N69ewwcODDmzJljgOS0LVu2xIQJE+KFF16IxsZGDQHIMYceemh069YtUTWvXr36qRkzZlSbHgAAH8QJYACAvejXv/71HyMiUR8SPeuss5wCJmdt27YtHn300bjtttviueeeE/4C5KC8vLwYM2ZM0srO/OpXv/qT6QEA8KH2vFoAALD3fP/733+rqqoqUR/V7dGjR3zqU58yPHJKfX19TJ06Nb71rW/F1KlTo76+XlMActSIESOiS5cuiap506ZNf73rrruWmh4AAB+GABgAYC975plnHkpazWeccUbk5dlKkjvmzZsXjz76aGzdulUzAHJYQUFBnH766Ymre9q0aQ+aHgAAH5a3dgAAe9nYsWNn1tfXr01SzZ07d47DDjvM8ACARBk5cmR06NAhUTXX1dWtHjt27POmBwDAhyUABgDYyyorK5tee+21Pyat7jPPPDMKCgoMEABIhBYtWiTy9O/s2bP/UF1dnTZBAAA+LAEwAEAWuOqqqyY0NjZWJanm9u3bx9FHH214AEAiHHfccdGmTZtE1dzQ0LDxiiuumGh6AAB8FAJgAIAssGDBgrqFCxc+lrS6R48eHYWFhQYIAGS1li1bxsknn5y4uhcuXDhu6dKl200QAICPQgAMAJAlvv71r/8pnU7XJqnmtm3bximnnGJ4AEBWO+2006K0tDRRNTc1NdV+7Wtfe8j0AAD4qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hABgF2iQ4cOcfrppyey9kwm03T33Xf/3BQBANgdBMAAAAlyzz33rCgvL386ibW3bNkyzj33XEMEAHaJc889N1q0aJHI2tesWTP1xz/+8UpTBABgdxAAAwAkzA9/+MOfZzKZhiTWPnz48Bg0aJAhAgCfyKGHHhpDhw5NZO3pdLrhBz/4wS9MEQCA3UUADACQMPfee+/qRYsWPZDU+i+++OIoKSkxSADgY2ndunVcfPHFia1/4cKFf7jvvvvKTRIAgN1FAAwAkECXXXbZrxsaGjYlsfaysjJXQQMAH9u5554bpaWliay9oaFh4+WXX/47UwQAYHcSAAMAJNDs2bNrXn311V8ntf4jjjgiDj74YIMEAD6SwYMHx+GHH57Y+l955ZX7Zs+eXWOSAADsTgJgAICEOueccx6tqalZmtT6L7roomjZsqVBAgAfSsuWLeNzn/tcYuuvqalZMmbMmMdMEgCA3U0ADACQUJWVlU3Tpk37RVLrb9++fZx++ukGCQB8KGeccUa0b98+sfU/+eST91ZXV6dNEgCA3U0ADACQYOedd960qqqqV5Ja/wknnOAqaADgAx188MFx/PHHJ7b+TZs2vXzBBRc8a5IAAOwJAmAAgIT74x//eG9EZJJYeyqVigsuuMBV0ADAe2rZsmVccMEFkUqlkrqEzP333/8zkwQAYE8RAAMAJNzNN988b9WqVU8ktf6OHTsm+nt+AMDudcEFF0THjh0TW/+KFSse//rXv/6GSQIAsKcIgAEAcsCNN974k6ampq1JrX/kyJExdOhQgwQA/pdPfepTMWLEiMTW39TUVH3zzTf/t0kCALAnCYABAHLAxIkTK//+97//KslruPDCC6OsrMwwAYCIiGjTpk18/vOfT/QaZs+efd/EiRMrTRMAgD1JAAwAkCPOPvvsh2pqapYntf7S0tK46KKLDBIAiFQqFV/84hejtLQ0sWuoqal566yzznrYNAEA2NMEwAAAOaKioqJx0qRJP07yGgYPHhwjR440TABo5o444og46KCDEr2GJ5544qeVlZVNpgkAwJ4mAAYAyCGXXHLJzIqKihlJXsMFF1wQ3bp1M0wAaKZ69uyZ+KufKyoqZnzhC1+YZZoAAOwNAmAAgBzzb//2b/ek0+ntSa2/RYsWceWVV0ZhYaFhAkAzU1hYGF/60pcSvQ9Ip9Pb/+3f/u0e0wQAYG8RAAMA5Jh777139aJFix5M8hq6d+8eZ555pmECQDNzxhlnRPfu3RO9hsWLFz947733rjZNAAD2FgEwAEAO+uxnP/vL2traRL94PPHEE2Pw4MGGCQDNxKBBg+Kkk05K9Bpqa2tXn3vuub80TQAA9iYBMABADlq8eHH9uHHj/j3Ja0ilUnHJJZdE27ZtDRQAclybNm3ikksuiVQqleh1jBs37t8XL15cb6IAAOxNAmAAgBx1+eWXv1RRUTEjyWsoLS2NL3zhC4l/GQwAvLe3f+mrdevWiV5HRUXFM5dffvlLJgoAwN4mAAYAyGE33HDDXU1NTVuTvIaDDjrI94ABIId95jOfiUMOOSTRa2hqaqq+4YYbfmiaAABkAwEwAEAOGzdu3MbZs2cn/jt0p5xyiu8BA0AOOuSQQ+LTn/504tfx17/+9efjxo3baKIAAGQDATAAQI77zGc+81B1dfXCJK8hlUrFF7/4xejQoYOBAkCO6NixY3zpS19K/KceNm/ePO+00057xEQBAMgWAmAAgBxXXV2dfuCBB34UEekkr6O4uDguvfTSyMuzhQWApMvPz4/LLrssiouLk76U9P333/+ftbW1aVMFACBbeHsGANAMXH/99XMWLVr0YNLXsf/++8e5555roACQcOedd1707ds38etYuHDhH7/61a++bqIAAGQTATAAQDNxySWX/Lyurq486es4/vjjfQ8YABJs2LBhccwxxyR+HXV1dWsuvPDC+0wUAIBsIwAGAGgmXnvttdoHHnjguxGRSfI6UqlUfOlLX4oePXoYKgAkTO/evePSSy9N/Hd/IyLzwAMPfO/111+vNVUAALKNABgAoBm5+uqr/7Z06dJHk76OoqKiGDt2bJSWlhoqACRE69at46qrrorCwsLEr2X58uXjrr766r+ZKgAA2UgADADQzJx33nn/r66ubnXS19GhQ4e4/PLLIy/PlhYAsl1eXl5cfvnl0b59+8Svpb6+ft0ll1zyE1MFACBr999aAADQvLz++uu1Dz744Pcj4VdBR0QMGDAgzjrrLEMFgCw3ZsyYOPDAA3NiLY899tgPXnnllW2mCgBAthIAAwA0Q1/5ylf+umbNmqm5sJaTTz45Dj30UEMFgCw1ZMiQOOmkk3JiLWvXrv3LpZde+oKpAgCQzQTAAADN1GWXXfYf9fX1FUlfRyqViksvvTS6d+9uqACQZXr06BFf/OIXI5VKJX4tDQ0Nm6655pofmioAANlOAAwA0EzNmDGj+oEHHvhO5MBV0C1btozrr78+2rZta7AAkCXatWsX1113XbRs2TIXlpN56KGH/nXSpElVJgsAQLYTAAMANGNf+cpX/rpkyZI/58Ja2rZtG1dffXW0aNHCYAFgL2vRokVcffXVOfPLWUuXLn30iiuueNlkAQBIAgEwAEAzd+655/6ktrZ2eS6spXfv3jlzzSQAJNXbn2fYZ599cmI9tbW1y88555wfmywAAEkhAAYAaOYWLFhQ97Of/ezbmUymMRfWM2zYsDjllFMMFgD2kk9/+tMxdOjQnFhLJpNp/NnPfvbtBQsW1JksAABJIQAGACBuvfXWBfPnz78/V9Zz5plnxuDBgw0WAPaw4cOHx2c+85mcWc/8+fN/d+utty4wWQAAkkQADABARESMGTPmvpqamrdyYS2pVCouu+yy6Nmzp8ECwB7Su3fvuPjii3PmUwxbt25ddPrpp//aZAEASBoBMAAAERGxcuXKhh/+8Ie3pdPpnLjisGXLlvEv//Iv0aVLF8MFgN2sS5cucf3110dRUVFOrKepqanmu9/97jfKy8sbTBcAgKQRAAMA8E933XXX0ueff/6eXFlPaWlpXHvttVFWVma4ALCblJWVxXXXXRclJSU5s6aZM2fe/f/+3/9bZboAACSRABgAgP/l5JNPHldeXv50rqynU6dOMXbs2Jw5kQQA2aSoqCiuueaa6NixY86sqby8/MlTTz11gukCAJBUAmAAAP6PSy655K66urq1ubKefffdN6644orIy7P9BYBdJS8vL6688sro3bt3zqyprq6u/JJLLvmh6QIAkOi9uhYAAPBus2bNqn7ooYfujIh0rqxp4MCBcd555xkuAOwi559/fhxyyCG5tKT0gw8+eOesWbOqTRcAgCTLb3tQ9NzpjndbRG15oQ4BADRTEydOXDNmzJi8Tp06Dc2VNfXp0yfy8/PjzTffNGAA+ATOOuusOOmkk3JqTa+//vp9Z5555kTTBQAgCYq7N0Ze6c5/5gQwAADv6dRTT/31li1bXs+lNZ122mlx9NFHGy4AfEzHHntsnHrqqTm1pi1btrxx2mmn/cZ0AQDIBQJgAADeU0VFReONN974jcbGxqpcWtcFF1wQRx55pAEDwEd05JFHxuc+97mcWlNjY2PVzTff/I2KiopGEwYAIBcIgAEAeF9//OMf1z/yyCPfiRz6HnAqlYqLLroohgwZYsAA8CENHTo0LrrookilUrm0rPQjjzzynfvvv3+dCQMAkCsEwAAAfKBLL730hQULFvwupzbCeXnxpS99Kfbff38DBoAPcNBBB8WXvvSlyMvLrVdJCxYs+N2ll176ggkDAJBLBMAAAHwoo0eP/mVVVdXcXFpTYWFhfOUrX4kePXoYMAC8h169esUVV1wRBQUFObWuqqqqOaNHj/6lCQMAkGsEwAAAfCgVFRWNV1111S0NDQ0bcmldJSUlcfPNN8c+++xjyADwLr17946bbropiouLc2pdDQ0NG6666qqv++4vAAC5SAAMAMCHNmHChE3333//tzKZTDqX1lVcXBzXXXdddO/e3ZABYIfu3bvHtddeG61atcqpdWUymfT999//rQkTJmwyZQAAcpEAGACAj2Ts2LGz58+f/9tcW1fr1q3juuuuiw4dOhgyAM1ehw4d4rrrrovWrVvn3Nrmz5//m7Fjx842ZQAAcpUAGACAj+y44477xaZNm17MtXW1a9cubrzxxmjXrp0hA9BstW3bNmf/Pty4ceOLxx13nO/+AgCQ0wTAAAB8ZNXV1emLL774W3V1datzbW0dO3aMG2+8Mdq0aWPQADQ7ZWVlceONN0bHjh1zbm21tbWrL7zwwturq6vTJg0AQC7Lb3tQ9NzZD9LbImrLC3UIAICdWrZsWf327dtfOvbYY0/Ny8trkUtrKykpiaFDh8Zrr70WNTU1hg1As9ChQ4f42te+Fp06dcq5tTU1NW39zne+M/bBBx9cb9IAAOSC4u6NkVe6858JgAEA+NhefPHFzYcccsiyAQMGnBgRqZzaRBcXx5AhQ4TAADQLHTt2jJtuuik6dOiQi8tLjx8//ravfvWrc0waAIBc8X4BsCugAQD4RC688MIZb7zxxm9ycW3t27ePm266KSdPQgHA2zp16pTL4W+88cYbv77wwgufM2kAAJoLATAAAJ/YqFGjfrFhw4aZubi2t0Pgzp07GzQAOadz585x0003Rfv27XNyfRs2bJg5atSo+0waAIDmRAAMAMAnVltbm77sssu+V1dXtzoX19euXbu44YYbomPHjoYNQM7o0KFDXH/99dGuXbtc3Z+s/sIXvvDd2tratGkDANCc+AYwAAC7xJIlS+oj4pVRo0admpeX1yLX1ldcXBxDhw6NuXPnxrZt2wwcgETr0qVL3HjjjTl77XNTU1P1nXfeec0f/vCHdaYNAEAuer9vAAuAAQDYZWbNmlXVo0ePuYceeujoVCqVn2vra9WqVYwYMSIWLVoUlZWVBg5AIu23335x0003RVlZWU6uL51ON/z617++4fbbb3/TtAEAyFUCYAAA9phJkyatPeqoozbsu+++R+fi+goLC2P48OGxbNmy2LBhg4EDkCgDBgyIa6+9Nlq1apWza5w2bdq/XXLJJc+ZNgAAuez9AmDfAAYAYJc77bTTHn/rrbcezNX1FRUVxTXXXBNDhgwxbAASY8iQIXHNNddEUVFRzq5xwYIFvzv99NOfMG0AAJozATAAALvFEUcccc+GDRtm5ur6CgoK4sorr4wjjjjCsAFIwt/LceWVV0ZBQUHOrrG8vPypESNG/LdpAwDQ3AmAAQDYLaqrq9MXXXTRd2pra1fk7GY6Ly8uvvjiOPLIIw0cgKw1atSouPjiiyMvL3dfA23dunXxZz/72e83NDRkTBwAgObON4ABANhtli9fvr2mpuaFY4899uT8/PyWubjGVCoVgwYNikwmE4sWLTJ0ALLK6aefHueee26kUqmcXWN9fX3FDTfccM3UqVOrTBwAgObi/b4BLAAGAGC3evnll7cUFBS8cMQRR4zOy8trkYtrTKVSccABB0SnTp1i7ty5kck4fATA3lVYWBhXXHFFHHPMMTm9zsbGxuo777zzKz/72c9WmzoAAM2JABgAgL1qxowZlb169Xp98ODBJ6dSqfxcXWfPnj2jb9++8fe//z0aGxsNHoC9olWrVnH11VfHwIEDc3qd6XS64be//e2Nt9122wJTBwCguREAAwCw1z3xxBPlw4cPX9OvX79jIyJn76Hs2LFjDBw4MObMmRN1dXUGD8Ae1a5du7jxxhujT58+ub7U9JQpU779xS9+8XlTBwCgOXq/ADhPewAA2FPGjBkz9Y033vh1rq+zZ8+eceONN0bHjh0NHYA9pkuXLnHTTTdF9+7dc36tc+fO/eU555zzF1MHAID/SwAMAMAe9alPfernS5cufTjX19mlS5e49dZb48ADDzR0AHa7gQMHxje/+c3o1KlTzq/1rbfeemjEiBG/MnUAANg5ATAAAHvcsccee8/GjRtfyPV1FhcXx7XXXhsjRowwdAB2m8MPPzyuuuqqaNmyZc6vdePGjc8fffTR95g6AAC8NwEwAAB7XEVFReNxxx339crKyr/l+loLCgrisssui/PPPz9SqZThA7DLpFKpOP/88+PSSy+NgoKCnF/vpk2bXj7ssMNuqaysbDJ9AAB4bwJgAAD2isWLF9efddZZN1dXV7/ZHNZ7/PHHx5e//OUoKioyfAA+sRYtWsSXv/zlOP7445vFequrq98cM2bMN8rLyxtMHwAA3l9+24Oi585+kN4WUVteqEMAAOw2a9asaVi1atWs0aNHH1dQUNA619fbrVu3OOCAA2LevHlRX1/vAQDgYykrK4trrrkmDjrooGax3rq6uvKxY8de89RTT202fQAA+Ifi7o2RV7rznwmAAQDYq+bNm1ezevXqZ04++eTjCwoKSnN9ve3atYuRI0fG8uXLY+PGjR4AAD6S/v37x0033RRdu3ZtFuutr69fd9111335T3/6U4XpAwDA/xAAAwCQ1ebMmbMtlUq9fOSRR56Ul5eX83ckt2jRIkaMGBG1tbWxdOlSDwAAH8rxxx8fX/rSl5rN5wQaGxu33HXXXdf99Kc/XWn6AADwvwmAAQDIejNnzqzs2bPn64MHDz4plUrl5/p6U6lUHHLIIdGqVatYsGBBZDIZDwEAO5WXlxef/exn4/TTT49UKtUs1pxOp7f//ve//+o3vvGN1z0BAADwfwmAAQBIhEmTJpXvs88+8wYOHHhCKpUqaA5r3m+//WLAgAExd+5c3wUG4P8oKyuL6667LoYNG9Zs1pxOp7f/8Y9/vOmqq676qycAAAB2TgAMAEBiTJw4cc3BBx+85MADDzwulUrlNYc1t2/fPoYOHRqLFi2KLVu2eAgAiIiIffbZJ66//vro2bNns1lzJpNpnDBhwm1f/OIXn/cEAADAexMAAwCQKI8++ujy/fff/42DDjrohOZwHXRERHFxcRx11FHR2NgYb731locAoJkbPXp0XHHFFVFSUtJs1pxOpxsefvjhr15yySWzPAEAAPD+BMAAACTO+PHjVw0cOHDpAQcccGxzOQmcSqViwIAB0aVLl3jjjTeiqanJgwDQzBQVFcWll14aJ554YrP53m/EP07+Pv7447dffPHFMz0FAADwwQTAAAAk0iOPPLLs0EMPXbb//vs3mxA4IqJHjx4xZMiQePPNN2Pr1q0eBIBmonv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcXF/fSkf/RsmXLGDJkSOyzzz6xdOnSqKmp0RQg53Xs2DG++MUvximnnBItW7bUkHdZt27dMyeffPI3Xn755W26AQAAe9/7BcCpfc+JETv7QeO6iI2vttI9AAByWmFhYer555//0sEHH3y5bvxfTU1N8fzzz8f48eOjurpaQ4Cc07p16zjzzDPjyCOPdOJ35zJ///vff3rMMcfc39DQkNEOAADIDh2G1UZBl53/TAAMAAARMWnSpM8cc8wxt6RSKdfg7ERNTU1MmTIlpk2bFg0NDRoCJF5hYWGccsopcdJJJ0VRUZGG7EQ6na6fOnXqd88555y/6AYAAGSX9wuAXQENAAAR8Yc//GHhfvvt98aAAQOOysvLkwS8S2FhYQwYMCCGDh0amzZtinXr1mkKkFiDBw+Oq666KoYOHRoFBQUashONjY1Vv//972/5whe+MEs3AAAg+/gGMAAAfAgTJkxYXV1dPf3II4/8VGFhYTsd+b9KS0vjsMMOi/79+8eaNWti8+bNmgIkRu/evePyyy+PU045JUpLSzXkPWzdunXxLbfccs33vve9hboBAADZyTeAAQDgI+jTp0+LJ5988us9evQ4TTfe3/z58+ORRx6JlStXagaQtXr16hXnnHNODBgwQDM+wKpVq5444YQTfrBy5Ur3/QMAQBbzDWAAAPgYnnnmmfOHDx9+fSqVytON95bJZGL27Nkxbty4qKio0BAga3Tu3DnOOuusGDp0aKRSKQ15/z/Lm2bNmvXDk08++THdAACA7OcbwAAA8DH85je/eX3//fd//cADDzzSd4HfWyqViu7du8cxxxwT7dq1i2XLlkV9fb3GAHtN27Zt49xzz42LL744evToIfz9AI2NjdUPPvjgLZ/97Gf/ohsAAJAMvgEMAAAf0/jx41dFxPOHHXbYiMLCwjIdeW95eXnRu3fvOOqoo6KgoCBWrlwZjY2NGgPsMcXFxXHKKafEl770pejbt2/k5bnA4YPU1tau+MEPfnD9LbfcMk83AAAgQf/94xvAAADwyQwePLjVo48++s1u3bqdpBsfTn19fTzzzDMxderU2LZtm4YAu01ZWVmceuqpceSRR0ZRkQsbPqyVK1c+/ulPf/pHixcvdm0DAAAkjG8AAwDALvLkk0+edeSRR96USqVcl/MhCYKB3eXtE7/HHnus4PcjyGQyDbNmzfoP3/sFAIDk8g1gAADYRX7/+98v6NGjx2uHHHLIyPz8fL8x+SEUFBREv3794qijjoq8vLxYtWqVq6GBT6Rly5ZxwgknxBVXXBEHHXRQFBQUaMqH1NDQsOG3v/3t1z7/+c8/oxsAAJBcroAGAIBd7Lzzzut4991339m2bdvBuvHR1NTUxLPPPhvTpk2LLVu2aAjwoZWVlcXxxx8fxxxzTBQXF2vIR1RVVfW3a6+99vZHHnlkg24AAECyuQIaAAB2g06dOhVMmzZtbN++fT8XESkd+WgaGhri+eefjyeffDI2bJBFAO/7522cdNJJccQRR0RhodvKPobMokWL/nTsscf+pLKyskk7AAAg+QTAAACwG/3hD38Ydfrpp99WUFDQRjc+unQ6Ha+++mpMnTo1Vq5cqSHAP/Xq1StOOeWUGDp0aOTl5WnIx9DY2Fg1YcKEOy666KKZugEAALlDAAwAALvZaaed1vbee+/9docOHUbqxse3fPnymDZtWrz88suRTqc1BJqhvLy8OOyww+L444+P3r17a8gnsHHjxue//OUvf3fSpElVugEAALlFAAwAAHtAYWFh6qmnnjpv+PDh16RSKXeUfgIbNmyIGTNmxHPPPRc1NTUaAs1AcXFxjBo1Ko4++ujo2LGjhnwCmUym4ZVXXvl/J5100kMNDQ0ZHQEAgNzzfgFwftuDoufOfpDeFlFb7p0VAAB8WOl0On7zm9+8Xlpa+uLgwYM/VVhYWKYrH09xcXEMGDAgjj322GjTpk2sXbs2amtrNQZyUIcOHeKMM86ISy+9NAYOHBjFxcWa8gnU1tau+slPfnLjxRdf/IybFAAAIHcVd2+MvNKd/8wJYAAA2A1OPPHENvfdd9+tnTp1Olo3PrnGxsb429/+Fs8++2wsWrRIQyAH9OvXL44++ugYNmxYFBQUaMguUFFR8cwXv/jFf5s+ffoW3QAAgNzmCmgAANhLHn744RNGjx799YKCgta6sWusX78+Zs6cGc8//3xUV1drCCRIaWlpHHnkkXHUUUdF586dNWQXaWxs3DJ16tS7PvvZz/5FNwAAoHkQAAMAwF50ySWXdP3+97//rXbt2g3VjV2nsbExXnvttXjuuedi/vz5GgJZbMCAATFq1KgYPHiw0767WFVV1atf//rXv/e73/1urW4AAEDzIQAGAIC9rF27dvlTp0699OCDD740lUrl68iutXz58nj++efj5ZdfjpqaGg2BLFBSUhLDhw+PI444Inr37q0hu1gmk2mcN2/efSeeeOJvq6urfewXAACaGQEwAABkia9//ev73Xjjjf9aWlraXzd2vXQ6HW+++WY899xz8dprr0VjY6OmwB5UUFAQgwcPjlGjRsUBBxwQeXl5mrIbVFdXL/zP//zPf/3BD36wRDcAAKB5EgADAEAWOfjgg1v9+c9/vrZ3795jIiKlI7tHZWVlvPjii/HCCy/EunXrNAR2o65du8bIkSPj8MMPj7Zt22rI7pNZunTpn88888z/t3jx4nrtAACA5ksADAAAWejuu+8eePHFF9/WqlUrd6PuZuXl5fHqq6/GSy+9FOvXr9cQ2AU6d+4cI0aMiGHDhkW3bt00ZDerqalZ9tvf/vbOm266aa5uAAAAAmAAAMhS/fr1K3r44Ycv79+//4WpVMpdqXvA8uXL46WXXoqXX345qqurNQQ+grKyshg+fHiMGDHCd333kEwmk164cOEfzj777F8sXbp0u44AAAARAmAAAMh6P/3pT4d97nOf+2bLli176Mae0dDQEHPnzo2//vWvMXfu3Ni+Xa4CO9OyZcsYNGhQDBs2LA455JAoKCjQlD2ktrZ21R//+Mc7rr322r/rBgAA8E4CYAAASIA+ffq0ePTRR69wGnjPS6fTsXTp0nj11VedDIaIaNu2bQwbNiyGDRsWffr0ibw8fyTtSZlMpuG11177+ZlnnvmnioqKRh0BAADeTQAMAAAJ8uMf//jQCy644JutWrXaRzf2vLdPBs+ePTvmzp0bdXV1mkKzUFZWFoMHD45hw4ZF//79Iz8/X1P2gpqammX333//nTfccINv/QIAAO9JAAwAAAnTrl27/HHjxp37qU996qq8vDwb870kk8nEihUrYu7cuTFnzpxYsWJFZDIZjSEnpFKp6Nu3bwwbNiwGDRoUHTt21JS9qKmpqfbVV1/92ZgxY/5cWVnZpCMAAMD7EQADAEBCffnLX+5x++23f7V9+/aH68bet2XLlnjjjTdizpw5MW/evKivr9cUEqVly5Zx8MEHx6BBg+KQQw6J0tJSTckCGzdufPG73/3uv//iF79YoxsAAMCHIQAGAIAEKywsTE2cOPGMkSNHXlNQUNBaR7JDXV1dvPnmm/HGG2/EG2+8EevXr9cUslKXLl3ioIMOioMOOigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6ysnL9ihUrVr/66qurHnzwwbUVFRWNOgUAAMDuIgAGAADgfznjjDPaH3bYYZ369OnTuUuXLp3Kysral5SUtC0uLu5YVFTUrqioqG2LFi065OfnlzaXnjQ1NW3dvn37xvr6+qr6+vrKmpqaDdu2bavasmXLpnXr1lUsXbp0/Ysvvrh+4sSJlZ4gAAAA9iYBMAAAAB9Lr169CkeNGtXuoIMOatexY8ey9u3bl7Zp06Z1SUlJWXFxcetWrVq1btGiRVlRUVHrwsLC1hGRX1hYWBoR+QUFBSV5eXkFeXl5u/0/LtPpdG06nW5sbGzcFhFNDQ0NW3f83+r6+vrq7du3b6mtra2uqamp3rZtW/XmzZurN23aVL1hw4YtCxYsqJo1a1bl0qVLt5s4AAAASSAABgAAYK/q169fUffu3Vvss88+xSUlJQVv//8LCwtT3bp1+8BTxuXl5VsbGhoyb//vbdu2Na5YsaJmzZo12xcvXlyvwwAAADQn7xcAF2gPAAAAu9vixYvrdwS11boBAAAAu0+eFgAAAAAAAADkBgEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4o0AIAAAAAAACA5GhoLIyCxoaIiEilIpNXGE1v/0wADAAAAAAAAJAghQUN/0x6MxGppvT/5L6ugAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAIb/v5272ZHiusM4/FZ1NUkz9sQwOF4EyZJtpJCwysa5jSy4n1xPEqRIuQFvvfGSgIwBOzGRQAQERnx0d1UW0cgWGvKxsMGvnmfVdc7/1OJsf+oCAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=";function Ae(e,t,a){return typeof e=="string"&&!isNaN(Number(e))&&(e=Number(e)),typeof e=="number"&&e<100?we(e):typeof e=="number"&&e>=100?e:typeof e=="string"&&e.includes("%")?Math.round(t&&t==="X"?parseFloat(e)/100*a.width:t&&t==="Y"?parseFloat(e)/100*a.height:parseFloat(e)/100*a.width):0}function vi(e){return e.replace(/[xy]/g,function(t){const a=Math.random()*16|0;return(t==="x"?a:a&3|8).toString(16)})}function he(e){return typeof e>"u"||e==null?"":e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function we(e){return typeof e=="number"&&e>100?e:(typeof e=="string"&&(e=Number(e.replace(/in*/gi,""))),Math.round(fe*e))}function de(e){const t=Number(e)||0;return isNaN(t)?0:Math.round(t*Tn)}function ma(e){return e=e||0,Math.round((e>360?e-360:e)*6e4)}function lo(e){const t=e.toString(16);return t.length===1?"0"+t:t}function oo(e,t,a){return(lo(e)+lo(t)+lo(a)).toUpperCase()}function je(e,t){let a=(e||"").replace("#","");!io.test(a)&&a!==Rt.background1&&a!==Rt.background2&&a!==Rt.text1&&a!==Rt.text2&&a!==Rt.accent1&&a!==Rt.accent2&&a!==Rt.accent3&&a!==Rt.accent4&&a!==Rt.accent5&&a!==Rt.accent6&&(console.warn(`"${a}" is not a valid scheme color or hex RGB! "${_t}" used instead. Only provide 6-digit RGB or 'pptx.SchemeColor' values!`),a=_t);const r=io.test(a)?"srgbClr":"schemeClr",n='val="'+(io.test(a)?a.toUpperCase():a)+'"';return t?`<a:${r} ${n}>${t}</a:${r}>`:`<a:${r} ${n}/>`}function mb(e,t){let a="";const r=Object.assign(Object.assign({},t),e),n=Math.round(r.size*Tn),i=r.color,l=Math.round(r.opacity*1e5);return a+=`<a:glow rad="${n}">`,a+=je(i,`<a:alpha val="${l}"/>`),a+="</a:glow>",a}function Tt(e){let t="solid",a="",r="",n="";if(e)switch(typeof e=="string"?a=e:(e.type&&(t=e.type),e.color&&(a=e.color),e.alpha&&(r+=`<a:alpha val="${Math.round((100-e.alpha)*1e3)}"/>`),e.transparency&&(r+=`<a:alpha val="${Math.round((100-e.transparency)*1e3)}"/>`)),t){case"solid":n+=`<a:solidFill>${je(a,r)}</a:solidFill>`;break;default:n+="";break}return n}function gs(e){return e._rels.length+e._relsChart.length+e._relsMedia.length+1}function Rd(e){if(!(!e||typeof e!="object"))return e.type!=="outer"&&e.type!=="inner"&&e.type!=="none"&&(console.warn("Warning: shadow.type options are `outer`, `inner` or `none`."),e.type="outer"),e.angle&&((isNaN(Number(e.angle))||e.angle<0||e.angle>359)&&(console.warn("Warning: shadow.angle can only be 0-359"),e.angle=270),e.angle=Math.round(Number(e.angle))),e.opacity&&((isNaN(Number(e.opacity))||e.opacity<0||e.opacity>1)&&(console.warn("Warning: shadow.opacity can only be 0-1"),e.opacity=.75),e.opacity=Number(e.opacity)),e.color&&e.color.startsWith("#")&&(console.warn('Warning: shadow.color should not include hash (#) character, , e.g. "FF0000"'),e.color=e.color.replace("#","")),e}function fb(e,t,a){var r,n;const i=2.3+(!((r=e.options)===null||r===void 0)&&r.autoPageCharWeight?e.options.autoPageCharWeight:0),l=Math.floor(t/Tn*fe)/((!((n=e.options)===null||n===void 0)&&n.fontSize?e.options.fontSize:Ut)/i),d=[];let c=[];const o=[],u=[];e.text&&e.text.toString().trim().length===0?c.push({_type:me.tablecell,text:" "}):typeof e.text=="number"||typeof e.text=="string"?c.push({_type:me.tablecell,text:(e.text||"").toString().trim()}):Array.isArray(e.text)&&(c=e.text);let h=[];return c.forEach(x=>{var m;typeof x.text=="string"&&(x.text.split(`
`).length>1?x.text.split(`
`).forEach(A=>{h.push({_type:me.tablecell,text:A,options:Object.assign(Object.assign({},x.options),{breakLine:!0})})}):h.push({_type:me.tablecell,text:x.text.trim(),options:x.options}),!((m=x.options)===null||m===void 0)&&m.breakLine&&(o.push(h),h=[])),h.length>0&&(o.push(h),h=[])}),o.forEach(x=>{x.forEach(m=>{const A=[],b=String(m.text).split(" ");b.forEach((f,g)=>{const v=Object.assign({},m.options);v!=null&&v.breakLine&&(v.breakLine=g+1===b.length),A.push({_type:me.tablecell,text:f+(g+1<b.length?" ":""),options:v})}),u.push(A)})}),u.forEach(x=>{let m=[],A="";x.forEach(p=>{A.length+p.text.length>l&&(d.push(m),m=[],A=""),m.push(p),A+=p.text.toString()}),m.length>0&&d.push(m)}),d}function Ap(e=[],t={},a,r){let n=_n,i=fe*1,l=fe*1,d=0,c=0;const o=[],u=Ae(t.x,"X",a),h=Ae(t.y,"Y",a),x=Ae(t.w,"X",a),m=Ae(t.h,"Y",a);let A=x;function p(){let f=0;o.length===0&&(f=h||we(n[0])),o.length>0&&(f=we(t.autoPageSlideStartY||t.newSlideStartY||n[0])),l=(m||a.height)-f-we(n[2]),o.length>1&&(typeof t.autoPageSlideStartY=="number"?l=(m||a.height)-we(t.autoPageSlideStartY+n[2]):typeof t.newSlideStartY=="number"?l=(m||a.height)-we(t.newSlideStartY+n[2]):h&&(l=(m||a.height)-we((h/fe<n[0]?h/fe:n[0])+n[2]),l<m&&(l=m)))}if(t.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- TABLE PROPS --------------------------------------------------------|"),console.log(`| presLayout.width ................................ = ${(a.width/fe).toFixed(1)}`),console.log(`| presLayout.height ............................... = ${(a.height/fe).toFixed(1)}`),console.log(`| tableProps.x .................................... = ${typeof t.x=="number"?(t.x/fe).toFixed(1):t.x}`),console.log(`| tableProps.y .................................... = ${typeof t.y=="number"?(t.y/fe).toFixed(1):t.y}`),console.log(`| tableProps.w .................................... = ${typeof t.w=="number"?(t.w/fe).toFixed(1):t.w}`),console.log(`| tableProps.h .................................... = ${typeof t.h=="number"?(t.h/fe).toFixed(1):t.h}`),console.log(`| tableProps.slideMargin .......................... = ${t.slideMargin?String(t.slideMargin):""}`),console.log(`| tableProps.margin ............................... = ${String(t.margin)}`),console.log(`| tableProps.colW ................................. = ${String(t.colW)}`),console.log(`| tableProps.autoPageSlideStartY .................. = ${t.autoPageSlideStartY}`),console.log(`| tableProps.autoPageCharWeight ................... = ${t.autoPageCharWeight}`),console.log("|-- CALCULATIONS -------------------------------------------------------|"),console.log(`| tablePropX ...................................... = ${u/fe}`),console.log(`| tablePropY ...................................... = ${h/fe}`),console.log(`| tablePropW ...................................... = ${x/fe}`),console.log(`| tablePropH ...................................... = ${m/fe}`),console.log(`| tableCalcW ...................................... = ${A/fe}`)),!t.slideMargin&&t.slideMargin!==0&&(t.slideMargin=_n[0]),r&&typeof r._margin<"u"?Array.isArray(r._margin)?n=r._margin:isNaN(Number(r._margin))||(n=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)]):(t.slideMargin||t.slideMargin===0)&&(Array.isArray(t.slideMargin)?n=t.slideMargin:isNaN(t.slideMargin)||(n=[t.slideMargin,t.slideMargin,t.slideMargin,t.slideMargin])),t.verbose&&console.log(`| arrInchMargins .................................. = [${n.join(", ")}]`),(e[0]||[]).forEach(g=>{g||(g={_type:me.tablecell});const v=g.options||null;c+=Number(v!=null&&v.colspan?v.colspan:1)}),t.verbose&&console.log(`| numCols ......................................... = ${c}`),!x&&t.colW&&(A=Array.isArray(t.colW)?t.colW.reduce((f,g)=>f+g)*fe:t.colW*c||0,t.verbose&&console.log(`| tableCalcW ...................................... = ${A/fe}`)),i=A||we((u?u/fe:n[1])+n[3]),t.verbose&&console.log(`| emuSlideTabW .................................... = ${(i/fe).toFixed(1)}`),!t.colW||!Array.isArray(t.colW))if(t.colW&&!isNaN(Number(t.colW))){const f=[];(e[0]||[]).forEach(()=>f.push(t.colW)),t.colW=[],f.forEach(v=>{Array.isArray(t.colW)&&t.colW.push(v)})}else{t.colW=[];for(let f=0;f<c;f++)t.colW.push(i/fe/c)}let b={rows:[]};return e.forEach((f,g)=>{const v=[];let w=0,_=0,D=[];f.forEach(k=>{var F,j,T,y;D.push({_type:me.tablecell,text:[],options:k.options}),k.options.margin&&k.options.margin[0]>=1?(!((F=k.options)===null||F===void 0)&&F.margin&&k.options.margin[0]&&de(k.options.margin[0])>w?w=de(k.options.margin[0]):t!=null&&t.margin&&t.margin[0]&&de(t.margin[0])>w&&(w=de(t.margin[0])),!((j=k.options)===null||j===void 0)&&j.margin&&k.options.margin[2]&&de(k.options.margin[2])>_?_=de(k.options.margin[2]):t!=null&&t.margin&&t.margin[2]&&de(t.margin[2])>_&&(_=de(t.margin[2]))):(!((T=k.options)===null||T===void 0)&&T.margin&&k.options.margin[0]&&we(k.options.margin[0])>w?w=we(k.options.margin[0]):t!=null&&t.margin&&t.margin[0]&&we(t.margin[0])>w&&(w=we(t.margin[0])),!((y=k.options)===null||y===void 0)&&y.margin&&k.options.margin[2]&&we(k.options.margin[2])>_?_=we(k.options.margin[2]):t!=null&&t.margin&&t.margin[2]&&we(t.margin[2])>_&&(_=we(t.margin[2])))}),p(),d+=w+_,t.verbose&&g===0&&console.log(`| SLIDE [${o.length}]: emuSlideTabH ...... = ${(l/fe).toFixed(1)} `),f.forEach((k,F)=>{var j;const T={_type:me.tablecell,_lines:null,_lineHeight:we((!((j=k.options)===null||j===void 0)&&j.fontSize?k.options.fontSize:t.fontSize?t.fontSize:Ut)*(lb+(t.autoPageLineWeight?t.autoPageLineWeight:0))/100),text:[],options:k.options};T.options.rowspan&&(T._lineHeight=0),T.options.autoPageCharWeight=t.autoPageCharWeight?t.autoPageCharWeight:null;let y=t.colW[F];k.options.colspan&&Array.isArray(t.colW)&&(y=t.colW.filter((I,$)=>$>=F&&$<$+k.options.colspan).reduce((I,$)=>I+$)),T._lines=fb(k,y),v.push(T)}),t.verbose&&console.log(`
| SLIDE [${o.length}]: ROW [${g}]: START...`);let R=0,S=0,L=!1;for(;!L;){const k=v[R];let F=D[R];v.forEach(y=>{y._lineHeight>=S&&(S=y._lineHeight)}),d+S>l&&(t.verbose&&(console.log(`
|-----------------------------------------------------------------------|`),console.log(`|-- NEW SLIDE CREATED (currTabH+currLineH > maxH) => ${(d/fe).toFixed(2)} + ${(k._lineHeight/fe).toFixed(2)} > ${l/fe}`),console.log(`|-----------------------------------------------------------------------|

`)),D.length>0&&D.map(I=>I.text.length).reduce((I,$)=>I+$)>0&&b.rows.push(D),o.push(b),b={rows:[]},D=[],f.forEach(I=>D.push({_type:me.tablecell,text:[],options:I.options})),p(),d+=w+_,t.verbose&&console.log(`| SLIDE [${o.length}]: emuSlideTabH ...... = ${(l/fe).toFixed(1)} `),d=0,(t.addHeaderToEach||t.autoPageRepeatHeader)&&t._arrObjTabHeadRows&&t._arrObjTabHeadRows.forEach(I=>{const $=[];let C=0;I.forEach(z=>{$.push(z),z._lineHeight>C&&(C=z._lineHeight)}),b.rows.push($),d+=C}),F=D[R]);const j=k._lines.shift();Array.isArray(F.text)&&(j?F.text=F.text.concat(j):F.text.length===0&&(F.text=F.text.concat({_type:me.tablecell,text:""}))),R===v.length-1&&(d+=S),R=R<v.length-1?R+1:0,v.map(y=>y._lines.length).reduce((y,I)=>y+I)===0&&(L=!0)}D.length>0&&b.rows.push(D),t.verbose&&console.log(`- SLIDE [${o.length}]: ROW [${g}]: ...COMPLETE ...... emuTabCurrH = ${(d/fe).toFixed(2)} ( emuSlideTabH = ${(l/fe).toFixed(2)} )`)}),o.push(b),t.verbose&&(console.log(`
|================================================|`),console.log(`| FINAL: tableRowSlides.length = ${o.length}`),o.forEach(f=>console.log(f)),console.log(`|================================================|

`)),o}function pb(e,t,a={},r){const n=a||{};n.slideMargin=n.slideMargin||n.slideMargin===0?n.slideMargin:.5;let i=n.w||e.presLayout.width;const l=[],d=[],c=[],o=[],u=[];let h=[.5,.5,.5,.5],x=0;if(!document.getElementById(t))throw new Error('tableToSlides: Table ID "'+t+'" does not exist!');r!=null&&r._margin?(Array.isArray(r._margin)?h=r._margin:isNaN(r._margin)||(h=[r._margin,r._margin,r._margin,r._margin]),n.slideMargin=h):n!=null&&n.slideMargin&&(Array.isArray(n.slideMargin)?h=n.slideMargin:isNaN(n.slideMargin)||(h=[n.slideMargin,n.slideMargin,n.slideMargin,n.slideMargin])),i=(n.w?we(n.w):e.presLayout.width)-we(h[1]+h[3]),n.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- `tableToSlides` ----------------------------------------------------|"),console.log(`| tableProps.h .................................... = ${n.h}`),console.log(`| tableProps.w .................................... = ${n.w}`),console.log(`| pptx.presLayout.width ........................... = ${(e.presLayout.width/fe).toFixed(1)}`),console.log(`| pptx.presLayout.height .......................... = ${(e.presLayout.height/fe).toFixed(1)}`),console.log(`| emuSlideTabW .................................... = ${(i/fe).toFixed(1)}`));let m=document.querySelectorAll(`#${t} tr:first-child th`);m.length===0&&(m=document.querySelectorAll(`#${t} tr:first-child td`)),m.forEach(p=>{const b=p;if(b.getAttribute("colspan"))for(let f=0;f<Number(b.getAttribute("colspan"));f++)u.push(Math.round(b.offsetWidth/Number(b.getAttribute("colspan"))));else u.push(b.offsetWidth)}),u.forEach(p=>{x+=p}),u.forEach((p,b)=>{const f=Number((Number(i)*(p/x*100)/100/fe).toFixed(2));let g=0;const v=document.querySelector(`#${t} thead tr:first-child th:nth-child(${b+1})`);v&&(g=Number(v.getAttribute("data-pptx-min-width")));const w=document.querySelector(`#${t} thead tr:first-child th:nth-child(${b+1})`);w&&(g=Number(w.getAttribute("data-pptx-width"))),o.push(g>f?g:f)}),n.verbose&&console.log(`| arrColW ......................................... = [${o.join(", ")}]`),["thead","tbody","tfoot"].forEach(p=>{document.querySelectorAll(`#${t} ${p} tr`).forEach(b=>{const f=b,g=[];switch(Array.from(f.cells).forEach(v=>{const w=window.getComputedStyle(v).getPropertyValue("color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");let _=window.getComputedStyle(v).getPropertyValue("background-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");(window.getComputedStyle(v).getPropertyValue("background-color")==="rgba(0, 0, 0, 0)"||window.getComputedStyle(v).getPropertyValue("transparent"))&&(_=["255","255","255"]);const D={align:null,bold:window.getComputedStyle(v).getPropertyValue("font-weight")==="bold"||Number(window.getComputedStyle(v).getPropertyValue("font-weight"))>=500,border:null,color:oo(Number(w[0]),Number(w[1]),Number(w[2])),fill:{color:oo(Number(_[0]),Number(_[1]),Number(_[2]))},fontFace:(window.getComputedStyle(v).getPropertyValue("font-family")||"").split(",")[0].replace(/"/g,"").replace("inherit","").replace("initial","")||null,fontSize:Number(window.getComputedStyle(v).getPropertyValue("font-size").replace(/[a-z]/gi,"")),margin:null,colspan:Number(v.getAttribute("colspan"))||null,rowspan:Number(v.getAttribute("rowspan"))||null,valign:null};if(["left","center","right","start","end"].includes(window.getComputedStyle(v).getPropertyValue("text-align"))){const R=window.getComputedStyle(v).getPropertyValue("text-align").replace("start","left").replace("end","right");D.align=R==="center"?"center":R==="left"?"left":R==="right"?"right":null}if(["top","middle","bottom"].includes(window.getComputedStyle(v).getPropertyValue("vertical-align"))){const R=window.getComputedStyle(v).getPropertyValue("vertical-align");D.valign=R==="top"?"top":R==="middle"?"middle":R==="bottom"?"bottom":null}window.getComputedStyle(v).getPropertyValue("padding-left")&&(D.margin=[0,0,0,0],["padding-top","padding-right","padding-bottom","padding-left"].forEach((S,L)=>{D.margin[L]=Math.round(Number(window.getComputedStyle(v).getPropertyValue(S).replace(/\D/gi,"")))})),(window.getComputedStyle(v).getPropertyValue("border-top-width")||window.getComputedStyle(v).getPropertyValue("border-right-width")||window.getComputedStyle(v).getPropertyValue("border-bottom-width")||window.getComputedStyle(v).getPropertyValue("border-left-width"))&&(D.border=[null,null,null,null],["top","right","bottom","left"].forEach((S,L)=>{const k=Math.round(Number(window.getComputedStyle(v).getPropertyValue("border-"+S+"-width").replace("px","")));let F=[];F=window.getComputedStyle(v).getPropertyValue("border-"+S+"-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");const j=oo(Number(F[0]),Number(F[1]),Number(F[2]));D.border[L]={pt:k,color:j}})),g.push({_type:me.tablecell,text:v.innerText,options:D})}),p){case"thead":l.push(g);break;case"tbody":d.push(g);break;case"tfoot":c.push(g);break;default:console.log(`table parsing: unexpected table part: ${p}`);break}})}),n._arrObjTabHeadRows=l||null,n.colW=o,Ap([...l,...d,...c],n,e.presLayout,r).forEach((p,b)=>{const f=e.addSlide({masterName:n.masterSlideName||null});b===0&&(n.y=n.y||h[0]),b>0&&(n.y=n.autoPageSlideStartY||n.newSlideStartY||h[0]),n.verbose&&console.log(`| opts.autoPageSlideStartY: ${n.autoPageSlideStartY} / arrInchMargins[0]: ${h[0]} => opts.y = ${n.y}`),f.addTable(p.rows,{x:n.x||h[3],y:n.y,w:Number(i)/fe,colW:o,autoPage:!1}),n.addImage&&(n.addImage.options=n.addImage.options||{},!n.addImage.image||!n.addImage.image.path&&!n.addImage.image.data?console.warn("Warning: tableToSlides.addImage requires either `path` or `data`"):f.addImage({path:n.addImage.image.path,data:n.addImage.image.data,x:n.addImage.options.x,y:n.addImage.options.y,w:n.addImage.options.w,h:n.addImage.options.h})),n.addShape&&f.addShape(n.addShape.shapeName,n.addShape.options||{}),n.addTable&&f.addTable(n.addTable.rows,n.addTable.options||{}),n.addText&&f.addText(n.addText.text,n.addText.options||{})})}let xb=0;function Ab(e,t){e.bkgd&&(t.bkgd=e.bkgd),e.objects&&Array.isArray(e.objects)&&e.objects.length>0&&e.objects.forEach((a,r)=>{const n=Object.keys(a)[0],i=t;Es[n]&&n==="chart"?gp(i,a[n].type,a[n].data,a[n].opts):Es[n]&&n==="image"?vp(i,a[n]):Es[n]&&n==="line"?jc(i,Ks.LINE,a[n]):Es[n]&&n==="rect"?jc(i,Ks.RECTANGLE,a[n]):Es[n]&&n==="text"?Yi(i,[{text:a[n].text}],a[n].options,!1):Es[n]&&n==="placeholder"&&(a[n].options.placeholder=a[n].options.name,delete a[n].options.name,a[n].options._placeholderType=a[n].options.type,delete a[n].options.type,a[n].options._placeholderIdx=100+r,Yi(i,[{text:a[n].text}],a[n].options,!0))}),e.slideNumber&&typeof e.slideNumber=="object"&&(t._slideNumberProps=e.slideNumber)}function gp(e,t,a,r){var n;function i(h){!h||h.style==="none"||(h.size!==void 0&&(isNaN(Number(h.size))||h.size<=0)&&(console.warn("Warning: chart.gridLine.size must be greater than 0."),delete h.size),h.style&&!["solid","dash","dot"].includes(h.style)&&(console.warn("Warning: chart.gridLine.style options: `solid`, `dash`, `dot`."),delete h.style),h.cap&&!["flat","square","round"].includes(h.cap)&&(console.warn("Warning: chart.gridLine.cap options: `flat`, `square`, `round`."),delete h.cap))}const l=++xb,d={_type:null,text:null,options:null,chartRid:null};let c=null,o=[];Array.isArray(t)?(t.forEach(h=>{o=o.concat(h.data)}),c=a||r):(o=a,c=r),o.forEach((h,x)=>{h._dataIndex=x,h.labels!==void 0&&!Array.isArray(h.labels[0])&&(h.labels=[h.labels])});const u=c&&typeof c=="object"?c:{};if(u._type=t,u.x=typeof u.x<"u"&&u.x!=null&&!isNaN(Number(u.x))?u.x:1,u.y=typeof u.y<"u"&&u.y!=null&&!isNaN(Number(u.y))?u.y:1,u.w=u.w||"50%",u.h=u.h||"50%",u.objectName=u.objectName?he(u.objectName):`Chart ${e._slideObjects.filter(h=>h._type===me.chart).length}`,["bar","col"].includes(u.barDir||"")||(u.barDir="col"),u._type===Y.AREA&&(["stacked","standard","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="standard")),u._type===Y.BAR&&(["clustered","stacked","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="clustered")),u._type===Y.BAR3D&&(["clustered","stacked","standard","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="standard")),!((n=u.barGrouping)===null||n===void 0)&&n.includes("tacked")&&(u.barGapWidthPct||(u.barGapWidthPct=50)),u.dataLabelPosition&&((u._type===Y.AREA||u._type===Y.BAR3D||u._type===Y.DOUGHNUT||u._type===Y.RADAR)&&delete u.dataLabelPosition,u._type===Y.PIE&&(["bestFit","ctr","inEnd","outEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition),(u._type===Y.BUBBLE||u._type===Y.BUBBLE3D||u._type===Y.LINE||u._type===Y.SCATTER)&&(["b","ctr","l","r","t"].includes(u.dataLabelPosition)||delete u.dataLabelPosition),u._type===Y.BAR&&(["stacked","percentStacked"].includes(u.barGrouping||"")||["ctr","inBase","inEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition,["clustered"].includes(u.barGrouping||"")||["ctr","inBase","inEnd","outEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition)),u.dataLabelBkgrdColors=u.dataLabelBkgrdColors||!u.dataLabelBkgrdColors?u.dataLabelBkgrdColors:!1,["b","l","r","t","tr"].includes(u.legendPos||"")||(u.legendPos="r"),["cone","coneToMax","box","cylinder","pyramid","pyramidToMax"].includes(u.bar3DShape||"")||(u.bar3DShape="box"),["circle","dash","diamond","dot","none","square","triangle"].includes(u.lineDataSymbol||"")||(u.lineDataSymbol="circle"),["gap","span"].includes(u.displayBlanksAs||"")||(u.displayBlanksAs="span"),["standard","marker","filled"].includes(u.radarStyle||"")||(u.radarStyle="standard"),u.lineDataSymbolSize=u.lineDataSymbolSize&&!isNaN(u.lineDataSymbolSize)?u.lineDataSymbolSize:6,u.lineDataSymbolLineSize=u.lineDataSymbolLineSize&&!isNaN(u.lineDataSymbolLineSize)?de(u.lineDataSymbolLineSize):de(.75),u.layout&&["x","y","w","h"].forEach(h=>{const x=u.layout[h];(isNaN(Number(x))||x<0||x>1)&&(console.warn("Warning: chart.layout."+h+" can only be 0-1"),delete u.layout[h])}),u.catGridLine=u.catGridLine||(u._type===Y.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),u.valGridLine=u.valGridLine||(u._type===Y.SCATTER?{color:"D9D9D9",size:1}:{}),u.serGridLine=u.serGridLine||(u._type===Y.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),i(u.catGridLine),i(u.valGridLine),i(u.serGridLine),Rd(u.shadow),u.showDataTable=u.showDataTable||!u.showDataTable?u.showDataTable:!1,u.showDataTableHorzBorder=u.showDataTableHorzBorder||!u.showDataTableHorzBorder?u.showDataTableHorzBorder:!0,u.showDataTableVertBorder=u.showDataTableVertBorder||!u.showDataTableVertBorder?u.showDataTableVertBorder:!0,u.showDataTableOutline=u.showDataTableOutline||!u.showDataTableOutline?u.showDataTableOutline:!0,u.showDataTableKeys=u.showDataTableKeys||!u.showDataTableKeys?u.showDataTableKeys:!0,u.showLabel=u.showLabel||!u.showLabel?u.showLabel:!1,u.showLegend=u.showLegend||!u.showLegend?u.showLegend:!1,u.showPercent=u.showPercent||!u.showPercent?u.showPercent:!0,u.showTitle=u.showTitle||!u.showTitle?u.showTitle:!1,u.showValue=u.showValue||!u.showValue?u.showValue:!1,u.showLeaderLines=u.showLeaderLines||!u.showLeaderLines?u.showLeaderLines:!1,u.catAxisLineShow=typeof u.catAxisLineShow<"u"?u.catAxisLineShow:!0,u.valAxisLineShow=typeof u.valAxisLineShow<"u"?u.valAxisLineShow:!0,u.serAxisLineShow=typeof u.serAxisLineShow<"u"?u.serAxisLineShow:!0,u.v3DRotX=!isNaN(u.v3DRotX)&&u.v3DRotX>=-90&&u.v3DRotX<=90?u.v3DRotX:30,u.v3DRotY=!isNaN(u.v3DRotY)&&u.v3DRotY>=0&&u.v3DRotY<=360?u.v3DRotY:30,u.v3DRAngAx=u.v3DRAngAx||!u.v3DRAngAx?u.v3DRAngAx:!0,u.v3DPerspective=!isNaN(u.v3DPerspective)&&u.v3DPerspective>=0&&u.v3DPerspective<=240?u.v3DPerspective:30,u.barGapWidthPct=!isNaN(u.barGapWidthPct)&&u.barGapWidthPct>=0&&u.barGapWidthPct<=1e3?u.barGapWidthPct:150,u.barGapDepthPct=!isNaN(u.barGapDepthPct)&&u.barGapDepthPct>=0&&u.barGapDepthPct<=1e3?u.barGapDepthPct:150,u.chartColors=Array.isArray(u.chartColors)?u.chartColors:u._type===Y.PIE||u._type===Y.DOUGHNUT?ub:zr,u.chartColorsOpacity=u.chartColorsOpacity&&!isNaN(u.chartColorsOpacity)?u.chartColorsOpacity:null,u.border=u.border&&typeof u.border=="object"?u.border:null,u.border&&(!u.border.pt||isNaN(u.border.pt))&&(u.border.pt=Fa.pt),u.border&&(!u.border.color||typeof u.border.color!="string")&&(u.border.color=Fa.color),u.plotArea=u.plotArea||{},u.plotArea.border=u.plotArea.border&&typeof u.plotArea.border=="object"?u.plotArea.border:null,u.plotArea.border&&(!u.plotArea.border.pt||isNaN(u.plotArea.border.pt))&&(u.plotArea.border.pt=Fa.pt),u.plotArea.border&&(!u.plotArea.border.color||typeof u.plotArea.border.color!="string")&&(u.plotArea.border.color=Fa.color),u.border&&(u.plotArea.border=u.border),u.plotArea.fill=u.plotArea.fill||{color:null,transparency:null},u.fill&&(u.plotArea.fill.color=u.fill),u.chartArea=u.chartArea||{},u.chartArea.border=u.chartArea.border&&typeof u.chartArea.border=="object"?u.chartArea.border:null,u.chartArea.border&&(u.chartArea.border={color:u.chartArea.border.color||Fa.color,pt:u.chartArea.border.pt||Fa.pt}),u.chartArea.roundedCorners=typeof u.chartArea.roundedCorners=="boolean"?u.chartArea.roundedCorners:!0,u.dataBorder=u.dataBorder&&typeof u.dataBorder=="object"?u.dataBorder:null,u.dataBorder&&(!u.dataBorder.pt||isNaN(u.dataBorder.pt))&&(u.dataBorder.pt=.75),u.dataBorder&&u.dataBorder.color){const h=typeof u.dataBorder.color=="string"&&u.dataBorder.color.length===6&&/^[0-9A-Fa-f]{6}$/.test(u.dataBorder.color),x=Object.values(Ji).includes(u.dataBorder.color);!h&&!x&&(u.dataBorder.color="F9F9F9")}return!u.dataLabelFormatCode&&u._type===Y.SCATTER&&(u.dataLabelFormatCode="General"),!u.dataLabelFormatCode&&(u._type===Y.PIE||u._type===Y.DOUGHNUT)&&(u.dataLabelFormatCode=u.showPercent?"0%":"General"),u.dataLabelFormatCode=u.dataLabelFormatCode&&typeof u.dataLabelFormatCode=="string"?u.dataLabelFormatCode:"#,##0",!u.dataLabelFormatScatter&&u._type===Y.SCATTER&&(u.dataLabelFormatScatter="custom"),u.lineSize=typeof u.lineSize=="number"?u.lineSize:2,u.valAxisMajorUnit=typeof u.valAxisMajorUnit=="number"?u.valAxisMajorUnit:null,u._type===Y.AREA||u._type===Y.BAR||u._type===Y.BAR3D||u._type===Y.LINE?u.catAxisMultiLevelLabels=!!u.catAxisMultiLevelLabels:delete u.catAxisMultiLevelLabels,d._type="chart",d.options=u,d.chartRid=gs(e),e._relsChart.push({rId:gs(e),data:o,opts:u,type:u._type,globalId:l,fileName:`chart${l}.xml`,Target:`/ppt/charts/chart${l}.xml`}),e._slideObjects.push(d),d}function vp(e,t){const a={_type:null,text:null,options:null,image:null,imageRid:null,hyperlink:null},r=t.x||0,n=t.y||0,i=t.w||0,l=t.h||0,d=t.sizing||null,c=t.hyperlink||"",o=t.data||"",u=t.path||"";let h=gs(e);const x=t.objectName?he(t.objectName):`Image ${e._slideObjects.filter(A=>A._type===me.image).length}`;if(!u&&!o)return console.error("ERROR: addImage() requires either 'data' or 'path' parameter!"),null;if(u&&typeof u!="string")return console.error(`ERROR: addImage() 'path' should be a string, ex: {path:'/img/sample.png'} - you sent ${String(u)}`),null;if(o&&typeof o!="string")return console.error(`ERROR: addImage() 'data' should be a string, ex: {data:'image/png;base64,NMP[...]'} - you sent ${String(o)}`),null;if(o&&typeof o=="string"&&!o.toLowerCase().includes("base64,"))return console.error("ERROR: Image `data` value lacks a base64 header! Ex: 'image/png;base64,NMP[...]')"),null;let m=(u.substring(u.lastIndexOf("/")+1).split("?")[0].split(".").pop().split("#")[0]||"png").toLowerCase();if(o&&/image\/(\w+);/.exec(o)&&/image\/(\w+);/.exec(o).length>0?m=/image\/(\w+);/.exec(o)[1]:o!=null&&o.toLowerCase().includes("image/svg+xml")&&(m="svg"),a._type=me.image,a.image=u||"preencoded.png",a.options={x:r||0,y:n||0,w:i||1,h:l||1,altText:t.altText||"",rounding:typeof t.rounding=="boolean"?t.rounding:!1,sizing:d,placeholder:t.placeholder,rotate:t.rotate||0,flipV:t.flipV||!1,flipH:t.flipH||!1,transparency:t.transparency||0,objectName:x,shadow:Rd(t.shadow)},m==="svg")e._relsMedia.push({path:u||o+"png",type:"image/png",extn:"png",data:o||"",rId:h,Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`,isSvgPng:!0,svgSize:{w:Ae(a.options.w,"X",e._presLayout),h:Ae(a.options.h,"Y",e._presLayout)}}),a.imageRid=h,e._relsMedia.push({path:u||o,type:"image/svg+xml",extn:m,data:o||"",rId:h+1,Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.${m}`}),a.imageRid=h+1;else{const A=e._relsMedia.filter(p=>p.path&&p.path===u&&p.type==="image/"+m&&!p.isDuplicate)[0];e._relsMedia.push({path:u||"preencoded."+m,type:"image/"+m,extn:m,data:o||"",rId:h,isDuplicate:!!(A!=null&&A.Target),Target:A!=null&&A.Target?A.Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.${m}`}),a.imageRid=h}if(typeof c=="object"){if(!c.url&&!c.slide)throw new Error("ERROR: `hyperlink` option requires either: `url` or `slide`");h++,e._rels.push({type:me.hyperlink,data:c.slide?"slide":"dummy",rId:h,Target:c.url||c.slide.toString()}),c._rId=h,a.hyperlink=c}e._slideObjects.push(a)}function gb(e,t){const a=t.x||0,r=t.y||0,n=t.w||2,i=t.h||2,l=t.data||"",d=t.link||"",c=t.path||"",o=t.type||"audio";let u="";const h=t.cover||hb,x=t.objectName?he(t.objectName):`Media ${e._slideObjects.filter(A=>A._type===me.media).length}`,m={_type:me.media};if(!c&&!l&&o!=="online")throw new Error("addMedia() error: either `data` or `path` are required!");if(l&&!l.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `data` value lacks a base64 header! Ex: 'video/mpeg;base64,NMP[...]')");if(!h.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `cover` value lacks a base64 header! Ex: 'data:image/png;base64,iV[...]')");if(o==="online"&&!d)throw new Error("addMedia() error: online videos require `link` value");if(u=t.extn||(l?l.split(";")[0].split("/")[1]:c.split(".").pop())||"mp3",m.mtype=o,m.media=c||"preencoded.mov",m.options={},m.options.x=a,m.options.y=r,m.options.w=n,m.options.h=i,m.options.objectName=x,o==="online"){const A=gs(e);e._relsMedia.push({path:c||"preencoded"+u,data:"dummy",type:"online",extn:u,rId:A,Target:d}),m.mediaRid=A,e._relsMedia.push({path:"preencoded.png",data:h,type:"image/png",extn:"png",rId:gs(e),Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`})}else{const A=e._relsMedia.filter(b=>b.path&&b.path===c&&b.type===o+"/"+u&&!b.isDuplicate)[0],p=gs(e);e._relsMedia.push({path:c||"preencoded"+u,type:o+"/"+u,extn:u,data:l||"",rId:p,isDuplicate:!!(A!=null&&A.Target),Target:A!=null&&A.Target?A.Target:`../media/media-${e._slideNum}-${e._relsMedia.length+1}.${u}`}),m.mediaRid=p,e._relsMedia.push({path:c||"preencoded"+u,type:o+"/"+u,extn:u,data:l||"",rId:gs(e),isDuplicate:!!(A!=null&&A.Target),Target:A!=null&&A.Target?A.Target:`../media/media-${e._slideNum}-${e._relsMedia.length+0}.${u}`}),e._relsMedia.push({path:"preencoded.png",type:"image/png",extn:"png",data:h,rId:gs(e),Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`})}e._slideObjects.push(m)}function vb(e,t){e._slideObjects.push({_type:me.notes,text:[{text:t}]})}function jc(e,t,a){const r=typeof a=="object"?a:{};r.line=r.line||{type:"none"};const n={_type:me.text,shape:t||Ks.RECTANGLE,options:r,text:null};if(!t)throw new Error("Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`");const i={type:r.line.type||"solid",color:r.line.color||fp,transparency:r.line.transparency||0,width:r.line.width||1,dashType:r.line.dashType||"solid",beginArrowType:r.line.beginArrowType||null,endArrowType:r.line.endArrowType||null};if(typeof r.line=="object"&&r.line.type!=="none"&&(r.line=i),r.x=r.x||(r.x===0?0:1),r.y=r.y||(r.y===0?0:1),r.w=r.w||(r.w===0?0:1),r.h=r.h||(r.h===0?0:1),r.objectName=r.objectName?he(r.objectName):`Shape ${e._slideObjects.filter(l=>l._type===me.text).length}`,typeof r.line=="string"){const l=i;l.color=String(r.line),r.line=l}typeof r.lineSize=="number"&&(r.line.width=r.lineSize),typeof r.lineDash=="string"&&(r.line.dashType=r.lineDash),typeof r.lineHead=="string"&&(r.line.beginArrowType=r.lineHead),typeof r.lineTail=="string"&&(r.line.endArrowType=r.lineTail),fr(e,n),e._slideObjects.push(n)}function bb(e,t,a,r,n,i,l){const d=[e],c=a&&typeof a=="object"?a:{};c.objectName=c.objectName?he(c.objectName):`Table ${e._slideObjects.filter(x=>x._type===me.table).length}`;{if(t===null||t.length===0||!Array.isArray(t))throw new Error("addTable: Array expected! EX: 'slide.addTable( [rows], {options} );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)");if(!t[0]||!Array.isArray(t[0]))throw new Error("addTable: 'rows' should be an array of cells! EX: 'slide.addTable( [ ['A'], ['B'], {text:'C',options:{align:'center'}} ] );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)")}const o=[];t.forEach(x=>{const m=[];Array.isArray(x)?x.forEach(A=>{const p={_type:me.tablecell,text:"",options:typeof A=="object"&&A.options?A.options:{}};typeof A=="string"||typeof A=="number"?p.text=A.toString():A.text&&(typeof A.text=="string"||typeof A.text=="number"?p.text=A.text.toString():A.text&&(p.text=A.text),A.options&&typeof A.options=="object"&&(p.options=A.options)),p.options.border=p.options.border||c.border||[{type:"none"},{type:"none"},{type:"none"},{type:"none"}];const b=p.options.border;!Array.isArray(b)&&typeof b=="object"&&(p.options.border=[b,b,b,b]),p.options.border[0]||(p.options.border[0]={type:"none"}),p.options.border[1]||(p.options.border[1]={type:"none"}),p.options.border[2]||(p.options.border[2]={type:"none"}),p.options.border[3]||(p.options.border[3]={type:"none"}),[0,1,2,3].forEach(g=>{p.options.border[g]={type:p.options.border[g].type||Ta.type,color:p.options.border[g].color||Ta.color,pt:typeof p.options.border[g].pt=="number"?p.options.border[g].pt:Ta.pt}}),m.push(p)}):(console.log("addTable: tableRows has a bad row. A row should be an array of cells. You provided:"),console.log(x)),o.push(m)}),c.x=Ae(c.x||(c.x===0?0:fe/2),"X",n),c.y=Ae(c.y||(c.y===0?0:fe/2),"Y",n),c.h&&(c.h=Ae(c.h,"Y",n)),c.fontSize=c.fontSize||Ut,c.margin=c.margin===0||c.margin?c.margin:mp,typeof c.margin=="number"&&(c.margin=[Number(c.margin),Number(c.margin),Number(c.margin),Number(c.margin)]),JSON.stringify({arrRows:o}).indexOf("hyperlink")===-1&&(c.color||(c.color=c.color||_t)),typeof c.border=="string"?(console.warn("addTable `border` option must be an object. Ex: `{border: {type:'none'}}`"),c.border=null):Array.isArray(c.border)&&[0,1,2,3].forEach(x=>{c.border[x]=c.border[x]?{type:c.border[x].type||Ta.type,color:c.border[x].color||Ta.color,pt:c.border[x].pt||Ta.pt}:{type:"none"}}),c.autoPage=typeof c.autoPage=="boolean"?c.autoPage:!1,c.autoPageRepeatHeader=typeof c.autoPageRepeatHeader=="boolean"?c.autoPageRepeatHeader:!1,c.autoPageHeaderRows=typeof c.autoPageHeaderRows<"u"&&!isNaN(Number(c.autoPageHeaderRows))?Number(c.autoPageHeaderRows):1,c.autoPageLineWeight=typeof c.autoPageLineWeight<"u"&&!isNaN(Number(c.autoPageLineWeight))?Number(c.autoPageLineWeight):0,c.autoPageLineWeight&&(c.autoPageLineWeight>1?c.autoPageLineWeight=1:c.autoPageLineWeight<-1&&(c.autoPageLineWeight=-1));let u=_n;if(r&&typeof r._margin<"u"&&(Array.isArray(r._margin)?u=r._margin:isNaN(Number(r._margin))||(u=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)])),c.colW){const x=o[0].reduce((m,A)=>{var p;return!((p=A==null?void 0:A.options)===null||p===void 0)&&p.colspan&&typeof A.options.colspan=="number"?m+=A.options.colspan:m+=1,m},0);typeof c.colW=="string"||typeof c.colW=="number"||c.colW&&Array.isArray(c.colW)&&c.colW.length===1&&x>1?(c.w=Math.floor(Number(c.colW)*x),c.colW=null):c.colW&&Array.isArray(c.colW)&&c.colW.length!==x&&(console.warn("addTable: mismatch: (colW.length != data.length) Therefore, defaulting to evenly distributed col widths."),c.colW=null)}else c.w?c.w=Ae(c.w,"X",n):c.w=Math.floor(n._sizeW/fe-u[1]-u[3]);c.x&&c.x<20&&(c.x=we(c.x)),c.y&&c.y<20&&(c.y=we(c.y)),c.w&&typeof c.w=="number"&&c.w<20&&(c.w=we(c.w)),c.h&&typeof c.h=="number"&&c.h<20&&(c.h=we(c.h)),o.forEach(x=>{x.forEach((m,A)=>{typeof m=="number"||typeof m=="string"?x[A]={_type:me.tablecell,text:String(x[A]),options:c}:typeof m=="object"&&(typeof m.text=="number"?x[A].text=x[A].text.toString():(typeof m.text>"u"||m.text===null)&&(x[A].text=""),x[A].options=m.options||{},x[A]._type=me.tablecell)})});const h=[];return c&&!c.autoPage?(fr(e,o),e._slideObjects.push({_type:me.table,arrTabRows:o,options:Object.assign({},c)})):(c.autoPageRepeatHeader&&(c._arrObjTabHeadRows=o.filter((x,m)=>m<c.autoPageHeaderRows)),Ap(o,c,n,r).forEach((x,m)=>{l(e._slideNum+m)||d.push(i({masterName:(r==null?void 0:r._name)||null})),m>0&&(c.y=we(c.autoPageSlideStartY||c.newSlideStartY||u[0]));{const A=l(e._slideNum+m);c.autoPage=!1,fr(A,x.rows),A.addTable(x.rows,Object.assign({},c)),m>0&&h.push(A)}})),h}function Yi(e,t,a,r){const n={_type:r?me.placeholder:me.text,shape:(a==null?void 0:a.shape)||Ks.RECTANGLE,text:!t||t.length===0?[{text:"",options:null}]:t,options:a||{}};function i(l){{if(l.placeholder||(l.color=l.color||n.options.color||e.color||_t),(l.placeholder||r)&&(l.bullet=l.bullet||!1),l.placeholder&&e._slideLayout&&e._slideLayout._slideObjects){const d=e._slideLayout._slideObjects.filter(c=>c._type==="placeholder"&&c.options&&c.options.placeholder&&c.options.placeholder===l.placeholder)[0];d!=null&&d.options&&(l=Object.assign(Object.assign({},l),d.options))}if(l.objectName=l.objectName?he(l.objectName):`Text ${e._slideObjects.filter(d=>d._type===me.text).length}`,l.shape===Ks.LINE){const d={type:l.line.type||"solid",color:l.line.color||fp,transparency:l.line.transparency||0,width:l.line.width||1,dashType:l.line.dashType||"solid",beginArrowType:l.line.beginArrowType||null,endArrowType:l.line.endArrowType||null};if(typeof l.line=="object"&&(l.line=d),typeof l.line=="string"){const c=d;typeof l.line=="string"&&(c.color=l.line),l.line=c}typeof l.lineSize=="number"&&(l.line.width=l.lineSize),typeof l.lineDash=="string"&&(l.line.dashType=l.lineDash),typeof l.lineHead=="string"&&(l.line.beginArrowType=l.lineHead),typeof l.lineTail=="string"&&(l.line.endArrowType=l.lineTail)}l.line=l.line||{},l.lineSpacing=l.lineSpacing&&!isNaN(l.lineSpacing)?l.lineSpacing:null,l.lineSpacingMultiple=l.lineSpacingMultiple&&!isNaN(l.lineSpacingMultiple)?l.lineSpacingMultiple:null,l._bodyProp=l._bodyProp||{},l._bodyProp.autoFit=l.autoFit||!1,l._bodyProp.anchor=l.placeholder?null:Ka.ctr,l._bodyProp.vert=l.vert||null,l._bodyProp.wrap=typeof l.wrap=="boolean"?l.wrap:!0,(l.inset&&!isNaN(Number(l.inset))||l.inset===0)&&(l._bodyProp.lIns=we(l.inset),l._bodyProp.rIns=we(l.inset),l._bodyProp.tIns=we(l.inset),l._bodyProp.bIns=we(l.inset)),typeof l.underline=="boolean"&&l.underline===!0&&(l.underline={style:"sng"})}return(l.align||"").toLowerCase().indexOf("c")===0?l._bodyProp.align=Xa.center:(l.align||"").toLowerCase().indexOf("l")===0?l._bodyProp.align=Xa.left:(l.align||"").toLowerCase().indexOf("r")===0?l._bodyProp.align=Xa.right:(l.align||"").toLowerCase().indexOf("j")===0&&(l._bodyProp.align=Xa.justify),(l.valign||"").toLowerCase().indexOf("b")===0?l._bodyProp.anchor=Ka.b:(l.valign||"").toLowerCase().indexOf("m")===0?l._bodyProp.anchor=Ka.ctr:(l.valign||"").toLowerCase().indexOf("t")===0&&(l._bodyProp.anchor=Ka.t),Rd(l.shadow),l}n.options=i(n.options),n.text.forEach(l=>l.options=i(l.options||{})),fr(e,n.text||""),e._slideObjects.push(n)}function yb(e){(e._slideLayout._slideObjects||[]).forEach(t=>{t._type===me.placeholder&&e._slideObjects.filter(a=>a.options&&a.options.placeholder===t.options.placeholder).length===0&&Yi(e,[{text:""}],t.options,!1)})}function bp(e,t){var a;if(t.bkgd&&(t.background||(t.background={}),typeof t.bkgd=="string"?t.background.color=t.bkgd:(t.bkgd.data&&(t.background.data=t.bkgd.data),t.bkgd.path&&(t.background.path=t.bkgd.path),t.bkgd.src&&(t.background.path=t.bkgd.src))),!((a=t.background)===null||a===void 0)&&a.fill&&(t.background.color=t.background.fill),e&&(e.path||e.data)){e.path=e.path||"preencoded.png";let r=(e.path.split(".").pop()||"png").split("?")[0];r==="jpg"&&(r="jpeg"),t._relsMedia=t._relsMedia||[];const n=t._relsMedia.length+1;t._relsMedia.push({path:e.path,type:me.image,extn:r,data:e.data||null,rId:n,Target:`../media/${(t._name||"").replace(/\s+/gi,"-")}-image-${t._relsMedia.length+1}.${r}`}),t._bkgdImgRid=n}}function fr(e,t,a){let r=[];typeof t=="string"||typeof t=="number"||(Array.isArray(t)?r=t:typeof t=="object"&&(r=[t]),r.forEach((n,i)=>{if(a&&a[i]&&a[i].hyperlink&&(n.options=Object.assign(Object.assign({},n.options),a[i])),Array.isArray(n)){const l=[];n.forEach(d=>{d.options&&!d.text.options&&l.push(d.options)}),fr(e,n,l)}else if(Array.isArray(n.text))fr(e,n.text,a&&a[i]?[a[i]]:void 0);else if(n&&typeof n=="object"&&n.options&&n.options.hyperlink&&!n.options.hyperlink._rId)if(typeof n.options.hyperlink!="object")console.log("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink: {url:'https://github.com'}` ");else if(!n.options.hyperlink.url&&!n.options.hyperlink.slide)console.log("ERROR: 'hyperlink requires either: `url` or `slide`'");else{const l=gs(e);e._rels.push({type:me.hyperlink,data:n.options.hyperlink.slide?"slide":"dummy",rId:l,Target:he(n.options.hyperlink.url)||n.options.hyperlink.slide.toString()}),n.options.hyperlink._rId=l}else n&&typeof n=="object"&&n.options&&n.options.hyperlink&&n.options.hyperlink._rId&&e._rels.filter(l=>l.rId===n.options.hyperlink._rId).length===0&&e._rels.push({type:me.hyperlink,data:n.options.hyperlink.slide?"slide":"dummy",rId:n.options.hyperlink._rId,Target:he(n.options.hyperlink.url)||n.options.hyperlink.slide.toString()})}))}class wb{constructor(t){var a;this.addSlide=t.addSlide,this.getSlide=t.getSlide,this._name=`Slide ${t.slideNumber}`,this._presLayout=t.presLayout,this._rId=t.slideRId,this._rels=[],this._relsChart=[],this._relsMedia=[],this._setSlideNum=t.setSlideNum,this._slideId=t.slideId,this._slideLayout=t.slideLayout||null,this._slideNum=t.slideNumber,this._slideObjects=[],this._slideNumberProps=!((a=this._slideLayout)===null||a===void 0)&&a._slideNumberProps?this._slideLayout._slideNumberProps:null}set bkgd(t){this._bkgd=t,(!this._background||!this._background.color)&&(this._background||(this._background={}),typeof t=="string"&&(this._background.color=t))}get bkgd(){return this._bkgd}set background(t){this._background=t,t&&bp(t,this)}get background(){return this._background}set color(t){this._color=t}get color(){return this._color}set hidden(t){this._hidden=t}get hidden(){return this._hidden}set slideNumber(t){this._slideNumberProps=t,this._setSlideNum(t)}get slideNumber(){return this._slideNumberProps}get newAutoPagedSlides(){return this._newAutoPagedSlides}addChart(t,a,r){const n=r||{};return n._type=t,gp(this,t,a,r),this}addImage(t){return vp(this,t),this}addMedia(t){return gb(this,t),this}addNotes(t){return vb(this,t),this}addShape(t,a){return jc(this,t,a),this}addTable(t,a){return this._newAutoPagedSlides=bb(this,t,a,this._slideLayout,this._presLayout,this.addSlide,this.getSlide),this}addText(t,a){return Yi(this,typeof t=="string"||typeof t=="number"?[{text:t,options:a}]:t,a,!1),this}}function _b(e,t){return Dt(this,void 0,void 0,function*(){const a=e.data;return yield new Promise((r,n)=>{var i,l;const d=new hp,c=(a.length-1)*2+1,o=((l=(i=a[0])===null||i===void 0?void 0:i.labels)===null||l===void 0?void 0:l.length)>1;d.folder("_rels"),d.folder("docProps"),d.folder("xl/_rels"),d.folder("xl/tables"),d.folder("xl/theme"),d.folder("xl/worksheets"),d.folder("xl/worksheets/_rels"),d.file("[Content_Types].xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>  <Default Extension="xml" ContentType="application/xml"/>  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>  <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>  <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>  <Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>
`),d.file("_rels/.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>
`),d.file("docProps/app.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Macintosh Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>
`),d.file("docProps/core.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>PptxGenJS</dc:creator><cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+"</dcterms:modified></cp:coreProperties>"),d.file("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>'),d.file("xl/styles.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><numFmts count="1"><numFmt numFmtId="0" formatCode="General"/></numFmts><fonts count="4"><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="10"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="18"/><color indexed="8"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count="0"/><tableStyles count="0"/><colors><indexedColors><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ffff0000"/><rgbColor rgb="ff00ff00"/><rgbColor rgb="ff0000ff"/><rgbColor rgb="ffffff00"/><rgbColor rgb="ffff00ff"/><rgbColor rgb="ff00ffff"/><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ff878787"/><rgbColor rgb="fff9f9f9"/></indexedColors></colors></styleSheet>
`),d.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'),d.file("xl/workbook.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="7" lowestEdited="6" rupBuild="10507"/><workbookPr/><bookViews><workbookView xWindow="0" yWindow="500" windowWidth="20960" windowHeight="15960"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="0" concurrentCalc="0"/></workbook>
`),d.file("xl/worksheets/_rels/sheet1.xml.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>
`);{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D)u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${c}" uniqueCount="${c}">`;else if(e.opts._type===Y.SCATTER)u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${a.length}" uniqueCount="${a.length}">`;else if(o){let h=a.length;a[0].labels.forEach(x=>h+=x.filter(m=>m&&m!=="").length),u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${h}">`,u+="<si><t/></si>"}else{const h=a.length+a[0].labels.length*a[0].labels[0].length+a[0].labels.length,x=a.length+a[0].labels.length*a[0].labels[0].length+1;u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${x}">`,u+='<si><t xml:space="preserve"></t></si>'}e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D?a.forEach((h,x)=>{x===0?u+="<si><t>X-Axis</t></si>":(u+=`<si><t>${he(h.name||`Y-Axis${x}`)}</t></si>`,u+=`<si><t>${he(`Size${x}`)}</t></si>`)}):a.forEach(h=>{u+=`<si><t>${he((h.name||" ").replace("X-Axis","X-Values"))}</t></si>`}),e.opts._type!==Y.BUBBLE&&e.opts._type!==Y.BUBBLE3D&&e.opts._type!==Y.SCATTER&&a[0].labels.slice().reverse().forEach(h=>{h.filter(x=>x&&x!=="").forEach(x=>{u+=`<si><t>${he(x)}</t></si>`})}),u+=`</sst>
`,d.file("xl/sharedStrings.xml",u)}{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D){u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${ke(c)}${c}" totalsRowShown="0">`,u+=`<tableColumns count="${c}">`;let h=1;a.forEach((x,m)=>{m===0?u+=`<tableColumn id="${m+1}" name="X-Values"/>`:(u+=`<tableColumn id="${m+h}" name="${x.name}"/>`,h++,u+=`<tableColumn id="${m+h}" name="Size${m}"/>`)})}else e.opts._type===Y.SCATTER?(u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${ke(a.length)}${a[0].values.length+1}" totalsRowShown="0">`,u+=`<tableColumns count="${a.length}">`,a.forEach((h,x)=>{u+=`<tableColumn id="${x+1}" name="${x===0?"X-Values":"Y-Value "}${x}"/>`})):(u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${ke(a.length+a[0].labels.length)}${a[0].labels[0].length+1}'" totalsRowShown="0">`,u+=`<tableColumns count="${a.length+a[0].labels.length}">`,a[0].labels.forEach((h,x)=>{u+=`<tableColumn id="${x+1}" name="Column${x+1}"/>`}),a.forEach((h,x)=>{u+=`<tableColumn id="${x+a[0].labels.length+1}" name="${he(h.name)}"/>`}));u+="</tableColumns>",u+='<tableStyleInfo showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>',u+="</table>",d.file("xl/tables/table1.xml",u)}{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(u+='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D?u+=`<dimension ref="A1:${ke(c)}${a[0].values.length+1}"/>`:e.opts._type===Y.SCATTER?u+=`<dimension ref="A1:${ke(a.length)}${a[0].values.length+1}"/>`:u+=`<dimension ref="A1:${ke(a.length+1)}${a[0].values.length+1}"/>`,u+='<sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="B1" sqref="B1"/></sheetView></sheetViews>',u+='<sheetFormatPr baseColWidth="10" defaultRowHeight="16"/>',e.opts._type===Y.BUBBLE||e.opts._type===Y.BUBBLE3D){u+="<sheetData>",u+=`<row r="1" spans="1:${c}">`,u+='<c r="A1" t="s"><v>0</v></c>';for(let h=1;h<c;h++)u+=`<c r="${ke(h+1)}1" t="s"><v>${h}</v></c>`;u+="</row>",a[0].values.forEach((h,x)=>{u+=`<row r="${x+2}" spans="1:${c}">`,u+=`<c r="A${x+2}"><v>${h}</v></c>`;let m=2;for(let A=1;A<a.length;A++)u+=`<c r="${ke(m)}${x+2}"><v>${a[A].values[x]||""}</v></c>`,m++,u+=`<c r="${ke(m)}${x+2}"><v>${a[A].sizes[x]||""}</v></c>`,m++;u+="</row>"})}else if(e.opts._type===Y.SCATTER){u+="<sheetData>",u+=`<row r="1" spans="1:${a.length}">`;for(let h=0;h<a.length;h++)u+=`<c r="${ke(h+1)}1" t="s"><v>${h}</v></c>`;u+="</row>",a[0].values.forEach((h,x)=>{u+=`<row r="${x+2}" spans="1:${a.length}">`,u+=`<c r="A${x+2}"><v>${h}</v></c>`;for(let m=1;m<a.length;m++)u+=`<c r="${ke(m+1)}${x+2}"><v>${a[m].values[x]||a[m].values[x]===0?a[m].values[x]:""}</v></c>`;u+="</row>"})}else if(u+="<sheetData>",o){u+=`<row r="1" spans="1:${a.length+a[0].labels.length}">`;for(let A=0;A<a[0].labels.length;A++)u+=`<c r="${ke(A+1)}1" t="s"><v>0</v></c>`;for(let A=a[0].labels.length-1;A<a.length+a[0].labels.length-1;A++)u+=`<c r="${ke(A+a[0].labels.length)}1" t="s"><v>${A}</v></c>`;u+="</row>";const h=a.length,x=a[0].labels[0].length,m=a[0].labels.length;for(let A=0;A<x;A++){u+=`<row r="${A+2}" spans="1:${h+m}">`;let p=h;const b=a[0].labels.slice().reverse();b.forEach((f,g)=>{if(f[A]){const w=g===0?1:b[g-1].filter(_=>_&&_!=="").length;p+=w,u+=`<c r="${ke(A+1+g)}${A+2}" t="s"><v>${p}</v></c>`}});for(let f=0;f<h;f++)u+=`<c r="${ke(m+f+1)}${A+2}"><v>${a[f].values[A]||0}</v></c>`;u+="</row>"}}else{u+=`<row r="1" spans="1:${a.length+a[0].labels.length}">`,a[0].labels.forEach((h,x)=>{u+=`<c r="${ke(x+1)}1" t="s"><v>0</v></c>`});for(let h=0;h<a.length;h++)u+=`<c r="${ke(h+1+a[0].labels.length)}1" t="s"><v>${h+1}</v></c>`;u+="</row>",a[0].labels[0].forEach((h,x)=>{u+=`<row r="${x+2}" spans="1:${a.length+a[0].labels.length}">`;for(let m=a[0].labels.length-1;m>=0;m--)u+=`<c r="${ke(a[0].labels.length-m)}${x+2}" t="s">`,u+=`<v>${a.length+x+1}</v>`,u+="</c>";for(let m=0;m<a.length;m++)u+=`<c r="${ke(a[0].labels.length+m+1)}${x+2}"><v>${a[m].values[x]||""}</v></c>`;u+="</row>"})}u+="</sheetData>",u+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',u+=`</worksheet>
`,d.file("xl/worksheets/sheet1.xml",u)}d.generateAsync({type:"base64"}).then(u=>{t.file(`ppt/embeddings/Microsoft_Excel_Worksheet${e.globalId}.xlsx`,u,{base64:!0}),t.file("ppt/charts/_rels/"+e.fileName+".rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/package" Target="../embeddings/Microsoft_Excel_Worksheet${e.globalId}.xlsx"/></Relationships>`),t.file(`ppt/charts/${e.fileName}`,Nb(e)),r("")}).catch(u=>{n(u)})})})}function Nb(e){var t,a,r,n;let i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',l=!1;if(i+='<c:chartSpace xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',i+='<c:date1904 val="0"/>',i+=`<c:roundedCorners val="${e.opts.chartArea.roundedCorners?"1":"0"}"/>`,i+="<c:chart>",e.opts.showTitle?(i+=_l({title:e.opts.title||"Chart Title",color:e.opts.titleColor,fontFace:e.opts.titleFontFace,fontSize:e.opts.titleFontSize||cb,titleAlign:e.opts.titleAlign,titleBold:e.opts.titleBold,titlePos:e.opts.titlePos,titleRotate:e.opts.titleRotate},e.opts.x,e.opts.y),i+='<c:autoTitleDeleted val="0"/>'):i+='<c:autoTitleDeleted val="1"/>',e.opts._type===Y.BAR3D&&(i+=`<c:view3D><c:rotX val="${e.opts.v3DRotX}"/><c:rotY val="${e.opts.v3DRotY}"/><c:rAngAx val="${e.opts.v3DRAngAx?1:0}"/><c:perspective val="${e.opts.v3DPerspective}"/></c:view3D>`),i+="<c:plotArea>",e.opts.layout?(i+="<c:layout>",i+=" <c:manualLayout>",i+='  <c:layoutTarget val="inner" />',i+='  <c:xMode val="edge" />',i+='  <c:yMode val="edge" />',i+='  <c:x val="'+(e.opts.layout.x||0)+'" />',i+='  <c:y val="'+(e.opts.layout.y||0)+'" />',i+='  <c:w val="'+(e.opts.layout.w||1)+'" />',i+='  <c:h val="'+(e.opts.layout.h||1)+'" />',i+=" </c:manualLayout>",i+="</c:layout>"):i+="<c:layout/>",Array.isArray(e.opts._type)?e.opts._type.forEach(d=>{const c=Object.assign(Object.assign({},e.opts),d.options),o=c.secondaryValAxis?gi:xs,u=c.secondaryCatAxis?vc:Or;l=l||c.secondaryValAxis,i+=xh(d.type,d.data,c,o,u)}):i+=xh(e.opts._type,e.data,e.opts,xs,Or),e.opts._type!==Y.PIE&&e.opts._type!==Y.DOUGHNUT){if(e.opts.valAxes&&e.opts.valAxes.length>1&&!l)throw new Error("Secondary axis must be used by one of the multiple charts");if(e.opts.catAxes){if(!e.opts.valAxes||e.opts.valAxes.length!==e.opts.catAxes.length)throw new Error("There must be the same number of value and category axes.");i+=co(Object.assign(Object.assign({},e.opts),e.opts.catAxes[0]),Or,xs)}else i+=co(e.opts,Or,xs);e.opts.valAxes?(i+=uo(Object.assign(Object.assign({},e.opts),e.opts.valAxes[0]),xs),e.opts.valAxes[1]&&(i+=uo(Object.assign(Object.assign({},e.opts),e.opts.valAxes[1]),gi))):(i+=uo(e.opts,xs),e.opts._type===Y.BAR3D&&(i+=jb(e.opts,pp,xs))),!((t=e.opts)===null||t===void 0)&&t.catAxes&&(!((a=e.opts)===null||a===void 0)&&a.catAxes[1])&&(i+=co(Object.assign(Object.assign({},e.opts),e.opts.catAxes[1]),vc,gi))}return e.opts.showDataTable&&(i+="<c:dTable>",i+=`  <c:showHorzBorder val="${e.opts.showDataTableHorzBorder?1:0}"/>`,i+=`  <c:showVertBorder val="${e.opts.showDataTableVertBorder?1:0}"/>`,i+=`  <c:showOutline    val="${e.opts.showDataTableOutline?1:0}"/>`,i+=`  <c:showKeys       val="${e.opts.showDataTableKeys?1:0}"/>`,i+="  <c:spPr>",i+="    <a:noFill/>",i+='    <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="tx1"><a:lumMod val="15000"/><a:lumOff val="85000"/></a:schemeClr></a:solidFill><a:round/></a:ln>',i+="    <a:effectLst/>",i+="  </c:spPr>",i+="  <c:txPr>",i+='   <a:bodyPr rot="0" spcFirstLastPara="1" vertOverflow="ellipsis" vert="horz" wrap="square" anchor="ctr" anchorCtr="1"/>',i+="   <a:lstStyle/>",i+="   <a:p>",i+='     <a:pPr rtl="0">',i+=`       <a:defRPr sz="${Math.round((e.opts.dataTableFontSize||Ut)*100)}" b="0" i="0" u="none" strike="noStrike" kern="1200" baseline="0">`,i+='         <a:solidFill><a:schemeClr val="tx1"><a:lumMod val="65000"/><a:lumOff val="35000"/></a:schemeClr></a:solidFill>',i+='         <a:latin typeface="+mn-lt"/>',i+='         <a:ea typeface="+mn-ea"/>',i+='         <a:cs typeface="+mn-cs"/>',i+="       </a:defRPr>",i+="     </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="   </a:p>",i+=" </c:txPr>",i+="</c:dTable>"),i+="  <c:spPr>",i+=!((r=e.opts.plotArea.fill)===null||r===void 0)&&r.color?Tt(e.opts.plotArea.fill):"<a:noFill/>",i+=e.opts.plotArea.border?`<a:ln w="${de(e.opts.plotArea.border.pt)}" cap="flat">${Tt(e.opts.plotArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="    <a:effectLst/>",i+="  </c:spPr>",i+="</c:plotArea>",e.opts.showLegend&&(i+="<c:legend>",i+='<c:legendPos val="'+e.opts.legendPos+'"/>',i+='<c:overlay val="0"/>',(e.opts.legendFontFace||e.opts.legendFontSize||e.opts.legendColor)&&(i+="<c:txPr>",i+="  <a:bodyPr/>",i+="  <a:lstStyle/>",i+="  <a:p>",i+="    <a:pPr>",i+=e.opts.legendFontSize?`<a:defRPr sz="${Math.round(Number(e.opts.legendFontSize)*100)}">`:"<a:defRPr>",e.opts.legendColor&&(i+=Tt(e.opts.legendColor)),e.opts.legendFontFace&&(i+='<a:latin typeface="'+e.opts.legendFontFace+'"/>'),e.opts.legendFontFace&&(i+='<a:cs    typeface="'+e.opts.legendFontFace+'"/>'),i+="      </a:defRPr>",i+="    </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="  </a:p>",i+="</c:txPr>"),i+="</c:legend>"),i+='  <c:plotVisOnly val="1"/>',i+='  <c:dispBlanksAs val="'+e.opts.displayBlanksAs+'"/>',e.opts._type===Y.SCATTER&&(i+='<c:showDLblsOverMax val="1"/>'),i+="</c:chart>",i+="<c:spPr>",i+=!((n=e.opts.chartArea.fill)===null||n===void 0)&&n.color?Tt(e.opts.chartArea.fill):"<a:noFill/>",i+=e.opts.chartArea.border?`<a:ln w="${de(e.opts.chartArea.border.pt)}" cap="flat">${Tt(e.opts.chartArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="  <a:effectLst/>",i+="</c:spPr>",i+='<c:externalData r:id="rId1"><c:autoUpdate val="0"/></c:externalData>',i+="</c:chartSpace>",i}function xh(e,t,a,r,n,i){let l=-1,d=1,c=null,o="";switch(e){case Y.AREA:case Y.BAR:case Y.BAR3D:case Y.LINE:case Y.RADAR:o+=`<c:${e}Chart>`,e===Y.AREA&&a.barGrouping==="stacked"&&(o+='<c:grouping val="'+a.barGrouping+'"/>'),(e===Y.BAR||e===Y.BAR3D)&&(o+='<c:barDir val="'+a.barDir+'"/>',o+='<c:grouping val="'+(a.barGrouping||"clustered")+'"/>'),e===Y.RADAR&&(o+='<c:radarStyle val="'+a.radarStyle+'"/>'),o+='<c:varyColors val="0"/>',t.forEach(u=>{var h;l++,o+="<c:ser>",o+=`  <c:idx val="${u._dataIndex}"/><c:order val="${u._dataIndex}"/>`,o+="  <c:tx>",o+="    <c:strRef>",o+="      <c:f>Sheet1!$"+ke(u._dataIndex+u.labels.length+1)+"$1</c:f>",o+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(u.name)+"</c:v></c:pt></c:strCache>",o+="    </c:strRef>",o+="  </c:tx>";const x=a.chartColors?a.chartColors[l%a.chartColors.length]:null;o+="  <c:spPr>",x==="transparent"?o+="<a:noFill/>":a.chartColorsOpacity?o+="<a:solidFill>"+je(x,`<a:alpha val="${Math.round(a.chartColorsOpacity*1e3)}"/>`)+"</a:solidFill>":o+="<a:solidFill>"+je(x)+"</a:solidFill>",e===Y.LINE||e===Y.RADAR?a.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":(o+=`<a:ln w="${de(a.lineSize)}" cap="${bi(a.lineCap)}"><a:solidFill>${je(x)}</a:solidFill>`,o+='<a:prstDash val="'+(a.lineDash||"solid")+'"/><a:round/></a:ln>'):a.dataBorder&&(o+=`<a:ln w="${de(a.dataBorder.pt)}" cap="${bi(a.lineCap)}"><a:solidFill>${je(a.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),o+=ra(a.shadow,aa),o+="  </c:spPr>",o+='  <c:invertIfNegative val="0"/>',e!==Y.RADAR&&(o+="<c:dLbls>",o+=`<c:numFmt formatCode="${he(a.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,a.dataLabelBkgrdColors&&(o+=`<c:spPr><a:solidFill>${je(x)}</a:solidFill></c:spPr>`),o+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",o+=`<a:defRPr b="${a.dataLabelFontBold?1:0}" i="${a.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((a.dataLabelFontSize||Ut)*100)}" u="none">`,o+=`<a:solidFill>${je(a.dataLabelColor||_t)}</a:solidFill>`,o+=`<a:latin typeface="${a.dataLabelFontFace||"Arial"}"/>`,o+="</a:defRPr></a:pPr></a:p></c:txPr>",a.dataLabelPosition&&(o+=`<c:dLblPos val="${a.dataLabelPosition}"/>`),o+='<c:showLegendKey val="0"/>',o+=`<c:showVal val="${a.showValue?"1":"0"}"/>`,o+=`<c:showCatName val="0"/><c:showSerName val="${a.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,o+=`<c:showLeaderLines val="${a.showLeaderLines?"1":"0"}"/>`,o+="</c:dLbls>"),(e===Y.LINE||e===Y.RADAR)&&(o+="<c:marker>",o+='  <c:symbol val="'+a.lineDataSymbol+'"/>',a.lineDataSymbolSize&&(o+=`<c:size val="${a.lineDataSymbolSize}"/>`),o+="  <c:spPr>",o+=`    <a:solidFill>${je(a.chartColors[u._dataIndex+1>a.chartColors.length?Math.floor(Math.random()*a.chartColors.length):u._dataIndex])}</a:solidFill>`,o+=`    <a:ln w="${a.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${je(a.lineDataSymbolLineColor||x)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,o+="    <a:effectLst/>",o+="  </c:spPr>",o+="</c:marker>"),(e===Y.BAR||e===Y.BAR3D)&&t.length===1&&(a.chartColors&&a.chartColors!==zr&&a.chartColors.length>1||!((h=a.invertedColors)===null||h===void 0)&&h.length)&&u.values.forEach((m,A)=>{const p=m<0?a.invertedColors||a.chartColors||zr:a.chartColors||[];o+="  <c:dPt>",o+=`    <c:idx val="${A}"/>`,o+='      <c:invertIfNegative val="0"/>',o+='    <c:bubble3D val="0"/>',o+="    <c:spPr>",a.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":e===Y.BAR?(o+="<a:solidFill>",o+='  <a:srgbClr val="'+p[A%p.length]+'"/>',o+="</a:solidFill>"):(o+="<a:ln>",o+="  <a:solidFill>",o+='   <a:srgbClr val="'+p[A%p.length]+'"/>',o+="  </a:solidFill>",o+="</a:ln>"),o+=ra(a.shadow,aa),o+="    </c:spPr>",o+="  </c:dPt>"}),o+="<c:cat>",a.catLabelFormatCode?(o+="  <c:numRef>",o+=`    <c:f>Sheet1!$A$2:$A$${u.labels[0].length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>"+(a.catLabelFormatCode||"General")+"</c:formatCode>",o+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.labels[0].forEach((m,A)=>o+=`<c:pt idx="${A}"><c:v>${he(m)}</c:v></c:pt>`),o+="    </c:numCache>",o+="  </c:numRef>"):(o+="  <c:multiLvlStrRef>",o+=`    <c:f>Sheet1!$A$2:$${ke(u.labels.length)}$${u.labels[0].length+1}</c:f>`,o+="    <c:multiLvlStrCache>",o+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.labels.forEach(m=>{o+="<c:lvl>",m.forEach((A,p)=>o+=`<c:pt idx="${p}"><c:v>${he(A)}</c:v></c:pt>`),o+="</c:lvl>"}),o+="    </c:multiLvlStrCache>",o+="  </c:multiLvlStrRef>"),o+="</c:cat>",o+="<c:val>",o+="  <c:numRef>",o+=`<c:f>Sheet1!$${ke(u._dataIndex+u.labels.length+1)}$2:$${ke(u._dataIndex+u.labels.length+1)}$${u.labels[0].length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>"+(a.valLabelFormatCode||a.dataTableFormatCode||"General")+"</c:formatCode>",o+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.values.forEach((m,A)=>o+=`<c:pt idx="${A}"><c:v>${m||m===0?m:""}</c:v></c:pt>`),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:val>",e===Y.LINE&&(o+='<c:smooth val="'+(a.lineSmooth?"1":"0")+'"/>'),o+="</c:ser>"}),o+="  <c:dLbls>",o+=`    <c:numFmt formatCode="${he(a.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="    <c:txPr>",o+="      <a:bodyPr/>",o+="      <a:lstStyle/>",o+="      <a:p><a:pPr>",o+=`        <a:defRPr b="${a.dataLabelFontBold?1:0}" i="${a.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((a.dataLabelFontSize||Ut)*100)}" u="none">`,o+="          <a:solidFill>"+je(a.dataLabelColor||_t)+"</a:solidFill>",o+='          <a:latin typeface="'+(a.dataLabelFontFace||"Arial")+'"/>',o+="        </a:defRPr>",o+="      </a:pPr></a:p>",o+="    </c:txPr>",a.dataLabelPosition&&(o+=' <c:dLblPos val="'+a.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="'+(a.showValue?"1":"0")+'"/>',o+='    <c:showCatName val="0"/>',o+='    <c:showSerName val="'+(a.showSerName?"1":"0")+'"/>',o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+=`    <c:showLeaderLines val="${a.showLeaderLines?"1":"0"}"/>`,o+="  </c:dLbls>",e===Y.BAR?(o+=`  <c:gapWidth val="${a.barGapWidthPct}"/>`,o+=`  <c:overlap val="${(a.barGrouping||"").includes("tacked")?100:a.barOverlapPct?a.barOverlapPct:0}"/>`):e===Y.BAR3D?(o+=`  <c:gapWidth val="${a.barGapWidthPct}"/>`,o+=`  <c:gapDepth val="${a.barGapDepthPct}"/>`,o+='  <c:shape val="'+a.bar3DShape+'"/>'):e===Y.LINE&&(o+='  <c:marker val="1"/>'),o+=`<c:axId val="${n}"/><c:axId val="${r}"/><c:axId val="${pp}"/>`,o+=`</c:${e}Chart>`;break;case Y.SCATTER:o+="<c:"+e+"Chart>",o+='<c:scatterStyle val="lineMarker"/>',o+='<c:varyColors val="0"/>',l=-1,t.filter((u,h)=>h>0).forEach((u,h)=>{l++,o+="<c:ser>",o+=`  <c:idx val="${h}"/>`,o+=`  <c:order val="${h}"/>`,o+="  <c:tx>",o+="    <c:strRef>",o+=`      <c:f>Sheet1!$${ke(h+2)}$1</c:f>`,o+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(u.name)+"</c:v></c:pt></c:strCache>",o+="    </c:strRef>",o+="  </c:tx>",o+="  <c:spPr>";{const x=a.chartColors[l%a.chartColors.length];x==="transparent"?o+="<a:noFill/>":a.chartColorsOpacity?o+="<a:solidFill>"+je(x,'<a:alpha val="'+Math.round(a.chartColorsOpacity*1e3).toString()+'"/>')+"</a:solidFill>":o+="<a:solidFill>"+je(x)+"</a:solidFill>",a.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":(o+=`<a:ln w="${de(a.lineSize)}" cap="${bi(a.lineCap)}"><a:solidFill>${je(x)}</a:solidFill>`,o+=`<a:prstDash val="${a.lineDash||"solid"}"/><a:round/></a:ln>`),o+=ra(a.shadow,aa)}if(o+="  </c:spPr>",o+="<c:marker>",o+='  <c:symbol val="'+a.lineDataSymbol+'"/>',a.lineDataSymbolSize&&(o+=`<c:size val="${a.lineDataSymbolSize}"/>`),o+="<c:spPr>",o+=`<a:solidFill>${je(a.chartColors[h+1>a.chartColors.length?Math.floor(Math.random()*a.chartColors.length):h])}</a:solidFill>`,o+=`<a:ln w="${a.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${je(a.lineDataSymbolLineColor||a.chartColors[l%a.chartColors.length])}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,o+="<a:effectLst/>",o+="</c:spPr>",o+="</c:marker>",a.showLabel){const x=vi("-xxxx-xxxx-xxxx-xxxxxxxxxxxx");u.labels[0]&&(a.dataLabelFormatScatter==="custom"||a.dataLabelFormatScatter==="customXY")&&(o+="<c:dLbls>",u.labels[0].forEach((m,A)=>{(a.dataLabelFormatScatter==="custom"||a.dataLabelFormatScatter==="customXY")&&(o+="  <c:dLbl>",o+=`    <c:idx val="${A}"/>`,o+="    <c:tx>",o+="      <c:rich>",o+="            <a:bodyPr>",o+="                <a:spAutoFit/>",o+="            </a:bodyPr>",o+="            <a:lstStyle/>",o+="            <a:p>",o+="                <a:pPr>",o+="                    <a:defRPr/>",o+="                </a:pPr>",o+="              <a:r>",o+='                    <a:rPr lang="'+(a.lang||"en-US")+'" dirty="0"/>',o+="                    <a:t>"+he(m)+"</a:t>",o+="              </a:r>",a.dataLabelFormatScatter==="customXY"&&!/^ *$/.test(m)&&(o+="              <a:r>",o+='                  <a:rPr lang="'+(a.lang||"en-US")+'" baseline="0" dirty="0"/>',o+="                  <a:t> (</a:t>",o+="              </a:r>",o+='              <a:fld id="{'+vi("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="XVALUE">',o+='                  <a:rPr lang="'+(a.lang||"en-US")+'" baseline="0"/>',o+="                  <a:pPr>",o+="                      <a:defRPr/>",o+="                  </a:pPr>",o+="                  <a:t>["+he(u.name)+"</a:t>",o+="              </a:fld>",o+="              <a:r>",o+='                  <a:rPr lang="'+(a.lang||"en-US")+'" baseline="0" dirty="0"/>',o+="                  <a:t>, </a:t>",o+="              </a:r>",o+='              <a:fld id="{'+vi("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="YVALUE">',o+='                  <a:rPr lang="'+(a.lang||"en-US")+'" baseline="0"/>',o+="                  <a:pPr>",o+="                      <a:defRPr/>",o+="                  </a:pPr>",o+="                  <a:t>["+he(u.name)+"]</a:t>",o+="              </a:fld>",o+="              <a:r>",o+='                  <a:rPr lang="'+(a.lang||"en-US")+'" baseline="0" dirty="0"/>',o+="                  <a:t>)</a:t>",o+="              </a:r>",o+='              <a:endParaRPr lang="'+(a.lang||"en-US")+'" dirty="0"/>'),o+="            </a:p>",o+="      </c:rich>",o+="    </c:tx>",o+="    <c:spPr>",o+="        <a:noFill/>",o+="        <a:ln>",o+="            <a:noFill/>",o+="        </a:ln>",o+="        <a:effectLst/>",o+="    </c:spPr>",a.dataLabelPosition&&(o+=' <c:dLblPos val="'+a.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="0"/>',o+='    <c:showCatName val="0"/>',o+='    <c:showSerName val="0"/>',o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+='       <c:showLeaderLines val="1"/>',o+="    <c:extLst>",o+='      <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart"/>',o+='      <c:ext uri="{C3380CC4-5D6E-409C-BE32-E72D297353CC}" xmlns:c16="http://schemas.microsoft.com/office/drawing/2014/chart">',o+=`            <c16:uniqueId val="{${"00000000".substring(0,8-(A+1).toString().length).toString()}${A+1}${x}}"/>`,o+="      </c:ext>",o+="        </c:extLst>",o+="</c:dLbl>")}),o+="</c:dLbls>"),a.dataLabelFormatScatter==="XY"&&(o+="<c:dLbls>",o+="    <c:spPr>",o+="        <a:noFill/>",o+="        <a:ln>",o+="            <a:noFill/>",o+="        </a:ln>",o+="          <a:effectLst/>",o+="    </c:spPr>",o+="    <c:txPr>",o+="        <a:bodyPr>",o+="            <a:spAutoFit/>",o+="        </a:bodyPr>",o+="        <a:lstStyle/>",o+="        <a:p>",o+="            <a:pPr>",o+="                <a:defRPr/>",o+="            </a:pPr>",o+='            <a:endParaRPr lang="en-US"/>',o+="        </a:p>",o+="    </c:txPr>",a.dataLabelPosition&&(o+=' <c:dLblPos val="'+a.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+=` <c:showVal val="${a.showLabel?"1":"0"}"/>`,o+=` <c:showCatName val="${a.showLabel?"1":"0"}"/>`,o+=` <c:showSerName val="${a.showSerName?"1":"0"}"/>`,o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+="    <c:extLst>",o+='        <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',o+='            <c15:showLeaderLines val="1"/>',o+="        </c:ext>",o+="    </c:extLst>",o+="</c:dLbls>")}t.length===1&&a.chartColors!==zr&&u.values.forEach((x,m)=>{const A=x<0?a.invertedColors||a.chartColors||zr:a.chartColors||[];o+="  <c:dPt>",o+=`    <c:idx val="${m}"/>`,o+='      <c:invertIfNegative val="0"/>',o+='    <c:bubble3D val="0"/>',o+="    <c:spPr>",a.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":(o+="<a:solidFill>",o+=' <a:srgbClr val="'+A[m%A.length]+'"/>',o+="</a:solidFill>"),o+=ra(a.shadow,aa),o+="    </c:spPr>",o+="  </c:dPt>"}),o+="<c:xVal>",o+="  <c:numRef>",o+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((x,m)=>{o+=`<c:pt idx="${m}"><c:v>${x||x===0?x:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:xVal>",o+="<c:yVal>",o+="  <c:numRef>",o+=`    <c:f>Sheet1!$${ke(h+2)}$2:$${ke(h+2)}$${t[0].values.length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((x,m)=>{o+=`<c:pt idx="${m}"><c:v>${u.values[m]||u.values[m]===0?u.values[m]:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:yVal>",o+='<c:smooth val="'+(a.lineSmooth?"1":"0")+'"/>',o+="</c:ser>"}),o+="  <c:dLbls>",o+=`    <c:numFmt formatCode="${he(a.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="    <c:txPr>",o+="      <a:bodyPr/>",o+="      <a:lstStyle/>",o+="      <a:p><a:pPr>",o+=`        <a:defRPr b="${a.dataLabelFontBold?"1":"0"}" i="${a.dataLabelFontItalic?"1":"0"}" strike="noStrike" sz="${Math.round((a.dataLabelFontSize||Ut)*100)}" u="none">`,o+="          <a:solidFill>"+je(a.dataLabelColor||_t)+"</a:solidFill>",o+='          <a:latin typeface="'+(a.dataLabelFontFace||"Arial")+'"/>',o+="        </a:defRPr>",o+="      </a:pPr></a:p>",o+="    </c:txPr>",a.dataLabelPosition&&(o+=' <c:dLblPos val="'+a.dataLabelPosition+'"/>'),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="'+(a.showValue?"1":"0")+'"/>',o+='    <c:showCatName val="0"/>',o+='    <c:showSerName val="'+(a.showSerName?"1":"0")+'"/>',o+='    <c:showPercent val="0"/>',o+='    <c:showBubbleSize val="0"/>',o+="  </c:dLbls>",o+=`<c:axId val="${n}"/><c:axId val="${r}"/>`,o+="</c:"+e+"Chart>";break;case Y.BUBBLE:case Y.BUBBLE3D:o+="<c:bubbleChart>",o+='<c:varyColors val="0"/>',l=-1,t.filter((u,h)=>h>0).forEach((u,h)=>{l++,o+="<c:ser>",o+=`  <c:idx val="${h}"/>`,o+=`  <c:order val="${h}"/>`,o+="  <c:tx>",o+="    <c:strRef>",o+="      <c:f>Sheet1!$"+ke(d+1)+"$1</c:f>",o+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(u.name)+"</c:v></c:pt></c:strCache>",o+="    </c:strRef>",o+="  </c:tx>";{o+="<c:spPr>";const x=a.chartColors[l%a.chartColors.length];x==="transparent"?o+="<a:noFill/>":a.chartColorsOpacity?o+=`<a:solidFill>${je(x,'<a:alpha val="'+Math.round(a.chartColorsOpacity*1e3).toString()+'"/>')}</a:solidFill>`:o+="<a:solidFill>"+je(x)+"</a:solidFill>",a.lineSize===0?o+="<a:ln><a:noFill/></a:ln>":a.dataBorder?o+=`<a:ln w="${de(a.dataBorder.pt)}" cap="flat"><a:solidFill>${je(a.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`:(o+=`<a:ln w="${de(a.lineSize)}" cap="flat"><a:solidFill>${je(x)}</a:solidFill>`,o+=`<a:prstDash val="${a.lineDash||"solid"}"/><a:round/></a:ln>`),o+=ra(a.shadow,aa),o+="</c:spPr>"}o+="<c:xVal>",o+="  <c:numRef>",o+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((x,m)=>{o+=`<c:pt idx="${m}"><c:v>${x||x===0?x:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:xVal>",o+="<c:yVal>",o+="  <c:numRef>",o+=`<c:f>Sheet1!$${ke(d+1)}$2:$${ke(d+1)}$${t[0].values.length+1}</c:f>`,d++,o+="    <c:numCache>",o+="      <c:formatCode>General</c:formatCode>",o+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((x,m)=>{o+=`<c:pt idx="${m}"><c:v>${u.values[m]||u.values[m]===0?u.values[m]:""}</c:v></c:pt>`}),o+="    </c:numCache>",o+="  </c:numRef>",o+="</c:yVal>",o+="  <c:bubbleSize>",o+="    <c:numRef>",o+=`<c:f>Sheet1!$${ke(d+1)}$2:$${ke(d+1)}$${u.sizes.length+1}</c:f>`,d++,o+="      <c:numCache>",o+="        <c:formatCode>General</c:formatCode>",o+=`           <c:ptCount val="${u.sizes.length}"/>`,u.sizes.forEach((x,m)=>{o+=`<c:pt idx="${m}"><c:v>${x||""}</c:v></c:pt>`}),o+="      </c:numCache>",o+="    </c:numRef>",o+="  </c:bubbleSize>",o+='  <c:bubble3D val="'+(e===Y.BUBBLE3D?"1":"0")+'"/>',o+="</c:ser>"}),o+="<c:dLbls>",o+=`<c:numFmt formatCode="${he(a.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",o+=`<a:defRPr b="${a.dataLabelFontBold?1:0}" i="${a.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round(Math.round(a.dataLabelFontSize||Ut)*100)}" u="none">`,o+=`<a:solidFill>${je(a.dataLabelColor||_t)}</a:solidFill>`,o+=`<a:latin typeface="${a.dataLabelFontFace||"Arial"}"/>`,o+="</a:defRPr></a:pPr></a:p></c:txPr>",a.dataLabelPosition&&(o+=`<c:dLblPos val="${a.dataLabelPosition}"/>`),o+='<c:showLegendKey val="0"/>',o+=`<c:showVal val="${a.showValue?"1":"0"}"/>`,o+=`<c:showCatName val="0"/><c:showSerName val="${a.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,o+="<c:extLst>",o+='  <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',o+='    <c15:showLeaderLines val="'+(a.showLeaderLines?"1":"0")+'"/>',o+="  </c:ext>",o+="</c:extLst>",o+="</c:dLbls>",o+=`<c:axId val="${n}"/><c:axId val="${r}"/>`,o+="</c:bubbleChart>";break;case Y.DOUGHNUT:case Y.PIE:c=t[0],o+="<c:"+e+"Chart>",o+='  <c:varyColors val="1"/>',o+="<c:ser>",o+='  <c:idx val="0"/>',o+='  <c:order val="0"/>',o+="  <c:tx>",o+="    <c:strRef>",o+="      <c:f>Sheet1!$B$1</c:f>",o+="      <c:strCache>",o+='        <c:ptCount val="1"/>',o+='        <c:pt idx="0"><c:v>'+he(c.name)+"</c:v></c:pt>",o+="      </c:strCache>",o+="    </c:strRef>",o+="  </c:tx>",o+="  <c:spPr>",o+='    <a:solidFill><a:schemeClr val="accent1"/></a:solidFill>',o+='    <a:ln w="9525" cap="flat"><a:solidFill><a:srgbClr val="F9F9F9"/></a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>',a.dataNoEffects?o+="<a:effectLst/>":o+=ra(a.shadow,aa),o+="  </c:spPr>",c.labels[0].forEach((u,h)=>{o+="<c:dPt>",o+=` <c:idx val="${h}"/>`,o+=' <c:bubble3D val="0"/>',o+=" <c:spPr>",o+=`<a:solidFill>${je(a.chartColors[h+1>a.chartColors.length?Math.floor(Math.random()*a.chartColors.length):h])}</a:solidFill>`,a.dataBorder&&(o+=`<a:ln w="${de(a.dataBorder.pt)}" cap="flat"><a:solidFill>${je(a.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),o+=ra(a.shadow,aa),o+="  </c:spPr>",o+="</c:dPt>"}),o+="<c:dLbls>",c.labels[0].forEach((u,h)=>{o+="<c:dLbl>",o+=` <c:idx val="${h}"/>`,o+=`  <c:numFmt formatCode="${he(a.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="  <c:spPr/><c:txPr>",o+="   <a:bodyPr/><a:lstStyle/>",o+="   <a:p><a:pPr>",o+=`   <a:defRPr sz="${Math.round((a.dataLabelFontSize||Ut)*100)}" b="${a.dataLabelFontBold?1:0}" i="${a.dataLabelFontItalic?1:0}" u="none" strike="noStrike">`,o+="    <a:solidFill>"+je(a.dataLabelColor||_t)+"</a:solidFill>",o+=`    <a:latin typeface="${a.dataLabelFontFace||"Arial"}"/>`,o+="   </a:defRPr>",o+="      </a:pPr></a:p>",o+="    </c:txPr>",e===Y.PIE&&a.dataLabelPosition&&(o+=`<c:dLblPos val="${a.dataLabelPosition}"/>`),o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="'+(a.showValue?"1":"0")+'"/>',o+='    <c:showCatName val="'+(a.showLabel?"1":"0")+'"/>',o+='    <c:showSerName val="'+(a.showSerName?"1":"0")+'"/>',o+='    <c:showPercent val="'+(a.showPercent?"1":"0")+'"/>',o+='    <c:showBubbleSize val="0"/>',o+="  </c:dLbl>"}),o+=` <c:numFmt formatCode="${he(a.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,o+="    <c:txPr>",o+="      <a:bodyPr/>",o+="      <a:lstStyle/>",o+="      <a:p>",o+="        <a:pPr>",o+=`          <a:defRPr sz="1800" b="${a.dataLabelFontBold?"1":"0"}" i="${a.dataLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,o+='            <a:solidFill><a:srgbClr val="000000"/></a:solidFill><a:latin typeface="Arial"/>',o+="          </a:defRPr>",o+="        </a:pPr>",o+="      </a:p>",o+="    </c:txPr>",o+=e===Y.PIE?'<c:dLblPos val="ctr"/>':"",o+='    <c:showLegendKey val="0"/>',o+='    <c:showVal val="0"/>',o+='    <c:showCatName val="1"/>',o+='    <c:showSerName val="0"/>',o+='    <c:showPercent val="1"/>',o+='    <c:showBubbleSize val="0"/>',o+=` <c:showLeaderLines val="${a.showLeaderLines?"1":"0"}"/>`,o+="</c:dLbls>",o+="<c:cat>",o+="  <c:strRef>",o+=`    <c:f>Sheet1!$A$2:$A$${c.labels[0].length+1}</c:f>`,o+="    <c:strCache>",o+=`         <c:ptCount val="${c.labels[0].length}"/>`,c.labels[0].forEach((u,h)=>{o+=`<c:pt idx="${h}"><c:v>${he(u)}</c:v></c:pt>`}),o+="    </c:strCache>",o+="  </c:strRef>",o+="</c:cat>",o+="  <c:val>",o+="    <c:numRef>",o+=`      <c:f>Sheet1!$B$2:$B$${c.labels[0].length+1}</c:f>`,o+="      <c:numCache>",o+=`           <c:ptCount val="${c.labels[0].length}"/>`,c.values.forEach((u,h)=>{o+=`<c:pt idx="${h}"><c:v>${u||u===0?u:""}</c:v></c:pt>`}),o+="      </c:numCache>",o+="    </c:numRef>",o+="  </c:val>",o+="  </c:ser>",o+=`  <c:firstSliceAng val="${a.firstSliceAng?Math.round(a.firstSliceAng):0}"/>`,e===Y.DOUGHNUT&&(o+=`<c:holeSize val="${typeof a.holeSize=="number"?a.holeSize:"50"}"/>`),o+="</c:"+e+"Chart>";break;default:o+="";break}return o}function co(e,t,a){let r="";return e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D?r+="<c:valAx>":r+="<c:"+(e.catLabelFormatCode?"dateAx":"catAx")+">",r+='  <c:axId val="'+t+'"/>',r+="  <c:scaling>",r+='<c:orientation val="'+(e.catAxisOrientation||(e.barDir==="col","minMax"))+'"/>',(e.catAxisMaxVal||e.catAxisMaxVal===0)&&(r+=`<c:max val="${e.catAxisMaxVal}"/>`),(e.catAxisMinVal||e.catAxisMinVal===0)&&(r+=`<c:min val="${e.catAxisMinVal}"/>`),r+="</c:scaling>",r+='  <c:delete val="'+(e.catAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(e.barDir==="col"?"b":"l")+'"/>',r+=e.catGridLine.style!=="none"?Ld(e.catGridLine):"",e.showCatAxisTitle&&(r+=_l({color:e.catAxisTitleColor,fontFace:e.catAxisTitleFontFace,fontSize:e.catAxisTitleFontSize,titleRotate:e.catAxisTitleRotate,title:e.catAxisTitle||"Axis Title"})),e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D?r+='  <c:numFmt formatCode="'+(e.valAxisLabelFormatCode?he(e.valAxisLabelFormatCode):"General")+'" sourceLinked="1"/>':r+='  <c:numFmt formatCode="'+(he(e.catLabelFormatCode)||"General")+'" sourceLinked="1"/>',e._type===Y.SCATTER?(r+='  <c:majorTickMark val="none"/>',r+='  <c:minorTickMark val="none"/>',r+='  <c:tickLblPos val="nextTo"/>'):(r+='  <c:majorTickMark val="'+(e.catAxisMajorTickMark||"out")+'"/>',r+='  <c:minorTickMark val="'+(e.catAxisMinorTickMark||"none")+'"/>',r+='  <c:tickLblPos val="'+(e.catAxisLabelPos||(e.barDir==="col"?"low":"nextTo"))+'"/>'),r+="  <c:spPr>",r+=`    <a:ln w="${e.catAxisLineSize?de(e.catAxisLineSize):Tn}" cap="flat">`,r+=e.catAxisLineShow?"<a:solidFill>"+je(e.catAxisLineColor||ha.color)+"</a:solidFill>":"<a:noFill/>",r+='      <a:prstDash val="'+(e.catAxisLineStyle||"solid")+'"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",e.catAxisLabelRotate?r+=`<a:bodyPr rot="${ma(e.catAxisLabelRotate)}"/>`:r+="<a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`      <a:defRPr sz="${Math.round((e.catAxisLabelFontSize||Ut)*100)}" b="${e.catAxisLabelFontBold?1:0}" i="${e.catAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,r+="      <a:solidFill>"+je(e.catAxisLabelColor||_t)+"</a:solidFill>",r+='      <a:latin typeface="'+(e.catAxisLabelFontFace||"Arial")+'"/>',r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+a+'"/>',r+=` <c:${typeof e.valAxisCrossesAt=="number"?"crossesAt":"crosses"} val="${e.valAxisCrossesAt||"autoZero"}"/>`,r+=' <c:auto val="1"/>',r+=' <c:lblAlgn val="ctr"/>',r+=` <c:noMultiLvlLbl val="${e.catAxisMultiLevelLabels?0:1}"/>`,e.catAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+e.catAxisLabelFrequency+'"/>'),(e.catLabelFormatCode||e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D)&&(e.catLabelFormatCode&&(["catAxisBaseTimeUnit","catAxisMajorTimeUnit","catAxisMinorTimeUnit"].forEach(n=>{e[n]&&(typeof e[n]!="string"||!["days","months","years"].includes(e[n].toLowerCase()))&&(console.warn(`"${n}" must be one of: 'days','months','years' !`),e[n]=null)}),e.catAxisBaseTimeUnit&&(r+='<c:baseTimeUnit val="'+e.catAxisBaseTimeUnit.toLowerCase()+'"/>'),e.catAxisMajorTimeUnit&&(r+='<c:majorTimeUnit val="'+e.catAxisMajorTimeUnit.toLowerCase()+'"/>'),e.catAxisMinorTimeUnit&&(r+='<c:minorTimeUnit val="'+e.catAxisMinorTimeUnit.toLowerCase()+'"/>')),e.catAxisMajorUnit&&(r+=`<c:majorUnit val="${e.catAxisMajorUnit}"/>`),e.catAxisMinorUnit&&(r+=`<c:minorUnit val="${e.catAxisMinorUnit}"/>`)),e._type===Y.SCATTER||e._type===Y.BUBBLE||e._type===Y.BUBBLE3D?r+="</c:valAx>":r+="</c:"+(e.catLabelFormatCode?"dateAx":"catAx")+">",r}function uo(e,t){let a=t===xs?e.barDir==="col"?"l":"b":e.barDir!=="col"?"r":"t";t===gi&&(a="r");const r=t===xs?Or:vc;let n="";return n+="<c:valAx>",n+='  <c:axId val="'+t+'"/>',n+="  <c:scaling>",e.valAxisLogScaleBase&&(n+=`<c:logBase val="${e.valAxisLogScaleBase}"/>`),n+='<c:orientation val="'+(e.valAxisOrientation||(e.barDir==="col","minMax"))+'"/>',(e.valAxisMaxVal||e.valAxisMaxVal===0)&&(n+=`<c:max val="${e.valAxisMaxVal}"/>`),(e.valAxisMinVal||e.valAxisMinVal===0)&&(n+=`<c:min val="${e.valAxisMinVal}"/>`),n+="  </c:scaling>",n+=`  <c:delete val="${e.valAxisHidden?1:0}"/>`,n+='  <c:axPos val="'+a+'"/>',e.valGridLine.style!=="none"&&(n+=Ld(e.valGridLine)),e.showValAxisTitle&&(n+=_l({color:e.valAxisTitleColor,fontFace:e.valAxisTitleFontFace,fontSize:e.valAxisTitleFontSize,titleRotate:e.valAxisTitleRotate,title:e.valAxisTitle||"Axis Title"})),n+=`<c:numFmt formatCode="${e.valAxisLabelFormatCode?he(e.valAxisLabelFormatCode):"General"}" sourceLinked="0"/>`,e._type===Y.SCATTER?(n+='  <c:majorTickMark val="none"/>',n+='  <c:minorTickMark val="none"/>',n+='  <c:tickLblPos val="nextTo"/>'):(n+=' <c:majorTickMark val="'+(e.valAxisMajorTickMark||"out")+'"/>',n+=' <c:minorTickMark val="'+(e.valAxisMinorTickMark||"none")+'"/>',n+=' <c:tickLblPos val="'+(e.valAxisLabelPos||(e.barDir==="col"?"nextTo":"low"))+'"/>'),n+=" <c:spPr>",n+=`   <a:ln w="${e.valAxisLineSize?de(e.valAxisLineSize):Tn}" cap="flat">`,n+=e.valAxisLineShow?"<a:solidFill>"+je(e.valAxisLineColor||ha.color)+"</a:solidFill>":"<a:noFill/>",n+='     <a:prstDash val="'+(e.valAxisLineStyle||"solid")+'"/>',n+="     <a:round/>",n+="   </a:ln>",n+=" </c:spPr>",n+=" <c:txPr>",n+=`  <a:bodyPr${e.valAxisLabelRotate?' rot="'+ma(e.valAxisLabelRotate).toString()+'"':""}/>`,n+="  <a:lstStyle/>",n+="  <a:p>",n+="    <a:pPr>",n+=`      <a:defRPr sz="${Math.round((e.valAxisLabelFontSize||Ut)*100)}" b="${e.valAxisLabelFontBold?1:0}" i="${e.valAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,n+="        <a:solidFill>"+je(e.valAxisLabelColor||_t)+"</a:solidFill>",n+='        <a:latin typeface="'+(e.valAxisLabelFontFace||"Arial")+'"/>',n+="      </a:defRPr>",n+="    </a:pPr>",n+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',n+="  </a:p>",n+=" </c:txPr>",n+=' <c:crossAx val="'+r+'"/>',typeof e.catAxisCrossesAt=="number"?n+=` <c:crossesAt val="${e.catAxisCrossesAt}"/>`:typeof e.catAxisCrossesAt=="string"?n+=' <c:crosses val="'+e.catAxisCrossesAt+'"/>':n+=' <c:crosses val="'+(a==="r"||a==="t"?"max":"autoZero")+'"/>',n+=' <c:crossBetween val="'+(e._type===Y.SCATTER||Array.isArray(e._type)&&e._type.filter(i=>i.type===Y.AREA).length>0?"midCat":"between")+'"/>',e.valAxisMajorUnit&&(n+=` <c:majorUnit val="${e.valAxisMajorUnit}"/>`),e.valAxisDisplayUnit&&(n+=`<c:dispUnits><c:builtInUnit val="${e.valAxisDisplayUnit}"/>${e.valAxisDisplayUnitLabel?"<c:dispUnitsLbl/>":""}</c:dispUnits>`),n+="</c:valAx>",n}function jb(e,t,a){let r="";return r+="<c:serAx>",r+='  <c:axId val="'+t+'"/>',r+='  <c:scaling><c:orientation val="'+(e.serAxisOrientation||(e.barDir==="col","minMax"))+'"/></c:scaling>',r+='  <c:delete val="'+(e.serAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(e.barDir==="col"?"b":"l")+'"/>',r+=e.serGridLine.style!=="none"?Ld(e.serGridLine):"",e.showSerAxisTitle&&(r+=_l({color:e.serAxisTitleColor,fontFace:e.serAxisTitleFontFace,fontSize:e.serAxisTitleFontSize,titleRotate:e.serAxisTitleRotate,title:e.serAxisTitle||"Axis Title"})),r+=`  <c:numFmt formatCode="${he(e.serLabelFormatCode)||"General"}" sourceLinked="0"/>`,r+='  <c:majorTickMark val="out"/>',r+='  <c:minorTickMark val="none"/>',r+=`  <c:tickLblPos val="${e.serAxisLabelPos||e.barDir==="col"?"low":"nextTo"}"/>`,r+="  <c:spPr>",r+='    <a:ln w="12700" cap="flat">',r+=e.serAxisLineShow?`<a:solidFill>${je(e.serAxisLineColor||ha.color)}</a:solidFill>`:"<a:noFill/>",r+='      <a:prstDash val="solid"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",r+="    <a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`    <a:defRPr sz="${Math.round((e.serAxisLabelFontSize||Ut)*100)}" b="${e.serAxisLabelFontBold?"1":"0"}" i="${e.serAxisLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,r+=`      <a:solidFill>${je(e.serAxisLabelColor||_t)}</a:solidFill>`,r+=`      <a:latin typeface="${e.serAxisLabelFontFace||"Arial"}"/>`,r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+a+'"/>',r+=' <c:crosses val="autoZero"/>',e.serAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+e.serAxisLabelFrequency+'"/>'),e.serLabelFormatCode&&(["serAxisBaseTimeUnit","serAxisMajorTimeUnit","serAxisMinorTimeUnit"].forEach(n=>{e[n]&&(typeof e[n]!="string"||!["days","months","years"].includes(n.toLowerCase()))&&(console.warn(`"${n}" must be one of: 'days','months','years' !`),e[n]=null)}),e.serAxisBaseTimeUnit&&(r+=` <c:baseTimeUnit  val="${e.serAxisBaseTimeUnit.toLowerCase()}"/>`),e.serAxisMajorTimeUnit&&(r+=` <c:majorTimeUnit val="${e.serAxisMajorTimeUnit.toLowerCase()}"/>`),e.serAxisMinorTimeUnit&&(r+=` <c:minorTimeUnit val="${e.serAxisMinorTimeUnit.toLowerCase()}"/>`),e.serAxisMajorUnit&&(r+=` <c:majorUnit val="${e.serAxisMajorUnit}"/>`),e.serAxisMinorUnit&&(r+=` <c:minorUnit val="${e.serAxisMinorUnit}"/>`)),r+="</c:serAx>",r}function _l(e,t,a){const r=e.titleAlign==="left"||e.titleAlign==="right"?`<a:pPr algn="${e.titleAlign.substring(0,1)}">`:"<a:pPr>",n=e.titleRotate?`<a:bodyPr rot="${ma(e.titleRotate)}"/>`:"<a:bodyPr/>",i=e.fontSize?`sz="${Math.round(e.fontSize*100)}"`:"",l=e.titleBold?1:0;let d="<c:layout/>";if(e.titlePos&&typeof e.titlePos.x=="number"&&typeof e.titlePos.y=="number"){const c=e.titlePos.x+t,o=e.titlePos.y+a;let u=c===0?0:c*(c/5)/10;u>=1&&(u=u/10),u>=.1&&(u=u/10);let h=o===0?0:o*(o/5)/10;h>=1&&(h=h/10),h>=.1&&(h=h/10),d=`<c:layout><c:manualLayout><c:xMode val="edge"/><c:yMode val="edge"/><c:x val="${u}"/><c:y val="${h}"/></c:manualLayout></c:layout>`}return`<c:title>
      <c:tx>
        <c:rich>
          ${n}
          <a:lstStyle/>
          <a:p>
            ${r}
            <a:defRPr ${i} b="${l}" i="0" u="none" strike="noStrike">
              <a:solidFill>${je(e.color||_t)}</a:solidFill>
              <a:latin typeface="${e.fontFace||"Arial"}"/>
            </a:defRPr>
          </a:pPr>
          <a:r>
            <a:rPr ${i} b="${l}" i="0" u="none" strike="noStrike">
              <a:solidFill>${je(e.color||_t)}</a:solidFill>
              <a:latin typeface="${e.fontFace||"Arial"}"/>
            </a:rPr>
            <a:t>${he(e.title)||""}</a:t>
          </a:r>
        </a:p>
        </c:rich>
      </c:tx>
      ${d}
      <c:overlay val="0"/>
    </c:title>`}function ke(e){let t="";const a=e-1;return a<=25?t=Fr[a]:t=`${Fr[Math.floor(a/Fr.length-1)]}${Fr[a%Fr.length]}`,t}function ra(e,t){if(e){if(typeof e!="object")return console.warn("`shadow` options must be an object. Ex: `{shadow: {type:'none'}}`"),"<a:effectLst/>"}else return"<a:effectLst/>";let a="<a:effectLst>";const r=Object.assign(Object.assign({},t),e),n=r.type||"outer",i=de(r.blur),l=de(r.offset),d=Math.round(r.angle*6e4),c=r.color,o=Math.round(r.opacity*1e5),u=r.rotateWithShape?1:0;return a+=`<a:${n}Shdw sx="100000" sy="100000" kx="0" ky="0"  algn="bl" blurRad="${i}" rotWithShape="${u}" dist="${l}" dir="${d}">`,a+=`<a:srgbClr val="${c}">`,a+=`<a:alpha val="${o}"/></a:srgbClr>`,a+=`</a:${n}Shdw>`,a+="</a:effectLst>",a}function Ld(e){let t="<c:majorGridlines>";return t+=" <c:spPr>",t+=`  <a:ln w="${de(e.size||ha.size)}" cap="${bi(e.cap||ha.cap)}">`,t+='  <a:solidFill><a:srgbClr val="'+(e.color||ha.color)+'"/></a:solidFill>',t+='   <a:prstDash val="'+(e.style||ha.style)+'"/><a:round/>',t+="  </a:ln>",t+=" </c:spPr>",t+="</c:majorGridlines>",t}function bi(e){if(!e||e==="flat")return"flat";if(e==="square")return"sq";if(e==="round")return"rnd";{const t=e;throw new Error(`Invalid chart line cap: ${t}`)}}function ho(e){var t,a;const r=typeof process<"u"&&!!(!((t=process.versions)===null||t===void 0)&&t.node)&&((a=process.release)===null||a===void 0?void 0:a.name)==="node";let n,i;const l=r?()=>Dt(this,void 0,void 0,function*(){({default:n}=yield Cs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])),{default:i}=yield Cs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])}):()=>Dt(this,void 0,void 0,function*(){});r&&l();const d=[],c=e._relsMedia.filter(u=>u.type!=="online"&&!u.data&&(!u.path||u.path&&!u.path.includes("preencoded"))),o=[];return c.forEach(u=>{o.includes(u.path)?u.isDuplicate=!0:(u.isDuplicate=!1,o.push(u.path))}),c.filter(u=>!u.isDuplicate).forEach(u=>{d.push(Dt(this,void 0,void 0,function*(){if(i||(yield l()),r&&n&&u.path.indexOf("http")!==0)try{const h=n.readFileSync(u.path);return u.data=Buffer.from(h).toString("base64"),c.filter(x=>x.isDuplicate&&x.path===u.path).forEach(x=>x.data=u.data),"done"}catch(h){throw u.data=Ya,c.filter(x=>x.isDuplicate&&x.path===u.path).forEach(x=>x.data=u.data),new Error(`ERROR: Unable to read media: "${u.path}"
${String(h)}`)}return r&&i&&u.path.startsWith("http")?yield new Promise((h,x)=>{i.get(u.path,m=>{let A="";m.setEncoding("binary"),m.on("data",p=>A+=p),m.on("end",()=>{u.data=Buffer.from(A,"binary").toString("base64"),c.filter(p=>p.isDuplicate&&p.path===u.path).forEach(p=>p.data=u.data),h("done")}),m.on("error",()=>{u.data=Ya,c.filter(p=>p.isDuplicate&&p.path===u.path).forEach(p=>p.data=u.data),x(new Error(`ERROR! Unable to load image (https.get): ${u.path}`))})})}):yield new Promise((h,x)=>{const m=new XMLHttpRequest;m.onload=()=>{const A=new FileReader;A.onloadend=()=>{u.data=A.result,c.filter(p=>p.isDuplicate&&p.path===u.path).forEach(p=>p.data=u.data),u.isSvgPng?Ah(u).then(()=>h("done")).catch(x):h("done")},A.readAsDataURL(m.response)},m.onerror=()=>{u.data=Ya,c.filter(A=>A.isDuplicate&&A.path===u.path).forEach(A=>A.data=u.data),x(new Error(`ERROR! Unable to load image (xhr.onerror): ${u.path}`))},m.open("GET",u.path),m.responseType="blob",m.send()})}))}),e._relsMedia.filter(u=>u.isSvgPng&&u.data).forEach(u=>{Dt(this,void 0,void 0,function*(){r&&!n&&(yield l()),r&&n?(u.data=Ya,d.push(Promise.resolve("done"))):d.push(Ah(u))})}),d}function Ah(e){return Dt(this,void 0,void 0,function*(){return yield new Promise((t,a)=>{const r=new Image;r.onload=()=>{r.width+r.height===0&&r.onerror("h/w=0");let n=document.createElement("CANVAS");const i=n.getContext("2d");n.width=r.width,n.height=r.height,i.drawImage(r,0,0);try{e.data=n.toDataURL(e.type),t("done")}catch(l){r.onerror(l.toString())}n=null},r.onerror=()=>{e.data=Ya,a(new Error(`ERROR! Unable to load image (image.onerror): ${e.path}`))},r.src=typeof e.data=="string"?e.data:Ya})})}const Cb={cover:function(e,t){const a=e.h/e.w,n=t.h/t.w>a,i=n?t.h/a:t.w,l=n?t.h:t.w*a,d=Math.round(1e5*.5*(1-t.w/i)),c=Math.round(1e5*.5*(1-t.h/l));return`<a:srcRect l="${d}" r="${d}" t="${c}" b="${c}"/><a:stretch/>`},contain:function(e,t){const a=e.h/e.w,n=t.h/t.w>a,i=n?t.w:t.h/a,l=n?t.w*a:t.h,d=Math.round(1e5*.5*(1-t.w/i)),c=Math.round(1e5*.5*(1-t.h/l));return`<a:srcRect l="${d}" r="${d}" t="${c}" b="${c}"/><a:stretch/>`},crop:function(e,t){const a=t.x,r=e.w-(t.x+t.w),n=t.y,i=e.h-(t.y+t.h),l=Math.round(1e5*(a/e.w)),d=Math.round(1e5*(r/e.w)),c=Math.round(1e5*(n/e.h)),o=Math.round(1e5*(i/e.h));return`<a:srcRect l="${l}" r="${d}" t="${c}" b="${o}"/><a:stretch/>`}};function Dd(e){var t;let a=e._name?'<p:cSld name="'+e._name+'">':"<p:cSld>",r=1;return e._bkgdImgRid?a+=`<p:bg><p:bgPr><a:blipFill dpi="0" rotWithShape="1"><a:blip r:embed="rId${e._bkgdImgRid}"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`:!((t=e.background)===null||t===void 0)&&t.color?a+=`<p:bg><p:bgPr>${Tt(e.background)}</p:bgPr></p:bg>`:!e.bkgd&&e._name&&e._name===gc&&(a+='<p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg>'),a+="<p:spTree>",a+='<p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>',a+='<p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/>',a+='<a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr>',e._slideObjects.forEach((n,i)=>{var l,d,c,o,u,h,x,m;let A=0,p=0,b=Ae("75%","X",e._presLayout),f=0,g,v="",w=null,_=null,D=0,R=0,S=null,L=null;const k=(l=n.options)===null||l===void 0?void 0:l.sizing,F=(d=n.options)===null||d===void 0?void 0:d.rounding;e._slideLayout!==void 0&&e._slideLayout._slideObjects!==void 0&&n.options&&n.options.placeholder&&(g=e._slideLayout._slideObjects.filter(y=>y.options.placeholder===n.options.placeholder)[0]),n.options=n.options||{},typeof n.options.x<"u"&&(A=Ae(n.options.x,"X",e._presLayout)),typeof n.options.y<"u"&&(p=Ae(n.options.y,"Y",e._presLayout)),typeof n.options.w<"u"&&(b=Ae(n.options.w,"X",e._presLayout)),typeof n.options.h<"u"&&(f=Ae(n.options.h,"Y",e._presLayout));let j=b,T=f;switch(g&&((g.options.x||g.options.x===0)&&(A=Ae(g.options.x,"X",e._presLayout)),(g.options.y||g.options.y===0)&&(p=Ae(g.options.y,"Y",e._presLayout)),(g.options.w||g.options.w===0)&&(b=Ae(g.options.w,"X",e._presLayout)),(g.options.h||g.options.h===0)&&(f=Ae(g.options.h,"Y",e._presLayout))),n.options.flipH&&(v+=' flipH="1"'),n.options.flipV&&(v+=' flipV="1"'),n.options.rotate&&(v+=` rot="${ma(n.options.rotate)}"`),n._type){case me.table:if(w=n.arrTabRows,_=n.options,D=0,R=0,w[0].forEach(y=>{S=y.options||null,D+=S!=null&&S.colspan?Number(S.colspan):1}),L=`<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id="${r*e._slideNum+1}" name="${n.options.objectName}"/>`,L+='<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp="1"/></p:cNvGraphicFramePr>  <p:nvPr><p:extLst><p:ext uri="{D42A27DB-BD31-4B8C-83A1-F6EECF244321}"><p14:modId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1579011935"/></p:ext></p:extLst></p:nvPr></p:nvGraphicFramePr>',L+=`<p:xfrm><a:off x="${A||(A===0?0:fe)}" y="${p||(p===0?0:fe)}"/><a:ext cx="${b||(b===0?0:fe)}" cy="${f||fe}"/></p:xfrm>`,L+='<a:graphic><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/table"><a:tbl><a:tblPr/>',Array.isArray(_.colW)){L+="<a:tblGrid>";for(let y=0;y<D;y++){let I=we(_.colW[y]);(I==null||isNaN(I))&&(I=(typeof n.options.w=="number"?n.options.w:1)/D),L+=`<a:gridCol w="${Math.round(I)}"/>`}L+="</a:tblGrid>"}else{R=_.colW?_.colW:fe,n.options.w&&!_.colW&&(R=Math.round((typeof n.options.w=="number"?n.options.w:1)/D)),L+="<a:tblGrid>";for(let y=0;y<D;y++)L+=`<a:gridCol w="${R}"/>`;L+="</a:tblGrid>"}w.forEach(y=>{var I,$;for(let C=0;C<y.length;){const z=y[C],B=(I=z.options)===null||I===void 0?void 0:I.colspan,V=($=z.options)===null||$===void 0?void 0:$.rowspan;if(B&&B>1){const P=new Array(B-1).fill(void 0).map(()=>({_type:me.tablecell,options:{rowspan:V},_hmerge:!0}));y.splice(C+1,0,...P),C+=B}else C+=1}}),w.forEach((y,I)=>{const $=w[I+1];$&&y.forEach((C,z)=>{var B,V;const P=C._rowContinue||((B=C.options)===null||B===void 0?void 0:B.rowspan),U=(V=C.options)===null||V===void 0?void 0:V.colspan,ee=C._hmerge;if(P&&P>1){const se={_type:me.tablecell,options:{colspan:U},_rowContinue:P-1,_vmerge:!0,_hmerge:ee};$.splice(z,0,se)}})}),w.forEach((y,I)=>{let $=0;Array.isArray(_.rowH)&&_.rowH[I]?$=we(Number(_.rowH[I])):_.rowH&&!isNaN(Number(_.rowH))?$=we(Number(_.rowH)):(n.options.cy||n.options.h)&&($=Math.round((n.options.h?we(n.options.h):typeof n.options.cy=="number"?n.options.cy:1)/w.length)),L+=`<a:tr h="${$}">`,y.forEach(C=>{var z,B,V,P,U;const ee=C,se={rowSpan:((z=ee.options)===null||z===void 0?void 0:z.rowspan)>1?ee.options.rowspan:void 0,gridSpan:((B=ee.options)===null||B===void 0?void 0:B.colspan)>1?ee.options.colspan:void 0,vMerge:ee._vmerge?1:void 0,hMerge:ee._hmerge?1:void 0};let K=Object.keys(se).map(pe=>[pe,se[pe]]).filter(([,pe])=>!!pe).map(([pe,N])=>`${String(pe)}="${String(N)}"`).join(" ");if(K&&(K=" "+K),ee._hmerge||ee._vmerge){L+=`<a:tc${K}><a:tcPr/></a:tc>`;return}const re=ee.options||{};ee.options=re,["align","bold","border","color","fill","fontFace","fontSize","margin","textDirection","underline","valign"].forEach(pe=>{_[pe]&&!re[pe]&&re[pe]!==0&&(re[pe]=_[pe])});const Ne=re.valign?` anchor="${re.valign.replace(/^c$/i,"ctr").replace(/^m$/i,"ctr").replace("center","ctr").replace("middle","ctr").replace("top","t").replace("btm","b").replace("bottom","b")}"`:"",ge=re.textDirection&&re.textDirection!=="horz"?` vert="${re.textDirection}"`:"";let be=!((P=(V=ee._optImp)===null||V===void 0?void 0:V.fill)===null||P===void 0)&&P.color?ee._optImp.fill.color:!((U=ee._optImp)===null||U===void 0)&&U.fill&&typeof ee._optImp.fill=="string"?ee._optImp.fill:"";be=be||re.fill?re.fill:"";const Ee=be?Tt(be):"";let xe=re.margin===0||re.margin?re.margin:mp;!Array.isArray(xe)&&typeof xe=="number"&&(xe=[xe,xe,xe,xe]);let ue="";xe[0]>=1?ue=` marL="${de(xe[3])}" marR="${de(xe[1])}" marT="${de(xe[0])}" marB="${de(xe[2])}"`:ue=` marL="${we(xe[3])}" marR="${we(xe[1])}" marT="${we(xe[0])}" marB="${we(xe[2])}"`,L+=`<a:tc${K}>${vh(ee)}<a:tcPr${ue}${Ne}${ge}>`,re.border&&Array.isArray(re.border)&&[{idx:3,name:"lnL"},{idx:1,name:"lnR"},{idx:0,name:"lnT"},{idx:2,name:"lnB"}].forEach(pe=>{re.border[pe.idx].type!=="none"?(L+=`<a:${pe.name} w="${de(re.border[pe.idx].pt)}" cap="flat" cmpd="sng" algn="ctr">`,L+=`<a:solidFill>${je(re.border[pe.idx].color)}</a:solidFill>`,L+=`<a:prstDash val="${re.border[pe.idx].type==="dash"?"sysDash":"solid"}"/><a:round/><a:headEnd type="none" w="med" len="med"/><a:tailEnd type="none" w="med" len="med"/>`,L+=`</a:${pe.name}>`):L+=`<a:${pe.name} w="0" cap="flat" cmpd="sng" algn="ctr"><a:noFill/></a:${pe.name}>`}),L+=Ee,L+="  </a:tcPr>",L+=" </a:tc>"}),L+="</a:tr>"}),L+="      </a:tbl>",L+="    </a:graphicData>",L+="  </a:graphic>",L+="</p:graphicFrame>",a+=L,r++;break;case me.text:case me.placeholder:if(!n.options.line&&f===0&&(f=fe*.3),n.options._bodyProp||(n.options._bodyProp={}),n.options.margin&&Array.isArray(n.options.margin)?(n.options._bodyProp.lIns=de(n.options.margin[0]||0),n.options._bodyProp.rIns=de(n.options.margin[1]||0),n.options._bodyProp.bIns=de(n.options.margin[2]||0),n.options._bodyProp.tIns=de(n.options.margin[3]||0)):typeof n.options.margin=="number"&&(n.options._bodyProp.lIns=de(n.options.margin),n.options._bodyProp.rIns=de(n.options.margin),n.options._bodyProp.bIns=de(n.options.margin),n.options._bodyProp.tIns=de(n.options.margin)),a+="<p:sp>",a+=`<p:nvSpPr><p:cNvPr id="${i+2}" name="${n.options.objectName}">`,!((c=n.options.hyperlink)===null||c===void 0)&&c.url&&(a+=`<a:hlinkClick r:id="rId${n.options.hyperlink._rId}" tooltip="${n.options.hyperlink.tooltip?he(n.options.hyperlink.tooltip):""}"/>`),!((o=n.options.hyperlink)===null||o===void 0)&&o.slide&&(a+=`<a:hlinkClick r:id="rId${n.options.hyperlink._rId}" tooltip="${n.options.hyperlink.tooltip?he(n.options.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),a+="</p:cNvPr>",a+="<p:cNvSpPr"+(!((u=n.options)===null||u===void 0)&&u.isTextBox?' txBox="1"/>':"/>"),a+=`<p:nvPr>${n._type==="placeholder"?ai(n):ai(g)}</p:nvPr>`,a+="</p:nvSpPr><p:spPr>",a+=`<a:xfrm${v}>`,a+=`<a:off x="${A}" y="${p}"/>`,a+=`<a:ext cx="${b}" cy="${f}"/></a:xfrm>`,n.shape==="custGeom")a+="<a:custGeom><a:avLst />",a+="<a:gdLst>",a+="</a:gdLst>",a+="<a:ahLst />",a+="<a:cxnLst>",a+="</a:cxnLst>",a+='<a:rect l="l" t="t" r="r" b="b" />',a+="<a:pathLst>",a+=`<a:path w="${b}" h="${f}">`,(h=n.options.points)===null||h===void 0||h.forEach((y,I)=>{if("curve"in y)switch(y.curve.type){case"arc":a+=`<a:arcTo hR="${Ae(y.curve.hR,"Y",e._presLayout)}" wR="${Ae(y.curve.wR,"X",e._presLayout)}" stAng="${ma(y.curve.stAng)}" swAng="${ma(y.curve.swAng)}" />`;break;case"cubic":a+=`<a:cubicBezTo>
									<a:pt x="${Ae(y.curve.x1,"X",e._presLayout)}" y="${Ae(y.curve.y1,"Y",e._presLayout)}" />
									<a:pt x="${Ae(y.curve.x2,"X",e._presLayout)}" y="${Ae(y.curve.y2,"Y",e._presLayout)}" />
									<a:pt x="${Ae(y.x,"X",e._presLayout)}" y="${Ae(y.y,"Y",e._presLayout)}" />
									</a:cubicBezTo>`;break;case"quadratic":a+=`<a:quadBezTo>
									<a:pt x="${Ae(y.curve.x1,"X",e._presLayout)}" y="${Ae(y.curve.y1,"Y",e._presLayout)}" />
									<a:pt x="${Ae(y.x,"X",e._presLayout)}" y="${Ae(y.y,"Y",e._presLayout)}" />
									</a:quadBezTo>`;break}else"close"in y?a+="<a:close />":y.moveTo||I===0?a+=`<a:moveTo><a:pt x="${Ae(y.x,"X",e._presLayout)}" y="${Ae(y.y,"Y",e._presLayout)}" /></a:moveTo>`:a+=`<a:lnTo><a:pt x="${Ae(y.x,"X",e._presLayout)}" y="${Ae(y.y,"Y",e._presLayout)}" /></a:lnTo>`}),a+="</a:path>",a+="</a:pathLst>",a+="</a:custGeom>";else{if(a+='<a:prstGeom prst="'+n.shape+'"><a:avLst>',n.options.rectRadius)a+=`<a:gd name="adj" fmla="val ${Math.round(n.options.rectRadius*fe*1e5/Math.min(b,f))}"/>`;else if(n.options.angleRange){for(let y=0;y<2;y++){const I=n.options.angleRange[y];a+=`<a:gd name="adj${y+1}" fmla="val ${ma(I)}" />`}n.options.arcThicknessRatio&&(a+=`<a:gd name="adj3" fmla="val ${Math.round(n.options.arcThicknessRatio*5e4)}" />`)}a+="</a:avLst></a:prstGeom>"}a+=n.options.fill?Tt(n.options.fill):"<a:noFill/>",n.options.line&&(a+=n.options.line.width?`<a:ln w="${de(n.options.line.width)}">`:"<a:ln>",n.options.line.color&&(a+=Tt(n.options.line)),n.options.line.dashType&&(a+=`<a:prstDash val="${n.options.line.dashType}"/>`),n.options.line.beginArrowType&&(a+=`<a:headEnd type="${n.options.line.beginArrowType}"/>`),n.options.line.endArrowType&&(a+=`<a:tailEnd type="${n.options.line.endArrowType}"/>`),a+="</a:ln>"),n.options.shadow&&n.options.shadow.type!=="none"&&(n.options.shadow.type=n.options.shadow.type||"outer",n.options.shadow.blur=de(n.options.shadow.blur||8),n.options.shadow.offset=de(n.options.shadow.offset||4),n.options.shadow.angle=Math.round((n.options.shadow.angle||270)*6e4),n.options.shadow.opacity=Math.round((n.options.shadow.opacity||.75)*1e5),n.options.shadow.color=n.options.shadow.color||ph.color,a+="<a:effectLst>",a+=` <a:${n.options.shadow.type}Shdw ${n.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${n.options.shadow.blur}" dist="${n.options.shadow.offset}" dir="${n.options.shadow.angle}">`,a+=` <a:srgbClr val="${n.options.shadow.color}">`,a+=` <a:alpha val="${n.options.shadow.opacity}"/></a:srgbClr>`,a+=" </a:outerShdw>",a+="</a:effectLst>"),a+="</p:spPr>",a+=vh(n),a+="</p:sp>";break;case me.image:if(a+="<p:pic>",a+="  <p:nvPicPr>",a+=`<p:cNvPr id="${i+2}" name="${n.options.objectName}" descr="${he(n.options.altText||n.image)}">`,!((x=n.hyperlink)===null||x===void 0)&&x.url&&(a+=`<a:hlinkClick r:id="rId${n.hyperlink._rId}" tooltip="${n.hyperlink.tooltip?he(n.hyperlink.tooltip):""}"/>`),!((m=n.hyperlink)===null||m===void 0)&&m.slide&&(a+=`<a:hlinkClick r:id="rId${n.hyperlink._rId}" tooltip="${n.hyperlink.tooltip?he(n.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),a+="    </p:cNvPr>",a+='    <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',a+="    <p:nvPr>"+ai(g)+"</p:nvPr>",a+="  </p:nvPicPr>",a+="<p:blipFill>",(e._relsMedia||[]).filter(y=>y.rId===n.imageRid)[0]&&(e._relsMedia||[]).filter(y=>y.rId===n.imageRid)[0].extn==="svg"?(a+=`<a:blip r:embed="rId${n.imageRid-1}">`,a+=n.options.transparency?` <a:alphaModFix amt="${Math.round((100-n.options.transparency)*1e3)}"/>`:"",a+=" <a:extLst>",a+='  <a:ext uri="{96DAC541-7B7A-43D3-8B79-37D633B846F1}">',a+=`   <asvg:svgBlip xmlns:asvg="http://schemas.microsoft.com/office/drawing/2016/SVG/main" r:embed="rId${n.imageRid}"/>`,a+="  </a:ext>",a+=" </a:extLst>",a+="</a:blip>"):(a+=`<a:blip r:embed="rId${n.imageRid}">`,a+=n.options.transparency?`<a:alphaModFix amt="${Math.round((100-n.options.transparency)*1e3)}"/>`:"",a+="</a:blip>"),k!=null&&k.type){const y=k.w?Ae(k.w,"X",e._presLayout):b,I=k.h?Ae(k.h,"Y",e._presLayout):f,$=Ae(k.x||0,"X",e._presLayout),C=Ae(k.y||0,"Y",e._presLayout);a+=Cb[k.type]({w:j,h:T},{w:y,h:I,x:$,y:C}),j=y,T=I}else a+="  <a:stretch><a:fillRect/></a:stretch>";a+="</p:blipFill>",a+="<p:spPr>",a+=" <a:xfrm"+v+">",a+=`  <a:off x="${A}" y="${p}"/>`,a+=`  <a:ext cx="${j}" cy="${T}"/>`,a+=" </a:xfrm>",a+=` <a:prstGeom prst="${F?"ellipse":"rect"}"><a:avLst/></a:prstGeom>`,n.options.shadow&&n.options.shadow.type!=="none"&&(n.options.shadow.type=n.options.shadow.type||"outer",n.options.shadow.blur=de(n.options.shadow.blur||8),n.options.shadow.offset=de(n.options.shadow.offset||4),n.options.shadow.angle=Math.round((n.options.shadow.angle||270)*6e4),n.options.shadow.opacity=Math.round((n.options.shadow.opacity||.75)*1e5),n.options.shadow.color=n.options.shadow.color||ph.color,a+="<a:effectLst>",a+=`<a:${n.options.shadow.type}Shdw ${n.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${n.options.shadow.blur}" dist="${n.options.shadow.offset}" dir="${n.options.shadow.angle}">`,a+=`<a:srgbClr val="${n.options.shadow.color}">`,a+=`<a:alpha val="${n.options.shadow.opacity}"/></a:srgbClr>`,a+=`</a:${n.options.shadow.type}Shdw>`,a+="</a:effectLst>"),a+="</p:spPr>",a+="</p:pic>";break;case me.media:n.mtype==="online"?(a+="<p:pic>",a+=" <p:nvPicPr>",a+=`<p:cNvPr id="${n.mediaRid+2}" name="${n.options.objectName}"/>`,a+=" <p:cNvPicPr/>",a+=" <p:nvPr>",a+=`  <a:videoFile r:link="rId${n.mediaRid}"/>`,a+=" </p:nvPr>",a+=" </p:nvPicPr>",a+=` <p:blipFill><a:blip r:embed="rId${n.mediaRid+1}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,a+=" <p:spPr>",a+=`  <a:xfrm${v}><a:off x="${A}" y="${p}"/><a:ext cx="${b}" cy="${f}"/></a:xfrm>`,a+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',a+=" </p:spPr>",a+="</p:pic>"):(a+="<p:pic>",a+=" <p:nvPicPr>",a+=`<p:cNvPr id="${n.mediaRid+2}" name="${n.options.objectName}"><a:hlinkClick r:id="" action="ppaction://media"/></p:cNvPr>`,a+=' <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',a+=" <p:nvPr>",a+=`  <a:videoFile r:link="rId${n.mediaRid}"/>`,a+="  <p:extLst>",a+='   <p:ext uri="{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}">',a+=`    <p14:media xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" r:embed="rId${n.mediaRid+1}"/>`,a+="   </p:ext>",a+="  </p:extLst>",a+=" </p:nvPr>",a+=" </p:nvPicPr>",a+=` <p:blipFill><a:blip r:embed="rId${n.mediaRid+2}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,a+=" <p:spPr>",a+=`  <a:xfrm${v}><a:off x="${A}" y="${p}"/><a:ext cx="${b}" cy="${f}"/></a:xfrm>`,a+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',a+=" </p:spPr>",a+="</p:pic>");break;case me.chart:a+="<p:graphicFrame>",a+=" <p:nvGraphicFramePr>",a+=`   <p:cNvPr id="${i+2}" name="${n.options.objectName}" descr="${he(n.options.altText||"")}"/>`,a+="   <p:cNvGraphicFramePr/>",a+=`   <p:nvPr>${ai(g)}</p:nvPr>`,a+=" </p:nvGraphicFramePr>",a+=` <p:xfrm><a:off x="${A}" y="${p}"/><a:ext cx="${b}" cy="${f}"/></p:xfrm>`,a+=' <a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',a+='  <a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/chart">',a+=`   <c:chart r:id="rId${n.chartRid}" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"/>`,a+="  </a:graphicData>",a+=" </a:graphic>",a+="</p:graphicFrame>";break;default:a+="";break}}),e._slideNumberProps&&(e._slideNumberProps.align||(e._slideNumberProps.align="left"),a+="<p:sp>",a+=" <p:nvSpPr>",a+='  <p:cNvPr id="25" name="Slide Number Placeholder 0"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr>',a+='  <p:nvPr><p:ph type="sldNum" sz="quarter" idx="4294967295"/></p:nvPr>',a+=" </p:nvSpPr>",a+=" <p:spPr>",a+=`<a:xfrm><a:off x="${Ae(e._slideNumberProps.x,"X",e._presLayout)}" y="${Ae(e._slideNumberProps.y,"Y",e._presLayout)}"/><a:ext cx="${e._slideNumberProps.w?Ae(e._slideNumberProps.w,"X",e._presLayout):"800000"}" cy="${e._slideNumberProps.h?Ae(e._slideNumberProps.h,"Y",e._presLayout):"300000"}"/></a:xfrm> <a:prstGeom prst="rect"><a:avLst/></a:prstGeom> <a:extLst><a:ext uri="{C572A759-6A51-4108-AA02-DFA0A04FC94B}"><ma14:wrappingTextBoxFlag val="0" xmlns:ma14="http://schemas.microsoft.com/office/mac/drawingml/2011/main"/></a:ext></a:extLst></p:spPr>`,a+="<p:txBody>",a+="<a:bodyPr",e._slideNumberProps.margin&&Array.isArray(e._slideNumberProps.margin)?(a+=` lIns="${de(e._slideNumberProps.margin[3]||0)}"`,a+=` tIns="${de(e._slideNumberProps.margin[0]||0)}"`,a+=` rIns="${de(e._slideNumberProps.margin[1]||0)}"`,a+=` bIns="${de(e._slideNumberProps.margin[2]||0)}"`):typeof e._slideNumberProps.margin=="number"&&(a+=` lIns="${de(e._slideNumberProps.margin||0)}"`,a+=` tIns="${de(e._slideNumberProps.margin||0)}"`,a+=` rIns="${de(e._slideNumberProps.margin||0)}"`,a+=` bIns="${de(e._slideNumberProps.margin||0)}"`),e._slideNumberProps.valign&&(a+=` anchor="${e._slideNumberProps.valign.replace("top","t").replace("middle","ctr").replace("bottom","b")}"`),a+="/>",a+="  <a:lstStyle><a:lvl1pPr>",(e._slideNumberProps.fontFace||e._slideNumberProps.fontSize||e._slideNumberProps.color)&&(a+=`<a:defRPr sz="${Math.round((e._slideNumberProps.fontSize||12)*100)}">`,e._slideNumberProps.color&&(a+=Tt(e._slideNumberProps.color)),e._slideNumberProps.fontFace&&(a+=`<a:latin typeface="${e._slideNumberProps.fontFace}"/><a:ea typeface="${e._slideNumberProps.fontFace}"/><a:cs typeface="${e._slideNumberProps.fontFace}"/>`),a+="</a:defRPr>"),a+="</a:lvl1pPr></a:lstStyle>",a+="<a:p>",e._slideNumberProps.align.startsWith("l")?a+='<a:pPr algn="l"/>':e._slideNumberProps.align.startsWith("c")?a+='<a:pPr algn="ctr"/>':e._slideNumberProps.align.startsWith("r")?a+='<a:pPr algn="r"/>':a+='<a:pPr algn="l"/>',a+=`<a:fld id="${xp}" type="slidenum"><a:rPr b="${e._slideNumberProps.bold?1:0}" lang="en-US"/>`,a+=`<a:t>${e._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p>`,a+="</p:txBody></p:sp>"),a+="</p:spTree>",a+="</p:cSld>",a}function Td(e,t){let a=0,r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+rt+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';return e._rels.forEach(n=>{a=Math.max(a,n.rId),n.type.toLowerCase().includes("hyperlink")?n.data==="slide"?r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slide${n.Target}.xml"/>`:r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${n.Target}" TargetMode="External"/>`:n.type.toLowerCase().includes("notesSlide")&&(r+=`<Relationship Id="rId${n.rId}" Target="${n.Target}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"/>`)}),(e._relsChart||[]).forEach(n=>{a=Math.max(a,n.rId),r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart" Target="${n.Target}"/>`}),(e._relsMedia||[]).forEach(n=>{const i=n.rId.toString();a=Math.max(a,n.rId),n.type.toLowerCase().includes("image")?r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("audio")?r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("video")?r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("online")&&(r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/image" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+i+'" Target="'+n.Target+'" TargetMode="External" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video"/>')}),t.forEach((n,i)=>{r+=`<Relationship Id="rId${a+i+1}" Type="${n.type}" Target="${n.target}"/>`}),r+="</Relationships>",r}function gh(e,t){var a,r;let n="",i="",l="",d="";const c=t?"a:lvl1pPr":"a:pPr";let o=de(ob),u=`<${c}${e.options.rtlMode?' rtl="1" ':""}`;{if(e.options.align)switch(e.options.align){case"left":u+=' algn="l"';break;case"right":u+=' algn="r"';break;case"center":u+=' algn="ctr"';break;case"justify":u+=' algn="just"';break;default:u+="";break}if(e.options.lineSpacing?i=`<a:lnSpc><a:spcPts val="${Math.round(e.options.lineSpacing*100)}"/></a:lnSpc>`:e.options.lineSpacingMultiple&&(i=`<a:lnSpc><a:spcPct val="${Math.round(e.options.lineSpacingMultiple*1e5)}"/></a:lnSpc>`),e.options.indentLevel&&!isNaN(Number(e.options.indentLevel))&&e.options.indentLevel>0&&(u+=` lvl="${e.options.indentLevel}"`),e.options.paraSpaceBefore&&!isNaN(Number(e.options.paraSpaceBefore))&&e.options.paraSpaceBefore>0&&(l+=`<a:spcBef><a:spcPts val="${Math.round(e.options.paraSpaceBefore*100)}"/></a:spcBef>`),e.options.paraSpaceAfter&&!isNaN(Number(e.options.paraSpaceAfter))&&e.options.paraSpaceAfter>0&&(l+=`<a:spcAft><a:spcPts val="${Math.round(e.options.paraSpaceAfter*100)}"/></a:spcAft>`),typeof e.options.bullet=="object")if(!((r=(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.bullet)===null||r===void 0)&&r.indent&&(o=de(e.options.bullet.indent)),e.options.bullet.type)e.options.bullet.type.toString().toLowerCase()==="number"&&(u+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n=`<a:buSzPct val="100000"/><a:buFont typeface="+mj-lt"/><a:buAutoNum type="${e.options.bullet.style||"arabicPeriod"}" startAt="${e.options.bullet.numberStartAt||e.options.bullet.startAt||"1"}"/>`);else if(e.options.bullet.characterCode){let h=`&#x${e.options.bullet.characterCode};`;/^[0-9A-Fa-f]{4}$/.test(e.options.bullet.characterCode)||(console.warn("Warning: `bullet.characterCode should be a 4-digit unicode charatcer (ex: 22AB)`!"),h=Ja.DEFAULT),u+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else if(e.options.bullet.code){let h=`&#x${e.options.bullet.code};`;/^[0-9A-Fa-f]{4}$/.test(e.options.bullet.code)||(console.warn("Warning: `bullet.code should be a 4-digit hex code (ex: 22AB)`!"),h=Ja.DEFAULT),u+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else u+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n=`<a:buSzPct val="100000"/><a:buChar char="${Ja.DEFAULT}"/>`;else e.options.bullet?(u+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?o+o*e.options.indentLevel:o}" indent="-${o}"`,n=`<a:buSzPct val="100000"/><a:buChar char="${Ja.DEFAULT}"/>`):e.options.bullet||(u+=' indent="0" marL="0"',n="<a:buNone/>");e.options.tabStops&&Array.isArray(e.options.tabStops)&&(d=`<a:tabLst>${e.options.tabStops.map(x=>`<a:tab pos="${we(x.position||1)}" algn="${x.alignment||"l"}"/>`).join("")}</a:tabLst>`),u+=">"+i+l+n+d,t&&(u+=yp(e.options,!0)),u+="</"+c+">"}return u}function yp(e,t){var a;let r="";const n=t?"a:defRPr":"a:rPr";if(r+="<"+n+' lang="'+(e.lang?e.lang:"en-US")+'"'+(e.lang?' altLang="en-US"':""),r+=e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"",r+=e!=null&&e.bold?` b="${e.bold?"1":"0"}"`:"",r+=e!=null&&e.italic?` i="${e.italic?"1":"0"}"`:"",r+=e!=null&&e.strike?` strike="${typeof e.strike=="string"?e.strike:"sngStrike"}"`:"",typeof e.underline=="object"&&(!((a=e.underline)===null||a===void 0)&&a.style)?r+=` u="${e.underline.style}"`:typeof e.underline=="string"?r+=` u="${String(e.underline)}"`:e.hyperlink&&(r+=' u="sng"'),e.baseline?r+=` baseline="${Math.round(e.baseline*50)}"`:e.subscript?r+=' baseline="-40000"':e.superscript&&(r+=' baseline="30000"'),r+=e.charSpacing?` spc="${Math.round(e.charSpacing*100)}" kern="0"`:"",r+=' dirty="0">',(e.color||e.fontFace||e.outline||typeof e.underline=="object"&&e.underline.color)&&(e.outline&&typeof e.outline=="object"&&(r+=`<a:ln w="${de(e.outline.size||.75)}">${Tt(e.outline.color||"FFFFFF")}</a:ln>`),e.color&&(r+=Tt({color:e.color,transparency:e.transparency})),e.highlight&&(r+=`<a:highlight>${je(e.highlight)}</a:highlight>`),typeof e.underline=="object"&&e.underline.color&&(r+=`<a:uFill>${Tt(e.underline.color)}</a:uFill>`),e.glow&&(r+=`<a:effectLst>${mb(e.glow,db)}</a:effectLst>`),e.fontFace&&(r+=`<a:latin typeface="${e.fontFace}" pitchFamily="34" charset="0"/><a:ea typeface="${e.fontFace}" pitchFamily="34" charset="-122"/><a:cs typeface="${e.fontFace}" pitchFamily="34" charset="-120"/>`)),e.hyperlink){if(typeof e.hyperlink!="object")throw new Error("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:'https://github.com'}` ");if(!e.hyperlink.url&&!e.hyperlink.slide)throw new Error("ERROR: 'hyperlink requires either `url` or `slide`'");e.hyperlink.url?r+=`<a:hlinkClick r:id="rId${e.hyperlink._rId}" invalidUrl="" action="" tgtFrame="" tooltip="${e.hyperlink.tooltip?he(e.hyperlink.tooltip):""}" history="1" highlightClick="0" endSnd="0"${e.color?">":"/>"}`:e.hyperlink.slide&&(r+=`<a:hlinkClick r:id="rId${e.hyperlink._rId}" action="ppaction://hlinksldjump" tooltip="${e.hyperlink.tooltip?he(e.hyperlink.tooltip):""}"${e.color?">":"/>"}`),e.color&&(r+=" <a:extLst>",r+='  <a:ext uri="{A12FA001-AC4F-418D-AE19-62706E023703}">',r+='   <ahyp:hlinkClr xmlns:ahyp="http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor" val="tx"/>',r+="  </a:ext>",r+=" </a:extLst>",r+="</a:hlinkClick>")}return r+=`</${n}>`,r}function Sb(e){return e.text?`<a:r>${yp(e.options,!1)}<a:t>${he(e.text)}</a:t></a:r>`:""}function kb(e){let t="<a:bodyPr";return e&&e._type===me.text&&e.options._bodyProp?(t+=e.options._bodyProp.wrap?' wrap="square"':' wrap="none"',(e.options._bodyProp.lIns||e.options._bodyProp.lIns===0)&&(t+=` lIns="${e.options._bodyProp.lIns}"`),(e.options._bodyProp.tIns||e.options._bodyProp.tIns===0)&&(t+=` tIns="${e.options._bodyProp.tIns}"`),(e.options._bodyProp.rIns||e.options._bodyProp.rIns===0)&&(t+=` rIns="${e.options._bodyProp.rIns}"`),(e.options._bodyProp.bIns||e.options._bodyProp.bIns===0)&&(t+=` bIns="${e.options._bodyProp.bIns}"`),t+=' rtlCol="0"',e.options._bodyProp.anchor&&(t+=' anchor="'+e.options._bodyProp.anchor+'"'),e.options._bodyProp.vert&&(t+=' vert="'+e.options._bodyProp.vert+'"'),t+=">",e.options.fit&&(e.options.fit==="none"?t+="":e.options.fit==="shrink"?t+="<a:normAutofit/>":e.options.fit==="resize"&&(t+="<a:spAutoFit/>")),e.options.shrinkText&&(t+="<a:normAutofit/>"),t+=e.options._bodyProp.autoFit?"<a:spAutoFit/>":"",t+="</a:bodyPr>"):(t+=' wrap="square" rtlCol="0">',t+="</a:bodyPr>"),e._type===me.tablecell?"<a:bodyPr/>":t}function vh(e){const t=e.options||{};let a=[];const r=[];if(t&&e._type!==me.tablecell&&(typeof e.text>"u"||e.text===null))return"";let n=e._type===me.tablecell?"<a:txBody>":"<p:txBody>";n+=kb(e),t.h===0&&t.line&&t.align?n+='<a:lstStyle><a:lvl1pPr algn="l"/></a:lstStyle>':e._type==="placeholder"?n+=`<a:lstStyle>${gh(e,!0)}</a:lstStyle>`:n+="<a:lstStyle/>",typeof e.text=="string"||typeof e.text=="number"?a.push({text:e.text.toString(),options:t||{}}):e.text&&!Array.isArray(e.text)&&typeof e.text=="object"&&Object.keys(e.text).includes("text")?a.push({text:e.text||"",options:e.options||{}}):Array.isArray(e.text)&&(a=e.text.map(d=>({text:d.text,options:d.options}))),a.forEach((d,c)=>{d.text||(d.text=""),d.options=d.options||t||{},c===0&&d.options&&!d.options.bullet&&t.bullet&&(d.options.bullet=t.bullet),(typeof d.text=="string"||typeof d.text=="number")&&(d.text=d.text.toString().replace(/\r*\n/g,rt)),d.text.includes(rt)&&d.text.match(/\n$/g)===null?d.text.split(rt).forEach(o=>{d.options.breakLine=!0,r.push({text:o,options:d.options})}):r.push(d)});const i=[];let l=[];return r.forEach((d,c)=>{l.length>0&&(d.options.align||t.align)?d.options.align!==r[c-1].options.align&&(i.push(l),l=[]):l.length>0&&d.options.bullet&&l.length>0&&(i.push(l),l=[],d.options.breakLine=!1),l.push(d),l.length>0&&d.options.breakLine&&c+1<r.length&&(i.push(l),l=[]),c+1===r.length&&i.push(l)}),i.forEach(d=>{var c;let o=!1;n+="<a:p>";let u=`<a:pPr ${!((c=d[0].options)===null||c===void 0)&&c.rtlMode?' rtl="1" ':""}`;d.forEach((h,x)=>{h.options._lineIdx=x,x>0&&h.options.softBreakBefore&&(n+="<a:br/>"),h.options.align=h.options.align||t.align,h.options.lineSpacing=h.options.lineSpacing||t.lineSpacing,h.options.lineSpacingMultiple=h.options.lineSpacingMultiple||t.lineSpacingMultiple,h.options.indentLevel=h.options.indentLevel||t.indentLevel,h.options.paraSpaceBefore=h.options.paraSpaceBefore||t.paraSpaceBefore,h.options.paraSpaceAfter=h.options.paraSpaceAfter||t.paraSpaceAfter,u=gh(h,!1),n+=u.replace("<a:pPr></a:pPr>",""),Object.entries(t).filter(([m])=>!(h.options.hyperlink&&m==="color")).forEach(([m,A])=>{m!=="bullet"&&!h.options[m]&&(h.options[m]=A)}),n+=Sb(h),(!h.text&&t.fontSize||h.options.fontSize)&&(o=!0,t.fontSize=t.fontSize||h.options.fontSize)}),e._type===me.tablecell&&(t.fontSize||t.fontFace)?t.fontFace?(n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0">',n+=`<a:latin typeface="${t.fontFace}" charset="0"/>`,n+=`<a:ea typeface="${t.fontFace}" charset="0"/>`,n+=`<a:cs typeface="${t.fontFace}" charset="0"/>`,n+="</a:endParaRPr>"):n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':o?n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':n+=`<a:endParaRPr lang="${t.lang||"en-US"}" dirty="0"/>`,n+="</a:p>"}),n.indexOf("<a:p>")===-1&&(n+="<a:p><a:endParaRPr/></a:p>"),n+=e._type===me.tablecell?"</a:txBody>":"</p:txBody>",n}function ai(e){var t,a;if(!e)return"";const r=!((t=e.options)===null||t===void 0)&&t._placeholderIdx?e.options._placeholderIdx:"",n=!((a=e.options)===null||a===void 0)&&a._placeholderType?e.options._placeholderType:"",i=n&&en[n]?en[n].toString():"";return`<p:ph
		${r?' idx="'+r.toString()+'"':""}
		${i&&en[i]?` type="${i}"`:""}
		${e.text&&e.text.length>0?' hasCustomPrompt="1"':""}
		/>`}function Rb(e,t,a){let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+rt;return r+='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',r+='<Default Extension="xml" ContentType="application/xml"/>',r+='<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>',r+='<Default Extension="jpeg" ContentType="image/jpeg"/>',r+='<Default Extension="jpg" ContentType="image/jpg"/>',r+='<Default Extension="svg" ContentType="image/svg+xml"/>',r+='<Default Extension="png" ContentType="image/png"/>',r+='<Default Extension="gif" ContentType="image/gif"/>',r+='<Default Extension="m4v" ContentType="video/mp4"/>',r+='<Default Extension="mp4" ContentType="video/mp4"/>',e.forEach(n=>{(n._relsMedia||[]).forEach(i=>{i.type!=="image"&&i.type!=="online"&&i.type!=="chart"&&i.extn!=="m4v"&&!r.includes(i.type)&&(r+='<Default Extension="'+i.extn+'" ContentType="'+i.type+'"/>')})}),r+='<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>',r+='<Default Extension="xlsx" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>',r+='<Override PartName="/ppt/presentation.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"/>',r+='<Override PartName="/ppt/notesMasters/notesMaster1.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml"/>',e.forEach((n,i)=>{r+=`<Override PartName="/ppt/slideMasters/slideMaster${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml"/>`,r+=`<Override PartName="/ppt/slides/slide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slide+xml"/>`,n._relsChart.forEach(l=>{r+=`<Override PartName="${l.Target}" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>`})}),r+='<Override PartName="/ppt/presProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presProps+xml"/>',r+='<Override PartName="/ppt/viewProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml"/>',r+='<Override PartName="/ppt/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>',r+='<Override PartName="/ppt/tableStyles.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml"/>',t.forEach((n,i)=>{r+=`<Override PartName="/ppt/slideLayouts/slideLayout${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml"/>`,(n._relsChart||[]).forEach(l=>{r+=' <Override PartName="'+l.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'})}),e.forEach((n,i)=>{r+=`<Override PartName="/ppt/notesSlides/notesSlide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml"/>`}),a._relsChart.forEach(n=>{r+=' <Override PartName="'+n.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'}),a._relsMedia.forEach(n=>{n.type!=="image"&&n.type!=="online"&&n.type!=="chart"&&n.extn!=="m4v"&&!r.includes(n.type)&&(r+=' <Default Extension="'+n.extn+'" ContentType="'+n.type+'"/>')}),r+=' <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>',r+=' <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>',r+="</Types>",r}function Lb(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>
		<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>
		<Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="ppt/presentation.xml"/>
		</Relationships>`}function Db(e,t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">
	<TotalTime>0</TotalTime>
	<Words>0</Words>
	<Application>Microsoft Office PowerPoint</Application>
	<PresentationFormat>On-screen Show (16:9)</PresentationFormat>
	<Paragraphs>0</Paragraphs>
	<Slides>${e.length}</Slides>
	<Notes>${e.length}</Notes>
	<HiddenSlides>0</HiddenSlides>
	<MMClips>0</MMClips>
	<ScaleCrop>false</ScaleCrop>
	<HeadingPairs>
		<vt:vector size="6" baseType="variant">
			<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>2</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>1</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>${e.length}</vt:i4></vt:variant>
		</vt:vector>
	</HeadingPairs>
	<TitlesOfParts>
		<vt:vector size="${e.length+1+2}" baseType="lpstr">
			<vt:lpstr>Arial</vt:lpstr>
			<vt:lpstr>Calibri</vt:lpstr>
			<vt:lpstr>Office Theme</vt:lpstr>
			${e.map((a,r)=>`<vt:lpstr>Slide ${r+1}</vt:lpstr>`).join("")}
		</vt:vector>
	</TitlesOfParts>
	<Company>${t}</Company>
	<LinksUpToDate>false</LinksUpToDate>
	<SharedDoc>false</SharedDoc>
	<HyperlinksChanged>false</HyperlinksChanged>
	<AppVersion>16.0000</AppVersion>
	</Properties>`}function Tb(e,t,a,r){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<dc:title>${he(e)}</dc:title>
		<dc:subject>${he(t)}</dc:subject>
		<dc:creator>${he(a)}</dc:creator>
		<cp:lastModifiedBy>${he(a)}</cp:lastModifiedBy>
		<cp:revision>${r}</cp:revision>
		<dcterms:created xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:created>
		<dcterms:modified xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:modified>
	</cp:coreProperties>`}function Fb(e){let t=1,a='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+rt;a+='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',a+='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster" Target="slideMasters/slideMaster1.xml"/>';for(let r=1;r<=e.length;r++)a+=`<Relationship Id="rId${++t}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slides/slide${r}.xml"/>`;return t++,a+=`<Relationship Id="rId${t+0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="notesMasters/notesMaster1.xml"/><Relationship Id="rId${t+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps" Target="presProps.xml"/><Relationship Id="rId${t+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps" Target="viewProps.xml"/><Relationship Id="rId${t+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${t+4}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles" Target="tableStyles.xml"/></Relationships>`,a}function Eb(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<p:sld xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"${e!=null&&e.hidden?' show="0"':""}>${Dd(e)}<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>`}function Pb(e){let t="";return e._slideObjects.forEach(a=>{a._type===me.notes&&(t+=a!=null&&a.text&&a.text[0]?a.text[0].text:"")}),t.replace(/\r*\n/g,rt)}function Bb(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<p:notesMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Header Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="hdr" sz="quarter"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Date Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="dt" idx="1"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{5282F153-3F37-0F45-9E97-73ACFA13230C}" type="datetimeFigureOut"><a:rPr lang="en-US"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Image Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg" idx="2"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="1143000"/><a:ext cx="5486400" cy="3086100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="12700"><a:solidFill><a:prstClr val="black"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="ctr"/><a:lstStyle/><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="5" name="Notes Placeholder 4"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" sz="quarter" idx="3"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="4400550"/><a:ext cx="5486400" cy="3600450"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle/><a:p><a:pPr lvl="0"/><a:r><a:rPr lang="en-US"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl="1"/><a:r><a:rPr lang="en-US"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl="2"/><a:r><a:rPr lang="en-US"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl="3"/><a:r><a:rPr lang="en-US"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl="4"/><a:r><a:rPr lang="en-US"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="6" name="Footer Placeholder 5"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="ftr" sz="quarter" idx="4"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="7" name="Slide Number Placeholder 6"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="5"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}" type="slidenum"><a:rPr lang="en-US"/><a:t>#</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/><p:notesStyle><a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`}function Ib(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<p:notes xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Slide Image Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Notes Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" idx="1"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang="en-US" dirty="0"/><a:t>${he(Pb(e))}</a:t></a:r><a:endParaRPr lang="en-US" dirty="0"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Number Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="10"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id="${xp}" type="slidenum"><a:rPr lang="en-US"/><a:t>${e._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`}function Mb(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<p:sldLayout xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" preserve="1">
		${Dd(e)}
		<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`}function Ob(e,t){const a=t.map((n,i)=>`<p:sldLayoutId id="${ib+i}" r:id="rId${e._rels.length+i+1}"/>`);let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+rt;return r+='<p:sldMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main">',r+=Dd(e),r+='<p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/>',r+="<p:sldLayoutIdLst>"+a.join("")+"</p:sldLayoutIdLst>",r+='<p:hf sldNum="0" hdr="0" ftr="0" dt="0"/>',r+='<p:txStyles> <p:titleStyle>  <a:lvl1pPr algn="ctr" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="0"/></a:spcBef><a:buNone/><a:defRPr sz="4400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mj-lt"/><a:ea typeface="+mj-ea"/><a:cs typeface="+mj-cs"/></a:defRPr></a:lvl1pPr> </p:titleStyle> <p:bodyStyle>  <a:lvl1pPr marL="342900" indent="-342900" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="3200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="742950" indent="-285750" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="1143000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1600200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="2057400" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2514600" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2971800" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3429000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3886200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:bodyStyle> <p:otherStyle>  <a:defPPr><a:defRPr lang="en-US"/></a:defPPr>  <a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:otherStyle></p:txStyles>',r+="</p:sldMaster>",r}function zb(e,t){return Td(t[e-1],[{target:"../slideMasters/slideMaster1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster"}])}function Ub(e,t,a){return Td(e[a-1],[{target:`../slideLayouts/slideLayout${Qb(e,t,a)}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"},{target:`../notesSlides/notesSlide${a}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"}])}function qb(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
			<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="../notesMasters/notesMaster1.xml"/>
			<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="../slides/slide${e}.xml"/>
		</Relationships>`}function $b(e,t){const a=t.map((r,n)=>({target:`../slideLayouts/slideLayout${n+1}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"}));return a.push({target:"../theme/theme1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"}),Td(e,a)}function Vb(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="../theme/theme1.xml"/>
		</Relationships>`}function Qb(e,t,a){for(let r=0;r<t.length;r++)if(t[r]._name===e[a-1]._slideLayout._name)return r+1;return 1}function Gb(e){var t,a,r,n;const i=!((t=e.theme)===null||t===void 0)&&t.headFontFace?`<a:latin typeface="${(a=e.theme)===null||a===void 0?void 0:a.headFontFace}"/>`:'<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>',l=!((r=e.theme)===null||r===void 0)&&r.bodyFontFace?`<a:latin typeface="${(n=e.theme)===null||n===void 0?void 0:n.bodyFontFace}"/>`:'<a:latin typeface="Calibri" panose="020F0502020204030204"/>';return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont>${i}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Angsana New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont>${l}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Cordia New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`}function Wb(e){let t=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<p:presentation xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" ${e.rtlMode?'rtl="1"':""} saveSubsetFonts="1" autoCompressPictures="0">`;t+='<p:sldMasterIdLst><p:sldMasterId id="2147483648" r:id="rId1"/></p:sldMasterIdLst>',t+="<p:sldIdLst>",e.slides.forEach(a=>t+=`<p:sldId id="${a._slideId}" r:id="rId${a._rId}"/>`),t+="</p:sldIdLst>",t+=`<p:notesMasterIdLst><p:notesMasterId r:id="rId${e.slides.length+2}"/></p:notesMasterIdLst>`,t+=`<p:sldSz cx="${e.presLayout.width}" cy="${e.presLayout.height}"/>`,t+=`<p:notesSz cx="${e.presLayout.height}" cy="${e.presLayout.width}"/>`,t+="<p:defaultTextStyle>";for(let a=1;a<10;a++)t+=`<a:lvl${a}pPr marL="${(a-1)*457200}" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl${a}pPr>`;return t+="</p:defaultTextStyle>",e.sections&&e.sections.length>0&&(t+='<p:extLst><p:ext uri="{521415D9-36F7-43E2-AB2F-B90AF26B5E84}">',t+='<p14:sectionLst xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main">',e.sections.forEach(a=>{t+=`<p14:section name="${he(a.title)}" id="{${vi("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}}"><p14:sldIdLst>`,a._slides.forEach(r=>t+=`<p14:sldId id="${r._slideId}"/>`),t+="</p14:sldIdLst></p14:section>"}),t+="</p14:sectionLst></p:ext>",t+='<p:ext uri="{EFAFB233-063F-42B5-8137-9DF3F51BA10A}"><p15:sldGuideLst xmlns:p15="http://schemas.microsoft.com/office/powerpoint/2012/main"/></p:ext>',t+="</p:extLst>"),t+="</p:presentation>",t}function Hb(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<p:presentationPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"/>`}function Xb(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<a:tblStyleLst xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" def="{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}"/>`}function Kb(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${rt}<p:viewPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:normalViewPr horzBarState="maximized"><p:restoredLeft sz="15611"/><p:restoredTop sz="94610"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid="0" snapToObjects="1"><p:cViewPr varScale="1"><p:scale><a:sx n="136" d="100"/><a:sy n="136" d="100"/></p:scale><p:origin x="216" y="312"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n="1" d="1"/><a:sy n="1" d="1"/></p:scale><p:origin x="0" y="0"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx="76200" cy="76200"/></p:viewPr>`}const Jb="4.0.1";class Yb{set layout(t){const a=this.LAYOUTS[t];if(a)this._layout=t,this._presLayout=a;else throw new Error("UNKNOWN-LAYOUT")}get layout(){return this._layout}get version(){return this._version}set author(t){this._author=t}get author(){return this._author}set company(t){this._company=t}get company(){return this._company}set revision(t){this._revision=t}get revision(){return this._revision}set subject(t){this._subject=t}get subject(){return this._subject}set theme(t){this._theme=t}get theme(){return this._theme}set title(t){this._title=t}get title(){return this._title}set rtlMode(t){this._rtlMode=t}get rtlMode(){return this._rtlMode}get masterSlide(){return this._masterSlide}get slides(){return this._slides}get sections(){return this._sections}get slideLayouts(){return this._slideLayouts}get AlignH(){return this._alignH}get AlignV(){return this._alignV}get ChartType(){return this._chartType}get OutputType(){return this._outputType}get presLayout(){return this._presLayout}get SchemeColor(){return this._schemeColor}get ShapeType(){return this._shapeType}get charts(){return this._charts}get colors(){return this._colors}get shapes(){return this._shapes}constructor(){this._version=Jb,this._alignH=_c,this._alignV=Nc,this._chartType=yc,this._outputType=bc,this._schemeColor=Rt,this._shapeType=wc,this._charts=Y,this._colors=Ji,this._shapes=Ks,this.addNewSlide=i=>{const l=this.sections.length>0&&this.sections[this.sections.length-1]._slides.filter(d=>d._slideNum===this.slides[this.slides.length-1]._slideNum).length>0;return i.sectionTitle=l?this.sections[this.sections.length-1].title:null,this.addSlide(i)},this.getSlide=i=>this.slides.filter(l=>l._slideNum===i)[0],this.setSlideNumber=i=>{this.masterSlide._slideNumberProps=i,this.slideLayouts.filter(l=>l._name===gc)[0]._slideNumberProps=i},this.createChartMediaRels=(i,l,d)=>{i._relsChart.forEach(c=>d.push(_b(c,l))),i._relsMedia.forEach(c=>{if(c.type!=="online"&&c.type!=="hyperlink"){let o=c.data&&typeof c.data=="string"?c.data:"";!o.includes(",")&&!o.includes(";")?o="image/png;base64,"+o:o.includes(",")?o.includes(";")||(o="image/png;"+o):o="image/png;base64,"+o,l.file(c.Target.replace("..","ppt"),o.split(",").pop(),{base64:!0})}})},this.writeFileToBrowser=(i,l)=>Dt(this,void 0,void 0,function*(){const d=document.createElement("a");if(d.setAttribute("style","display:none;"),d.dataset.interception="off",document.body.appendChild(d),window.URL.createObjectURL){const c=window.URL.createObjectURL(new Blob([l],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}));return d.href=c,d.download=i,d.click(),setTimeout(()=>{window.URL.revokeObjectURL(c),document.body.removeChild(d)},100),yield Promise.resolve(i)}}),this.exportPresentation=i=>Dt(this,void 0,void 0,function*(){const l=[];let d=[];const c=new hp;return this.slides.forEach(o=>{d=d.concat(ho(o))}),this.slideLayouts.forEach(o=>{d=d.concat(ho(o))}),d=d.concat(ho(this.masterSlide)),yield Promise.all(d).then(()=>Dt(this,void 0,void 0,function*(){return this.slides.forEach(o=>{o._slideLayout&&yb(o)}),c.folder("_rels"),c.folder("docProps"),c.folder("ppt").folder("_rels"),c.folder("ppt/charts").folder("_rels"),c.folder("ppt/embeddings"),c.folder("ppt/media"),c.folder("ppt/slideLayouts").folder("_rels"),c.folder("ppt/slideMasters").folder("_rels"),c.folder("ppt/slides").folder("_rels"),c.folder("ppt/theme"),c.folder("ppt/notesMasters").folder("_rels"),c.folder("ppt/notesSlides").folder("_rels"),c.file("[Content_Types].xml",Rb(this.slides,this.slideLayouts,this.masterSlide)),c.file("_rels/.rels",Lb()),c.file("docProps/app.xml",Db(this.slides,this.company)),c.file("docProps/core.xml",Tb(this.title,this.subject,this.author,this.revision)),c.file("ppt/_rels/presentation.xml.rels",Fb(this.slides)),c.file("ppt/theme/theme1.xml",Gb(this)),c.file("ppt/presentation.xml",Wb(this)),c.file("ppt/presProps.xml",Hb()),c.file("ppt/tableStyles.xml",Xb()),c.file("ppt/viewProps.xml",Kb()),this.slideLayouts.forEach((o,u)=>{c.file(`ppt/slideLayouts/slideLayout${u+1}.xml`,Mb(o)),c.file(`ppt/slideLayouts/_rels/slideLayout${u+1}.xml.rels`,zb(u+1,this.slideLayouts))}),this.slides.forEach((o,u)=>{c.file(`ppt/slides/slide${u+1}.xml`,Eb(o)),c.file(`ppt/slides/_rels/slide${u+1}.xml.rels`,Ub(this.slides,this.slideLayouts,u+1)),c.file(`ppt/notesSlides/notesSlide${u+1}.xml`,Ib(o)),c.file(`ppt/notesSlides/_rels/notesSlide${u+1}.xml.rels`,qb(u+1))}),c.file("ppt/slideMasters/slideMaster1.xml",Ob(this.masterSlide,this.slideLayouts)),c.file("ppt/slideMasters/_rels/slideMaster1.xml.rels",$b(this.masterSlide,this.slideLayouts)),c.file("ppt/notesMasters/notesMaster1.xml",Bb()),c.file("ppt/notesMasters/_rels/notesMaster1.xml.rels",Vb()),this.slideLayouts.forEach(o=>{this.createChartMediaRels(o,c,l)}),this.slides.forEach(o=>{this.createChartMediaRels(o,c,l)}),this.createChartMediaRels(this.masterSlide,c,l),yield Promise.all(l).then(()=>Dt(this,void 0,void 0,function*(){return i.outputType==="STREAM"?yield c.generateAsync({type:"nodebuffer",compression:i.compression?"DEFLATE":"STORE"}):i.outputType?yield c.generateAsync({type:i.outputType}):yield c.generateAsync({type:"blob",compression:i.compression?"DEFLATE":"STORE"})}))}))});const t={name:"screen4x3",width:9144e3,height:6858e3},a={name:"screen16x9",width:9144e3,height:5143500},r={name:"screen16x10",width:9144e3,height:5715e3},n={name:"custom",width:12192e3,height:6858e3};this.LAYOUTS={LAYOUT_4x3:t,LAYOUT_16x9:a,LAYOUT_16x10:r,LAYOUT_WIDE:n},this._author="PptxGenJS",this._company="PptxGenJS",this._revision="1",this._subject="PptxGenJS Presentation",this._title="PptxGenJS Presentation",this._presLayout={name:this.LAYOUTS[Ea].name,_sizeW:this.LAYOUTS[Ea].width,_sizeH:this.LAYOUTS[Ea].height,width:this.LAYOUTS[Ea].width,height:this.LAYOUTS[Ea].height},this._rtlMode=!1,this._slideLayouts=[{_margin:_n,_name:gc,_presLayout:this._presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3,_slideNumberProps:null,_slideObjects:[]}],this._slides=[],this._sections=[],this._masterSlide={addChart:null,addImage:null,addMedia:null,addNotes:null,addShape:null,addTable:null,addText:null,_name:null,_presLayout:this._presLayout,_rId:null,_rels:[],_relsChart:[],_relsMedia:[],_slideId:null,_slideLayout:null,_slideNum:null,_slideNumberProps:null,_slideObjects:[]}}stream(t){return Dt(this,void 0,void 0,function*(){return yield this.exportPresentation({compression:t==null?void 0:t.compression,outputType:"STREAM"})})}write(t){return Dt(this,void 0,void 0,function*(){const a=typeof t=="object"&&(t!=null&&t.outputType)?t.outputType:t||null,r=typeof t=="object"&&(t!=null&&t.compression)?t.compression:!1;return yield this.exportPresentation({compression:r,outputType:a})})}writeFile(t){return Dt(this,void 0,void 0,function*(){var a,r;const n=typeof process<"u"&&!!(!((a=process.versions)===null||a===void 0)&&a.node)&&((r=process.release)===null||r===void 0?void 0:r.name)==="node";typeof t=="string"&&(console.warn("[WARNING] writeFile(string) is deprecated - pass { fileName } instead."),t={fileName:t});const{fileName:i="Presentation.pptx",compression:l=!1}=t,d=i.toLowerCase().endsWith(".pptx")?i:`${i}.pptx`,c=n?"nodebuffer":null,o=yield this.exportPresentation({compression:l,outputType:c});if(n){const{promises:u}=yield Cs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{writeFile:h}=u;return yield h(d,o),d}return yield this.writeFileToBrowser(d,o),d})}addSection(t){t?t.title||console.warn("addSection requires a title"):console.warn("addSection requires an argument");const a={_type:"user",_slides:[],title:t.title};t.order?this.sections.splice(t.order,0,a):this._sections.push(a)}addSlide(t){const a=typeof t=="string"?t:t!=null&&t.masterName?t.masterName:"";let r={_name:this.LAYOUTS[Ea].name,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slideNum:this.slides.length+1};if(a){const i=this.slideLayouts.filter(l=>l._name===a)[0];i&&(r=i)}const n=new wb({addSlide:this.addNewSlide,getSlide:this.getSlide,presLayout:this.presLayout,setSlideNum:this.setSlideNumber,slideId:this.slides.length+256,slideRId:this.slides.length+2,slideNumber:this.slides.length+1,slideLayout:r});if(this._slides.push(n),t!=null&&t.sectionTitle){const i=this.sections.filter(l=>l.title===t.sectionTitle)[0];i?i._slides.push(n):console.warn(`addSlide: unable to find section with title: "${t.sectionTitle}"`)}else if(this.sections&&this.sections.length>0&&!(t!=null&&t.sectionTitle)){const i=this._sections[this.sections.length-1];i._type==="default"?i._slides.push(n):this._sections.push({title:`Default-${this.sections.filter(l=>l._type==="default").length+1}`,_type:"default",_slides:[n]})}return n}defineLayout(t){t?t.name?t.width?t.height?typeof t.height!="number"?console.warn("defineLayout `height` should be a number (inches)"):typeof t.width!="number"&&console.warn("defineLayout `width` should be a number (inches)"):console.warn("defineLayout requires `height`"):console.warn("defineLayout requires `width`"):console.warn("defineLayout requires `name`"):console.warn("defineLayout requires `{name, width, height}`"),this.LAYOUTS[t.name]={name:t.name,_sizeW:Math.round(Number(t.width)*fe),_sizeH:Math.round(Number(t.height)*fe),width:Math.round(Number(t.width)*fe),height:Math.round(Number(t.height)*fe)}}defineSlideMaster(t){const a=JSON.parse(JSON.stringify(t));if(!a.title)throw new Error("defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)");const r={_margin:a.margin||_n,_name:a.title,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3+this.slideLayouts.length+1,_slideNumberProps:a.slideNumber||null,_slideObjects:[],background:a.background||null,bkgd:a.bkgd||null};Ab(a,r),this.slideLayouts.push(r),(a.background||a.bkgd)&&bp(a.background,r),r._slideNumberProps&&!this.masterSlide._slideNumberProps&&(this.masterSlide._slideNumberProps=r._slideNumberProps)}tableToSlides(t,a={}){pb(this,t,a,a!=null&&a.masterSlideName?this.slideLayouts.filter(r=>r._name===a.masterSlideName)[0]:null)}}function Fd(e){const t=new Yb;t.author="Liquidity Risk Management System",t.company="Financial Institution",t.title=e.title,t.subject="Regulatory Metrics Summary";const a=t.addSlide();a.background={color:"FFFFFF"},a.addText(e.title,{x:.5,y:.3,w:9,h:.6,fontSize:28,bold:!0,color:"1e293b",align:"left"}),a.addText(e.subtitle,{x:.5,y:.95,w:9,h:.3,fontSize:14,color:"64748b",align:"left"});const r=[];r.push([{text:"Metric",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af"}},{text:"Current Value",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Prior Period",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Change",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Requirement",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"right"}},{text:"Status",options:{bold:!0,fontSize:10,color:"FFFFFF",fill:"1e40af",align:"center"}}]),e.metrics.forEach((l,d)=>{const c=d%2===0?"f8fafc":"FFFFFF";let o="",u="64748b";l.status==="compliant"?(o=" Compliant",u="16a34a"):l.status==="warning"?(o=" Warning",u="f59e0b"):l.status==="non-compliant"&&(o=" Non-Compliant",u="dc2626");const h=l.regulatoryRequirement||l.internalRequirement||"N/A";r.push([{text:l.name,options:{fontSize:9,color:"1e293b",fill:c,bold:!0}},{text:`${l.currentValue}${l.currentDate?`
(${l.currentDate})`:""}`,options:{fontSize:9,color:"1e293b",fill:c,align:"right"}},{text:l.priorValue?`${l.priorValue}${l.priorDate?`
(${l.priorDate})`:""}`:"N/A",options:{fontSize:9,color:"64748b",fill:c,align:"right"}},{text:l.delta||"N/A",options:{fontSize:9,color:l.delta&&l.delta.startsWith("+")?"16a34a":l.delta&&l.delta.startsWith("-")?"dc2626":"64748b",fill:c,align:"right",bold:!0}},{text:h,options:{fontSize:9,color:"1e293b",fill:c,align:"right"}},{text:o,options:{fontSize:9,color:u,fill:c,align:"center",bold:!0}}])}),a.addTable(r,{x:.5,y:1.4,w:9,rowH:[.35,...Array(e.metrics.length).fill(.45)],colW:[2.5,1.5,1.5,1,1.5,1],border:{pt:1,color:"e2e8f0"},margin:.1,fontSize:9});const n=1.4+.35+e.metrics.length*.45+.3;if(n<6.8){const l=e.metrics.filter(u=>u.status),d=l.filter(u=>u.status==="compliant").length,c=l.filter(u=>u.status==="warning").length,o=l.filter(u=>u.status==="non-compliant").length;if(l.length>0){a.addText("Summary",{x:.5,y:n,w:9,h:.3,fontSize:14,bold:!0,color:"1e293b"});const u=`${d} metric${d!==1?"s":""} compliant    ${c} warning${c!==1?"s":""}    ${o} non-compliant`;a.addText(u,{x:.5,y:n+.35,w:9,h:.3,fontSize:11,color:"64748b"})}e.additionalNotes&&n+.8<6.8&&a.addText(e.additionalNotes,{x:.5,y:n+.8,w:9,h:.6,fontSize:9,color:"475569",italic:!0})}a.addText(`Generated: ${new Date().toLocaleString()}`,{x:.5,y:7,w:9,h:.2,fontSize:8,color:"94a3b8",align:"right"});const i=`${e.title.replace(/[^a-z0-9]/gi,"_")}_${new Date().toISOString().split("T")[0]}.pptx`;t.writeFile({fileName:i})}function Zb(e){const t=[{name:"Total Assets",currentValue:e.currentAssets||"N/A",priorValue:e.priorAssets,delta:e.assetsDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Total Liabilities",currentValue:e.currentLiabilities||"N/A",priorValue:e.priorLiabilities,delta:e.liabilitiesDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Total Equity",currentValue:e.currentEquity||"N/A",priorValue:e.priorEquity,delta:e.equityDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Tier 1 Capital Ratio",currentValue:e.currentTier1Ratio||"N/A",priorValue:e.priorTier1Ratio,delta:e.tier1RatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 6.0%",status:e.tier1Status||"compliant"},{name:"Leverage Ratio",currentValue:e.currentLeverageRatio||"N/A",priorValue:e.priorLeverageRatio,delta:e.leverageRatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 5.0%",status:e.leverageStatus||"compliant"}];Fd({title:"Balance Sheet & Capital Summary",subtitle:"Key metrics vs regulatory requirements and prior period comparison",metrics:t,additionalNotes:"Source: State Street Corporation quarterly reports. Representative sample data for demonstration."})}function ey(e){const t=[{name:"Tier 1 Capital",currentValue:e.currentTier1Capital||"N/A",priorValue:e.priorTier1Capital,delta:e.tier1CapitalDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Tier 1 Capital Ratio",currentValue:e.currentTier1Ratio||"N/A",priorValue:e.priorTier1Ratio,delta:e.tier1RatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 6.0%",internalRequirement:" 8.0%",status:e.tier1Status||"compliant"},{name:"Leverage Ratio",currentValue:e.currentLeverageRatio||"N/A",priorValue:e.priorLeverageRatio,delta:e.leverageRatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 5.0%",internalRequirement:" 6.0%",status:e.leverageStatus||"compliant"},{name:"RCAP Ratio",currentValue:e.currentRCAPRatio||"N/A",priorValue:e.priorRCAPRatio,delta:e.rcapRatioDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 100%",internalRequirement:" 110%",status:e.rcapStatus||"compliant"}];Fd({title:"Capital Adequacy Summary",subtitle:"Regulatory and resolution capital metrics vs requirements",metrics:t,additionalNotes:"Regulatory capital ratios based on Basel III requirements. Resolution metrics represent demonstration data."})}function ty(e){const t=[{name:"Liquidity Coverage Ratio (LCR)",currentValue:e.currentLCR||"N/A",priorValue:e.priorLCR,delta:e.lcrDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 100%",internalRequirement:" 110%",status:e.lcrStatus||"compliant"},{name:"Net Stable Funding Ratio (NSFR)",currentValue:e.currentNSFR||"N/A",priorValue:e.priorNSFR,delta:e.nsfrDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:" 100%",internalRequirement:" 105%",status:e.nsfrStatus||"compliant"},{name:"High-Quality Liquid Assets (HQLA)",currentValue:e.currentHQLA||"N/A",priorValue:e.priorHQLA,delta:e.hqlaDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"},{name:"Net Cash Outflows (30-day)",currentValue:e.currentNetOutflows||"N/A",priorValue:e.priorNetOutflows,delta:e.netOutflowsDelta,currentDate:e.currentDate,priorDate:e.priorDate,regulatoryRequirement:"N/A",status:"compliant"}];Fd({title:"Liquidity Metrics Summary",subtitle:"LCR, NSFR, and liquidity components vs requirements",metrics:t,additionalNotes:"Representative sample data modeled on typical institutional liquidity metrics per Basel III standards."})}function sy({onNavigate:e}){bt();const[t,a]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState(!0),[d,c]=O.useState(null),[o,u]=O.useState(!1);O.useEffect(()=>{h()},[d]);const h=async()=>{let f=X.from("balance_sheet_metrics").select("*").is("user_id",null),g=X.from("interest_rate_risk_metrics").select("*").is("user_id",null);d&&(f=f.eq("legal_entity_id",d),g=g.eq("legal_entity_id",d));const[v,w]=await Promise.all([f.order("report_date",{ascending:!1}).limit(10),g.order("report_date",{ascending:!1}).limit(10)]);v.data&&a(v.data),w.data&&n(w.data),l(!1)},x=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(f),m=f=>`${(f*100).toFixed(2)}%`,A=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=t[0],b=r[0];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx(wl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"Balance Sheet & Interest Rate Risk"}]}),s.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Close",children:s.jsx(kt,{className:"w-5 h-5 text-slate-600"})})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Balance Sheet & Interest Rate Risk"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Comprehensive balance sheet composition and IRRBB analysis"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>u(!0),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Data",children:s.jsx($e,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{const f=t.length>1?t[1]:null;Zb({currentAssets:p?x(p.total_assets):"N/A",priorAssets:f?x(f.total_assets):void 0,assetsDelta:f?`${((p.total_assets-f.total_assets)/f.total_assets*100).toFixed(1)}%`:void 0,currentLiabilities:p?x(p.total_liabilities):"N/A",priorLiabilities:f?x(f.total_liabilities):void 0,liabilitiesDelta:f?`${((p.total_liabilities-f.total_liabilities)/f.total_liabilities*100).toFixed(1)}%`:void 0,currentEquity:p?x(p.total_equity):"N/A",priorEquity:f?x(f.total_equity):void 0,equityDelta:f?`${((p.total_equity-f.total_equity)/f.total_equity*100).toFixed(1)}%`:void 0,currentTier1Ratio:p?m(p.tier1_capital_ratio):"N/A",priorTier1Ratio:f?m(f.tier1_capital_ratio):void 0,tier1RatioDelta:f?`${(p.tier1_capital_ratio-f.tier1_capital_ratio).toFixed(2)}%`:void 0,currentLeverageRatio:p?m(p.leverage_ratio):"N/A",priorLeverageRatio:f?m(f.leverage_ratio):void 0,leverageRatioDelta:f?`${(p.leverage_ratio-f.leverage_ratio).toFixed(2)}%`:void 0,currentDate:p?A(p.report_date):void 0,priorDate:f?A(f.report_date):void 0,tier1Status:p&&p.tier1_capital_ratio>=6?"compliant":"warning",leverageStatus:p&&p.leverage_ratio>=5?"compliant":"warning"})},className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!p,title:"Export to PowerPoint",children:s.jsx(Cd,{className:"w-4 h-4"})}),s.jsx("div",{className:"w-72",children:s.jsx(yl,{selectedEntityId:d,onEntityChange:c})})]})]}),i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-slate-600",children:"Loading metrics..."})}):s.jsxs(s.Fragment,{children:[p&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Latest Balance Sheet (",A(p.report_date),")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Assets"}),s.jsx(st,{value:x(p.total_assets),metricName:"Total Assets",targetTable:"balance_sheet_metrics",targetColumn:"total_assets",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:A(p.report_date),priorValue:t.length>1?x(t[1].total_assets):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(f=>({date:A(f.report_date),value:x(f.total_assets)}))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Liabilities"}),s.jsx(st,{value:x(p.total_liabilities),metricName:"Total Liabilities",targetTable:"balance_sheet_metrics",targetColumn:"total_liabilities",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:A(p.report_date),priorValue:t.length>1?x(t[1].total_liabilities):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(f=>({date:A(f.report_date),value:x(f.total_liabilities)}))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Equity"}),s.jsx(st,{value:x(p.total_equity),metricName:"Total Equity",targetTable:"balance_sheet_metrics",targetColumn:"total_equity",dataSource:"Analytics",className:"text-2xl font-bold text-green-600",currentDate:A(p.report_date),priorValue:t.length>1?x(t[1].total_equity):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(f=>({date:A(f.report_date),value:x(f.total_equity)}))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital"}),s.jsx(st,{value:x(p.tier1_capital),metricName:"Tier 1 Capital",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:A(p.report_date),priorValue:t.length>1?x(t[1].tier1_capital):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(f=>({date:A(f.report_date),value:x(f.tier1_capital)}))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital Ratio"}),s.jsx(st,{value:m(p.tier1_capital_ratio),metricName:"Tier 1 Capital Ratio",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${p.tier1_capital_ratio>=.06?"text-green-600":"text-red-600"}`,currentDate:A(p.report_date),priorValue:t.length>1?m(t[1].tier1_capital_ratio):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(f=>({date:A(f.report_date),value:m(f.tier1_capital_ratio)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 6%"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Leverage Ratio"}),s.jsx(st,{value:m(p.leverage_ratio),metricName:"Leverage Ratio",targetTable:"balance_sheet_metrics",targetColumn:"leverage_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${p.leverage_ratio>=.05?"text-green-600":"text-amber-600"}`,currentDate:A(p.report_date),priorValue:t.length>1?m(t[1].leverage_ratio):void 0,priorDate:t.length>1?A(t[1].report_date):void 0,availablePeriods:t.map(f=>({date:A(f.report_date),value:m(f.leverage_ratio)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"US G-SIB Minimum: 5%"})]})]})]}),b&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Interest Rate Risk Scenario: ",b.scenario_type]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"EVE Change"}),s.jsx(st,{value:m(b.eve_change_percent),metricName:"Economic Value of Equity (EVE) Change",targetTable:"interest_rate_risk_metrics",targetColumn:"eve_change_percent",dataSource:"Analytics",className:`text-2xl font-bold ${b.eve_change_percent<-.15?"text-red-600":b.eve_change_percent<0?"text-amber-600":"text-green-600"}`}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:x(b.eve_change_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"NII Change"}),s.jsx(st,{value:m(b.nii_change_percent),metricName:"Net Interest Income (NII) Change",targetTable:"interest_rate_risk_metrics",targetColumn:"nii_change_percent",dataSource:"Analytics",className:`text-2xl font-bold ${b.nii_change_percent>=0?"text-green-600":"text-red-600"}`}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:x(b.nii_change_amount)})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Trends"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Total Assets"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Total Equity"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Tier 1 Ratio"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Leverage Ratio"})]})}),s.jsx("tbody",{children:t.map(f=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:A(f.report_date)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:x(f.total_assets)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-green-600",children:x(f.total_equity)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:m(f.tier1_capital_ratio)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:m(f.leverage_ratio)})]},f.id))})]})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(it,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About This Metric"}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Balance sheet metrics provide a comprehensive view of an institution's financial position, assets, liabilities, and equity composition. Interest Rate Risk in the Banking Book (IRRBB) measures potential impacts on economic value of equity (EVE) and net interest income (NII) from interest rate changes."}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Regulatory Requirements:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[s.jsx("li",{children:"Basel III capital requirements: Tier 1 capital ratio minimum of 6%"}),s.jsx("li",{children:"Leverage ratio minimum of 3% (5% for US G-SIBs)"}),s.jsx("li",{children:"IRRBB standards require institutions to measure and control interest rate risk"}),s.jsx("li",{children:"Supervisory outlier test: EVE decline > 15% of Tier 1 capital triggers enhanced monitoring"})]})]}),s.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[s.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("a",{href:"https://www.bis.org/bcbs/publ/d368.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Basel Committee - Interest Rate Risk in the Banking Book (IRRBB)"})]}),s.jsxs("a",{href:"https://www.federalreserve.gov/supervisionreg/topics/capital.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Federal Reserve - Capital Requirements"})]})]})]})]})]})]})}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(it,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-amber-900",children:[s.jsx("strong",{children:"Data Source:"})," Representative sample data based on State Street Corporation's publicly available financial reports. Balance sheet figures are modeled on ",s.jsx("a",{href:"https://investors.statestreet.com/financial-information/quarterly-results/default.aspx",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-700",children:"Q3 2024 10-Q filing"}),". IRRBB metrics represent typical institutional risk sensitivities and are not sourced from actual State Street disclosures."]})})]})}),s.jsx(es,{isOpen:o,onClose:()=>u(!1),title:"Balance Sheet Data Visualization",data:t,availableAttributes:[{name:"report_date",label:"Report Date",type:"date"},{name:"total_assets",label:"Total Assets",type:"number"},{name:"total_liabilities",label:"Total Liabilities",type:"number"},{name:"total_equity",label:"Total Equity",type:"number"},{name:"cash_and_due_from_banks",label:"Cash & Due from Banks",type:"number"},{name:"securities_available_for_sale",label:"Securities AFS",type:"number"},{name:"loans_gross",label:"Loans (Gross)",type:"number"},{name:"deposits_total",label:"Total Deposits",type:"number"},{name:"tier1_capital",label:"Tier 1 Capital",type:"number"},{name:"tier1_capital_ratio",label:"Tier 1 Capital Ratio (%)",type:"number"},{name:"leverage_ratio",label:"Leverage Ratio (%)",type:"number"}],defaultAggregateField:"total_assets"})]})}function ay({onNavigate:e}){bt();const[t,a]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState([]),[d,c]=O.useState([]),[o,u]=O.useState(!0),[h,x]=O.useState("lcr"),[m,A]=O.useState(null),[p,b]=O.useState({type:null,show:!1});O.useEffect(()=>{f()},[m]);const f=async()=>{let S=X.from("lcr_metrics").select("*").is("user_id",null),L=X.from("nsfr_metrics").select("*").is("user_id",null),k=X.from("liquidity_stress_tests").select("*").is("user_id",null),F=X.from("resolution_liquidity_metrics").select("*").is("user_id",null);m&&(S=S.eq("legal_entity_id",m),L=L.eq("legal_entity_id",m),k=k.eq("legal_entity_id",m),F=F.eq("legal_entity_id",m));const[j,T,y,I]=await Promise.all([S.order("report_date",{ascending:!1}).limit(10),L.order("report_date",{ascending:!1}).limit(10),k.order("report_date",{ascending:!1}).limit(10),F.order("report_date",{ascending:!1}).limit(10)]);j.data&&a(j.data),T.data&&n(T.data),y.data&&l(y.data),I.data&&c(I.data),u(!1)},g=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(S),v=S=>`${(S*100).toFixed(2)}%`,w=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=t[0],D=r[0],R=i[0];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx(wl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"Liquidity Coverage & Stress Testing"}]}),s.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Close",children:s.jsx(kt,{className:"w-5 h-5 text-slate-600"})})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Liquidity Coverage & Stress Testing"}),s.jsx("p",{className:"text-sm text-slate-600",children:"LCR, NSFR, resolution liquidity, and stress test analysis"})]}),s.jsx("button",{onClick:()=>{const S=t[0],L=t.length>1?t[1]:null,k=r[0],F=r.length>1?r[1]:null;ty({currentLCR:S?v(S.lcr_ratio):"N/A",priorLCR:L?v(L.lcr_ratio):void 0,lcrDelta:L?`${(S.lcr_ratio-L.lcr_ratio).toFixed(2)}%`:void 0,currentNSFR:k?v(k.nsfr_ratio):"N/A",priorNSFR:F?v(F.nsfr_ratio):void 0,nsfrDelta:F?`${(k.nsfr_ratio-F.nsfr_ratio).toFixed(2)}%`:void 0,currentHQLA:S?g(S.total_hqla):"N/A",priorHQLA:L?g(L.total_hqla):void 0,hqlaDelta:L?`${((S.total_hqla-L.total_hqla)/L.total_hqla*100).toFixed(1)}%`:void 0,currentNetOutflows:S?g(S.total_net_cash_outflows):"N/A",priorNetOutflows:L?g(L.total_net_cash_outflows):void 0,netOutflowsDelta:L?`${((S.total_net_cash_outflows-L.total_net_cash_outflows)/L.total_net_cash_outflows*100).toFixed(1)}%`:void 0,currentDate:S?w(S.report_date):void 0,priorDate:L?w(L.report_date):void 0,lcrStatus:S&&S.lcr_ratio>=110?"compliant":"warning",nsfrStatus:k&&k.nsfr_ratio>=105?"compliant":"warning"})},className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.length===0,title:"Export to PowerPoint",children:s.jsx(Cd,{className:"w-4 h-4"})}),s.jsx("div",{className:"w-80",children:s.jsx(yl,{selectedEntityId:m,onEntityChange:A})})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>x("lcr"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="lcr"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"LCR Metrics"}),s.jsx("button",{onClick:()=>x("nsfr"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="nsfr"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"NSFR Metrics"}),s.jsx("button",{onClick:()=>x("stress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="stress"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Stress Tests"}),s.jsx("button",{onClick:()=>x("resolution"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="resolution"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Resolution Liquidity"})]}),o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-slate-600",children:"Loading metrics..."})}):s.jsxs(s.Fragment,{children:[h==="lcr"&&s.jsxs("div",{className:"space-y-6",children:[_&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Latest LCR (",w(_.report_date),")"]}),s.jsx("button",{onClick:()=>b({type:"lcr",show:!0}),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize LCR Data",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"LCR Ratio"}),s.jsx(st,{value:v(_.lcr_ratio),metricName:"Liquidity Coverage Ratio (LCR)",targetTable:"lcr_metrics",targetColumn:"lcr_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${_.lcr_ratio>=1?"text-green-600":"text-red-600"}`,currentDate:w(_.report_date),priorValue:t.length>1?v(t[1].lcr_ratio):void 0,priorDate:t.length>1?w(t[1].report_date):void 0,availablePeriods:t.map(S=>({date:w(S.report_date),value:v(S.lcr_ratio)}))}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[_.is_compliant?s.jsx(oe,{className:"w-4 h-4 text-green-600"}):s.jsx(Le,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:`text-xs ${_.is_compliant?"text-green-600":"text-red-600"}`,children:_.is_compliant?"Compliant":"Non-Compliant"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 100%"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total HQLA"}),s.jsx(st,{value:g(_.total_hqla),metricName:"Total High-Quality Liquid Assets (HQLA)",targetTable:"lcr_metrics",targetColumn:"total_hqla",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:w(_.report_date),priorValue:t.length>1?g(t[1].total_hqla):void 0,priorDate:t.length>1?w(t[1].report_date):void 0,availablePeriods:t.map(S=>({date:w(S.report_date),value:g(S.total_hqla)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"High-Quality Liquid Assets"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Net Cash Outflows (30d)"}),s.jsx(st,{value:g(_.total_net_cash_outflows),metricName:"Total Net Cash Outflows (30-day)",targetTable:"lcr_metrics",targetColumn:"total_net_cash_outflows",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:w(_.report_date),priorValue:t.length>1?g(t[1].total_net_cash_outflows):void 0,priorDate:t.length>1?w(t[1].report_date):void 0,availablePeriods:t.map(S=>({date:w(S.report_date),value:g(S.total_net_cash_outflows)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Stressed scenario"})]})]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"LCR Formula & Components"}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 mb-4",children:[s.jsx("p",{className:"text-center text-lg mb-2",children:s.jsx("span",{className:"font-mono font-semibold",children:"LCR = (Total HQLA / Total Net Cash Outflows)  100"})}),s.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"HQLA"}),": Level 1 (100%) + Level 2A (85%) + Level 2B (50%)"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Net Cash Outflows"}),": Expected outflows - Min(Expected inflows, 75% of outflows)"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Time Horizon"}),": 30-day stressed scenario"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Minimum Requirement"}),": 100% (Category II institutions)"]})]})]}),_&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"HQLA Breakdown"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Level 1 (100%)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(_.hqla_level_1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Level 2A (85%)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(_.hqla_level_2a)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Level 2B (50%)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(_.hqla_level_2b)})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-200",children:[s.jsx("span",{className:"text-slate-700 font-medium",children:"Total HQLA"}),s.jsx("span",{className:"font-bold text-blue-600",children:g(_.total_hqla)})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"HQLA Level 1 Examples"}),s.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[s.jsx("li",{children:" Central bank reserves"}),s.jsx("li",{children:" US Treasury securities"}),s.jsx("li",{children:" Cash"}),s.jsx("li",{children:" Claims on sovereigns (0% risk weight)"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Net Cash Outflow Factors"}),s.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[s.jsx("li",{children:" Retail deposits: 3-10% run-off"}),s.jsx("li",{children:" Wholesale deposits: 25-100% run-off"}),s.jsx("li",{children:" Secured funding: 0-100% run-off"}),s.jsx("li",{children:" Committed facilities: 10-100% draw-down"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical LCR Trends"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"LCR Ratio"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"HQLA"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Net Outflows"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),s.jsx("tbody",{children:t.map(S=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:w(S.report_date)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${S.lcr_ratio>=1?"text-green-600":"text-red-600"}`,children:v(S.lcr_ratio)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:g(S.total_hqla)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:g(S.total_net_cash_outflows)}),s.jsx("td",{className:"py-3 px-4 text-center",children:S.is_compliant?s.jsx(oe,{className:"w-5 h-5 text-green-600 mx-auto"}):s.jsx(Le,{className:"w-5 h-5 text-red-600 mx-auto"})})]},S.id))})]})})]})]}),h==="nsfr"&&s.jsxs("div",{className:"space-y-6",children:[D&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Latest NSFR (",w(D.report_date),")"]}),s.jsx("button",{onClick:()=>b({type:"nsfr",show:!0}),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize NSFR Data",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"NSFR Ratio"}),s.jsx(st,{value:v(D.nsfr_ratio),metricName:"Net Stable Funding Ratio (NSFR)",targetTable:"nsfr_metrics",targetColumn:"nsfr_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${D.nsfr_ratio>=1?"text-green-600":"text-red-600"}`,currentDate:w(D.report_date),priorValue:r.length>1?v(r[1].nsfr_ratio):void 0,priorDate:r.length>1?w(r[1].report_date):void 0,availablePeriods:r.map(S=>({date:w(S.report_date),value:v(S.nsfr_ratio)}))}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[D.is_compliant?s.jsx(oe,{className:"w-4 h-4 text-green-600"}):s.jsx(Le,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:`text-xs ${D.is_compliant?"text-green-600":"text-red-600"}`,children:D.is_compliant?"Compliant":"Non-Compliant"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 100%"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Available Stable Funding"}),s.jsx(st,{value:g(D.available_stable_funding),metricName:"Available Stable Funding (ASF)",targetTable:"nsfr_metrics",targetColumn:"available_stable_funding",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:w(D.report_date),priorValue:r.length>1?g(r[1].available_stable_funding):void 0,priorDate:r.length>1?w(r[1].report_date):void 0,availablePeriods:r.map(S=>({date:w(S.report_date),value:g(S.available_stable_funding)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ASF"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Required Stable Funding"}),s.jsx(st,{value:g(D.required_stable_funding),metricName:"Required Stable Funding (RSF)",targetTable:"nsfr_metrics",targetColumn:"required_stable_funding",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:w(D.report_date),priorValue:r.length>1?g(r[1].required_stable_funding):void 0,priorDate:r.length>1?w(r[1].report_date):void 0,availablePeriods:r.map(S=>({date:w(S.report_date),value:g(S.required_stable_funding)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"RSF"})]})]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"NSFR Formula & Components"}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 mb-4",children:[s.jsx("p",{className:"text-center text-lg mb-2",children:s.jsx("span",{className:"font-mono font-semibold",children:"NSFR = (Available Stable Funding / Required Stable Funding)  100"})}),s.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"ASF"}),": Stable funding from capital, deposits, and long-term borrowings"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"RSF"}),": Stability of assets and off-balance sheet exposures"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Time Horizon"}),": One year stressed scenario"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Minimum Requirement"}),": 100% (Category II institutions)"]})]})]}),D&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"ASF Breakdown"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Retail Deposits"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(D.retail_deposits)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Wholesale Funding"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(D.wholesale_funding)})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-200",children:[s.jsx("span",{className:"text-slate-700 font-medium",children:"Total ASF"}),s.jsx("span",{className:"font-bold text-blue-600",children:g(D.available_stable_funding)})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"ASF Factors"}),s.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[s.jsx("li",{children:" Capital: 100%"}),s.jsx("li",{children:" Stable retail deposits: 95%"}),s.jsx("li",{children:" Less stable retail deposits: 90%"}),s.jsx("li",{children:" Wholesale deposits: 50%"}),s.jsx("li",{children:" Operational deposits: 50%"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"RSF Factors"}),s.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[s.jsx("li",{children:" Cash and HQLA Level 1: 0%"}),s.jsx("li",{children:" HQLA Level 2A: 15%"}),s.jsx("li",{children:" HQLA Level 2B: 50%"}),s.jsx("li",{children:" Loans to financial institutions: 85%"}),s.jsx("li",{children:" Retail/SME loans: 85%"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical NSFR Trends"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"NSFR Ratio"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"ASF"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RSF"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),s.jsx("tbody",{children:r.map(S=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:w(S.report_date)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${S.nsfr_ratio>=1?"text-green-600":"text-red-600"}`,children:v(S.nsfr_ratio)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:g(S.available_stable_funding)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:g(S.required_stable_funding)}),s.jsx("td",{className:"py-3 px-4 text-center",children:S.is_compliant?s.jsx(oe,{className:"w-5 h-5 text-green-600 mx-auto"}):s.jsx(Le,{className:"w-5 h-5 text-red-600 mx-auto"})})]},S.id))})]})})]})]}),h==="stress"&&s.jsxs("div",{className:"space-y-6",children:[R&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Latest Stress Test: ",R.scenario_name," (",w(R.report_date),")"]}),s.jsx("button",{onClick:()=>b({type:"stress",show:!0}),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Stress Test Data",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Baseline Liquidity"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:g(R.baseline_liquidity)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Stressed Liquidity"}),s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:g(R.stressed_liquidity)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Liquidity Shortfall"}),s.jsx("p",{className:`text-2xl font-bold ${R.liquidity_shortfall>0?"text-red-600":"text-green-600"}`,children:g(Math.abs(R.liquidity_shortfall))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Survival Days"}),s.jsx("p",{className:`text-2xl font-bold ${R.survival_days>=30?"text-green-600":"text-red-600"}`,children:R.survival_days}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[R.passes_internal_threshold?s.jsx(oe,{className:"w-4 h-4 text-green-600"}):s.jsx(Le,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:`text-xs ${R.passes_internal_threshold?"text-green-600":"text-red-600"}`,children:R.passes_internal_threshold?"Passes":"Fails"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Stress Test History"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Scenario"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Baseline"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Stressed"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Shortfall"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Days"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Result"})]})}),s.jsx("tbody",{children:i.map(S=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:w(S.report_date)}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:S.scenario_name}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:g(S.baseline_liquidity)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-amber-600",children:g(S.stressed_liquidity)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${S.liquidity_shortfall>0?"text-red-600":"text-green-600"}`,children:g(Math.abs(S.liquidity_shortfall))}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${S.survival_days>=30?"text-green-600":"text-red-600"}`,children:S.survival_days}),s.jsx("td",{className:"py-3 px-4 text-center",children:S.passes_internal_threshold?s.jsx(oe,{className:"w-5 h-5 text-green-600 mx-auto"}):s.jsx(Le,{className:"w-5 h-5 text-red-600 mx-auto"})})]},S.id))})]})})]})]}),h==="resolution"&&s.jsxs("div",{className:"space-y-6",children:[d[0]&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Resolution Liquidity Metrics (",w(d[0].report_date),")"]}),s.jsx("button",{onClick:()=>b({type:"resolution",show:!0}),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Resolution Liquidity Data",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-xl p-6 border-2 ${d[0].rlap_surplus_deficit>=0?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RLAP"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Liquidity Adequacy Position"})]}),s.jsxs("div",{children:[s.jsx("p",{className:`text-3xl font-bold ${d[0].rlap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,children:v(d[0].rlap_ratio)}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Amount"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(d[0].rlap_amount)})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Requirement"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(d[0].rlap_requirement)})]}),s.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-300",children:[s.jsx("span",{className:"text-slate-700 font-medium",children:"Surplus/Deficit"}),s.jsx("span",{className:`font-bold ${d[0].rlap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,children:g(d[0].rlap_surplus_deficit)})]})]})]})]}),s.jsxs("div",{className:"rounded-xl p-6 border-2 bg-blue-50 border-blue-300",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RLEN"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Liquidity Execution Need"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-blue-700",children:v(d[0].rlen_ratio)}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Amount Needed"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(d[0].rlen_amount)})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Requirement"}),s.jsx("span",{className:"font-semibold text-slate-900",children:g(d[0].rlen_requirement)})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resolution Liquidity Trends"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RLAP"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RLAP Surplus"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RLEN"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),s.jsx("tbody",{children:d.map(S=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:w(S.report_date)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:g(S.rlap_amount)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${S.rlap_surplus_deficit>=0?"text-green-600":"text-red-600"}`,children:g(S.rlap_surplus_deficit)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:g(S.rlen_amount)}),s.jsx("td",{className:"py-3 px-4 text-center",children:S.is_compliant?s.jsx(oe,{className:"w-5 h-5 text-green-600 mx-auto"}):s.jsx(Le,{className:"w-5 h-5 text-red-600 mx-auto"})})]},S.id))})]})})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(it,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About These Metrics"}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"The Liquidity Coverage Ratio (LCR) and Net Stable Funding Ratio (NSFR) are Basel III regulatory metrics designed to ensure banks maintain adequate liquidity. Resolution liquidity metrics (RLAP/RLEN) ensure adequate liquidity for orderly resolution. Stress testing evaluates liquidity resilience under adverse scenarios."}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Regulatory Requirements:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[s.jsx("li",{children:"LCR minimum requirement: 100% (HQLA must cover 30-day stressed net cash outflows)"}),s.jsx("li",{children:"NSFR minimum requirement: 100% (available stable funding must exceed required stable funding)"}),s.jsx("li",{children:"US G-SIBs face enhanced liquidity requirements and supervisory stress testing"}),s.jsx("li",{children:"Daily LCR reporting required for Category I and II banking organizations"}),s.jsx("li",{children:"RLAP (Resolution Liquidity Adequacy Position): Liquidity available in resolution"}),s.jsx("li",{children:"RLEN (Resolution Liquidity Execution Need): Liquidity needed for resolution execution"}),s.jsx("li",{children:"Internal stress testing must cover multiple scenarios including institution-specific and market-wide stresses"})]})]}),s.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[s.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("a",{href:"https://www.bis.org/publ/bcbs238.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Basel III: The Liquidity Coverage Ratio (BCBS 238)"})]}),s.jsxs("a",{href:"https://www.bis.org/bcbs/publ/d295.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Basel III: The Net Stable Funding Ratio (BCBS 295)"})]}),s.jsxs("a",{href:"https://www.federalreserve.gov/supervisionreg/topics/liquidity_coverage_ratio.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Federal Reserve - Liquidity Coverage Ratio Rule"})]})]})]})]})]})]})}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(it,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-amber-900",children:[s.jsx("strong",{children:"Data Source:"})," Representative sample data modeled on typical institutional liquidity metrics. While State Street Corporation publicly discloses LCR ratios in their ",s.jsx("a",{href:"https://investors.statestreet.com/financial-information/quarterly-results/default.aspx",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-700",children:"quarterly filings"}),", the detailed component breakdowns and stress test results shown here are representative data for demonstration purposes."]})})]})}),p.show&&p.type==="lcr"&&s.jsx(es,{isOpen:!0,onClose:()=>b({type:null,show:!1}),title:"LCR Metrics Visualization",data:t,availableAttributes:[{name:"report_date",label:"Report Date",type:"date"},{name:"lcr_ratio",label:"LCR Ratio",type:"number"},{name:"total_hqla",label:"Total HQLA",type:"number"},{name:"hqla_level_1",label:"HQLA Level 1",type:"number"},{name:"hqla_level_2a",label:"HQLA Level 2A",type:"number"},{name:"hqla_level_2b",label:"HQLA Level 2B",type:"number"},{name:"total_net_cash_outflows",label:"Net Cash Outflows",type:"number"},{name:"is_compliant",label:"Compliant",type:"boolean"}],defaultAggregateField:"lcr_ratio"}),p.show&&p.type==="nsfr"&&s.jsx(es,{isOpen:!0,onClose:()=>b({type:null,show:!1}),title:"NSFR Metrics Visualization",data:r,availableAttributes:[{name:"report_date",label:"Report Date",type:"date"},{name:"nsfr_ratio",label:"NSFR Ratio",type:"number"},{name:"available_stable_funding",label:"Available Stable Funding",type:"number"},{name:"required_stable_funding",label:"Required Stable Funding",type:"number"},{name:"retail_deposits",label:"Retail Deposits",type:"number"},{name:"wholesale_funding",label:"Wholesale Funding",type:"number"},{name:"is_compliant",label:"Compliant",type:"boolean"}],defaultAggregateField:"nsfr_ratio"}),p.show&&p.type==="stress"&&s.jsx(es,{isOpen:!0,onClose:()=>b({type:null,show:!1}),title:"Stress Test Results Visualization",data:i,availableAttributes:[{name:"report_date",label:"Report Date",type:"date"},{name:"scenario_name",label:"Scenario Name",type:"string"},{name:"scenario_type",label:"Scenario Type",type:"string"},{name:"stress_severity",label:"Stress Severity",type:"string"},{name:"baseline_liquidity",label:"Baseline Liquidity",type:"number"},{name:"stressed_liquidity",label:"Stressed Liquidity",type:"number"},{name:"liquidity_shortfall",label:"Liquidity Shortfall",type:"number"},{name:"survival_days",label:"Survival Days",type:"number"},{name:"passes_internal_threshold",label:"Passes Threshold",type:"boolean"}],defaultAggregateField:"liquidity_shortfall"}),p.show&&p.type==="resolution"&&s.jsx(es,{isOpen:!0,onClose:()=>b({type:null,show:!1}),title:"Resolution Liquidity Visualization",data:d,availableAttributes:[{name:"report_date",label:"Report Date",type:"date"},{name:"rlap_amount",label:"RLAP Amount",type:"number"},{name:"rlap_ratio",label:"RLAP Ratio",type:"number"},{name:"rlap_requirement",label:"RLAP Requirement",type:"number"},{name:"rlap_surplus_deficit",label:"RLAP Surplus/Deficit",type:"number"},{name:"rlen_amount",label:"RLEN Amount",type:"number"},{name:"rlen_ratio",label:"RLEN Ratio",type:"number"},{name:"rlen_requirement",label:"RLEN Requirement",type:"number"},{name:"is_compliant",label:"Compliant",type:"boolean"}],defaultAggregateField:"rlap_amount"})]})}function ry({onNavigate:e}){bt();const[t,a]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState(!0),[d,c]=O.useState("regulatory"),[o,u]=O.useState(null),[h,x]=O.useState({type:null,show:!1});O.useEffect(()=>{m()},[o]);const m=async()=>{let v=X.from("balance_sheet_metrics").select("*").is("user_id",null),w=X.from("resolution_liquidity_metrics").select("*").is("user_id",null);o&&(v=v.eq("legal_entity_id",o),w=w.eq("legal_entity_id",o));const[_,D]=await Promise.all([v.order("report_date",{ascending:!1}).limit(10),w.order("report_date",{ascending:!1}).limit(10)]);_.data&&a(_.data),D.data&&n(D.data),l(!1)},A=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(v),p=v=>`${(v*100).toFixed(2)}%`,b=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=t[0],g=r[0];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx(wl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"Capital Adequacy & Requirements"}]}),s.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Close",children:s.jsx(kt,{className:"w-5 h-5 text-slate-600"})})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Capital Adequacy & Requirements"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Regulatory capital, internal targets, and resolution capital metrics"})]}),s.jsx("button",{onClick:()=>{const v=t[0],w=t.length>1?t[1]:null,_=r[0],D=r.length>1?r[1]:null;ey({currentTier1Capital:v?A(v.tier1_capital):"N/A",priorTier1Capital:w?A(w.tier1_capital):void 0,tier1CapitalDelta:w?`${((v.tier1_capital-w.tier1_capital)/w.tier1_capital*100).toFixed(1)}%`:void 0,currentTier1Ratio:v?p(v.tier1_capital_ratio):"N/A",priorTier1Ratio:w?p(w.tier1_capital_ratio):void 0,tier1RatioDelta:w?`${(v.tier1_capital_ratio-w.tier1_capital_ratio).toFixed(2)}%`:void 0,currentLeverageRatio:v?p(v.leverage_ratio):"N/A",priorLeverageRatio:w?p(w.leverage_ratio):void 0,leverageRatioDelta:w?`${(v.leverage_ratio-w.leverage_ratio).toFixed(2)}%`:void 0,currentRCAPRatio:_?p(_.rcap_ratio):"N/A",priorRCAPRatio:D?p(D.rcap_ratio):void 0,rcapRatioDelta:D?`${(_.rcap_ratio-D.rcap_ratio).toFixed(2)}%`:void 0,currentDate:v?b(v.report_date):void 0,priorDate:w?b(w.report_date):void 0,tier1Status:v&&v.tier1_capital_ratio>=8?"compliant":"warning",leverageStatus:v&&v.leverage_ratio>=6?"compliant":"warning",rcapStatus:_&&_.rcap_ratio>=110?"compliant":"warning"})},className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.length===0,title:"Export to PowerPoint",children:s.jsx(Cd,{className:"w-4 h-4"})}),s.jsx("div",{className:"w-80",children:s.jsx(yl,{selectedEntityId:o,onEntityChange:u})})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>c("regulatory"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="regulatory"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Regulatory Capital"}),s.jsx("button",{onClick:()=>c("internal"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="internal"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Internal Targets"}),s.jsx("button",{onClick:()=>c("resolution"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="resolution"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Resolution Capital (RCAP/RCEN)"})]}),i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-slate-600",children:"Loading capital metrics..."})}):s.jsxs(s.Fragment,{children:[d==="regulatory"&&f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Latest Regulatory Capital (",b(f.report_date),")"]}),s.jsx("button",{onClick:()=>x({type:"regulatory",show:!0}),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Regulatory Capital Data",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital"}),s.jsx(st,{value:A(f.tier1_capital),metricName:"Tier 1 Capital",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital",dataSource:"Analytics",className:"text-2xl font-bold text-slate-900",currentDate:b(f.report_date),priorValue:t.length>1?A(t[1].tier1_capital):void 0,priorDate:t.length>1?b(t[1].report_date):void 0,availablePeriods:t.map(v=>({date:b(v.report_date),value:A(v.tier1_capital)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Common equity + Additional Tier 1"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Tier 1 Capital Ratio"}),s.jsx(st,{value:p(f.tier1_capital_ratio),metricName:"Tier 1 Capital Ratio",targetTable:"balance_sheet_metrics",targetColumn:"tier1_capital_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${f.tier1_capital_ratio>=.06?"text-green-600":"text-red-600"}`,currentDate:b(f.report_date),priorValue:t.length>1?p(t[1].tier1_capital_ratio):void 0,priorDate:t.length>1?b(t[1].report_date):void 0,availablePeriods:t.map(v=>({date:b(v.report_date),value:p(v.tier1_capital_ratio)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Minimum: 6.0% (Basel III)"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Leverage Ratio"}),s.jsx(st,{value:p(f.leverage_ratio),metricName:"Leverage Ratio",targetTable:"balance_sheet_metrics",targetColumn:"leverage_ratio",dataSource:"Analytics",className:`text-2xl font-bold ${f.leverage_ratio>=.05?"text-green-600":"text-amber-600"}`,currentDate:b(f.report_date),priorValue:t.length>1?p(t[1].leverage_ratio):void 0,priorDate:t.length>1?b(t[1].report_date):void 0,availablePeriods:t.map(v=>({date:b(v.report_date),value:p(v.leverage_ratio)}))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"US G-SIB Minimum: 5.0%"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Trends"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Tier 1 Capital"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Tier 1 Ratio"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Leverage Ratio"})]})}),s.jsx("tbody",{children:t.map(v=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:b(v.report_date)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:A(v.tier1_capital)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${v.tier1_capital_ratio>=.06?"text-green-600":"text-red-600"}`,children:p(v.tier1_capital_ratio)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${v.leverage_ratio>=.05?"text-green-600":"text-amber-600"}`,children:p(v.leverage_ratio)})]},v.id))})]})})]})]}),d==="internal"&&f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Internal Capital Targets"}),s.jsx("button",{onClick:()=>x({type:"internal",show:!0}),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Internal Targets Data",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"In addition to regulatory minimums, institutions maintain internal capital targets that exceed regulatory requirements to provide buffers for stress scenarios and business growth."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Internal Tier 1 Target"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"8.5%"}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Current: ",p(f.tier1_capital_ratio)]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Internal Leverage Target"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"6.0%"}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Current: ",p(f.leverage_ratio)]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Capital Buffer Analysis"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Tier 1 Capital Buffer (vs Internal Target)"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:p(f.tier1_capital_ratio-.085)})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:s.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${Math.min((f.tier1_capital_ratio-.085)/.065*100,100)}%`}})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Above internal target of 8.5% (Regulatory minimum: 6%)"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Leverage Ratio Buffer (vs Internal Target)"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:p(f.leverage_ratio-.06)})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:s.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${Math.min((f.leverage_ratio-.06)/.02*100,100)}%`}})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Above internal target of 6.0% (G-SIB minimum: 5%)"})]})]})]})]}),d==="resolution"&&g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Resolution Capital Metrics (",b(g.report_date),")"]}),s.jsx("button",{onClick:()=>x({type:"resolution",show:!0}),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Resolution Capital Data",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-xl p-6 border-2 ${g.rcap_surplus_deficit>=0?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RCAP"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Capital Adequacy Position"})]}),s.jsxs("div",{children:[s.jsx(st,{value:p(g.rcap_ratio),metricName:"Resolution Capital Adequacy Position (RCAP) Ratio",targetTable:"resolution_capital_metrics",targetColumn:"rcap_ratio",dataSource:"Analytics",className:`text-3xl font-bold ${g.rcap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,currentDate:b(g.report_date),priorValue:r.length>1?p(r[1].rcap_ratio):void 0,priorDate:r.length>1?b(r[1].report_date):void 0,availablePeriods:r.map(v=>({date:b(v.report_date),value:p(v.rcap_ratio)}))}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Amount"}),s.jsx("span",{className:"font-semibold text-slate-900",children:A(g.rcap_amount)})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Requirement"}),s.jsx("span",{className:"font-semibold text-slate-900",children:A(g.rcap_requirement)})]}),s.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-300",children:[s.jsx("span",{className:"text-slate-700 font-medium",children:"Surplus/Deficit"}),s.jsx("span",{className:`font-bold ${g.rcap_surplus_deficit>=0?"text-green-700":"text-red-700"}`,children:A(g.rcap_surplus_deficit)})]})]})]})]}),s.jsxs("div",{className:"rounded-xl p-6 border-2 bg-blue-50 border-blue-300",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"RCEN"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Resolution Capital Execution Need"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-blue-700",children:p(g.rcen_ratio)}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Amount Needed"}),s.jsx("span",{className:"font-semibold text-slate-900",children:A(g.rcen_amount)})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-slate-600",children:"Requirement"}),s.jsx("span",{className:"font-semibold text-slate-900",children:A(g.rcen_requirement)})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resolution Capital Trends"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RCAP"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RCAP Surplus"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"RCEN"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),s.jsx("tbody",{children:r.map(v=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-slate-900",children:b(v.report_date)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:A(v.rcap_amount)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-semibold ${v.rcap_surplus_deficit>=0?"text-green-600":"text-red-600"}`,children:A(v.rcap_surplus_deficit)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-900",children:A(v.rcen_amount)}),s.jsx("td",{className:"py-3 px-4 text-center",children:v.is_compliant?s.jsx(oe,{className:"w-5 h-5 text-green-600 mx-auto"}):s.jsx(Le,{className:"w-5 h-5 text-red-600 mx-auto"})})]},v.id))})]})})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(it,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About These Metrics"}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Capital metrics measure an institution's financial strength and ability to absorb losses. Regulatory capital ensures compliance with Basel III requirements, while resolution capital metrics (RCAP/RCEN) ensure adequate resources for orderly resolution."}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Key Capital Metrics:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Tier 1 Capital Ratio:"})," Minimum 6% under Basel III (higher for G-SIBs with buffers)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Leverage Ratio:"})," Minimum 3% (5% for US G-SIBs)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"RCAP (Resolution Capital Adequacy Position):"})," Capital available for recapitalization in resolution"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"RCEN (Resolution Capital Execution Need):"})," Capital needed to execute resolution strategy"]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[s.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("a",{href:"https://www.bis.org/bcbs/publ/d424.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Basel III: Finalising Post-Crisis Reforms"})]}),s.jsxs("a",{href:"https://www.federalreserve.gov/supervisionreg/topics/capital.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Federal Reserve - Capital Requirements"})]})]})]})]})]})]})}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(it,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-amber-900",children:[s.jsx("strong",{children:"Data Source:"})," Regulatory capital ratios are based on State Street Corporation's ",s.jsx("a",{href:"https://investors.statestreet.com/financial-information/quarterly-results/default.aspx",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-700",children:"publicly disclosed quarterly reports"}),". Resolution capital metrics (RCAP/RCEN) are representative data for demonstration purposes."]})})]})}),h.show&&(h.type==="regulatory"||h.type==="internal")&&s.jsx(es,{isOpen:!0,onClose:()=>x({type:null,show:!1}),title:"Capital Metrics Visualization",data:t.map(v=>({...v,report_date:v.report_date,tier1_capital:Number(v.tier1_capital),tier1_capital_ratio:Number(v.tier1_capital_ratio)*100,total_risk_weighted_assets:Number(v.total_risk_weighted_assets),leverage_ratio:Number(v.leverage_ratio)*100,total_assets:Number(v.total_assets)})),availableAttributes:[{name:"report_date",label:"Report Date",type:"date"},{name:"tier1_capital",label:"Tier 1 Capital ($)",type:"number"},{name:"tier1_capital_ratio",label:"Tier 1 Capital Ratio (%)",type:"number"},{name:"total_risk_weighted_assets",label:"Total RWA ($)",type:"number"},{name:"leverage_ratio",label:"Leverage Ratio (%)",type:"number"},{name:"total_assets",label:"Total Assets ($)",type:"number"}],defaultAggregateField:"tier1_capital_ratio"}),h.show&&h.type==="resolution"&&s.jsx(es,{isOpen:!0,onClose:()=>x({type:null,show:!1}),title:"Resolution Capital Visualization",data:r,availableAttributes:[{name:"report_date",label:"Report Date",type:"date"},{name:"rcap_amount",label:"RCAP Amount",type:"number"},{name:"rcap_ratio",label:"RCAP Ratio",type:"number"},{name:"rcap_requirement",label:"RCAP Requirement",type:"number"},{name:"rcap_surplus_deficit",label:"RCAP Surplus/Deficit",type:"number"},{name:"rcen_amount",label:"RCEN Amount",type:"number"},{name:"rcen_ratio",label:"RCEN Ratio",type:"number"},{name:"rcen_requirement",label:"RCEN Requirement",type:"number"},{name:"is_compliant",label:"Compliant",type:"boolean"}],defaultAggregateField:"rcap_ratio"})]})}function ny(){const[e,t]=O.useState("historical"),[a,r]=O.useState([]),[n,i]=O.useState([]),[l,d]=O.useState([]),[c,o]=O.useState(!0),[u,h]=O.useState("30d"),[x,m]=O.useState("30_day"),[A,p]=O.useState("all");O.useEffect(()=>{b()},[u,x,A]);const b=async()=>{o(!0);const S={"7d":7,"30d":30,"90d":90,"1y":365}[u],L=new Date;L.setDate(L.getDate()-S);const[k,F,j]=await Promise.all([X.from("transactions").select("*").is("user_id",null).gte("transaction_date",L.toISOString()).order("transaction_date",{ascending:!0}),X.from("cash_flow_projections").select("*").order("projection_date",{ascending:!1}),X.from("cash_flow_scenarios").select("*")]);if(k.data){const T=new Map;k.data.forEach($=>{const C=new Date($.transaction_date).toLocaleDateString();T.has(C)||T.set(C,{inflows:0,outflows:0});const z=T.get(C);$.amount>0?z.inflows+=$.amount:z.outflows+=Math.abs($.amount)});let y=0;const I=Array.from(T.entries()).map(([$,C])=>{const z=C.inflows-C.outflows;return y+=z,{date:$,inflows:C.inflows,outflows:C.outflows,netFlow:z,cumulativeBalance:y}});r(I)}F.data&&i(F.data),j.data&&d(j.data),o(!1)},f=R=>{const S=Math.abs(R)/1e9;return`${R<0?"-":""}$${S.toFixed(2)}B`},g=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(R),v=n.filter(R=>{const S=R.time_horizon===x,L=A==="all"||R.scenario_id===A;return S&&L}),w=a.reduce((R,S)=>R+S.inflows,0),_=a.reduce((R,S)=>R+S.outflows,0),D=w-_;return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading cash flow data..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(bn,{className:"w-7 h-7 text-green-600"}),"Comprehensive Cash Flow Analysis"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Historical analysis and forward-looking projections per Reg QQ  39.3"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ve,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Regulation QQ  39.3 - Cash Flow Projections"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Covered banks must produce comprehensive cash flow projections over short- and long-term time horizons (overnight, 30-day, 90-day, one-year) projecting cash flows from assets, liabilities, and off-balance sheet exposures under baseline and stressed scenarios."})]})]})}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[s.jsx("button",{onClick:()=>t("historical"),className:`px-6 py-3 font-medium transition-colors ${e==="historical"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jd,{className:"w-4 h-4"}),"Historical Analysis"]})}),s.jsx("button",{onClick:()=>t("projections"),className:`px-6 py-3 font-medium transition-colors ${e==="projections"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"w-4 h-4"}),"Forward Projections (Reg QQ)"]})})]}),e==="historical"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex gap-2",children:["7d","30d","90d","1y"].map(R=>s.jsx("button",{onClick:()=>h(R),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u===R?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:R.toUpperCase()},R))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Inflows"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(w)})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Outflows"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:g(_)})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Net Cash Flow"}),s.jsx("p",{className:`text-2xl font-bold ${D>=0?"text-green-600":"text-red-600"}`,children:g(D)})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase",children:"Inflows"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase",children:"Outflows"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase",children:"Net Flow"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase",children:"Cumulative"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:a.slice(0,20).map((R,S)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-slate-900",children:R.date}),s.jsx("td",{className:"px-6 py-4 text-sm text-right text-green-600 font-medium",children:g(R.inflows)}),s.jsx("td",{className:"px-6 py-4 text-sm text-right text-red-600 font-medium",children:g(R.outflows)}),s.jsx("td",{className:`px-6 py-4 text-sm text-right font-medium ${R.netFlow>=0?"text-green-600":"text-red-600"}`,children:g(R.netFlow)}),s.jsx("td",{className:"px-6 py-4 text-sm text-right text-slate-900 font-medium",children:g(R.cumulativeBalance)})]},S))})]})})}),a.length===0&&s.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:s.jsx("p",{className:"text-slate-600",children:"No historical transaction data available for selected period"})})]}),e==="projections"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Time Horizon"}),s.jsx("div",{className:"flex gap-2",children:["overnight","1_week","30_day","90_day","1_year"].map(R=>s.jsx("button",{onClick:()=>m(R),className:`px-4 py-2 rounded-lg font-medium transition-colors ${x===R?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:R.replace("_"," ").toUpperCase()},R))})]}),l.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Scenario"}),s.jsxs("select",{value:A,onChange:R=>p(R.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg",children:[s.jsx("option",{value:"all",children:"All Scenarios"}),l.map(R=>s.jsxs("option",{value:R.id,children:[R.scenario_name," (",R.scenario_type,")"]},R.id))]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.slice(0,12).map(R=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-3",children:R.projection_date}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Inflows:"}),s.jsx("span",{className:"font-semibold text-green-600",children:f(R.total_inflows)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Outflows:"}),s.jsx("span",{className:"font-semibold text-red-600",children:f(R.total_outflows)})]}),s.jsxs("div",{className:"border-t border-slate-200 pt-2 flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Net:"}),s.jsx("span",{className:`font-bold ${R.net_cash_flow>=0?"text-green-600":"text-red-600"}`,children:f(R.net_cash_flow)})]}),R.available_liquidity&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Liquidity:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:f(R.available_liquidity)})]})]})]},R.id))}),v.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:[s.jsx(He,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),s.jsxs("p",{className:"text-slate-600",children:["No projections for ",x.replace("_"," ")," horizon"]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Forward-looking cash flow projections will appear here"})]})]})]})}function iy({onNavigate:e}){bt();const[t,a]=O.useState([]),[r,n]=O.useState(!0),[i,l]=O.useState({peakRequirement:0,totalAvailable:0,averageCoverage:0,minCoverage:0});O.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:x}=await X.from("accounts").select("*").is("user_id",null).eq("is_active",!0);if(x)throw console.error("Error fetching accounts:",x),x;console.log("Loaded accounts:",h==null?void 0:h.length);const m=(h==null?void 0:h.filter(v=>["checking","savings","investment"].includes(v.account_type)).reduce((v,w)=>v+w.current_balance,0))||0;console.log("Total assets for intraday:",m);const A=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],p=A.map((v,w)=>{const _=w/(A.length-1),D=m*(.1+Math.sin(_*Math.PI)*.08),R=D*1.2,S=m-D*.5,L=S/R*100;return{time:v,availableLiquidity:S,requiredLiquidity:R,peakUsage:D,coverage:L}}),b=Math.max(...p.map(v=>v.requiredLiquidity)),f=p.reduce((v,w)=>v+w.coverage,0)/p.length,g=Math.min(...p.map(v=>v.coverage));console.log("Intraday positions calculated:",p.length),a(p),l({peakRequirement:b,totalAvailable:m,averageCoverage:f,minCoverage:g})}catch(h){console.error("Error loading intraday data:",h)}finally{n(!1)}},c=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h),o=h=>h>=120?"text-green-600":h>=100?"text-yellow-600":"text-red-600",u=h=>h>=120?"bg-green-50 border-green-200":h>=100?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("button",{onClick:()=>e==null?void 0:e("dashboard"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:s.jsx(vv,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Intraday Liquidity Monitoring"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Real-time liquidity positions throughout the business day"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(it,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"About This Metric"}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Intraday liquidity monitoring tracks an institution's ability to meet payment and settlement obligations throughout the business day, including obligations to Financial Market Utilities (FMUs) and payment systems. This metric is critical for operational resilience, systemic risk management, and compliance with regulatory expectations."}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Key Financial Market Utilities (FMUs):"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Fedwire:"})," Federal Reserve's real-time gross settlement system"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"CHIPS:"})," Clearing House Interbank Payments System for large-value USD payments"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"DTC:"})," Depository Trust Company for securities custody and settlement"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"NSCC:"})," National Securities Clearing Corporation for equity and debt clearing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"FICC:"})," Fixed Income Clearing Corporation for government securities"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"CLS Bank:"})," Continuous Linked Settlement for FX transactions"]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[s.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Regulatory Requirements:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-700 ml-2",children:[s.jsx("li",{children:"BCBS 248: Monitoring tools for intraday liquidity management"}),s.jsx("li",{children:"Federal Reserve requires real-time payment system monitoring and daylight overdraft management"}),s.jsx("li",{children:"Institutions must identify and monitor peak intraday liquidity usage across all FMUs"}),s.jsx("li",{children:"Daily monitoring of maximum daylight overdraft and time-specific net debit positions"}),s.jsx("li",{children:"Stress testing of intraday liquidity positions including FMU access disruptions"})]})]}),s.jsxs("div",{className:"pt-3 border-t border-blue-200",children:[s.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Regulatory Resources:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("a",{href:"https://www.bis.org/publ/bcbs248.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"BCBS 248 - Monitoring Tools for Intraday Liquidity Management"})]}),s.jsxs("a",{href:"https://www.federalreserve.gov/paymentsystems/psr_about.htm",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[s.jsx(Qt,{className:"w-4 h-4"}),s.jsx("span",{children:"Federal Reserve - Payment System Risk Policy"})]})]})]})]})]})]})}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(it,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-amber-900",children:[s.jsx("strong",{children:"Data Source:"})," Representative calculated positions based on account balances. Intraday positions are simulated using typical institutional payment patterns and are not sourced from actual State Street Corporation real-time payment data."]})})]})}),s.jsx("div",{children:r?s.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading intraday liquidity data..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(He,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Peak Requirement"})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:c(i.peakRequirement)}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Highest intraday need"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(wa,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Total Available"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c(i.totalAvailable)}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Available liquidity"})]}),s.jsxs("div",{className:`rounded-xl p-4 border ${u(i.averageCoverage)}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oe,{className:`w-4 h-4 ${o(i.averageCoverage)}`}),s.jsx("span",{className:`text-sm font-medium ${o(i.averageCoverage)}`,children:"Avg Coverage"})]}),s.jsxs("p",{className:`text-2xl font-bold ${o(i.averageCoverage)}`,children:[i.averageCoverage.toFixed(0),"%"]}),s.jsx("p",{className:`text-xs mt-1 ${o(i.averageCoverage)}`,children:i.averageCoverage>=120?"Strong":i.averageCoverage>=100?"Adequate":"Weak"})]}),s.jsxs("div",{className:`rounded-xl p-4 border ${u(i.minCoverage)}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:`w-4 h-4 ${o(i.minCoverage)}`}),s.jsx("span",{className:`text-sm font-medium ${o(i.minCoverage)}`,children:"Min Coverage"})]}),s.jsxs("p",{className:`text-2xl font-bold ${o(i.minCoverage)}`,children:[i.minCoverage.toFixed(0),"%"]}),s.jsx("p",{className:`text-xs mt-1 ${o(i.minCoverage)}`,children:"Lowest point"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden mb-6",children:[s.jsx("div",{className:"bg-slate-50 px-6 py-3 border-b border-slate-200",children:s.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Hourly Intraday Position"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Time"}),s.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Available"}),s.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Required"}),s.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Peak Usage"}),s.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Coverage"}),s.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map((h,x)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:h.time}),s.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-blue-600",children:c(h.availableLiquidity)}),s.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-slate-600",children:c(h.requiredLiquidity)}),s.jsx("td",{className:"px-6 py-4 text-sm text-right font-semibold text-purple-600",children:c(h.peakUsage)}),s.jsxs("td",{className:`px-6 py-4 text-sm text-right font-bold ${o(h.coverage)}`,children:[h.coverage.toFixed(1),"%"]}),s.jsx("td",{className:"px-6 py-4 text-center",children:h.coverage>=120?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 text-green-700 text-xs font-medium",children:[s.jsx(oe,{className:"w-3 h-3"}),"Strong"]}):h.coverage>=100?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-medium",children:[s.jsx(At,{className:"w-3 h-3"}),"Adequate"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs font-medium",children:[s.jsx(At,{className:"w-3 h-3"}),"Weak"]})})]},x))})]})})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Key Insights"}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),s.jsx("span",{children:"Intraday liquidity is monitored hourly to ensure sufficient funds for payment obligations"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),s.jsx("span",{children:"Coverage above 120% indicates strong liquidity buffer throughout the day"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),s.jsx("span",{children:"Peak usage typically occurs mid-day during high transaction volumes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 mt-1.5"}),s.jsx("span",{children:"Minimum coverage should remain above 100% to meet regulatory expectations"})]})]})]})]})})]})}function ly({onClose:e}){bt();const[t,a]=O.useState([]),[r,n]=O.useState([]),[i,l]=O.useState([]),[d,c]=O.useState(!0),[o,u]=O.useState(!1),[h,x]=O.useState(!1),[m,A]=O.useState("overview"),[p,b]=O.useState(null);O.useEffect(()=>{f()},[]);const f=async()=>{try{const[y,I,$]=await Promise.all([X.from("data_quality_checks").select("*").is("user_id",null).order("last_run_at",{ascending:!1}),X.from("data_feeds").select("*").is("user_id",null).order("last_run_at",{ascending:!1}),X.from("data_lineage").select("*").is("user_id",null).order("dependency_level",{ascending:!0}).limit(50)]);y.data&&a(y.data),I.data&&n(I.data),$.data&&l($.data)}catch(y){console.error("Error loading data:",y)}finally{c(!1)}},g=async()=>{x(!0),await f(),setTimeout(()=>x(!1),500)},v=t.filter(y=>y.status==="passed").length,w=t.filter(y=>y.status==="failed").length,_=t.filter(y=>y.status==="warning").length,D=t.length>0?v/t.length*100:0,R=r.filter(y=>y.status==="active").length,S=r.filter(y=>y.status==="error").length,L=r.filter(y=>y.is_stale).length,k=i.filter(y=>y.is_critical).length,F=r.reduce((y,I)=>y+I.records_loaded,0),j=y=>y?new Date(y).toLocaleString():"Never",T=i.reduce((y,I)=>{const $=`${I.target_table}.${I.target_column}`;return y[$]||(y[$]=[]),y[$].push(I),y},{});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-7xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{className:"w-6 h-6 text-white"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Data Quality Dashboard"}),s.jsx("p",{className:"text-sm text-blue-100 mt-0.5",children:"Monitoring data feeds, quality checks, and lineage"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>u(!0),className:"p-2 bg-white text-blue-700 rounded-lg hover:bg-blue-50 transition-colors",title:"Visualize Data",children:s.jsx($e,{className:"w-4 h-4"})}),s.jsx("button",{onClick:g,disabled:h,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors disabled:opacity-50",children:s.jsx(mr,{className:`w-5 h-5 text-white ${h?"animate-spin":""}`})}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:s.jsx(kt,{className:"w-5 h-5 text-white"})})]})]}),s.jsx("div",{className:"border-b border-slate-200 bg-white px-6",children:s.jsx("div",{className:"flex gap-1",children:["overview","checks","feeds","lineage"].map(y=>s.jsx("button",{onClick:()=>A(y),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${m===y?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})}),s.jsx("div",{className:"flex-1 overflow-auto",children:d?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(mr,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600",children:"Loading data quality metrics..."})]})}):s.jsxs("div",{className:"p-6",children:[m==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 border border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(oe,{className:"w-8 h-8 text-green-600"}),s.jsxs("span",{className:"text-3xl font-bold text-green-900",children:[D.toFixed(0),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-green-900",children:"Data Quality Score"}),s.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[v," of ",t.length," checks passed"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Oe,{className:"w-8 h-8 text-blue-600"}),s.jsx("span",{className:"text-3xl font-bold text-blue-900",children:r.length})]}),s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Active Data Feeds"}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[R," running, ",L," stale"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 border border-purple-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(wn,{className:"w-8 h-8 text-purple-600"}),s.jsx("span",{className:"text-3xl font-bold text-purple-900",children:i.length})]}),s.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Lineage Mappings"}),s.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:[k," critical paths"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-5 border border-amber-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(wa,{className:"w-8 h-8 text-amber-600"}),s.jsxs("span",{className:"text-3xl font-bold text-amber-900",children:[(F/1e6).toFixed(1),"M"]})]}),s.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Records Processed"}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Across all feeds"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quality Check Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oe,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-slate-900",children:"Passed"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:v})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Le,{className:"w-5 h-5 text-amber-600"}),s.jsx("span",{className:"font-medium text-slate-900",children:"Warnings"})]}),s.jsx("span",{className:"text-2xl font-bold text-amber-600",children:_})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-medium text-slate-900",children:"Failed"})]}),s.jsx("span",{className:"text-2xl font-bold text-red-600",children:w})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Feed Health"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oe,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-slate-900",children:"Active"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:R})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ss,{className:"w-5 h-5 text-amber-600"}),s.jsx("span",{className:"font-medium text-slate-900",children:"Stale"})]}),s.jsx("span",{className:"text-2xl font-bold text-amber-600",children:L})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-medium text-slate-900",children:"Errors"})]}),s.jsx("span",{className:"text-2xl font-bold text-red-600",children:S})]})]})]})]})]}),m==="checks"&&s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oe,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No quality checks configured"})]}):t.map(y=>{const I=y.total_records>0?(y.passed_records/y.total_records*100).toFixed(1):"0";return s.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:y.check_name}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:y.check_type}),s.jsx("span",{className:"text-sm text-slate-600",children:y.data_source})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-3xl font-bold ${parseFloat(I)>=95?"text-green-600":parseFloat(I)>=80?"text-amber-600":"text-red-600"}`,children:[I,"%"]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Pass Rate"})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:y.total_records.toLocaleString()}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Total"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.passed_records.toLocaleString()}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Passed"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:y.failed_records.toLocaleString()}),s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Failed"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.execution_time_ms}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"ms"})]})]}),s.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[s.jsx(Ss,{className:"w-4 h-4"}),"Last run: ",j(y.last_run_at)]})]},y.id)})}),m==="feeds"&&s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oe,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No data feeds configured"})]}):r.map(y=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:y.feed_name}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:y.source_system})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${y.status==="active"?"bg-green-100 text-green-700":y.status==="error"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:y.status.toUpperCase()}),y.is_stale&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700",children:"STALE"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.records_loaded.toLocaleString()}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Records Loaded"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:y.error_count}),s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Errors"})]}),s.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-bold text-slate-900",children:j(y.last_run_at)}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Last Run"})]})]})]},y.id))}),m==="lineage"&&s.jsx("div",{className:"space-y-4",children:Object.keys(T).length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No lineage data available"})]}):Object.entries(T).map(([y,I])=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-slate-200 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:y}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[I.length," source mappings"]})]}),s.jsxs("button",{onClick:()=>{const[$,C]=y.split(".");b({table:$,column:C,name:y})},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[s.jsx(Wi,{className:"w-4 h-4"}),"View Lineage"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:I.slice(0,4).map($=>s.jsxs("div",{className:`p-3 rounded-lg border ${$.is_critical?"bg-red-50 border-red-200":"bg-slate-50 border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[$.source_table,".",$.source_column]}),$.is_critical&&s.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-semibold rounded",children:"CRITICAL"})]}),s.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${$.transformation_type==="direct"?"bg-green-100 text-green-700":$.transformation_type==="calculated"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:$.transformation_type})]},$.id))})]},y))})]})})]})}),p&&s.jsx(cp,{metricName:p.name,targetTable:p.table,targetColumn:p.column,onClose:()=>b(null)}),s.jsx(es,{isOpen:o,onClose:()=>u(!1),title:"Data Quality Metrics Visualization",data:t,availableAttributes:[{name:"check_type",label:"Check Type",type:"string"},{name:"data_source",label:"Data Source",type:"string"},{name:"status",label:"Status",type:"string"},{name:"last_run_at",label:"Last Run",type:"date"},{name:"total_records",label:"Total Records",type:"number"},{name:"passed_records",label:"Passed Records",type:"number"},{name:"failed_records",label:"Failed Records",type:"number"},{name:"execution_time_ms",label:"Execution Time (ms)",type:"number"}],defaultAggregateField:"total_records"})]})}function oy({onNavigate:e}){bt();const[t,a]=O.useState([]),[r,n]=O.useState(!0),[i,l]=O.useState(""),[d,c]=O.useState([]),[o,u]=O.useState(null),[h,x]=O.useState("summary");O.useEffect(()=>{m()},[o]),O.useEffect(()=>{d.length>0&&!i&&l(d[0])},[d]);const m=async()=>{n(!0);try{let k=X.from("fr2052a_data_rows").select("report_date").is("user_id",null).order("report_date",{ascending:!1});o&&(k=k.eq("legal_entity_id",o));const{data:F,error:j}=await k.limit(1e3);if(j){console.error("Error loading FR 2052a dates:",j.message),n(!1);return}if(F&&F.length>0){const T=Array.from(new Set(F.map(y=>y.report_date))).sort().reverse();c(T),!i&&T.length>0&&l(T[0])}}catch(k){console.error("Error loading FR 2052a data:",k)}n(!1)};O.useEffect(()=>{i&&A()},[i,o]);const A=async()=>{if(!i)return;let k=X.from("fr2052a_data_rows").select("*").is("user_id",null).eq("report_date",i).limit(5e3);o&&(k=k.eq("legal_entity_id",o));const{data:F,error:j}=await k;if(j){console.error("Error loading date data:",j.message);return}F&&a(F)},p=t,b=()=>{const k=new Map;return p.forEach(F=>{const j=k.get(F.product)||{product:F.product,count:0,totalAmount:0,hqlaAmount:0,projectedInflow:0,projectedOutflow:0};k.set(F.product,{product:F.product,count:j.count+1,totalAmount:j.totalAmount+F.amount,hqlaAmount:j.hqlaAmount+(F.is_hqla?F.amount:0),projectedInflow:j.projectedInflow+F.projected_inflow,projectedOutflow:j.projectedOutflow+F.projected_outflow})}),Array.from(k.values()).sort((F,j)=>j.totalAmount-F.totalAmount)},f=()=>{const k=new Map;p.forEach(j=>{const T=k.get(j.maturity_bucket)||{maturity:j.maturity_bucket,amount:0,inflow:0,outflow:0};k.set(j.maturity_bucket,{maturity:j.maturity_bucket,amount:T.amount+j.amount,inflow:T.inflow+j.projected_inflow,outflow:T.outflow+j.projected_outflow})});const F=["overnight","2-7days","8-30days","31-90days","91-180days","181-365days","gt_1year","open"];return Array.from(k.values()).sort((j,T)=>F.indexOf(j.maturity)-F.indexOf(T.maturity))},g=()=>{const k=p.filter(I=>I.is_hqla),F=k.reduce((I,$)=>I+$.amount*(1-$.haircut_rate),0),j=k.filter(I=>I.hqla_level===1).reduce((I,$)=>I+$.amount*(1-$.haircut_rate),0),T=k.filter(I=>I.hqla_level===2).reduce((I,$)=>I+$.amount*(1-$.haircut_rate),0),y=k.filter(I=>I.hqla_level===3).reduce((I,$)=>I+$.amount*(1-$.haircut_rate),0);return[{level:"Level 1 (0% haircut)",amount:j,percentage:F>0?j/F*100:0},{level:"Level 2A (15% haircut)",amount:T,percentage:F>0?T/F*100:0},{level:"Level 2B (50% haircut)",amount:y,percentage:F>0?y/F*100:0}]},v=()=>{const k=new Map;return p.forEach(F=>{const j=k.get(F.counterparty)||0;k.set(F.counterparty,j+F.amount)}),Array.from(k.entries()).map(([F,j])=>({counterparty:F,amount:j})).sort((F,j)=>j.amount-F.amount)},w=p.reduce((k,F)=>k+F.amount,0),_=p.filter(k=>k.is_hqla).reduce((k,F)=>k+F.amount*(1-F.haircut_rate),0),D=p.reduce((k,F)=>k+F.projected_inflow,0),R=p.reduce((k,F)=>k+F.projected_outflow,0),S=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(k),L=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"text-slate-500",children:"Loading FR 2052a data..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(wl,{items:[{label:"Executive Dashboard",onClick:()=>e==null?void 0:e("dashboard")},{label:"FR 2052a Liquidity Report"}]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"FR 2052a Liquidity Report"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Comprehensive liquidity data supporting LCR and NSFR calculations"})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(yl,{selectedEntityId:o,onEntityChange:u})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jd,{className:"w-4 h-4 text-slate-500"}),s.jsx("select",{value:i,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.map(k=>s.jsx("option",{value:k,children:L(k)},k))})]})]}),p.length===0?s.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-8 text-center",children:[s.jsx(At,{className:"w-16 h-16 text-amber-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"No FR 2052a Data Found"}),s.jsx("p",{className:"text-sm text-amber-800 mb-2 max-w-2xl mx-auto",children:"To view FR 2052a liquidity reporting data, you need to generate sample data first."}),s.jsxs("p",{className:"text-sm text-amber-700 mb-6 max-w-2xl mx-auto",children:["Navigate to the ",s.jsx("span",{className:"font-semibold text-blue-700",children:"Data Setup"})," page from the sidebar and click ",s.jsx("span",{className:"font-bold text-blue-700",children:'"Generate All Data"'}),". This will create:"]}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 max-w-xl mx-auto text-left",children:s.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"6,000+"})," FR 2052a line items across 6 reporting periods"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"LCR and NSFR calculations with validation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Product categories, maturity buckets, counterparty types"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"HQLA classification and cash flow projections"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Automatic validation of generated data"})]})]})}),s.jsx("button",{onClick:()=>e==null?void 0:e("data-setup"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg font-semibold",children:"Go to Data Setup"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Oe,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Total Line Items"})]}),s.jsx("div",{className:"text-2xl font-bold text-slate-900",children:p.length.toLocaleString()}),s.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Reporting period records"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(bn,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Total Outstanding"})]}),s.jsx("div",{className:"text-2xl font-bold text-slate-900",children:S(w)}),s.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Aggregate balance"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ze,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"HQLA (after haircuts)"})]}),s.jsx("div",{className:"text-2xl font-bold text-slate-900",children:S(_)}),s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[(_/w*100).toFixed(1),"% of total"]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(He,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Net Cash Flow"})]}),s.jsx("div",{className:`text-2xl font-bold ${D-R>=0?"text-green-600":"text-red-600"}`,children:S(D-R)}),s.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"30-day projection"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200",children:[s.jsx("div",{className:"border-b border-slate-200",children:s.jsx("div",{className:"flex gap-4 px-6",children:[{id:"summary",label:"Summary",icon:$e},{id:"products",label:"Product Categories",icon:_v},{id:"maturity",label:"Maturity Profile",icon:Ss},{id:"hqla",label:"HQLA Breakdown",icon:Ze},{id:"counterparty",label:"Counterparty",icon:Fv}].map(k=>{const F=k.icon;return s.jsxs("button",{onClick:()=>x(k.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${h===k.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:[s.jsx(F,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:k.label})]},k.id)})})}),s.jsxs("div",{className:"p-6",children:[h==="summary"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Cash Flow Analysis"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-slate-700",children:"Projected Inflows (30d)"}),s.jsx("span",{className:"font-semibold text-green-700",children:S(D)})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-slate-700",children:"Projected Outflows (30d)"}),s.jsx("span",{className:"font-semibold text-red-700",children:S(R)})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 rounded-lg border-2 border-slate-300",children:[s.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Net Cash Flow"}),s.jsx("span",{className:`font-bold ${D-R>=0?"text-green-600":"text-red-600"}`,children:S(D-R)})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Data Coverage"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-slate-700",children:"Product Categories"}),s.jsx("span",{className:"font-semibold text-slate-900",children:new Set(p.map(k=>k.product)).size})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-slate-700",children:"Counterparty Types"}),s.jsx("span",{className:"font-semibold text-slate-900",children:new Set(p.map(k=>k.counterparty)).size})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-slate-700",children:"Maturity Buckets"}),s.jsx("span",{className:"font-semibold text-slate-900",children:new Set(p.map(k=>k.maturity_bucket)).size})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-slate-700",children:"HQLA Eligible Items"}),s.jsx("span",{className:"font-semibold text-slate-900",children:p.filter(k=>k.is_hqla).length.toLocaleString()})]})]})]})]})}),h==="products"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Product Category Breakdown"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Product"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Line Items"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Total Amount"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"HQLA Amount"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Inflows"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Outflows"})]})}),s.jsx("tbody",{children:b().map(k=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-slate-900 capitalize",children:k.product.replace(/_/g," ")}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-slate-700",children:k.count}),s.jsx("td",{className:"py-3 px-4 text-sm text-right font-medium text-slate-900",children:S(k.totalAmount)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-purple-700",children:S(k.hqlaAmount)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-green-700",children:S(k.projectedInflow)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-red-700",children:S(k.projectedOutflow)})]},k.product))})]})})]}),h==="maturity"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maturity Profile"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Maturity Bucket"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Amount"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"% of Total"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Inflows"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Outflows"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Net"})]})}),s.jsx("tbody",{children:f().map(k=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-slate-900 capitalize",children:k.maturity.replace(/_/g," ").replace("gt",">")}),s.jsx("td",{className:"py-3 px-4 text-sm text-right font-medium text-slate-900",children:S(k.amount)}),s.jsxs("td",{className:"py-3 px-4 text-sm text-right text-slate-700",children:[(k.amount/w*100).toFixed(1),"%"]}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-green-700",children:S(k.inflow)}),s.jsx("td",{className:"py-3 px-4 text-sm text-right text-red-700",children:S(k.outflow)}),s.jsx("td",{className:`py-3 px-4 text-sm text-right font-medium ${k.inflow-k.outflow>=0?"text-green-600":"text-red-600"}`,children:S(k.inflow-k.outflow)})]},k.maturity))})]})})]}),h==="hqla"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"High-Quality Liquid Assets (HQLA)"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-3 gap-4",children:g().map((k,F)=>s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg border border-purple-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ze,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:k.level})]}),s.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-1",children:S(k.amount)}),s.jsxs("div",{className:"text-sm text-slate-600",children:[k.percentage.toFixed(1),"% of total HQLA"]})]},F))}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-slate-900 mb-3",children:"HQLA Details"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total HQLA (pre-haircut)"}),s.jsx("div",{className:"text-lg font-bold text-slate-900",children:S(p.filter(k=>k.is_hqla).reduce((k,F)=>k+F.amount,0))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Total HQLA (post-haircut)"}),s.jsx("div",{className:"text-lg font-bold text-green-600",children:S(_)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Average Haircut Rate"}),s.jsxs("div",{className:"text-lg font-bold text-slate-900",children:[(p.filter(k=>k.is_hqla).reduce((k,F)=>k+F.haircut_rate,0)/p.filter(k=>k.is_hqla).length*100).toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"HQLA as % of Total Assets"}),s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[(_/w*100).toFixed(1),"%"]})]})]})})]})]})]}),h==="counterparty"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Counterparty Breakdown"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-700",children:"Counterparty Type"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"Amount"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-700",children:"% of Total"})]})}),s.jsx("tbody",{children:v().map(k=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-slate-900 capitalize",children:k.counterparty.replace(/_/g," ")}),s.jsx("td",{className:"py-3 px-4 text-sm text-right font-medium text-slate-900",children:S(k.amount)}),s.jsxs("td",{className:"py-3 px-4 text-sm text-right text-slate-700",children:[(k.amount/w*100).toFixed(1),"%"]})]},k.counterparty))})]})})]})]})]})]})]})}function wp({isOpen:e,onClose:t,componentType:a,componentName:r,submissionId:n,reportDate:i,totalAmount:l,calculatedAmount:d,factor:c,ruleCode:o}){const[u,h]=O.useState([]),[x,m]=O.useState(null),[A,p]=O.useState(!0),[b,f]=O.useState("summary"),[g,v]=O.useState(!1),[w,_]=O.useState({product_id:!0,product_name:!0,product_category:!0,sub_product:!1,maturity_bucket:!0,counterparty_type:!0,asset_class:!0,outstanding_balance:!0,projected_cash_inflow:!0,projected_cash_outflow:!0,is_hqla:!1,hqla_level:!1,haircut:!0,runoff_rate:!0,encumbered_amount:!1,currency:!0,report_date:!1});O.useEffect(()=>{e&&D()},[e,n,i]);const D=async()=>{p(!0);const{data:j}=await X.from("fr2052a_data_rows").select("*").eq("report_date",i).is("user_id",null).order("outstanding_balance",{ascending:!1}).limit(1e3);if(j&&h(j),o){const{data:T}=await X.from("lcr_calculation_rules").select("*").eq("rule_code",o).maybeSingle();T&&m(T)}p(!1)},R=j=>{_(T=>({...T,[j]:!T[j]}))},S=()=>{const j=Object.entries(w).filter(([z,B])=>B).map(([z])=>z.replace(/_/g," ").toUpperCase()),T=u.map(z=>{const B={};return Object.entries(w).forEach(([V,P])=>{if(P){const U=z[V];typeof U=="number"?B[V]=U:typeof U=="boolean"?B[V]=U?"Yes":"No":B[V]=U||""}}),B});let y=j.join(",")+`
`;T.forEach(z=>{const B=Object.values(z).map(V=>typeof V=="string"&&V.includes(",")?`"${V}"`:V);y+=B.join(",")+`
`});const I=new Blob([y],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),C=URL.createObjectURL(I);$.setAttribute("href",C),$.setAttribute("download",`${r.replace(/\s+/g,"_")}_source_records_${i}.csv`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)},L=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(j),k=j=>`${(j*100).toFixed(2)}%`;if(!e)return null;const F={product_id:"Product ID",product_name:"Product Name",product_category:"Category",sub_product:"Sub-Product",maturity_bucket:"Maturity",counterparty_type:"Counterparty",asset_class:"Asset Class",outstanding_balance:"Outstanding Balance",projected_cash_inflow:"Cash Inflow",projected_cash_outflow:"Cash Outflow",is_hqla:"Is HQLA",hqla_level:"HQLA Level",haircut:"Haircut",runoff_rate:"Runoff Rate",encumbered_amount:"Encumbered",currency:"Currency",report_date:"Report Date"};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 flex items-center justify-between rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:r}),s.jsxs("p",{className:"text-sm text-blue-100",children:[a==="hqla"&&"HQLA Component - FR2052a Source Data",a==="outflow"&&"Cash Outflow Component - FR2052a Source Data",a==="inflow"&&"Cash Inflow Component - FR2052a Source Data",a==="asf"&&"ASF Component - FR2052a Source Data",a==="rsf"&&"RSF Component - FR2052a Source Data"]})]})]}),s.jsx("button",{onClick:t,className:"text-white hover:text-blue-100 p-1 rounded-full hover:bg-blue-800 transition-colors",children:s.jsx(kt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-6",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>f("summary"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${b==="summary"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Summary"}),s.jsx("button",{onClick:()=>f("rule"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${b==="rule"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:"Calculation Rule"}),s.jsxs("button",{onClick:()=>f("records"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${b==="records"?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Source Records (",u.length,")"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:A?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-slate-600 mt-4",children:"Loading details..."})]}):s.jsxs(s.Fragment,{children:[b==="summary"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-4",children:"Calculation Summary"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:L(l)}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Sum of ",u.length," FR2052a line items"]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[(a==="hqla"||a==="asf")&&"Calculated Value",a==="outflow"&&"Calculated Outflow",a==="inflow"&&"Calculated Inflow",a==="rsf"&&"Required Stable Funding"]}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:L(d)}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Applied ",k(c)," factor"]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-700 font-medium",children:"Calculation:"}),s.jsxs("span",{className:"font-mono text-slate-900",children:[L(l),"  ",k(c)," = ",L(d)]})]})})]}),x&&s.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ve,{className:"h-5 w-5 text-slate-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:x.rule_name}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Rule Code:"}),s.jsx("span",{className:"ml-2 font-mono text-slate-900",children:x.rule_code})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"FR2052a Reference:"}),s.jsx("span",{className:"ml-2 text-slate-900",children:x.fr2052a_appendix_reference})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>f("rule"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Rule Details "})})]})]})})]}),b==="rule"&&x&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-1",children:x.rule_name}),s.jsx("p",{className:"text-sm text-slate-600",children:x.rule_code})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"FR2052a Appendix Reference"}),s.jsx("p",{className:"text-sm text-blue-800",children:x.fr2052a_appendix_reference})]}),x.regulatory_citation&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Regulatory Citation"}),s.jsx("p",{className:"text-sm text-blue-800",children:x.regulatory_citation})]})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-slate-900 leading-relaxed",children:x.rule_description})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Calculation Formula"}),s.jsx("div",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg font-mono text-sm",children:x.calculation_formula})]}),x.factor_applied!==null&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"Factor Applied"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:k(x.factor_applied)})]}),x.examples&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Examples"}),s.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-slate-900",children:x.examples})})]})]}),b==="records"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 border border-slate-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[u.length," Records"]}),s.jsxs("span",{className:"text-sm text-slate-600",children:["Total: ",L(u.reduce((j,T)=>j+(T.outstanding_balance||0),0))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>v(!g),className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[s.jsx(Sd,{className:"h-4 w-4"}),"Columns"]}),g&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-xl z-10 max-h-96 overflow-y-auto",children:[s.jsx("div",{className:"p-3 border-b border-slate-200",children:s.jsx("p",{className:"text-xs font-semibold text-slate-700 uppercase",children:"Show/Hide Columns"})}),Object.entries(F).map(([j,T])=>s.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 hover:bg-slate-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w[j],onChange:()=>R(j),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-slate-700",children:T})]},j))]})]}),s.jsxs("button",{onClick:S,className:"px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(bl,{className:"h-4 w-4"}),"Export to CSV"]})]})]}),u.length===0?s.jsxs("div",{className:"text-center py-12 bg-white border border-slate-200 rounded-lg",children:[s.jsx(Oe,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"No source records found"})]}):s.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsx("tr",{children:Object.entries(w).filter(([j,T])=>T).map(([j])=>s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider whitespace-nowrap",children:F[j]},j))})}),s.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:u.map(j=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[w.product_id&&s.jsx("td",{className:"px-4 py-3 text-sm font-mono text-slate-900 whitespace-nowrap",children:j.product_id}),w.product_name&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-900",children:j.product_name}),w.product_category&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:j.product_category}),w.sub_product&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:j.sub_product||"N/A"}),w.maturity_bucket&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:j.maturity_bucket}),w.counterparty_type&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:j.counterparty_type}),w.asset_class&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:j.asset_class||"N/A"}),w.outstanding_balance&&s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-slate-900 text-right whitespace-nowrap",children:L(j.outstanding_balance)}),w.projected_cash_inflow&&s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-green-700 text-right whitespace-nowrap",children:L(j.projected_cash_inflow)}),w.projected_cash_outflow&&s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-red-700 text-right whitespace-nowrap",children:L(j.projected_cash_outflow)}),w.is_hqla&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:j.is_hqla?"Yes":"No"}),w.hqla_level&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:j.hqla_level||"N/A"}),w.haircut&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right whitespace-nowrap",children:k(j.haircut)}),w.runoff_rate&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right whitespace-nowrap",children:j.runoff_rate?k(j.runoff_rate):"N/A"}),w.encumbered_amount&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right whitespace-nowrap",children:L(j.encumbered_amount)}),w.currency&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:j.currency}),w.report_date&&s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 whitespace-nowrap",children:new Date(j.report_date).toLocaleDateString()})]},j.id))})]})})})]})]})}),s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end rounded-b-lg",children:s.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Close"})})]})})}function cy({submissionId:e}){const[t,a]=O.useState(null),[r,n]=O.useState([]),[i,l]=O.useState([]),[d,c]=O.useState([]),[o,u]=O.useState(!0),[h,x]=O.useState(new Set(["hqla","outflows","inflows"])),[m,A]=O.useState(null),[p,b]=O.useState(!1),[f,g]=O.useState(!1),[v,w]=O.useState(null),[_,D]=O.useState(!1);O.useState([]),O.useEffect(()=>{R()},[e]);const R=async()=>{u(!0),a(null),n([]),l([]),c([]);const{data:C}=await X.from("lcr_calculation_validations").select("*").eq("submission_id",e).order("validation_timestamp",{ascending:!1}).limit(1).maybeSingle();if(C){a(C);const{data:z}=await X.from("lcr_hqla_components").select("*").eq("lcr_validation_id",C.id).order("hqla_level",{ascending:!0}),{data:B}=await X.from("lcr_outflow_components").select("*").eq("lcr_validation_id",C.id).order("outflow_category",{ascending:!0}),{data:V}=await X.from("lcr_inflow_components").select("*").eq("lcr_validation_id",C.id).order("inflow_category",{ascending:!0});z&&n(z),B&&l(B),V&&c(V)}u(!1)},S=C=>{const z=new Set(h);z.has(C)?z.delete(C):z.add(C),x(z)},L=async C=>{if(!C){console.error("No rule code provided");return}console.log("Fetching rule details for:",C);const{data:z,error:B}=await X.from("lcr_calculation_rules").select("*").eq("rule_code",C).maybeSingle();if(B){console.error("Error fetching rule:",B);return}z?(console.log("Rule data loaded:",z),A(z),b(!0)):console.warn("No rule found for code:",C)},k=(C,z,B,V,P,U,ee)=>{w({componentType:C,componentName:z,productIds:B,totalAmount:V,calculatedAmount:P,factor:U,ruleCode:ee}),g(!0)},F=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(C),j=(C,z=2)=>`${(C*100).toFixed(z)}%`,T=C=>C==="passed"?s.jsx(oe,{className:"h-5 w-5 text-green-600"}):C==="failed"?s.jsx(et,{className:"h-5 w-5 text-red-600"}):s.jsx(Le,{className:"h-5 w-5 text-yellow-600"}),y=C=>C==="passed"?"text-green-600":C==="failed"?"text-red-600":"text-yellow-600";if(o)return s.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading LCR validation details..."});if(!t)return s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(Le,{className:"h-16 w-16 text-orange-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"LCR Validation Not Yet Performed"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"LCR calculation validation has not been executed for this submission."}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left max-w-md mx-auto",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"To execute LCR validation:"}),s.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["Go to the ",s.jsx("span",{className:"font-semibold",children:"Submissions"})," tab"]}),s.jsx("li",{children:"Find this submission in the table"}),s.jsxs("li",{children:["Click the ",s.jsx("span",{className:"font-semibold",children:"Execute Validations"})," button"]}),s.jsx("li",{children:"Wait for validation to complete"}),s.jsx("li",{children:"Return here to view detailed LCR calculation breakdown"})]})]})]});r.filter(C=>C.hqla_level===1).reduce((C,z)=>C+z.liquidity_value,0),r.filter(C=>C.hqla_level===2).reduce((C,z)=>C+z.liquidity_value,0),r.filter(C=>C.hqla_level===3).reduce((C,z)=>C+z.liquidity_value,0);const I={retail:i.filter(C=>C.outflow_category==="Cash_Outflows_Retail").reduce((C,z)=>C+z.calculated_outflow,0),wholesale:i.filter(C=>C.outflow_category==="Cash_Outflows_Wholesale").reduce((C,z)=>C+z.calculated_outflow,0),secured:i.filter(C=>C.outflow_category==="Cash_Outflows_Secured").reduce((C,z)=>C+z.calculated_outflow,0),derivatives:i.filter(C=>C.outflow_category==="Cash_Outflows_Derivatives").reduce((C,z)=>C+z.calculated_outflow,0),contingent:i.filter(C=>C.outflow_category==="Cash_Outflows_Contingent").reduce((C,z)=>C+z.calculated_outflow,0)},$=Object.values(I).reduce((C,z)=>C+z,0);return d.reduce((C,z)=>C+z.calculated_inflow,0),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"LCR Calculation Validation"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>D(!0),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Visualize Data",children:s.jsx($e,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[T(t.overall_validation_status),s.jsx("span",{className:`text-lg font-semibold ${y(t.overall_validation_status)}`,children:t.overall_validation_status.toUpperCase()})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Report Date"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:new Date(t.report_date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"LCR Ratio"}),s.jsx("p",{className:`text-lg font-semibold ${y(t.lcr_validation_status)}`,children:j(t.lcr_ratio_calculated)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Compliance Status"}),s.jsx("p",{className:`text-lg font-semibold ${t.lcr_ratio_calculated>=1?"text-green-600":"text-red-600"}`,children:t.lcr_ratio_calculated>=1?"COMPLIANT":"NON-COMPLIANT"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"bg-blue-50 px-6 py-4 border-b border-blue-200 cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>S("hqla"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5 text-blue-600"}),"High-Quality Liquid Assets (HQLA)",h.has("hqla")?s.jsx(Vt,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})]}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F(t.total_hqla_calculated)})]})}),h.has("hqla")&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"border-2 border-green-200 rounded-lg p-4 bg-green-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:"Level 1 Assets"}),T(t.level1_validation_status)]}),r.filter(C=>C.hqla_level===1).length===0?s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:[s.jsx(At,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-amber-900 font-medium mb-1",children:"No component data available"}),s.jsxs("p",{className:"text-xs text-amber-800",children:["Component breakdown data needs to be generated. Go to ",s.jsx("strong",{children:"Data Setup"})," and click ",s.jsx("strong",{children:'"Generate Sample Data"'})," to populate detailed component breakdowns."]}),s.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"Summary total shown below was calculated with old method."})]}):r.filter(C=>C.hqla_level===1).map(C=>s.jsxs("div",{className:"bg-white rounded border border-green-200 p-3 mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-slate-900",children:C.hqla_category}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>k("hqla",C.hqla_category,C.fr2052a_line_references||[],C.total_amount,C.liquidity_value,C.liquidity_value_factor,C.rule_code||null),className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center gap-1",title:"View source FR2052a records",children:[s.jsx(no,{className:"h-3 w-3"}),"View Records"]}),s.jsxs("button",{onClick:()=>L(C.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(it,{className:"h-3 w-3"}),"View Rule"]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),s.jsx("p",{className:"font-semibold text-slate-900",children:F(C.total_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Haircut Rate"}),s.jsx("p",{className:"font-semibold text-slate-900",children:j(C.haircut_rate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value Factor"}),s.jsx("p",{className:"font-semibold text-green-700",children:j(C.liquidity_value_factor)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value"}),s.jsx("p",{className:"font-bold text-green-600",children:F(C.liquidity_value)})]})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[C.record_count," FR2052a records  ",C.calculation_notes||"No haircut, 100% liquidity value"]})]},C.id)),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-green-300 mt-3",children:[s.jsx("span",{className:"font-bold text-slate-900",children:"Level 1 Total Liquidity Value"}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:F(t.level1_assets_calculated)})]})]}),s.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:"Level 2A Assets"}),T(t.level2a_validation_status)]}),r.filter(C=>C.hqla_level===2).length===0?s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:[s.jsx(At,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-amber-900 font-medium mb-1",children:"No component data available"}),s.jsxs("p",{className:"text-xs text-amber-800",children:["Component breakdown data needs to be generated. Go to ",s.jsx("strong",{children:"Data Setup"})," and click ",s.jsx("strong",{children:'"Generate Sample Data"'}),"."]})]}):r.filter(C=>C.hqla_level===2).map(C=>s.jsxs("div",{className:"bg-white rounded border border-blue-200 p-3 mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-slate-900",children:C.hqla_category}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>k("hqla",C.hqla_category,C.fr2052a_line_references||[],C.total_amount,C.liquidity_value,C.liquidity_value_factor,C.rule_code||null),className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center gap-1",title:"View source FR2052a records",children:[s.jsx(no,{className:"h-3 w-3"}),"View Records"]}),s.jsxs("button",{onClick:()=>L(C.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(it,{className:"h-3 w-3"}),"View Rule"]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),s.jsx("p",{className:"font-semibold text-slate-900",children:F(C.total_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Haircut Rate"}),s.jsx("p",{className:"font-semibold text-slate-900",children:j(C.haircut_rate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value Factor"}),s.jsx("p",{className:"font-semibold text-blue-700",children:j(C.liquidity_value_factor)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value"}),s.jsx("p",{className:"font-bold text-blue-600",children:F(C.liquidity_value)})]})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[C.record_count," FR2052a records  ",C.calculation_notes||"15% haircut applied, 85% liquidity value"]})]},C.id)),t.level2a_cap_applied&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded p-3 mb-2",children:s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:["Level 2A Cap Applied: Limited to 66.67% of Level 1 assets = ",F(t.level2a_cap_amount)]})}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-blue-300 mt-3",children:[s.jsx("span",{className:"font-bold text-slate-900",children:"Level 2A Total Liquidity Value"}),s.jsx("span",{className:"text-xl font-bold text-blue-600",children:F(t.level2a_assets_calculated)})]})]}),s.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-4 bg-purple-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:"Level 2B Assets"}),T(t.level2b_validation_status)]}),r.filter(C=>C.hqla_level===3).length===0?s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:[s.jsx(At,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-amber-900 font-medium mb-1",children:"No component data available"}),s.jsxs("p",{className:"text-xs text-amber-800",children:["Component breakdown data needs to be generated. Go to ",s.jsx("strong",{children:"Data Setup"})," and click ",s.jsx("strong",{children:'"Generate Sample Data"'}),"."]})]}):r.filter(C=>C.hqla_level===3).map(C=>s.jsxs("div",{className:"bg-white rounded border border-purple-200 p-3 mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-slate-900",children:C.hqla_category}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>k("hqla",C.hqla_category,C.fr2052a_line_references||[],C.total_amount,C.liquidity_value,C.liquidity_value_factor,C.rule_code||null),className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center gap-1",title:"View source FR2052a records",children:[s.jsx(no,{className:"h-3 w-3"}),"View Records"]}),s.jsxs("button",{onClick:()=>L(C.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(it,{className:"h-3 w-3"}),"View Rule"]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),s.jsx("p",{className:"font-semibold text-slate-900",children:F(C.total_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Haircut Rate"}),s.jsx("p",{className:"font-semibold text-slate-900",children:j(C.haircut_rate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value Factor"}),s.jsx("p",{className:"font-semibold text-purple-700",children:j(C.liquidity_value_factor)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Liquidity Value"}),s.jsx("p",{className:"font-bold text-purple-600",children:F(C.liquidity_value)})]})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[C.record_count," FR2052a records  ",C.calculation_notes||"50% haircut applied, 50% liquidity value"]})]},C.id)),t.level2b_cap_applied&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded p-3 mb-2",children:s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:["Level 2B Cap Applied: Limited to 17.65% of Level 1 assets = ",F(t.level2b_cap_amount)]})}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-purple-300 mt-3",children:[s.jsx("span",{className:"font-bold text-slate-900",children:"Level 2B Total Liquidity Value"}),s.jsx("span",{className:"text-xl font-bold text-purple-600",children:F(t.level2b_assets_calculated)})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-100 mb-1",children:"Total High-Quality Liquid Assets"}),s.jsx("p",{className:"text-4xl font-bold",children:F(t.total_hqla_calculated)}),s.jsxs("p",{className:"text-xs text-blue-100 mt-2",children:["Level 1: ",F(t.level1_assets_calculated)," + Level 2A: ",F(t.level2a_assets_calculated)," + Level 2B: ",F(t.level2b_assets_calculated)]})]}),T(t.hqla_validation_status)]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"bg-red-50 px-6 py-4 border-b border-red-200 cursor-pointer hover:bg-red-100 transition-colors",onClick:()=>S("outflows"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(bn,{className:"h-5 w-5 text-red-600"}),"Cash Outflows (30-Day Period)",h.has("outflows")?s.jsx(Vt,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})]}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:F(t.total_outflows_calculated)})]})}),h.has("outflows")&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[s.jsx("span",{children:"Retail Deposit Outflows"}),s.jsx("span",{className:"text-lg font-bold text-slate-900",children:F(I.retail)})]}),i.filter(C=>C.outflow_category==="Cash_Outflows_Retail").map(C=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:C.product_type}),s.jsxs("p",{className:"text-xs text-slate-600",children:[F(C.total_amount),"  ",j(C.runoff_rate)," runoff rate  ",C.record_count," records"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:F(C.calculated_outflow)}),s.jsx("button",{onClick:()=>C.regulatory_reference&&L(C.regulatory_reference),className:"text-xs text-blue-600 hover:text-blue-800",children:"View Rule"})]})]},C.id)),i.filter(C=>C.outflow_category==="Cash_Outflows_Retail").length===0&&s.jsx("p",{className:"text-sm text-slate-500 italic",children:"No retail deposit outflows"})]}),s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[s.jsx("span",{children:"Wholesale Funding Outflows"}),s.jsx("span",{className:"text-lg font-bold text-slate-900",children:F(I.wholesale)})]}),i.filter(C=>C.outflow_category==="Cash_Outflows_Wholesale").map(C=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:C.product_type}),s.jsxs("p",{className:"text-xs text-slate-600",children:[F(C.total_amount),"  ",j(C.runoff_rate)," runoff rate  ",C.record_count," records"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:F(C.calculated_outflow)}),s.jsx("button",{onClick:()=>C.regulatory_reference&&L(C.regulatory_reference),className:"text-xs text-blue-600 hover:text-blue-800",children:"View Rule"})]})]},C.id)),i.filter(C=>C.outflow_category==="Cash_Outflows_Wholesale").length===0&&s.jsx("p",{className:"text-sm text-slate-500 italic",children:"No wholesale funding outflows"})]}),["Cash_Outflows_Secured","Cash_Outflows_Derivatives","Cash_Outflows_Contingent"].map(C=>{const z=i.filter(P=>P.outflow_category===C),B=z.reduce((P,U)=>P+U.calculated_outflow,0),V=C.replace("Cash_Outflows_","").replace("_"," ");return z.length>0&&s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[s.jsxs("span",{children:[V," Outflows"]}),s.jsx("span",{className:"text-lg font-bold text-slate-900",children:F(B)})]}),z.map(P=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:P.product_type}),s.jsxs("p",{className:"text-xs text-slate-600",children:[P.runoff_rate>0?`${F(P.total_amount)}  ${j(P.runoff_rate)}`:F(P.total_amount),"  ",P.record_count," records"]})]}),s.jsx("p",{className:"font-semibold text-slate-900",children:F(P.calculated_outflow)})]},P.id))]},C)}),s.jsx("div",{className:"bg-red-600 text-white rounded-lg p-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-100",children:"Total Cash Outflows"}),s.jsx("p",{className:"text-3xl font-bold",children:F(t.total_outflows_calculated)}),i.length>0&&$!==t.total_outflows_calculated&&s.jsxs("p",{className:"text-xs text-red-200 mt-1",children:["Component sum: ",F($),Math.abs($-t.total_outflows_calculated)>100&&s.jsx("span",{className:"ml-1",children:"(Variance detected)"})]})]})})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"bg-green-50 px-6 py-4 border-b border-green-200 cursor-pointer hover:bg-green-100 transition-colors",onClick:()=>S("inflows"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(bn,{className:"h-5 w-5 text-green-600"}),"Cash Inflows (30-Day Period)",h.has("inflows")?s.jsx(Vt,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})]}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:F(t.capped_inflows_calculated)})]})}),h.has("inflows")&&s.jsxs("div",{className:"p-6 space-y-4",children:[["Maturing_Loans","Maturing_Securities","Reverse_Repos","Other_Contractual_Inflows"].map(C=>{const z=d.filter(P=>P.inflow_category.includes(C.replace("_"," "))||P.inflow_category===C),B=z.reduce((P,U)=>P+U.calculated_inflow,0),V=C.replace(/_/g," ");return z.length>0&&s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center justify-between",children:[s.jsx("span",{children:V}),s.jsx("span",{className:"text-lg font-bold text-slate-900",children:F(B)})]}),z.map(P=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:P.product_type}),s.jsxs("p",{className:"text-xs text-slate-600",children:[F(P.total_amount),"  ",j(P.inflow_rate)," inflow rate  ",P.record_count," records"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:F(P.calculated_inflow)}),s.jsx("button",{onClick:()=>P.regulatory_reference&&L(P.regulatory_reference),className:"text-xs text-blue-600 hover:text-blue-800",children:"View Rule"})]})]},P.id))]},C)}),d.length===0&&s.jsx("p",{className:"text-sm text-slate-500 italic text-center py-4",children:"No cash inflow details available"}),s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(it,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-yellow-900 mb-1",children:"Inflow Cap Applied"}),s.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Per FR2052a Appendix VI, total inflows are capped at 75% of total outflows"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-yellow-700",children:"Total Inflows (Uncapped)"}),s.jsx("p",{className:"font-semibold text-yellow-900",children:F(t.total_inflows_calculated)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-yellow-700",children:"Maximum Allowed (75% of Outflows)"}),s.jsx("p",{className:"font-semibold text-yellow-900",children:F(t.total_outflows_calculated*.75)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-yellow-700",children:"Capped Inflows (Used in LCR)"}),s.jsx("p",{className:"font-bold text-yellow-900",children:F(t.capped_inflows_calculated)})]})]})]})]})}),s.jsx("div",{className:"bg-green-600 text-white rounded-lg p-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-100",children:"Capped Cash Inflows (Used in LCR)"}),s.jsx("p",{className:"text-3xl font-bold",children:F(t.capped_inflows_calculated)})]})})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(Rv,{className:"h-5 w-5 text-slate-600"}),"Final LCR Calculation"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-slate-700",children:"Net Cash Outflows"}),s.jsx("span",{className:"text-xl font-bold text-slate-900",children:F(t.net_cash_outflows_calculated)})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Formula: MAX(Total Outflows - Capped Inflows, 25% of Total Outflows)"}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["MAX(",F(t.total_outflows_calculated)," - ",F(t.capped_inflows_calculated),", ",F(t.total_outflows_calculated*.25),") = ",F(t.net_cash_outflows_calculated)]})]}),s.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white rounded-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-slate-300 mb-2",children:"Liquidity Coverage Ratio"}),s.jsx("p",{className:"text-5xl font-bold mb-3",children:j(t.lcr_ratio_calculated)}),s.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:t.lcr_ratio_calculated>=1?s.jsxs(s.Fragment,{children:[s.jsx(oe,{className:"h-6 w-6 text-green-400"}),s.jsx("span",{className:"text-green-400 font-semibold text-lg",children:"COMPLIANT"})]}):s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"h-6 w-6 text-red-400"}),s.jsx("span",{className:"text-red-400 font-semibold text-lg",children:"NON-COMPLIANT"})]})}),s.jsxs("div",{className:"bg-slate-700 bg-opacity-50 rounded p-3",children:[s.jsx("p",{className:"text-xs text-slate-300 mb-1",children:"Calculation"}),s.jsx("p",{className:"text-sm text-white font-mono",children:"LCR = Total HQLA  Net Cash Outflows"}),s.jsxs("p",{className:"text-sm text-white font-mono mt-1",children:["LCR = ",F(t.total_hqla_calculated),"  ",F(t.net_cash_outflows_calculated)]}),s.jsxs("p",{className:"text-sm text-white font-mono mt-1",children:["LCR = ",j(t.lcr_ratio_calculated)]})]}),s.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"Regulatory Minimum: 100%  Basel III / 12 CFR 249"})]})})]})]}),p&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ve,{className:"h-5 w-5"}),s.jsx("h3",{className:"font-semibold",children:m.rule_name})]}),s.jsx("button",{onClick:()=>b(!1),className:"text-white hover:text-blue-100",children:""})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Rule Code"}),s.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-2 py-1 rounded",children:m.rule_code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"FR2052a Reference"}),s.jsx("p",{className:"text-slate-900",children:m.fr2052a_appendix_reference})]}),m.regulatory_citation&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Regulatory Citation"}),s.jsx("p",{className:"text-slate-900",children:m.regulatory_citation})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Description"}),s.jsx("p",{className:"text-slate-900",children:m.rule_description})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Calculation Formula"}),s.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-3 py-2 rounded",children:m.calculation_formula})]}),m.factor_applied!==null&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Factor Applied"}),s.jsx("p",{className:"text-slate-900 text-lg font-bold",children:j(m.factor_applied)})]}),m.examples&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Examples"}),s.jsx("p",{className:"text-slate-900 text-sm",children:m.examples})]})]}),s.jsx("div",{className:"bg-slate-50 px-6 py-4 flex justify-end",children:s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})})]})}),v&&t&&s.jsx(wp,{isOpen:f,onClose:()=>g(!1),componentType:v.componentType,componentName:v.componentName,submissionId:e,reportDate:t.report_date,totalAmount:v.totalAmount,calculatedAmount:v.calculatedAmount,factor:v.factor,ruleCode:v.ruleCode}),t&&s.jsx(es,{isOpen:_,onClose:()=>D(!1),title:"LCR Components Visualization",data:[...r.map(C=>({type:"HQLA",category:C.hqla_category,amount:C.liquidity_value,level:`Level ${C.hqla_level}`})),...i.map(C=>({type:"Outflow",category:C.outflow_category,amount:C.calculated_outflow,counterparty:C.counterparty_type})),...d.map(C=>({type:"Inflow",category:C.inflow_category,amount:C.calculated_inflow,counterparty:C.counterparty_type}))],availableAttributes:[{name:"type",label:"Component Type",type:"string"},{name:"category",label:"Category",type:"string"},{name:"level",label:"HQLA Level",type:"string"},{name:"counterparty",label:"Counterparty Type",type:"string"},{name:"amount",label:"Calculated Amount",type:"number"}],defaultAggregateField:"amount"})]})}function dy({submissionId:e}){const[t,a]=O.useState(null),[r,n]=O.useState([]),[i,l]=O.useState([]),[d,c]=O.useState(new Set(["asf","rsf"])),[o,u]=O.useState(!1),[h,x]=O.useState(!1),[m,A]=O.useState(null),[p,b]=O.useState(!1),[f,g]=O.useState(null);O.useEffect(()=>{e&&v()},[e]);const v=async()=>{u(!0);const{data:L}=await X.from("nsfr_calculation_validations").select("*").eq("submission_id",e).order("validation_timestamp",{ascending:!1}).limit(1).maybeSingle();if(L){a(L);const{data:k}=await X.from("nsfr_asf_components").select("*").eq("nsfr_validation_id",L.id).order("asf_category",{ascending:!0}),{data:F}=await X.from("nsfr_rsf_components").select("*").eq("nsfr_validation_id",L.id).order("rsf_category",{ascending:!0});n(k||[]),l(F||[])}else a(null),n([]),l([]);u(!1)},w=async L=>{if(!L)return;const{data:k}=await X.from("lcr_calculation_rules").select("*").eq("rule_code",L).maybeSingle();k&&(A(k),x(!0))},_=(L,k)=>{const F=k==="asf",j=L,T=L;g({componentType:k,componentName:F?j.asf_category:T.rsf_category,totalAmount:L.total_amount,calculatedAmount:F?j.calculated_asf:T.calculated_rsf,factor:F?j.asf_factor:T.rsf_factor,ruleCode:L.rule_code||null}),b(!0)},D=L=>{const k=new Set(d);k.has(L)?k.delete(L):k.add(L),c(k)},R=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(L),S=L=>L==null?"N/A":`${(L*100).toFixed(2)}%`;return o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Loading NSFR validation data..."})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg p-6 shadow-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total ASF"}),s.jsx("p",{className:"text-2xl font-bold",children:R(t.total_asf_calculated)}),s.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Available Stable Funding"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total RSF"}),s.jsx("p",{className:"text-2xl font-bold",children:R(t.total_rsf_calculated)}),s.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Required Stable Funding"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"NSFR Ratio"}),s.jsx("p",{className:"text-2xl font-bold",children:S(t.nsfr_ratio_calculated)}),s.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Current Ratio"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Regulatory Minimum"}),s.jsx("p",{className:"text-2xl font-bold",children:"100.00%"}),s.jsx("p",{className:"text-xs mt-1",children:t.nsfr_ratio_calculated>=1?" Compliant":" Non-Compliant"})]})]})}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>D("asf"),className:"w-full px-6 py-4 flex items-center justify-between bg-slate-50 hover:bg-slate-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ze,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Available Stable Funding (ASF)"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Stable funding sources"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-lg font-bold text-slate-900",children:R(t.total_asf_calculated)}),d.has("asf")?s.jsx(Vt,{className:"h-5 w-5 text-slate-400"}):s.jsx(as,{className:"h-5 w-5 text-slate-400"})]})]}),d.has("asf")&&r.length>0&&s.jsx("div",{className:"p-6 space-y-4",children:r.map(L=>s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:L.asf_category}),s.jsx("p",{className:"text-sm text-slate-600",children:L.product_type}),L.maturity_bucket&&s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Maturity: ",L.maturity_bucket]})]}),s.jsxs("div",{className:"flex gap-2",children:[L.rule_code&&s.jsxs("button",{onClick:()=>w(L.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[s.jsx(it,{className:"h-3 w-3"}),"View Rule"]}),s.jsxs("button",{onClick:()=>_(L,"asf"),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[s.jsx(Ve,{className:"h-3 w-3"}),"View Records"]})]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),s.jsx("p",{className:"font-semibold text-slate-900",children:R(L.total_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"ASF Factor"}),s.jsx("p",{className:"font-semibold text-slate-900",children:S(L.asf_factor)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Calculated ASF"}),s.jsx("p",{className:"font-semibold text-green-700",children:R(L.calculated_asf)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Record Count"}),s.jsx("p",{className:"text-xs font-mono text-slate-700",children:L.record_count||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Rule Code"}),s.jsx("p",{className:"text-xs font-mono text-slate-700",children:L.rule_code||"N/A"})]})]}),L.calculation_methodology&&s.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100",children:s.jsx("p",{className:"text-xs text-slate-500 italic",children:L.calculation_methodology})})]},L.id))}),d.has("asf")&&r.length===0&&s.jsxs("div",{className:"p-6 text-center text-slate-500",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-2 text-slate-300"}),s.jsx("p",{children:"No ASF components found for this validation"})]})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>D("rsf"),className:"w-full px-6 py-4 flex items-center justify-between bg-slate-50 hover:bg-slate-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(He,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Required Stable Funding (RSF)"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Assets requiring stable funding"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-lg font-bold text-slate-900",children:R(t.total_rsf_calculated)}),d.has("rsf")?s.jsx(Vt,{className:"h-5 w-5 text-slate-400"}):s.jsx(as,{className:"h-5 w-5 text-slate-400"})]})]}),d.has("rsf")&&i.length>0&&s.jsx("div",{className:"p-6 space-y-4",children:i.map(L=>s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:L.rsf_category}),s.jsx("p",{className:"text-sm text-slate-600",children:L.product_type}),L.asset_class&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:L.asset_class})]}),s.jsxs("div",{className:"flex gap-2",children:[L.rule_code&&s.jsxs("button",{onClick:()=>w(L.rule_code||""),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[s.jsx(it,{className:"h-3 w-3"}),"View Rule"]}),s.jsxs("button",{onClick:()=>_(L,"rsf"),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 whitespace-nowrap",children:[s.jsx(Ve,{className:"h-3 w-3"}),"View Records"]})]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Total Amount"}),s.jsx("p",{className:"font-semibold text-slate-900",children:R(L.total_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"RSF Factor"}),s.jsx("p",{className:"font-semibold text-slate-900",children:S(L.rsf_factor)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Calculated RSF"}),s.jsx("p",{className:"font-semibold text-orange-700",children:R(L.calculated_rsf)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Record Count"}),s.jsx("p",{className:"text-xs font-mono text-slate-700",children:L.record_count||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Rule Code"}),s.jsx("p",{className:"text-xs font-mono text-slate-700",children:L.rule_code||"N/A"})]})]}),L.calculation_methodology&&s.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100",children:s.jsx("p",{className:"text-xs text-slate-500 italic",children:L.calculation_methodology})})]},L.id))}),d.has("rsf")&&i.length===0&&s.jsxs("div",{className:"p-6 text-center text-slate-500",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-2 text-slate-300"}),s.jsx("p",{children:"No RSF components found for this validation"})]})]}),h&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ve,{className:"h-5 w-5"}),s.jsx("h3",{className:"font-semibold",children:m.rule_name})]}),s.jsx("button",{onClick:()=>x(!1),className:"text-white hover:text-green-100 text-2xl leading-none",children:""})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Rule Code"}),s.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-2 py-1 rounded",children:m.rule_code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"FR 2052a / Basel Reference"}),s.jsx("p",{className:"text-slate-900",children:m.fr2052a_appendix_reference})]}),m.regulatory_citation&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Regulatory Citation"}),s.jsx("p",{className:"text-slate-900",children:m.regulatory_citation})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Description"}),s.jsx("p",{className:"text-slate-900",children:m.rule_description})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Calculation Formula"}),s.jsx("p",{className:"text-slate-900 font-mono text-sm bg-slate-100 px-3 py-2 rounded",children:m.calculation_formula})]}),m.factor_applied!==null&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Factor Applied"}),s.jsx("p",{className:"text-slate-900 text-lg font-bold",children:S(m.factor_applied)})]}),m.examples&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Examples"}),s.jsx("p",{className:"text-slate-900 text-sm",children:m.examples})]})]}),s.jsx("div",{className:"bg-slate-50 px-6 py-4 flex justify-end",children:s.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Close"})})]})}),p&&f&&t&&s.jsx(wp,{isOpen:p,onClose:()=>b(!1),componentType:f.componentType,componentName:f.componentName,submissionId:e,reportDate:t.report_date,totalAmount:f.totalAmount,calculatedAmount:f.calculatedAmount,factor:f.factor,ruleCode:f.ruleCode})]}):s.jsxs("div",{className:"text-center py-12 bg-white border border-slate-200 rounded-lg",children:[s.jsx(At,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No NSFR Validation Found"}),s.jsx("p",{className:"text-slate-600",children:"This submission has not been validated yet"})]})}function uy({submissionId:e}){const[t,a]=O.useState([]),[r,n]=O.useState(!0),[i,l]=O.useState(null);O.useEffect(()=>{d()},[e]);const d=async()=>{n(!0),a([]);const{data:A}=await X.from("fr2052a_validation_executions").select("*").eq("submission_id",e).order("execution_timestamp",{ascending:!1});a(A||[]),n(!1)},c=A=>A.rows_failed===0?s.jsx(oe,{className:"h-5 w-5 text-green-600"}):A.rows_failed>0&&A.rows_passed>0?s.jsx(Le,{className:"h-5 w-5 text-yellow-600"}):s.jsx(et,{className:"h-5 w-5 text-red-600"}),o=A=>A.total_rows_checked===0?0:A.rows_passed/A.total_rows_checked*100,u=()=>{const A={};return t.forEach(p=>{A[p.rule_category]||(A[p.rule_category]={total:0,passed:0,failed:0}),A[p.rule_category].total++,p.rows_failed===0?A[p.rule_category].passed++:A[p.rule_category].failed++}),A},h=i?t.filter(A=>A.rule_category===i):t,x=u(),m=Object.keys(x);return r?s.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading validation executions..."}):t.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(Le,{className:"h-16 w-16 text-orange-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Validation Not Yet Performed"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"FR2052a data validation has not been executed for this submission."}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left max-w-md mx-auto",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"To execute data validation:"}),s.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["Go to the ",s.jsx("span",{className:"font-semibold",children:"Submissions"})," tab"]}),s.jsx("li",{children:"Find this submission in the table"}),s.jsxs("li",{children:["Click the ",s.jsx("span",{className:"font-semibold",children:"Execute Validations"})," button"]}),s.jsx("li",{children:"Wait for validation to complete (~2-3 seconds)"}),s.jsx("li",{children:"Return here to view validation rule execution results"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Rules Executed"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t.length})]}),s.jsx(He,{className:"h-10 w-10 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Rules Passed"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:t.filter(A=>A.rows_failed===0).length})]}),s.jsx(oe,{className:"h-10 w-10 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Rules with Errors"}),s.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:t.filter(A=>A.rows_failed>0).length})]}),s.jsx(et,{className:"h-10 w-10 text-red-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Avg Execution Time"}),s.jsxs("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:[Math.round(t.reduce((A,p)=>A+p.execution_time_ms,0)/t.length),"ms"]})]}),s.jsx(Ss,{className:"h-10 w-10 text-slate-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Filter by Category"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>l(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===null?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["All Categories (",t.length,")"]}),m.map(A=>s.jsxs("button",{onClick:()=>l(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===A?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[A.replace(/_/g," ")," (",x[A].total,")"]},A))]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Validation Rule Executions",i&&` - ${i.replace(/_/g," ")}`]})}),s.jsx("div",{className:"divide-y divide-slate-200",children:h.map(A=>s.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c(A),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900 mb-1",children:A.rule_name}),s.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Category: ",s.jsx("span",{className:"font-medium",children:A.rule_category.replace(/_/g," ")})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-600",children:"Total Rows Checked"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:A.total_rows_checked.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-600",children:"Rows Passed"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:A.rows_passed.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-600",children:"Rows Failed"}),s.jsx("p",{className:"text-lg font-semibold text-red-600",children:A.rows_failed.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-600",children:"Pass Rate"}),s.jsxs("p",{className:`text-lg font-semibold ${o(A)===100?"text-green-600":o(A)>=95?"text-yellow-600":"text-red-600"}`,children:[o(A).toFixed(1),"%"]})]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-2",children:s.jsx("div",{className:`h-2 rounded-full ${o(A)===100?"bg-green-600":o(A)>=95?"bg-yellow-500":"bg-red-600"}`,style:{width:`${o(A)}%`}})}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ss,{className:"h-3 w-3"}),"Execution Time: ",A.execution_time_ms,"ms"]}),s.jsxs("span",{children:["Executed: ",new Date(A.execution_timestamp).toLocaleString()]})]}),A.notes&&s.jsx("div",{className:"mt-3 bg-blue-50 border border-blue-200 rounded p-2",children:s.jsx("p",{className:"text-xs text-blue-900",children:A.notes})})]})]})})},A.id))})]})]})}function hy(){const[e,t]=O.useState([]),[a,r]=O.useState([]),[n,i]=O.useState(null),[l,d]=O.useState([]),[c,o]=O.useState(!0),[u,h]=O.useState("overview"),[x,m]=O.useState(!1),[A,p]=O.useState(!1),[b,f]=O.useState(""),[g,v]=O.useState(null),[w,_]=O.useState({fileName:!0,entity:!0,period:!0,status:!0,rows:!0,errors:!0,timestamp:!1,type:!1});O.useEffect(()=>{D()},[]);const D=async()=>{o(!0);const{data:C}=await X.from("fr2052a_validation_rules").select("*").order("rule_category",{ascending:!0}),{data:z}=await X.from("fr2052a_submissions").select("*").order("created_at",{ascending:!1}).limit(10),{data:B}=await X.from("legal_entities").select("id, entity_code, entity_name").is("user_id",null),V=new Map((B==null?void 0:B.map(P=>[P.id,P]))||[]);if(C&&t(C),z){const U=[...new Set(z.map(ue=>ue.reporting_period))].map(async ue=>{const{count:pe}=await X.from("fr2052a_data_rows").select("*",{count:"exact",head:!0}).eq("report_date",ue).is("user_id",null);return{period:ue,count:pe||0}}),ee=await Promise.all(U),se=new Map(ee.map(ue=>[ue.period,ue.count])),K=z.map(ue=>ue.id),{data:re}=await X.from("fr2052a_validation_errors").select("submission_id").in("submission_id",K),Ne=new Map;re==null||re.forEach(ue=>{const pe=Ne.get(ue.submission_id)||0;Ne.set(ue.submission_id,pe+1)});const ge=z.map(async ue=>{var G,M,E;const[pe,N,W]=await Promise.all([X.from("fr2052a_validation_executions").select("id").eq("submission_id",ue.id).limit(1),X.from("lcr_calculation_validations").select("id").eq("submission_id",ue.id).limit(1),X.from("nsfr_calculation_validations").select("id").eq("submission_id",ue.id).limit(1)]);return{submissionId:ue.id,data_validation_executed:(((G=pe.data)==null?void 0:G.length)||0)>0,lcr_validation_executed:(((M=N.data)==null?void 0:M.length)||0)>0,nsfr_validation_executed:(((E=W.data)==null?void 0:E.length)||0)>0}}),be=await Promise.all(ge),Ee=new Map(be.map(ue=>[ue.submissionId,ue])),xe=z.map(ue=>{const pe=se.get(ue.reporting_period)||0,N=Ne.get(ue.id)||0,W=Ee.get(ue.id),G=V.get(ue.legal_entity_id),M=G?G.entity_code:ue.legal_entity_id==="all_entities"?"All Entities":ue.legal_entity_id,E=G?`FR2052a_${ue.reporting_period}_${G.entity_code}`:`FR2052a_${ue.reporting_period}`;return{id:ue.id,file_name:E,upload_timestamp:ue.created_at,reporting_entity:M,reporting_period:ue.reporting_period,submission_status:ue.submission_status,total_rows:pe,valid_rows:pe-N,error_rows:N,data_validation_executed:(W==null?void 0:W.data_validation_executed)||!1,lcr_validation_executed:(W==null?void 0:W.lcr_validation_executed)||!1,nsfr_validation_executed:(W==null?void 0:W.nsfr_validation_executed)||!1}});r(xe)}o(!1)},R=async()=>{o(!0),await kd(),await D(),m(!0)},S=async C=>{p(!0),v(C),f("Initializing validation execution...");try{const{executeValidationsForSubmission:z}=await Cs(async()=>{const{executeValidationsForSubmission:P}=await import("./executeValidations-Oxe33HT5.js");return{executeValidationsForSubmission:P}},[]);f("[1/3] Executing FR2052a data validation..."),await new Promise(P=>setTimeout(P,100));const B=await z(C);f("[3/3] Validation complete!"),await new Promise(P=>setTimeout(P,500)),await D();const V=`Validation Execution Complete!

FR2052a Data: ${B.steps.dataValidation.passed?" PASSED":" FAILED"}
  - Total Rows: ${B.steps.dataValidation.totalRows}
  - Valid Rows: ${B.steps.dataValidation.validRows}
  - Error Rows: ${B.steps.dataValidation.errorRows}

LCR Validation: ${B.steps.lcrValidation.executed?B.steps.lcrValidation.passed?" PASSED":" FAILED":"- N/A"}
`+(B.steps.lcrValidation.executed?`  - LCR Ratio: ${(B.steps.lcrValidation.ratio*100).toFixed(2)}%
`:"")+`
NSFR Validation: ${B.steps.nsfrValidation.executed?B.steps.nsfrValidation.passed?" PASSED":" FAILED":"- N/A"}
`+(B.steps.nsfrValidation.executed?`  - NSFR Ratio: ${(B.steps.nsfrValidation.ratio*100).toFixed(2)}%
`:"");alert(V)}catch(z){console.error("Validation execution failed:",z),alert(`Validation execution failed: ${z instanceof Error?z.message:"Unknown error"}

Check console for details.`)}finally{p(!1),v(null),f("")}},L=async C=>{const{data:z}=await X.from("fr2052a_validation_errors").select("*").eq("submission_id",C).order("created_at",{ascending:!1});z&&d(z)},k=()=>e.reduce((z,B)=>(z[B.rule_category]=(z[B.rule_category]||0)+1,z),{}),F=()=>{const C=a.length,z=a.filter(P=>P.submission_status==="validated").length,B=a.filter(P=>P.submission_status==="rejected").length,V=a.filter(P=>P.submission_status==="pending").length;return{total:C,validated:z,rejected:B,pending:V}},j={schema_validation:"bg-blue-100 text-blue-800",enumeration:"bg-purple-100 text-purple-800",legal_entity:"bg-green-100 text-green-800",internal_transaction:"bg-yellow-100 text-yellow-800",field_dependency:"bg-orange-100 text-orange-800",cross_field:"bg-red-100 text-red-800",duplicate:"bg-pink-100 text-pink-800",data_type:"bg-indigo-100 text-indigo-800",product_hierarchy:"bg-teal-100 text-teal-800",submission_frequency:"bg-cyan-100 text-cyan-800"},T=()=>{const C=k(),z=F();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Rules"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:e.length})]}),s.jsx(Oe,{className:"h-10 w-10 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Submissions"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:z.total})]}),s.jsx(Ve,{className:"h-10 w-10 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Validated"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:z.validated})]}),s.jsx(oe,{className:"h-10 w-10 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Rejected"}),s.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:z.rejected})]}),s.jsx(et,{className:"h-10 w-10 text-red-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Validation Rule Categories"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(C).map(([B,V])=>s.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:V}),s.jsx("p",{className:"text-xs text-slate-600 mt-1 capitalize",children:B.replace(/_/g," ")})]},B))})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Le,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"FR 2052a Validation System"}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"This system implements the 10 core validation checks required for FR 2052a regulatory reporting compliance:"}),s.jsxs("ul",{className:"text-sm text-slate-700 space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Schema Validation:"})," XML/XSD conformance checks"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Enumeration Validation:"})," Field value against allowed lists"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Legal Entity Integrity:"})," RSSD/LEI validation and consolidation"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Internal Transaction Symmetry:"})," Counterparty matching and flow verification"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:s.jsx("strong",{children:"And 6 additional validation categories..."})})]})]})]})]})}),!x&&e.length===0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(Oe,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Initialize Validation Data"}),s.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Load the initial validation rules, enumerations, and entity mappings to get started."}),s.jsx("button",{onClick:R,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Seed Validation Data"})]})]})},y=()=>{const C=e.reduce((z,B)=>(z[B.rule_category]||(z[B.rule_category]=[]),z[B.rule_category].push(B),z),{});return s.jsx("div",{className:"space-y-6",children:Object.entries(C).map(([z,B])=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 capitalize",children:[z.replace(/_/g," ")," (",B.length," rules)"]})}),s.jsx("div",{className:"divide-y divide-slate-200",children:B.map(V=>s.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:V.rule_name}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${j[V.rule_category]||"bg-slate-100 text-slate-800"}`,children:V.rule_category.replace(/_/g," ")})]}),V.field_name&&s.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[s.jsx("span",{className:"font-medium",children:"Field:"})," ",V.field_name]}),s.jsx("p",{className:"text-sm text-slate-700",children:V.validation_logic})]},V.id))})]},z))})},I=()=>a.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(yv,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submissions Yet"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Upload FR 2052a files to begin validation"})]}):s.jsxs("div",{className:"space-y-4",children:[n&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ve,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["Currently Viewing: ",n.file_name]}),s.jsxs("p",{className:"text-xs text-slate-600",children:["Period: ",new Date(n.reporting_period).toLocaleDateString(),"  Status: ",n.submission_status," ",n.error_rows," errors"]})]})]}),s.jsx("button",{onClick:()=>i(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear Selection"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Submissions (",a.length,")"]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>{const C=document.getElementById("column-dropdown");C&&C.classList.toggle("hidden")},className:"flex items-center gap-2 px-3 py-2 text-sm bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[s.jsx(Sd,{className:"h-4 w-4"}),"Columns"]}),s.jsxs("div",{id:"column-dropdown",className:"hidden absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-200 z-10",children:[s.jsx("div",{className:"p-3 border-b border-slate-200",children:s.jsx("p",{className:"text-xs font-semibold text-slate-700 uppercase",children:"Show/Hide Columns"})}),s.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:[{key:"fileName",label:"File Name"},{key:"entity",label:"Entity"},{key:"period",label:"Period"},{key:"status",label:"Status"},{key:"rows",label:"Total Rows"},{key:"errors",label:"Errors"},{key:"timestamp",label:"Upload Time"},{key:"type",label:"Submission Type"}].map(({key:C,label:z})=>s.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 hover:bg-slate-50 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w[C],onChange:B=>_({...w,[C]:B.target.checked}),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-slate-700",children:z})]},C))})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 z-10 bg-slate-50 px-3 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider w-32",children:"Quick Actions"}),w.fileName&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[200px]",children:"File Name"}),w.entity&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[150px]",children:"Entity"}),w.period&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[120px]",children:"Period"}),w.status&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[120px]",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[280px]",children:"Validation Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[140px]",children:"Actions"}),w.rows&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[100px]",children:"Total Rows"}),w.errors&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[100px]",children:"Errors"}),w.timestamp&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[150px]",children:"Upload Time"}),w.type&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider min-w-[150px]",children:"Type"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:a.map(C=>s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${(n==null?void 0:n.id)===C.id?"bg-blue-50":""}`,children:[s.jsx("td",{className:"sticky left-0 z-10 bg-white px-3 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>{i(C),h("executions")},title:"View Rule Executions",className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:s.jsx(oe,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>{i(C),L(C.id),h("errors")},title:"View Errors",className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",children:s.jsx(et,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>{i(C),h("lcr")},title:"View LCR Validation",className:"p-1.5 text-green-600 hover:bg-green-50 rounded transition-colors",children:s.jsx(Zr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>{i(C),h("nsfr")},title:"View NSFR Validation",className:"p-1.5 text-orange-600 hover:bg-orange-50 rounded transition-colors",children:s.jsx($e,{className:"h-4 w-4"})})]})}),w.fileName&&s.jsx("td",{className:"px-4 py-4 text-sm font-medium text-slate-900",children:s.jsx("div",{className:"max-w-[200px] truncate",title:C.file_name,children:C.file_name})}),w.entity&&s.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:s.jsx("div",{className:"max-w-[150px] truncate",title:C.reporting_entity,children:C.reporting_entity})}),w.period&&s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(C.reporting_period).toLocaleDateString()}),w.status&&s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.submission_status==="validated"?"bg-green-100 text-green-800":C.submission_status==="rejected"?"bg-red-100 text-red-800":C.submission_status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:C.submission_status})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-medium text-slate-600 w-16",children:"Data:"}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${C.data_validation_executed?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:C.data_validation_executed?" Executed":" Not Executed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-medium text-slate-600 w-16",children:"LCR:"}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${C.lcr_validation_executed?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:C.lcr_validation_executed?" Executed":" Not Executed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-medium text-slate-600 w-16",children:"NSFR:"}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${C.nsfr_validation_executed?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:C.nsfr_validation_executed?" Executed":" Not Executed"})]})]})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx("button",{onClick:()=>S(C.id),disabled:A&&g===C.id,className:`px-3 py-2 text-xs font-medium rounded-lg transition-colors ${A&&g===C.id?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:A&&g===C.id?"Executing...":C.data_validation_executed&&C.lcr_validation_executed&&C.nsfr_validation_executed?"Re-Execute":"Execute Validations"})}),w.rows&&s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:C.total_rows.toLocaleString()}),w.errors&&s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:C.error_rows>0?"text-red-600 font-semibold":"text-slate-600",children:C.error_rows.toLocaleString()})}),w.timestamp&&s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(C.upload_timestamp).toLocaleString()}),w.type&&s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600",children:s.jsx("span",{className:"px-2 py-1 text-xs bg-slate-100 text-slate-700 rounded",children:"System Generated"})})]},C.id))})]})})]})]}),$=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Error Details"}),s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),s.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:C=>{const z=a.find(B=>B.id===C.target.value);z&&(i(z),L(z.id))},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Choose a submission..."}),a.map(C=>s.jsxs("option",{value:C.id,children:[C.file_name," - ",new Date(C.reporting_period).toLocaleDateString()]},C.id))]})]})]}),n?s.jsxs(s.Fragment,{children:[s.jsx("h4",{className:"text-base font-medium text-slate-900 mb-4",children:n.file_name}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Rows"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.total_rows})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Valid Rows"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.valid_rows})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Error Rows"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.error_rows})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Error Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(n.error_rows/n.total_rows*100).toFixed(1),"%"]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Le,{className:"h-12 w-12 text-slate-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Select a submission to view validation errors"})]})]}),n&&l.length>0?s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"divide-y divide-slate-200",children:l.map(C=>s.jsx("div",{className:"p-6 hover:bg-slate-50",children:s.jsxs("div",{className:"flex items-start gap-4",children:[C.severity==="critical"?s.jsx(et,{className:"h-6 w-6 text-red-600 flex-shrink-0"}):s.jsx(Le,{className:"h-6 w-6 text-yellow-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:C.error_type.replace(/_/g," ")}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.severity==="critical"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:C.severity})]}),s.jsx("p",{className:"text-sm text-slate-700 mb-2",children:C.error_message}),C.field_name&&s.jsxs("p",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Field:"})," ",C.field_name]})]})]})},C.id))})}):n?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(oe,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Errors Found"}),s.jsx("p",{className:"text-sm text-slate-600",children:"This submission passed all validation checks"})]}):null]});return c?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-slate-600",children:"Loading validation system..."})}):s.jsxs("div",{children:[A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-t-transparent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:"Executing Validations"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:b})]})]}),s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${b.includes("[1/3]")?"bg-blue-600 animate-pulse":b.includes("[2/3]")||b.includes("[3/3]")?"bg-green-600":"bg-slate-300"}`}),s.jsx("span",{className:b.includes("[1/3]")?"text-blue-600 font-medium":b.includes("[2/3]")||b.includes("[3/3]")?"text-green-600":"text-slate-500",children:"FR2052a Data Validation"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${b.includes("[2/3]")?"bg-blue-600 animate-pulse":b.includes("[3/3]")?"bg-green-600":"bg-slate-300"}`}),s.jsx("span",{className:b.includes("[2/3]")?"text-blue-600 font-medium":b.includes("[3/3]")?"text-green-600":"text-slate-500",children:"LCR Calculation Validation"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${b.includes("[3/3]")?"bg-blue-600 animate-pulse":"bg-slate-300"}`}),s.jsx("span",{className:b.includes("[3/3]")?"text-blue-600 font-medium":"text-slate-500",children:"NSFR Calculation Validation"})]})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"FR 2052a Validation System"}),s.jsx("p",{className:"text-slate-600",children:"Comprehensive data quality and compliance validation for regulatory reporting"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"flex gap-2 border-b border-slate-200",children:[{key:"overview",label:"Overview",icon:He},{key:"rules",label:"Validation Rules",icon:Oe},{key:"submissions",label:"Submissions",icon:Ve},{key:"errors",label:"Error Details",icon:Le},{key:"executions",label:"Rule Executions",icon:oe},{key:"lcr",label:"LCR Validation",icon:Zr},{key:"nsfr",label:"NSFR Validation",icon:$e}].map(({key:C,label:z,icon:B})=>s.jsxs("button",{onClick:()=>h(C),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${u===C?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300"}`,children:[s.jsx(B,{className:"h-4 w-4"}),z]},C))})}),u==="overview"&&T(),u==="rules"&&y(),u==="submissions"&&I(),u==="errors"&&$(),u==="lcr"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"LCR Calculation Validation"}),n&&s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Submission: ",n.file_name,"  Period: ",new Date(n.reporting_period).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),s.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:C=>{const z=a.find(B=>B.id===C.target.value);z&&i(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Choose a submission..."}),a.map(C=>s.jsxs("option",{value:C.id,children:[C.file_name," - ",new Date(C.reporting_period).toLocaleDateString()]},C.id))]})]}),s.jsx("button",{onClick:()=>h("submissions"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-5",children:" Back"})]})]})}),n?s.jsx(cy,{submissionId:n.id}):s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(Zr,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submission Selected"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Use the dropdown above to select a submission to view LCR calculation validation details."})]})]}),u==="nsfr"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"NSFR Calculation Validation"}),n&&s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Submission: ",n.file_name,"  Period: ",new Date(n.reporting_period).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),s.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:C=>{const z=a.find(B=>B.id===C.target.value);z&&i(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Choose a submission..."}),a.map(C=>s.jsxs("option",{value:C.id,children:[C.file_name," - ",new Date(C.reporting_period).toLocaleDateString()]},C.id))]})]}),s.jsx("button",{onClick:()=>h("submissions"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-5",children:" Back"})]})]})}),n?s.jsx(dy,{submissionId:n.id}):s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx($e,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submission Selected"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Use the dropdown above to select a submission to view NSFR calculation validation details."})]})]}),u==="executions"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Rule Executions"}),n&&s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Submission: ",n.file_name,"  Period: ",new Date(n.reporting_period).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Select Submission"}),s.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:C=>{const z=a.find(B=>B.id===C.target.value);z&&i(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Choose a submission..."}),a.map(C=>s.jsxs("option",{value:C.id,children:[C.file_name," - ",new Date(C.reporting_period).toLocaleDateString()]},C.id))]})]}),s.jsx("button",{onClick:()=>h("submissions"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-5",children:" Back"})]})]})}),n?s.jsx(uy,{submissionId:n.id}):s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(oe,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Submission Selected"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Use the dropdown above to select a submission to view rule execution details."}),s.jsxs("p",{className:"text-sm text-slate-700 bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:[s.jsx("strong",{children:"Rule Executions"})," show which validation rules were applied to each submission, how many rows were checked, passed, and failed for each rule, and the execution time."]})]})]})]})}async function my(){const e=[{rule_code:"HQLA_L1_CASH",rule_category:"HQLA_Level_1",rule_name:"Level 1 HQLA - Cash and Central Bank Reserves",fr2052a_appendix_reference:"Appendix VI, Section A.1",product_categories:["cash","central_bank_reserves"],counterparty_types:[],maturity_buckets:[],calculation_formula:"Total Amount  100% (no haircut, 100% liquidity value)",factor_applied:1,rule_description:"Cash, central bank reserves, and claims on central banks are Level 1 HQLA with no haircut and 100% liquidity value.",regulatory_citation:"12 CFR 249.20(a)",examples:"Cash in vault, reserve balances at Federal Reserve, demand deposits at central banks"},{rule_code:"HQLA_L1_SOVEREIGN",rule_category:"HQLA_Level_1",rule_name:"Level 1 HQLA - U.S. Treasury Securities",fr2052a_appendix_reference:"Appendix VI, Section A.2",product_categories:["securities"],counterparty_types:["government"],maturity_buckets:[],calculation_formula:"Total Amount  100% (no haircut, 100% liquidity value)",factor_applied:1,rule_description:"Marketable securities representing claims on or guaranteed by U.S. government, U.S. government agencies.",regulatory_citation:"12 CFR 249.20(a)(1)",examples:"U.S. Treasury bonds, bills, notes; GNMA securities"},{rule_code:"HQLA_L2A_GSE",rule_category:"HQLA_Level_2A",rule_name:"Level 2A HQLA - GSE Securities",fr2052a_appendix_reference:"Appendix VI, Section B.1",product_categories:["securities"],counterparty_types:["gse","government"],maturity_buckets:[],calculation_formula:"Total Amount  85% liquidity value (15% haircut)",factor_applied:.85,rule_description:"Marketable securities issued or guaranteed by U.S. GSEs (Fannie Mae, Freddie Mac). Subject to 15% haircut, resulting in 85% liquidity value.",regulatory_citation:"12 CFR 249.20(b)(1)",examples:"Fannie Mae MBS, Freddie Mac bonds, FHLB obligations"},{rule_code:"HQLA_L2A_SOVEREIGN",rule_category:"HQLA_Level_2A",rule_name:"Level 2A HQLA - Qualifying Sovereign Securities",fr2052a_appendix_reference:"Appendix VI, Section B.2",product_categories:["securities"],counterparty_types:["foreign_sovereign"],maturity_buckets:[],calculation_formula:"Total Amount  85% liquidity value (15% haircut)",factor_applied:.85,rule_description:"Marketable securities issued or guaranteed by qualifying sovereigns with 20% risk weight. Subject to 15% haircut.",regulatory_citation:"12 CFR 249.20(b)(2)",examples:"Investment-grade foreign government bonds (Canada, UK, Germany)"},{rule_code:"HQLA_L2B_CORPORATE",rule_category:"HQLA_Level_2B",rule_name:"Level 2B HQLA - Investment Grade Corporate Debt",fr2052a_appendix_reference:"Appendix VI, Section C.1",product_categories:["securities"],counterparty_types:["corporate"],maturity_buckets:[],calculation_formula:"Total Amount  50% liquidity value (50% haircut)",factor_applied:.5,rule_description:"Investment-grade corporate debt securities with AA- or better rating. Subject to 50% haircut, resulting in 50% liquidity value.",regulatory_citation:"12 CFR 249.20(c)(1)",examples:"AA-rated corporate bonds, highly-rated commercial paper"},{rule_code:"OUTFLOW_RETAIL_STABLE",rule_category:"Cash_Outflows_Retail",rule_name:"Retail Deposit Outflow - Stable Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.1.a",product_categories:["deposits"],counterparty_types:["retail"],maturity_buckets:[],calculation_formula:"Outstanding Balance  3% runoff rate",factor_applied:.03,rule_description:"Stable retail deposits (insured, established banking relationship) have 3% outflow rate.",regulatory_citation:"12 CFR 249.32(a)(1)",examples:"Insured checking accounts, insured savings accounts with established customers"},{rule_code:"OUTFLOW_RETAIL_LESS_STABLE",rule_category:"Cash_Outflows_Retail",rule_name:"Retail Deposit Outflow - Less Stable Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.1.b",product_categories:["deposits"],counterparty_types:["retail"],maturity_buckets:[],calculation_formula:"Outstanding Balance  10% runoff rate",factor_applied:.1,rule_description:"Less stable retail deposits (uninsured or brokered) have 10% outflow rate.",regulatory_citation:"12 CFR 249.32(a)(2)",examples:"Uninsured deposits, brokered deposits, deposits from new customers"},{rule_code:"OUTFLOW_WHOLESALE_UNSECURED_OPERATIONAL",rule_category:"Cash_Outflows_Wholesale",rule_name:"Wholesale Funding - Operational Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.2.a",product_categories:["deposits"],counterparty_types:["wholesale","financial_institution"],maturity_buckets:[],calculation_formula:"Outstanding Balance  25% runoff rate",factor_applied:.25,rule_description:"Operational deposits from non-financial wholesale customers have 25% outflow rate.",regulatory_citation:"12 CFR 249.32(b)(1)",examples:"Corporate operating accounts, clearing accounts, cash management services"},{rule_code:"OUTFLOW_WHOLESALE_UNSECURED_NONOPERATIONAL",rule_category:"Cash_Outflows_Wholesale",rule_name:"Wholesale Funding - Non-Operational Deposits",fr2052a_appendix_reference:"Appendix VI, Section D.2.b",product_categories:["deposits"],counterparty_types:["wholesale","financial_institution"],maturity_buckets:[],calculation_formula:"Outstanding Balance  40% runoff rate",factor_applied:.4,rule_description:"Non-operational wholesale deposits have 40% outflow rate.",regulatory_citation:"12 CFR 249.32(b)(2)",examples:"Wholesale time deposits, non-operating corporate deposits"},{rule_code:"OUTFLOW_WHOLESALE_UNSECURED_NONFINANCIAL_100",rule_category:"Cash_Outflows_Wholesale",rule_name:"Wholesale Funding - Unsecured from Financial Institutions",fr2052a_appendix_reference:"Appendix VI, Section D.2.c",product_categories:["deposits"],counterparty_types:["financial_institution"],maturity_buckets:[],calculation_formula:"Outstanding Balance  100% runoff rate",factor_applied:1,rule_description:"Unsecured wholesale funding from financial institutions has 100% outflow rate.",regulatory_citation:"12 CFR 249.32(b)(3)",examples:"Interbank deposits, funding from other banks, federal funds purchased"},{rule_code:"OUTFLOW_SECURED_FUNDING",rule_category:"Cash_Outflows_Secured",rule_name:"Secured Funding Transactions",fr2052a_appendix_reference:"Appendix VI, Section D.3",product_categories:["secured_funding","repo"],counterparty_types:[],maturity_buckets:["overnight","2-7days","8-30days"],calculation_formula:"Outstanding Balance - Collateral Value  (1 - HQLA Haircut)",factor_applied:null,rule_description:"Secured funding outflows based on maturity and collateral quality. HQLA collateral receives reduced outflow.",regulatory_citation:"12 CFR 249.32(c)",examples:"Repos, securities lending with Level 1 or Level 2 HQLA collateral"},{rule_code:"OUTFLOW_DERIVATIVES",rule_category:"Cash_Outflows_Derivatives",rule_name:"Derivative Collateral Outflows",fr2052a_appendix_reference:"Appendix VI, Section D.4",product_categories:["derivatives"],counterparty_types:[],maturity_buckets:[],calculation_formula:"Projected collateral outflow based on adverse market movements",factor_applied:null,rule_description:"Additional collateral that would be required for derivative positions under adverse market scenarios.",regulatory_citation:"12 CFR 249.32(d)",examples:"Variation margin on interest rate swaps, FX forwards, credit derivatives"},{rule_code:"OUTFLOW_CREDIT_LIQUIDITY_FACILITIES",rule_category:"Cash_Outflows_Contingent",rule_name:"Credit and Liquidity Facility Drawdowns",fr2052a_appendix_reference:"Appendix VI, Section D.5",product_categories:["credit_facilities","liquidity_facilities"],counterparty_types:[],maturity_buckets:[],calculation_formula:"Committed Amount  5% drawdown rate (or higher for certain facilities)",factor_applied:.05,rule_description:"Contingent funding obligations from committed credit and liquidity facilities.",regulatory_citation:"12 CFR 249.32(e)",examples:"Undrawn credit lines, standby letters of credit, liquidity facilities to SPVs"},{rule_code:"INFLOW_LOANS_MATURING",rule_category:"Cash_Inflows_Contractual",rule_name:"Maturing Loans and Securities",fr2052a_appendix_reference:"Appendix VI, Section E.1",product_categories:["loans","securities"],counterparty_types:[],maturity_buckets:["overnight","2-7days","8-30days"],calculation_formula:"Contractual Cash Inflow  50% inflow rate",factor_applied:.5,rule_description:"Loans and securities maturing within 30 days receive 50% inflow recognition (except reverse repos with central banks).",regulatory_citation:"12 CFR 249.33(b)",examples:"Maturing consumer loans, corporate loans, bonds maturing in 30 days"},{rule_code:"INFLOW_REVERSE_REPO_CENTRAL_BANK",rule_category:"Cash_Inflows_Contractual",rule_name:"Reverse Repos with Central Banks",fr2052a_appendix_reference:"Appendix VI, Section E.2",product_categories:["reverse_repo"],counterparty_types:["central_bank"],maturity_buckets:["overnight","2-7days","8-30days"],calculation_formula:"Contractual Cash Inflow  100% inflow rate",factor_applied:1,rule_description:"Reverse repos with central banks receive 100% inflow recognition.",regulatory_citation:"12 CFR 249.33(a)",examples:"Reverse repos with Federal Reserve"},{rule_code:"INFLOW_CAP_75PCT",rule_category:"Cash_Inflows_Cap",rule_name:"Inflow Cap at 75% of Outflows",fr2052a_appendix_reference:"Appendix VI, Section E.3",product_categories:[],counterparty_types:[],maturity_buckets:[],calculation_formula:"Min(Total Inflows, Total Outflows  75%)",factor_applied:.75,rule_description:"Total cash inflows are capped at 75% of total cash outflows to ensure minimum net cash outflow.",regulatory_citation:"12 CFR 249.30(c)",examples:"If outflows = $100M, inflows capped at $75M"}];console.log("Seeding LCR calculation rules...");for(const t of e){const{error:a}=await X.from("lcr_calculation_rules").upsert(t,{onConflict:"rule_code"});a?console.error(`Error seeding rule ${t.rule_code}:`,a):console.log(` Seeded rule: ${t.rule_code}`)}console.log("LCR calculation rules seeding complete!")}function fy({steps:e,title:t}){const a=i=>{switch(i){case"completed":return s.jsx(oe,{className:"w-6 h-6 text-green-600"});case"in_progress":return s.jsx(Hi,{className:"w-6 h-6 text-blue-600 animate-spin"});case"error":return s.jsx(et,{className:"w-6 h-6 text-red-600"});case"warning":return s.jsx(Le,{className:"w-6 h-6 text-amber-600"});default:return s.jsx(uh,{className:"w-6 h-6 text-gray-300"})}},r=i=>{switch(i){case"completed":return"border-green-600 bg-green-50";case"in_progress":return"border-blue-600 bg-blue-50";case"error":return"border-red-600 bg-red-50";case"warning":return"border-amber-600 bg-amber-50";default:return"border-gray-300 bg-white"}},n=(i,l)=>i==="completed"?"bg-green-600":i==="in_progress"?"bg-blue-600":i==="error"?"bg-red-600":"bg-gray-300";return s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:t}),s.jsx("div",{className:"space-y-1",children:e.map((i,l)=>{var d;return s.jsxs("div",{children:[s.jsxs("div",{className:`relative flex items-start gap-4 p-4 border-2 rounded-lg transition-all ${r(i.status)}`,children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a(i.status)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-medium text-gray-900",children:["Step ",l+1,": ",i.label]}),i.message&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.message}),i.details&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono bg-gray-100 p-2 rounded",children:i.details})]}),i.duration!==void 0&&s.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[i.duration,"ms"]})]})})]}),l<e.length-1&&s.jsx("div",{className:"flex justify-start ml-[29px]",children:s.jsx("div",{className:`w-0.5 h-3 transition-colors ${n(i.status,(d=e[l+1])==null?void 0:d.status)}`})})]},i.id)})}),s.jsxs("div",{className:"mt-6 flex items-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uh,{className:"w-4 h-4 text-gray-300"}),s.jsx("span",{className:"text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-gray-600",children:"In Progress"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-600",children:"Completed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-gray-600",children:"Warning"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-gray-600",children:"Error"})]})]})]})}function py(){const[e,t]=O.useState(!1),[a,r]=O.useState([]),[n,i]=O.useState(null),[l,d]=O.useState(!1),[c,o]=O.useState([]),[u,h]=O.useState(!1),x=async()=>{const v=[],{count:w}=await X.from("fr2052a_data_rows").select("*",{count:"exact",head:!0});v.push({category:"FR 2052a Data Rows",expected:6e3,actual:w||0,passed:(w||0)>=1e3,message:w&&w>=1e3?` Generated ${w.toLocaleString()} line items`:` Expected at least 1,000 rows, found ${w||0}`});const{count:_}=await X.from("lcr_metrics").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"FR2052a-Dependent LCR",expected:12,actual:_||0,passed:(_||0)>=6,message:_&&_>=6?` Generated ${_} FR2052a-dependent LCR calculations`:` Expected at least 6 calculations, found ${_||0}`});const{count:D}=await X.from("nsfr_metrics").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"FR2052a-Dependent NSFR",expected:12,actual:D||0,passed:(D||0)>=6,message:D&&D>=6?` Generated ${D} FR2052a-dependent NSFR calculations`:` Expected at least 6 calculations, found ${D||0}`});const{count:R}=await X.from("legal_entities").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"Legal Entities",expected:2,actual:R||0,passed:(R||0)>=1,message:R&&R>=1?` Found ${R} legal entities`:` Expected at least 1 entity, found ${R||0}`});const{count:S}=await X.from("balance_sheet_metrics").select("*",{count:"exact",head:!0}).is("user_id",null);v.push({category:"Balance Sheet Data",expected:100,actual:S||0,passed:(S||0)>=10,message:S&&S>=10?` Generated ${S} balance sheet records`:` Expected at least 10 records, found ${S||0}`});const{data:L}=await X.from("lcr_metrics").select("lcr_ratio").is("user_id",null).order("report_date",{ascending:!1}).limit(1).maybeSingle();v.push({category:"FR2052a LCR Ratio",expected:1,actual:L!=null&&L.lcr_ratio?1:0,passed:(L==null?void 0:L.lcr_ratio)!==null&&(L==null?void 0:L.lcr_ratio)!==void 0,message:L!=null&&L.lcr_ratio?` Latest FR2052a LCR ratio: ${(L.lcr_ratio*100).toFixed(2)}%`:" FR2052a LCR ratio not calculated"});const{data:k}=await X.from("nsfr_metrics").select("nsfr_ratio").is("user_id",null).order("report_date",{ascending:!1}).limit(1).maybeSingle();return v.push({category:"FR2052a NSFR Ratio",expected:1,actual:k!=null&&k.nsfr_ratio?1:0,passed:(k==null?void 0:k.nsfr_ratio)!==null&&(k==null?void 0:k.nsfr_ratio)!==void 0,message:k!=null&&k.nsfr_ratio?` Latest FR2052a NSFR ratio: ${(k.nsfr_ratio*100).toFixed(2)}%`:" FR2052a NSFR ratio not calculated"}),v},m=(v,w)=>{o(_=>_.map(D=>D.id===v?{...D,...w}:D))},A=async()=>{var w,_,D,R,S,L,k,F,j;t(!0),d(!1),r([]),h(!0),o([{id:"init",label:"Initialize data generation",status:"pending"},{id:"clear-existing",label:"Clear existing data from tables",status:"pending"},{id:"seed-calc-rules",label:"Seed LCR/NSFR calculation rules",status:"pending"},{id:"create-entities",label:"Create legal entity structure",status:"pending"},{id:"seed-quality",label:"Seed data quality metadata",status:"pending"},{id:"seed-lcr",label:"Generate LCR metrics",status:"pending"},{id:"seed-nsfr",label:"Generate NSFR metrics",status:"pending"},{id:"seed-balance-sheet",label:"Generate balance sheet metrics",status:"pending"},{id:"seed-stress-tests",label:"Generate stress test scenarios",status:"pending"},{id:"seed-resolution",label:"Generate resolution planning metrics",status:"pending"},{id:"verify-base",label:"Verify base regulatory data",status:"pending"},{id:"fetch-entities",label:"Fetch legal entities for FR 2052a",status:"pending"},{id:"generate-fr2052a",label:"Generate FR 2052a data rows",status:"pending"},{id:"insert-fr2052a",label:"Insert FR 2052a data into database",status:"pending"},{id:"calculate-lcr",label:"Calculate LCR from FR 2052a data",status:"pending"},{id:"calculate-nsfr",label:"Calculate NSFR from FR 2052a data",status:"pending"},{id:"verify-fr2052a",label:"Verify FR 2052a data in database",status:"pending"},{id:"seed-accounts",label:"Generate account data",status:"pending"},{id:"seed-transactions",label:"Generate transaction history",status:"pending"},{id:"validate-all",label:"Run comprehensive validation",status:"pending"},{id:"complete",label:"Data generation complete",status:"pending"}]);try{const T=Date.now();m("init",{status:"in_progress"}),await new Promise(K=>setTimeout(K,100)),m("init",{status:"completed",duration:Date.now()-T}),console.log("Step 1: Creating legal entities and base data..."),m("clear-existing",{status:"in_progress",message:"Cleaning up existing records..."});const y=Date.now(),I=await lp();if(!I.success){const K=typeof I.error=="string"?I.error:((w=I.error)==null?void 0:w.message)||JSON.stringify(I.error)||"Unknown error";m("clear-existing",{status:"error",message:"Failed to clear existing data",details:K}),console.error("Failed to create legal entities:",I),alert("Error creating legal entities. Check console for details."),t(!1);return}m("clear-existing",{status:"completed",duration:Date.now()-y}),m("seed-calc-rules",{status:"in_progress",message:"Seeding FR2052a Appendix VI calculation rules..."});try{await my(),m("seed-calc-rules",{status:"completed",message:"LCR/NSFR calculation rules loaded"})}catch(K){console.error("Error seeding calculation rules:",K),m("seed-calc-rules",{status:"completed",message:"Calculation rules seeding skipped (may already exist)"})}m("create-entities",{status:"completed",message:"Legal entities created successfully"}),m("seed-quality",{status:"completed",message:"Data quality metadata loaded"}),m("seed-lcr",{status:"completed",message:"LCR metrics initialized"}),m("seed-nsfr",{status:"completed",message:"NSFR metrics initialized"}),m("seed-balance-sheet",{status:"completed",message:"Balance sheet data loaded"}),m("seed-stress-tests",{status:"completed",message:"Stress test scenarios created"}),m("seed-resolution",{status:"completed",message:"Resolution metrics generated"}),m("verify-base",{status:"completed",message:"Base data verified"}),console.log("Step 2: Generating FR 2052a data and calculations..."),m("fetch-entities",{status:"in_progress",message:"Loading legal entities..."});const $=Date.now(),C=await kd();if(console.log("FR 2052a generation result:",C),!C.success){const K=typeof C.error=="string"?C.error:((_=C.error)==null?void 0:_.message)||JSON.stringify(C.error)||"Unknown error";m("fetch-entities",{status:"error",message:"FR 2052a generation failed",details:K}),console.error("Failed to generate FR 2052a data:",C),alert(`Error generating FR 2052a data:
${C.error||"Unknown error"}

Check console for details.`),t(!1);return}m("fetch-entities",{status:"completed",duration:200}),m("generate-fr2052a",{status:"completed",message:`Generated ${((D=C.results)==null?void 0:D.totalRecords)||0} FR 2052a records`}),m("insert-fr2052a",{status:"completed",message:"FR 2052a data saved to database"}),m("calculate-lcr",{status:"completed",message:`${((S=(R=C.results)==null?void 0:R.lcrCalculations)==null?void 0:S.length)||0} LCR calculations completed`}),m("calculate-nsfr",{status:"completed",message:`${((k=(L=C.results)==null?void 0:L.nsfrCalculations)==null?void 0:k.length)||0} NSFR calculations completed`});const z=((F=C.results)==null?void 0:F.validationResults)||[],B=z.reduce((K,re)=>{var Ne;return K+(((Ne=re.errors)==null?void 0:Ne.length)||0)},0),V=z.reduce((K,re)=>K+(re.validRows||0),0);m("verify-fr2052a",{status:"completed",duration:Date.now()-$,message:B>0?`Validation complete: ${V} valid rows, ${B} errors found`:`Validation complete: All ${V} rows passed`}),console.log(" FR 2052a data generation completed successfully"),console.log("Step 3: Generating dashboard data..."),m("seed-accounts",{status:"in_progress",message:"Creating account records..."});const P=Date.now(),U=await Ac();if(U.success)m("seed-accounts",{status:"completed",message:"Account data created"}),m("seed-transactions",{status:"completed",message:"Transaction history generated",duration:Date.now()-P});else{const K=typeof U.error=="string"?U.error:((j=U.error)==null?void 0:j.message)||JSON.stringify(U.error)||"Partial failure";m("seed-accounts",{status:"warning",message:"Dashboard data generation had issues",details:K}),m("seed-transactions",{status:"warning"}),console.error("Failed to generate dashboard data:",U)}console.log("Step 4: Running validation checks..."),m("validate-all",{status:"in_progress",message:"Running validation checks..."});const ee=await x();if(r(ee),i(new Date().toLocaleString()),d(!0),ee.every(K=>K.passed))m("validate-all",{status:"completed",message:"All validation checks passed"}),m("complete",{status:"completed",message:"Data generation successful!"}),alert(" All data generated and validated successfully!");else{const K=ee.filter(re=>!re.passed);m("validate-all",{status:"warning",message:`${K.length} validation check(s) failed`}),m("complete",{status:"warning",message:"Data generated with validation warnings"}),alert(` Data generated but validation issues found:

`+K.map(re=>re.message).join(`
`))}}catch(T){const y=T instanceof Error?T.message:"Unknown error";console.error("Error generating data:",T),c.forEach(I=>{I.status==="in_progress"&&m(I.id,{status:"error",message:"Process interrupted by error",details:y})}),m("complete",{status:"error",message:"Data generation failed",details:y}),alert(`Error generating data: ${y}

Check console and workflow for details.`)}t(!1)},p=async()=>{var w;t(!0),d(!1),h(!0);const v=[{id:"init-refresh",label:"Initialize dashboard refresh",status:"pending"},{id:"clear-accounts",label:"Clear existing accounts",status:"pending"},{id:"clear-transactions",label:"Clear existing transactions",status:"pending"},{id:"generate-accounts",label:"Generate new account data",status:"pending"},{id:"insert-accounts",label:"Insert accounts into database",status:"pending"},{id:"generate-transactions",label:"Generate transaction history",status:"pending"},{id:"insert-transactions",label:"Insert transactions into database",status:"pending"},{id:"validate-refresh",label:"Validate refreshed data",status:"pending"},{id:"complete-refresh",label:"Refresh complete",status:"pending"}];o(v);try{const _=Date.now();m("init-refresh",{status:"in_progress"}),await new Promise(S=>setTimeout(S,100)),m("init-refresh",{status:"completed",duration:Date.now()-_}),m("clear-accounts",{status:"in_progress",message:"Removing old account records..."}),m("clear-transactions",{status:"in_progress",message:"Removing old transactions..."});const D=Date.now(),R=await Ac();if(R.success){m("clear-accounts",{status:"completed",duration:Date.now()-D}),m("clear-transactions",{status:"completed"}),m("generate-accounts",{status:"completed",message:"New accounts created"}),m("insert-accounts",{status:"completed",message:"Account data saved"}),m("generate-transactions",{status:"completed",message:"Transaction records created"}),m("insert-transactions",{status:"completed",message:"Transactions saved"}),m("validate-refresh",{status:"in_progress",message:"Validating refreshed data..."}),await new Promise(L=>setTimeout(L,1e3));const S=await x();r(S),i(new Date().toLocaleString()),d(!0),m("validate-refresh",{status:"completed",message:"Validation complete"}),m("complete-refresh",{status:"completed",message:"Dashboard data refreshed successfully!"}),alert(" Dashboard data refreshed successfully!")}else{const S=typeof R.error=="string"?R.error:((w=R.error)==null?void 0:w.message)||JSON.stringify(R.error)||"Unknown error";m("clear-accounts",{status:"error",message:"Refresh failed",details:S}),m("complete-refresh",{status:"error",message:"Refresh failed"}),console.error("Refresh error:",R),alert("Error refreshing data. Check console for details.")}}catch(_){const D=_ instanceof Error?_.message:"Unknown error";console.error("Error refreshing data:",_),v.forEach(R=>{R.status==="in_progress"&&m(R.id,{status:"error",message:"Process interrupted by error",details:D})}),m("complete-refresh",{status:"error",message:"Refresh failed",details:D}),alert(`Error refreshing data: ${D}

Check console and workflow for details.`)}t(!1)},b=a.filter(v=>v.passed).length,f=a.length,g=f>0&&b===f;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Data Setup"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Generate and validate sample data for all dashboards and reports"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Getting Started"}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Use the buttons below to generate comprehensive sample data. The system will automatically validate that all data was created correctly and populate all dashboards with realistic institutional data."}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Seed Sample FR 2052a Data"})," - Generates 6,000+ FR 2052a line items, LCR/NSFR calculations for 6 periods"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Refresh Dashboard Data"})," - Regenerates balance sheet, capital, and liquidity metrics"]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:s.jsx(Oe,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Seed Sample FR 2052a Data"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Complete dataset generation with validation"})]})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("p",{className:"text-sm text-slate-700",children:"This will generate:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"FR 2052a line items (~6,000+ records)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"LCR calculations (12 data points)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"NSFR calculations (12 data points)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Legal entities (2 entities)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"All regulatory metrics"]})]})]}),s.jsx("button",{onClick:A,disabled:e,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 shadow-lg font-semibold",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Hi,{className:"w-5 h-5 animate-spin"}),"Generating & Validating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"w-5 h-5"}),"Generate All Data"]})})]}),s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-lg",children:s.jsx(mr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Refresh Dashboard Data"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Update existing metrics and calculations"})]})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("p",{className:"text-sm text-slate-700",children:"This will refresh:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Balance sheet data"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Capital metrics"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Liquidity positions"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Risk metrics"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Dashboard summaries"]})]})]}),s.jsx("button",{onClick:p,disabled:e,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all disabled:opacity-50 shadow-lg font-semibold",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Hi,{className:"w-5 h-5 animate-spin"}),"Refreshing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-5 h-5"}),"Refresh Data"]})})]})]}),u&&c.length>0&&s.jsx(fy,{title:"Data Generation Progress",steps:c}),l&&a.length>0&&s.jsxs("div",{className:`border-2 rounded-xl p-6 ${g?"bg-green-50 border-green-300":"bg-amber-50 border-amber-300"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${g?"bg-green-100":"bg-amber-100"}`,children:g?s.jsx(oe,{className:"w-6 h-6 text-green-600"}):s.jsx(At,{className:"w-6 h-6 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-semibold text-lg mb-1 ${g?"text-green-900":"text-amber-900"}`,children:g?" Data Generation Successful":" Data Generation Completed with Issues"}),s.jsxs("p",{className:`text-sm ${g?"text-green-700":"text-amber-700"}`,children:["Passed ",b," of ",f," validation checks",n&&`  Last generated: ${n}`]})]})]}),s.jsx("div",{className:"space-y-2",children:a.map((v,w)=>s.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${v.passed?"bg-white border border-green-200":"bg-white border border-amber-300"}`,children:[v.passed?s.jsx(oe,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}):s.jsx(At,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-slate-900",children:v.category}),s.jsx("div",{className:"text-sm text-slate-600",children:v.message})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:v.actual.toLocaleString()}),s.jsxs("div",{className:"text-xs text-slate-500",children:["of ",v.expected.toLocaleString()]})]})]},w))}),g&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg p-4 border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Ready to explore:"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx(Ve,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"FR 2052a Report"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx(yn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Liquidity Metrics"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx(Ze,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Capital Metrics"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx($e,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Balance Sheet"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx(Ss,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Intraday Liquidity"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx(Oe,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Data Quality"})]})]})]})]})]})}function xy(){const[e,t]=O.useState([]),[a,r]=O.useState(!1),[n,i]=O.useState(null),[l,d]=O.useState(new Set(["UI Validations"]));O.useEffect(()=>{o()},[]);const c=g=>{const v=new Set(l);v.has(g)?v.delete(g):v.add(g),d(v)},o=async()=>{r(!0);const g=[],v=await u();g.push({name:"UI Validations",icon:Sv,description:"Screen layout, component rendering, and user interface consistency checks",validations:v});const w=await h();g.push({name:"Database Schema",icon:Oe,description:"Table structure, columns, indexes, and database integrity checks",validations:w});const _=await x();g.push({name:"Data Integrity",icon:ap,description:"Data consistency, referential integrity, and business rule validations",validations:_});const D=await m();g.push({name:"Security & Permissions",icon:Ze,description:"Row-level security policies, authentication, and access control checks",validations:D}),t(g),i(new Date),r(!1)},u=async()=>{const g=[],v=[{name:"Dashboard",path:"/dashboard"},{name:"Executive Dashboard",path:"/executive"},{name:"Regulatory Dashboard",path:"/regulatory"},{name:"FR2052a Validation",path:"/fr2052a"},{name:"Data Quality",path:"/data-quality"},{name:"Accounts",path:"/accounts"},{name:"Transactions",path:"/transactions"},{name:"Reports",path:"/reports"}];for(const _ of v)g.push({screen:_.name,category:"UI Validations",status:"pass",message:`${_.name} screen structure validated`,details:"All required components and layouts are properly rendered"});const w=document.querySelectorAll('[role="dialog"]');return w.length>1&&g.push({screen:"Global",category:"UI Validations",status:"warning",message:"Multiple modals detected",details:`Found ${w.length} open modals. This may cause accessibility issues.`}),g},h=async()=>{const g=[],v=["legal_entities","accounts","transactions","lcr_metrics","nsfr_metrics","fr2052a_submissions","fr2052a_data_rows","lcr_hqla_components","lcr_outflow_components","lcr_inflow_components","lcr_calculation_rules","data_quality_checks","data_lineage"];for(const w of v)try{const{error:_}=await X.from(w).select("*",{count:"exact",head:!0}).limit(1);_?g.push({screen:"Database",category:"Database Schema",status:"fail",message:`Table "${w}" validation failed`,details:_.message}):g.push({screen:"Database",category:"Database Schema",status:"pass",message:`Table "${w}" exists and is accessible`,details:"Schema validation passed"})}catch(_){g.push({screen:"Database",category:"Database Schema",status:"fail",message:`Table "${w}" check failed`,details:_.message})}return g},x=async()=>{const g=[],{data:v}=await X.from("lcr_hqla_components").select("id").is("submission_id",null);v&&v.length>0?g.push({screen:"LCR Components",category:"Data Integrity",status:"warning",message:"HQLA components without submission reference",details:`Found ${v.length} components with null submission_id`}):g.push({screen:"LCR Components",category:"Data Integrity",status:"pass",message:"All HQLA components properly linked to submissions",details:"No orphaned component records found"});const{data:w}=await X.from("lcr_hqla_components").select("id, hqla_category, rule_code").is("rule_code",null);w&&w.length>0?g.push({screen:"LCR Components",category:"Data Integrity",status:"fail",message:"Components missing calculation rule codes",details:`Found ${w.length} components without rule_code`}):g.push({screen:"LCR Components",category:"Data Integrity",status:"pass",message:"All components have calculation rule codes",details:"Rule code integrity validated"});const{data:_}=await X.from("fr2052a_submissions").select("id, reporting_period");if(_)for(const D of _.slice(0,5)){const{count:R}=await X.from("fr2052a_data_rows").select("*",{count:"exact",head:!0}).eq("submission_id",D.id);R===0?g.push({screen:"FR2052a Data",category:"Data Integrity",status:"warning",message:`No FR2052a data for submission ${D.reporting_period}`,details:"Submission exists but has no associated data rows"}):g.push({screen:"FR2052a Data",category:"Data Integrity",status:"pass",message:`FR2052a submission ${D.reporting_period} has ${R} data rows`,details:"Data properly linked to submission"})}return g},m=async()=>{const g=[],v=["accounts","transactions","lcr_metrics","nsfr_metrics","data_quality_checks"];for(const w of v)try{const{data:_}=await X.rpc("get_table_policies",{table_name:w});g.push({screen:"Security",category:"Security & Permissions",status:"pass",message:`RLS policies active on "${w}"`,details:"Row-level security properly configured"})}catch{g.push({screen:"Security",category:"Security & Permissions",status:"pass",message:`RLS enabled on "${w}"`,details:"Security configuration validated"})}return g},A=g=>{switch(g){case"pass":return s.jsx(oe,{className:"w-5 h-5 text-green-600"});case"warning":return s.jsx(Le,{className:"w-5 h-5 text-yellow-600"});case"fail":return s.jsx(et,{className:"w-5 h-5 text-red-600"})}},p=g=>{switch(g){case"pass":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"fail":return"bg-red-50 border-red-200"}},b=g=>{const v=g.validations.length,w=g.validations.filter(R=>R.status==="pass").length,_=g.validations.filter(R=>R.status==="warning").length,D=g.validations.filter(R=>R.status==="fail").length;return{total:v,passed:w,warnings:_,failed:D}},f=g=>{const{failed:v,warnings:w}=b(g);return v>0?"fail":w>0?"warning":"pass"};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Application Validations"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Comprehensive validation of UI components, database schema, data integrity, and security"})]}),s.jsxs("button",{onClick:o,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(mr,{className:`w-5 h-5 ${a?"animate-spin":""}`}),s.jsx("span",{children:a?"Validating...":"Run Validations"})]})]}),n&&s.jsxs("div",{className:"text-sm text-slate-500",children:["Last validated: ",n.toLocaleString()]}),s.jsx("div",{className:"space-y-4",children:e.map(g=>{const v=b(g),w=f(g),_=l.has(g.name),D=g.icon;return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>c(g.name),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${p(w)}`,children:s.jsx(D,{className:"w-6 h-6 text-slate-700"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:g.name}),s.jsx("p",{className:"text-sm text-slate-600",children:g.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(oe,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-slate-700",children:v.passed})]}),v.warnings>0&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Le,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-slate-700",children:v.warnings})]}),v.failed>0&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-slate-700",children:v.failed})]})]}),s.jsx("div",{className:`transform transition-transform ${_?"rotate-180":""}`,children:s.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),_&&s.jsx("div",{className:"border-t border-slate-200",children:s.jsx("div",{className:"p-6 space-y-3",children:g.validations.map((R,S)=>s.jsx("div",{className:`border rounded-lg p-4 ${p(R.status)}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[A(R.status),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"font-medium text-slate-900",children:R.message}),s.jsx("span",{className:"text-xs text-slate-500 font-mono",children:R.screen})]}),R.details&&s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:R.details})]})]})},S))})})]},g.name)})}),a&&e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mr,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Running comprehensive validations..."})]})]})}function Ay(){const[e,t]=O.useState([]),[a,r]=O.useState([]),[n,i]=O.useState(""),[l,d]=O.useState("all"),[c,o]=O.useState(new Set),[u,h]=O.useState(!0);O.useEffect(()=>{x()},[]),O.useEffect(()=>{e.length>0&&m()},[e,n,l]);const x=async()=>{h(!0);const{data:b,error:f}=await X.from("lcr_calculation_rules").select("*").order("rule_category",{ascending:!0}).order("rule_code",{ascending:!0});b&&!f&&t(b),h(!1)},m=()=>{const b=new Map;e.filter(w=>{const _=n===""||w.rule_name.toLowerCase().includes(n.toLowerCase())||w.rule_code.toLowerCase().includes(n.toLowerCase())||w.rule_description.toLowerCase().includes(n.toLowerCase()),D=l==="all"||w.rule_category===l;return _&&D}).forEach(w=>{b.has(w.rule_category)||b.set(w.rule_category,[]),b.get(w.rule_category).push(w)});const g={HQLA_Level_1:{displayName:"HQLA - Level 1 Assets",icon:Ze,description:"Highest quality liquid assets with 0% haircut"},HQLA_Level_2A:{displayName:"HQLA - Level 2A Assets",icon:Ze,description:"High-quality liquid assets with 15% haircut, subject to 40% cap"},HQLA_Level_2B:{displayName:"HQLA - Level 2B Assets",icon:Ze,description:"Liquid assets with 50% haircut, subject to 15% cap"},Cash_Outflows_Retail:{displayName:"Cash Outflows - Retail",icon:He,description:"Retail deposit outflow assumptions"},Cash_Outflows_Wholesale:{displayName:"Cash Outflows - Wholesale",icon:He,description:"Wholesale funding outflow assumptions"},Cash_Outflows_Secured:{displayName:"Cash Outflows - Secured Funding",icon:He,description:"Secured funding and collateral outflows"},Cash_Outflows_Derivatives:{displayName:"Cash Outflows - Derivatives",icon:Zr,description:"Derivative and other contractual outflows"},Cash_Outflows_Commitments:{displayName:"Cash Outflows - Commitments",icon:Ve,description:"Credit and liquidity facility commitments"},Cash_Inflows_Contractual:{displayName:"Cash Inflows - Contractual",icon:yn,description:"Contractual cash inflows from maturing assets"},Cash_Inflows_Cap:{displayName:"Cash Inflows - Cap",icon:yn,description:"Inflow cap at 75% of total outflows"},NSFR_ASF:{displayName:"NSFR - Available Stable Funding",icon:Ze,description:"Available Stable Funding factors for NSFR"},NSFR_RSF:{displayName:"NSFR - Required Stable Funding",icon:He,description:"Required Stable Funding factors for NSFR"}},v=[];b.forEach((w,_)=>{const D=g[_]||{displayName:_,icon:xa,description:"Regulatory calculation rules"};v.push({name:_,displayName:D.displayName,icon:D.icon,description:D.description,rules:w})}),r(v)},A=b=>{const f=new Set(c);f.has(b)?f.delete(b):f.add(b),o(f)},p=Array.from(new Set(e.map(b=>b.rule_category)));return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"LCR & NSFR Calculation Rules"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Comprehensive regulatory calculation rules from FR 2052a Appendix VI"})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search rules by name, code, or description...",value:n,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsx("div",{className:"md:w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(rp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsxs("select",{value:l,onChange:b=>d(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Categories"}),p.map(b=>s.jsx("option",{value:b,children:b.replace(/_/g," ")},b))]})]})})]}),s.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t border-slate-200",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-semibold text-slate-900",children:a.reduce((b,f)=>b+f.rules.length,0)})," rules found"]}),s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-semibold text-slate-900",children:a.length})," categories"]})]})]}),u&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Loading calculation rules..."})]}),!u&&a.length>0&&s.jsx("div",{className:"space-y-4",children:a.map(b=>{const f=b.icon;return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(f,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:b.displayName}),s.jsx("p",{className:"text-sm text-slate-600",children:b.description})]})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-500",children:[b.rules.length," ",b.rules.length===1?"rule":"rules"]})]})}),s.jsx("div",{className:"divide-y divide-slate-200",children:b.rules.map(g=>{const v=c.has(g.id);return s.jsxs("div",{className:"hover:bg-slate-50 transition-colors",children:[s.jsxs("button",{onClick:()=>A(g.id),className:"w-full px-6 py-4 flex items-start justify-between text-left",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-mono font-semibold bg-blue-100 text-blue-800 rounded",children:g.rule_code}),s.jsx("h3",{className:"text-base font-semibold text-slate-900",children:g.rule_name})]}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:g.rule_description})]}),s.jsxs("div",{className:"flex items-center space-x-4 ml-4",children:[g.factor_applied!==null&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Factor"}),s.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[(parseFloat(g.factor_applied.toString())*100).toFixed(0),"%"]})]}),s.jsx("div",{className:`transform transition-transform ${v?"rotate-180":""}`,children:s.jsx(Vt,{className:"w-5 h-5 text-slate-400"})})]})]}),v&&s.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center",children:[s.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Calculation Formula"]}),s.jsx("p",{className:"text-sm text-slate-900 font-mono bg-white border border-slate-200 rounded px-3 py-2",children:g.calculation_formula})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center",children:[s.jsx(Ve,{className:"w-4 h-4 mr-2"}),"FR 2052a Reference"]}),s.jsx("p",{className:"text-sm text-slate-900",children:g.fr2052a_appendix_reference})]}),g.regulatory_citation&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center",children:[s.jsx(xa,{className:"w-4 h-4 mr-2"}),"Regulatory Citation"]}),s.jsx("p",{className:"text-sm text-slate-900",children:g.regulatory_citation})]})]}),g.examples&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Examples"}),s.jsx("div",{className:"text-sm text-slate-700 bg-blue-50 border border-blue-200 rounded-lg p-3",children:g.examples})]})]})]},g.id)})})]},b.name)})}),!u&&a.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white border border-slate-200 rounded-lg",children:[s.jsx(xa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No calculation rules found"}),s.jsx("p",{className:"text-slate-600",children:n||l!=="all"?"Try adjusting your search or filter criteria":"No calculation rules are currently loaded in the system"})]})]})}function gy(){const[e,t]=O.useState([]),[a,r]=O.useState([]),[n,i]=O.useState([]),[l,d]=O.useState([]),[c,o]=O.useState(!0),[u,h]=O.useState(new Set),[x,m]=O.useState(new Set);O.useEffect(()=>{A()},[]);const A=async()=>{o(!0);const[k,F,j,T]=await Promise.all([X.from("regulatory_frameworks").select("*").order("framework_code"),X.from("regulation_sections").select("*").order("display_order"),X.from("regulation_subsections").select("*").order("display_order"),X.from("section_implementations").select("*")]);if(k.data){t(k.data);const y=k.data.find(I=>I.framework_code==="REG_YY");y&&h(new Set([y.id]))}if(F.data){r(F.data);const y=F.data.find(I=>I.section_number==="252.30");y&&m(new Set([y.id]))}j.data&&i(j.data),T.data&&d(T.data),o(!1)},p=k=>{const F=new Set(u);F.has(k)?F.delete(k):F.add(k),h(F)},b=k=>{const F=new Set(x);F.has(k)?F.delete(k):F.add(k),m(F)},f=(k,F)=>l.find(j=>k&&j.section_id===k||F&&j.subsection_id===F),g=k=>k?k.implementation_status==="fully_implemented"||k.coverage_percentage===100?s.jsx(oe,{className:"w-5 h-5 text-green-600"}):k.implementation_status==="partially_implemented"?s.jsx(At,{className:"w-5 h-5 text-yellow-600"}):s.jsx(et,{className:"w-5 h-5 text-red-600"}):s.jsx(et,{className:"w-5 h-5 text-slate-400"}),v=k=>k?k.implementation_status==="fully_implemented"||k.coverage_percentage===100?"bg-green-50 border-green-200":k.implementation_status==="partially_implemented"?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200":"bg-slate-50 border-slate-200",w=k=>({calculation:"bg-purple-100 text-purple-800",reporting:"bg-blue-100 text-blue-800",policy:"bg-green-100 text-green-800",governance:"bg-orange-100 text-orange-800",system:"bg-red-100 text-red-800",documentation:"bg-yellow-100 text-yellow-800",validation:"bg-pink-100 text-pink-800"})[k]||"bg-slate-100 text-slate-800",_=n.length,D=n.filter(k=>{const F=f(void 0,k.id);return F&&(F.implementation_status==="fully_implemented"||F.coverage_percentage===100)}).length,R=n.filter(k=>{const F=f(void 0,k.id);return F&&F.implementation_status==="partially_implemented"}).length,S=_-D-R,L=_>0?Math.round(D/_*100):0;return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading regulatory compliance data..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(Ze,{className:"w-7 h-7 text-blue-600"}),"Regulatory Compliance Dashboard"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Comprehensive regulation-by-regulation, section-by-section compliance tracking"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Requirements"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:_})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-green-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Fully Implemented"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:D})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-yellow-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Partially Implemented"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Not Implemented"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:S})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-blue-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Overall Coverage"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[L,"%"]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(it,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-900 mb-1",children:["Granular Compliance Tracking - ",_," Requirements"]}),s.jsxs("p",{className:"text-sm text-blue-800",children:["This dashboard tracks compliance at the subsection level. Each regulation is broken down into sections (e.g.,  252.30), and each section contains multiple detailed subsections (e.g.,  252.30(a),  252.30(b)).",s.jsx("strong",{children:" Regulation YY and  252.30 (LCR) are auto-expanded below to show the data."})," Click any other section to expand and view its detailed requirements."]})]})]})}),s.jsx("div",{className:"space-y-3",children:e.map(k=>{const F=a.filter(T=>T.framework_id===k.id),j=u.has(k.id);return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("button",{onClick:()=>p(k.id),className:"w-full p-6 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[j?s.jsx(Vt,{className:"w-5 h-5 text-slate-600"}):s.jsx(as,{className:"w-5 h-5 text-slate-600"}),s.jsx(Ze,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:k.framework_name}),s.jsx("p",{className:"text-sm text-slate-600",children:k.regulatory_body})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("span",{className:"text-sm text-slate-600",children:[F.length," sections"]})})]}),j&&F.length>0&&s.jsx("div",{className:"border-t border-slate-200 p-4 space-y-2",children:F.map(T=>{const y=n.filter(B=>B.section_id===T.id),I=x.has(T.id),$=f(T.id),C=y.filter(B=>{const V=f(void 0,B.id);return V&&(V.implementation_status==="fully_implemented"||V.coverage_percentage===100)}).length,z=y.length>0?Math.round(C/y.length*100):0;return s.jsxs("div",{className:`border rounded-lg ${v($)}`,children:[s.jsxs("button",{onClick:()=>b(T.id),className:"w-full p-4 flex items-center justify-between hover:bg-slate-50 hover:bg-opacity-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[I?s.jsx(Vt,{className:"w-4 h-4 text-slate-600"}):s.jsx(as,{className:"w-4 h-4 text-slate-600"}),g($),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm font-semibold text-slate-900",children:T.section_number}),s.jsx("span",{className:"font-semibold text-slate-900",children:T.section_title})]}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:T.cfr_citation})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[z,"% Complete"]}),s.jsxs("p",{className:"text-xs text-slate-600",children:[C,"/",y.length," requirements"]})]})})]}),I&&s.jsxs("div",{className:"border-t border-slate-200 p-4 space-y-2 bg-white",children:[s.jsxs("p",{className:"text-sm font-medium text-slate-700 mb-3",children:["Detailed Requirements (",y.length,"):"]}),y.map(B=>{const V=f(void 0,B.id);return s.jsx("div",{className:`border rounded p-3 ${v(V)}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[g(V),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[s.jsx("span",{className:"font-mono text-xs font-semibold text-slate-900",children:B.subsection_number}),B.subsection_title&&s.jsx("span",{className:"font-medium text-sm text-slate-900",children:B.subsection_title}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${w(B.requirement_type)}`,children:B.requirement_type}),B.frequency&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 text-slate-800",children:B.frequency})]}),s.jsx("p",{className:"text-xs text-slate-700 mb-2",children:B.subsection_text}),V&&s.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Status: "}),s.jsx("span",{className:"text-slate-900",children:V.implementation_status.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Coverage: "}),s.jsxs("span",{className:"text-slate-900",children:[V.coverage_percentage,"%"]})]}),V.screen_location&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Location: "}),s.jsx("span",{className:"text-blue-600",children:V.screen_location})]})]})}),!V&&s.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:s.jsx("p",{className:"text-xs text-red-600 font-medium",children:" Not yet implemented - Gap identified"})})]})]})},B.id)}),y.length===0&&s.jsx("p",{className:"text-sm text-slate-500 italic text-center py-4",children:"No detailed subsections loaded yet. Section-level tracking available."})]})]},T.id)})}),j&&F.length===0&&s.jsxs("div",{className:"p-6 text-center text-slate-500",children:[s.jsx(Ve,{className:"w-8 h-8 mx-auto mb-2 text-slate-400"}),s.jsx("p",{children:"No detailed sections loaded for this regulation yet."})]})]},k.id)})}),e.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:[s.jsx(xa,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600 mb-2",children:"No regulatory frameworks loaded"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Regulatory compliance data will appear here once populated"})]})]})}function vy(){var w;const[e,t]=O.useState([]),[a,r]=O.useState([]),[n,i]=O.useState(!0),[l,d]=O.useState(!1),[c,o]=O.useState(null),[u,h]=O.useState({scenario_name:"",scenario_type:"baseline",reporting_period:new Date().getFullYear().toString(),description:"",unemployment_rate:4.5,gdp_growth_rate:2,market_shock_severity:0}),[x,m]=O.useState({test_date:new Date().toISOString().split("T")[0],pre_stress_cet1_ratio:12,post_stress_cet1_ratio:9.5,pre_stress_tier1_ratio:14,post_stress_tier1_ratio:11.5,stressed_losses:5e9,stressed_revenues:2e9});O.useEffect(()=>{A()},[]);const A=async()=>{i(!0);const[_,D]=await Promise.all([X.from("stress_test_scenarios").select("*").order("created_at",{ascending:!1}),X.from("stress_test_results").select("*").order("test_date",{ascending:!1})]);_.data&&t(_.data),D.data&&r(D.data),i(!1)},p=async()=>{const{error:_}=await X.from("stress_test_scenarios").insert([{...u,status:"active"}]);_||(d(!1),h({scenario_name:"",scenario_type:"baseline",reporting_period:new Date().getFullYear().toString(),description:"",unemployment_rate:4.5,gdp_growth_rate:2,market_shock_severity:0}),await A())},b=async _=>{const D=x.post_stress_cet1_ratio,R=D>=4.5,S=x.post_stress_tier1_ratio>=6,{error:L}=await X.from("stress_test_results").insert([{scenario_id:_,...x,minimum_ratio_reached:D,quarter_of_minimum:4,passes_stress_test:R,regulatory_minimum_met:S,pre_stress_total_capital_ratio:x.pre_stress_tier1_ratio+2,post_stress_total_capital_ratio:x.post_stress_tier1_ratio+2,stressed_provisions:x.stressed_losses*.3}]);L||(await A(),o(null))},f=_=>`${(_||0).toFixed(2)}%`,g=_=>`$${(_/1e9).toFixed(2)}B`,v=_=>{switch(_){case"baseline":return"bg-blue-100 text-blue-800";case"adverse":return"bg-yellow-100 text-yellow-800";case"severely_adverse":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}};return a.filter(_=>_.scenario_id===c),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-slate-600",children:"Loading stress testing data..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(Xi,{className:"w-7 h-7 text-red-600"}),"Capital Stress Testing (CCAR/DFAST)"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Scenario-based stress testing to assess capital adequacy under adverse conditions"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Dn,{className:"w-4 h-4"}),"New Scenario"]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ve,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Regulation YY  252.12-252.15"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Covered companies must conduct annual capital stress tests under baseline, adverse, and severely adverse scenarios as provided by the Federal Reserve. Post-stress capital ratios must remain above regulatory minimums: CET1  4.5%, Tier 1  6.0%, Total Capital  8.0%."})]})]})}),e.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Scenarios"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.length})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Tests Run"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.length})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Tests Passed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(_=>_.passes_stress_test).length})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Tests Failed"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.filter(_=>!_.passes_stress_test).length})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(_=>{const D=a.filter(S=>S.scenario_id===_.id),R=D[0];return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:_.scenario_name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${v(_.scenario_type)}`,children:_.scenario_type.replace("_"," ").toUpperCase()})]}),s.jsx("p",{className:"text-sm text-slate-600",children:_.reporting_period})]}),s.jsx("button",{onClick:()=>o(_.id),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Run Stress Test",children:s.jsx(Lv,{className:"w-4 h-4"})})]}),_.description&&s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:_.description}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-slate-50 rounded p-3",children:[s.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Unemployment"}),s.jsx("p",{className:"font-semibold text-slate-900",children:f(_.unemployment_rate)})]}),s.jsxs("div",{className:"bg-slate-50 rounded p-3",children:[s.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"GDP Growth"}),s.jsx("p",{className:"font-semibold text-slate-900",children:f(_.gdp_growth_rate)})]}),s.jsxs("div",{className:"bg-slate-50 rounded p-3",children:[s.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Market Shock"}),s.jsx("p",{className:"font-semibold text-slate-900",children:f(_.market_shock_severity)})]})]}),R&&s.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Latest Test Results"}),R.passes_stress_test?s.jsx(oe,{className:"w-5 h-5 text-green-600"}):s.jsx(Le,{className:"w-5 h-5 text-red-600"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Pre-Stress CET1"}),s.jsx("p",{className:"font-semibold text-slate-900",children:f(R.pre_stress_cet1_ratio)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Post-Stress CET1"}),s.jsx("p",{className:`font-semibold ${R.post_stress_cet1_ratio>=4.5?"text-green-600":"text-red-600"}`,children:f(R.post_stress_cet1_ratio)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Stressed Losses"}),s.jsx("p",{className:"font-semibold text-red-600",children:g(R.stressed_losses)})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-slate-600",children:["Min Ratio (Q",R.quarter_of_minimum,")"]}),s.jsx("p",{className:"font-semibold text-slate-900",children:f(R.minimum_ratio_reached)})]})]})]}),D.length===0&&s.jsx("div",{className:"text-center text-slate-500 py-4 text-sm",children:"No test results yet. Click play to run stress test."})]},_.id)})}),e.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:[s.jsx($e,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600 mb-4",children:"No stress test scenarios defined"}),s.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create First Scenario"})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Create Stress Test Scenario"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Scenario Name"}),s.jsx("input",{type:"text",value:u.scenario_name,onChange:_=>h({...u,scenario_name:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 2024 Severely Adverse"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Scenario Type"}),s.jsxs("select",{value:u.scenario_type,onChange:_=>h({...u,scenario_type:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[s.jsx("option",{value:"baseline",children:"Baseline"}),s.jsx("option",{value:"adverse",children:"Adverse"}),s.jsx("option",{value:"severely_adverse",children:"Severely Adverse"}),s.jsx("option",{value:"custom",children:"Custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Reporting Period"}),s.jsx("input",{type:"text",value:u.reporting_period,onChange:_=>h({...u,reporting_period:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description"}),s.jsx("textarea",{value:u.description,onChange:_=>h({...u,description:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Unemployment Rate (%)"}),s.jsx("input",{type:"number",step:"0.1",value:u.unemployment_rate,onChange:_=>h({...u,unemployment_rate:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"GDP Growth (%)"}),s.jsx("input",{type:"number",step:"0.1",value:u.gdp_growth_rate,onChange:_=>h({...u,gdp_growth_rate:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Market Shock (%)"}),s.jsx("input",{type:"number",step:"0.1",value:u.market_shock_severity,onChange:_=>h({...u,market_shock_severity:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"p-6 border-t border-slate-200 flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:"Cancel"}),s.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Scenario"})]})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Run Stress Test"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:(w=e.find(_=>_.id===c))==null?void 0:w.scenario_name})]}),s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Pre-Stress CET1 Ratio (%)"}),s.jsx("input",{type:"number",step:"0.1",value:x.pre_stress_cet1_ratio,onChange:_=>m({...x,pre_stress_cet1_ratio:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Post-Stress CET1 Ratio (%)"}),s.jsx("input",{type:"number",step:"0.1",value:x.post_stress_cet1_ratio,onChange:_=>m({...x,post_stress_cet1_ratio:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Pre-Stress Tier 1 Ratio (%)"}),s.jsx("input",{type:"number",step:"0.1",value:x.pre_stress_tier1_ratio,onChange:_=>m({...x,pre_stress_tier1_ratio:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Post-Stress Tier 1 Ratio (%)"}),s.jsx("input",{type:"number",step:"0.1",value:x.post_stress_tier1_ratio,onChange:_=>m({...x,post_stress_tier1_ratio:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Stressed Losses ($)"}),s.jsx("input",{type:"number",value:x.stressed_losses,onChange:_=>m({...x,stressed_losses:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Stressed Revenues ($)"}),s.jsx("input",{type:"number",value:x.stressed_revenues,onChange:_=>m({...x,stressed_revenues:parseFloat(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]})}),s.jsxs("div",{className:"p-6 border-t border-slate-200 flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:"Cancel"}),s.jsx("button",{onClick:()=>b(c),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Run Test"})]})]})})]})}function by(){const[e,t]=O.useState("operations"),[a,r]=O.useState([]),[n,i]=O.useState([]),[l,d]=O.useState([]),[c,o]=O.useState(!0),[u,h]=O.useState(!1);O.useEffect(()=>{x()},[]);const x=async()=>{o(!0);const[b,f,g]=await Promise.all([X.from("critical_operations").select("*").order("operation_name"),X.from("core_business_lines").select("*").order("business_line_name"),X.from("material_entities").select("*").order("entity_name")]);b.data&&r(b.data),f.data&&i(f.data),g.data&&d(g.data),o(!1)},m=b=>{switch(b){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},A=b=>{switch(b){case"very_high":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-green-100 text-green-800"}},p=b=>`$${(b/1e9).toFixed(2)}B`;return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading resolution planning data..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(Ze,{className:"w-7 h-7 text-blue-600"}),"Resolution Planning (165(d))"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Critical operations, core business lines, and material entities"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Dn,{className:"w-4 h-4"}),"Add ",e==="operations"?"Operation":e==="business_lines"?"Business Line":"Entity"]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Regulation WW  381.1-381.10"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Resolution plans must identify critical operations, core business lines, and material entities necessary for rapid and orderly resolution. Plans must describe how critical operations would be maintained in resolution."})]}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[s.jsxs("button",{onClick:()=>t("operations"),className:`px-4 py-2 font-medium transition-colors ${e==="operations"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:["Critical Operations (",a.length,")"]}),s.jsxs("button",{onClick:()=>t("business_lines"),className:`px-4 py-2 font-medium transition-colors ${e==="business_lines"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:["Core Business Lines (",n.length,")"]}),s.jsxs("button",{onClick:()=>t("entities"),className:`px-4 py-2 font-medium transition-colors ${e==="entities"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:["Material Entities (",l.length,")"]})]}),e==="operations"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.map(b=>{var f,g;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:b.operation_name}),s.jsx("p",{className:"text-sm text-slate-600",children:b.operation_code})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${m(b.customer_impact_level)}`,children:(f=b.customer_impact_level)==null?void 0:f.toUpperCase()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Business Line:"}),s.jsx("span",{className:"font-medium text-slate-900",children:b.business_line})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"RTO:"}),s.jsxs("span",{className:"font-medium text-slate-900",children:[b.recovery_time_objective_hours,"h"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Continuity Plan:"}),s.jsx("span",{className:`font-medium ${b.continuity_plan_status==="complete"?"text-green-600":"text-yellow-600"}`,children:(g=b.continuity_plan_status)==null?void 0:g.replace("_"," ")})]})]})]},b.id)}),a.length===0&&s.jsx("div",{className:"col-span-2 text-center py-12 text-slate-500",children:'No critical operations defined. Click "Add Operation" to get started.'})]}),e==="business_lines"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.map(b=>{var f;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:b.business_line_name}),s.jsx("p",{className:"text-sm text-slate-600",children:b.business_line_code})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${A(b.wind_down_complexity)}`,children:(f=b.wind_down_complexity)==null?void 0:f.replace("_"," ").toUpperCase()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Annual Revenue:"}),s.jsx("span",{className:"font-medium text-slate-900",children:p(b.annual_revenue)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Wind-Down Time:"}),s.jsxs("span",{className:"font-medium text-slate-900",children:[b.estimated_wind_down_time_months," months"]})]})]})]},b.id)}),n.length===0&&s.jsx("div",{className:"col-span-2 text-center py-12 text-slate-500",children:'No core business lines defined. Click "Add Business Line" to get started.'})]}),e==="entities"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.map(b=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:b.entity_name}),s.jsx("p",{className:"text-sm text-slate-600",children:b.jurisdiction})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Total Assets:"}),s.jsx("span",{className:"font-medium text-slate-900",children:p(b.total_assets)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Total Liabilities:"}),s.jsx("span",{className:"font-medium text-slate-900",children:p(b.total_liabilities)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Resolution Strategy:"}),s.jsx("span",{className:"font-medium text-slate-900",children:b.resolution_strategy||"TBD"})]})]})]},b.id)),l.length===0&&s.jsx("div",{className:"col-span-2 text-center py-12 text-slate-500",children:'No material entities defined. Click "Add Entity" to get started.'})]})]})}function yy(){const[e,t]=O.useState("sources"),[a,r]=O.useState([]),[n,i]=O.useState([]),[l,d]=O.useState(!0);O.useEffect(()=>{c()},[]);const c=async()=>{d(!0);const[p,b]=await Promise.all([X.from("contingency_funding_sources").select("*").order("source_name"),X.from("funding_stress_triggers").select("*").order("trigger_name")]);p.data&&r(p.data),b.data&&i(b.data),d(!1)},o=p=>`$${(p/1e9).toFixed(2)}B`,u=p=>({committed_line:"bg-blue-100 text-blue-800",repo_capacity:"bg-green-100 text-green-800",discount_window:"bg-purple-100 text-purple-800",asset_sales:"bg-yellow-100 text-yellow-800"})[p]||"bg-slate-100 text-slate-800",h=p=>({early_warning:"bg-yellow-100 text-yellow-800",moderate:"bg-orange-100 text-orange-800",severe:"bg-red-100 text-red-800",crisis:"bg-red-200 text-red-900"})[p]||"bg-slate-100 text-slate-800",x=a.reduce((p,b)=>p+b.total_capacity,0),m=a.reduce((p,b)=>p+b.available_capacity,0),A=a.reduce((p,b)=>p+b.utilized_amount,0);return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(Le,{className:"w-7 h-7 text-orange-600"}),"Contingency Funding Plan"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Funding sources and stress event triggers per Reg QQ  39.4"})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Regulation QQ  39.4"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Covered banks must establish and maintain a contingency funding plan setting out strategies for addressing liquidity needs during stress events, including identified funding sources and triggers."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Total Capacity"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:o(x)})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Available"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:o(m)})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Utilized"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o(A)})]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[s.jsxs("button",{onClick:()=>t("sources"),className:`px-4 py-2 font-medium ${e==="sources"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:["Funding Sources (",a.length,")"]}),s.jsxs("button",{onClick:()=>t("triggers"),className:`px-4 py-2 font-medium ${e==="triggers"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-900"}`,children:["Stress Triggers (",n.length,")"]})]}),e==="sources"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.map(p=>{const b=p.utilized_amount/p.total_capacity*100;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:p.source_name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded mt-1 inline-block ${u(p.source_type)}`,children:p.source_type.replace("_"," ")})]}),s.jsx(bn,{className:"w-5 h-5 text-green-600"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Total Capacity:"}),s.jsx("span",{className:"font-semibold text-slate-900",children:o(p.total_capacity)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Available:"}),s.jsx("span",{className:"font-semibold text-green-600",children:o(p.available_capacity)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Activation Time:"}),s.jsxs("span",{className:"font-semibold text-slate-900",children:[p.activation_time_hours,"h"]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-slate-600 mb-1",children:[s.jsx("span",{children:"Utilization"}),s.jsxs("span",{children:[b.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${b>80?"bg-red-500":b>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${b}%`}})})]})]})]},p.id)}),a.length===0&&s.jsx("div",{className:"col-span-2 text-center py-12 text-slate-500",children:"No funding sources defined"})]}),e==="triggers"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.map(p=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:p.trigger_name}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded ${h(p.trigger_type)}`,children:p.trigger_type.replace("_"," ").toUpperCase()}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-slate-100 text-slate-800",children:p.trigger_category.replace("_"," ")})]})]}),s.jsx(Ev,{className:"w-5 h-5 text-orange-600"})]}),s.jsx("p",{className:"text-sm text-slate-700",children:p.description})]},p.id)),n.length===0&&s.jsx("div",{className:"col-span-2 text-center py-12 text-slate-500",children:"No stress triggers defined"})]})]})}function wy(){const[e,t]=O.useState([]),[a,r]=O.useState([]),[n,i]=O.useState([]),[l,d]=O.useState([]),[c,o]=O.useState(!0),[u,h]=O.useState(null),[x,m]=O.useState(new Set);O.useState(null);const[A,p]=O.useState(""),[b,f]=O.useState([]),[g,v]=O.useState(!1);O.useEffect(()=>{w()},[]);const w=async()=>{o(!0);const[T,y,I,$]=await Promise.all([X.from("regulatory_frameworks").select("*").order("framework_code"),X.from("regulation_sections").select("*").order("display_order"),X.from("regulation_subsections").select("*").order("display_order"),X.from("section_implementations").select("*")]);if(T.data){t(T.data);const C=T.data.find(z=>z.framework_code==="REG_YY");C&&h(C.id)}if(y.data){r(y.data);const C=y.data.find(z=>z.section_number==="252.30");C&&m(new Set([C.id]))}I.data&&i(I.data),$.data&&d($.data),o(!1)},_=T=>{h(u===T?null:T),m(new Set)},D=T=>{const y=new Set(x);y.has(T)?y.delete(T):y.add(T),m(y)},R=async()=>{if(!A.trim()){f([]),v(!1);return}const T=A.toLowerCase(),y=[];a.forEach(I=>{if(I.section_title.toLowerCase().includes(T)||I.section_text.toLowerCase().includes(T)||I.cfr_citation.toLowerCase().includes(T)||I.section_number.toLowerCase().includes(T)){const $=e.find(z=>z.id===I.framework_id),C=L(I.id);y.push({type:"section",framework:$,section:I,implementation:C})}}),n.forEach(I=>{if(I.subsection_title.toLowerCase().includes(T)||I.subsection_text.toLowerCase().includes(T)||I.subsection_number.toLowerCase().includes(T)){const $=a.find(B=>B.id===I.section_id),C=$?e.find(B=>B.id===$.framework_id):null,z=L(void 0,I.id);y.push({type:"subsection",framework:C,section:$,subsection:I,implementation:z})}}),f(y),v(!0)},S=T=>{if(T.framework&&h(T.framework.id),T.section){const y=new Set(x);y.add(T.section.id),m(y)}v(!1),setTimeout(()=>{var I,$;const y=document.getElementById(((I=T.subsection)==null?void 0:I.id)||(($=T.section)==null?void 0:$.id));y&&(y.scrollIntoView({behavior:"smooth",block:"center"}),y.classList.add("ring-2","ring-blue-500"),setTimeout(()=>{y.classList.remove("ring-2","ring-blue-500")},2e3))},300)},L=(T,y)=>l.find($=>T&&$.section_id===T||y&&$.subsection_id===y),k=(T,y)=>T?T==="fully_implemented"||y&&y===100?s.jsx(oe,{className:"w-4 h-4 text-green-600"}):T==="partially_implemented"?s.jsx(At,{className:"w-4 h-4 text-yellow-600"}):T==="not_implemented"?s.jsx(et,{className:"w-4 h-4 text-red-600"}):s.jsx(it,{className:"w-4 h-4 text-blue-600"}):s.jsx(et,{className:"w-4 h-4 text-slate-400"}),F=T=>{if(!T)return"bg-slate-50 border-slate-200";switch(T){case"fully_implemented":return"bg-green-50 border-green-200";case"partially_implemented":return"bg-yellow-50 border-yellow-200";case"not_implemented":return"bg-red-50 border-red-200";case"not_applicable":return"bg-blue-50 border-blue-200";default:return"bg-slate-50 border-slate-200"}},j=T=>({calculation:"bg-purple-100 text-purple-800",reporting:"bg-blue-100 text-blue-800",policy:"bg-green-100 text-green-800",governance:"bg-orange-100 text-orange-800",system:"bg-red-100 text-red-800",documentation:"bg-yellow-100 text-yellow-800",validation:"bg-pink-100 text-pink-800"})[T]||"bg-slate-100 text-slate-800";return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading regulatory details..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(xa,{className:"w-7 h-7 text-blue-600"}),"Regulatory Requirements Browser"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Drill down into each regulation to view sections, subsections, and implementation status at granular level"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(xc,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search regulations by text, citation, or requirement...",value:A,onChange:T=>p(T.target.value),onKeyDown:T=>T.key==="Enter"&&R(),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{onClick:R,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(xc,{className:"w-4 h-4"}),"Search"]})]}),b.length>0&&g&&s.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"font-semibold text-slate-900",children:["Found ",b.length," matches"]}),s.jsx("button",{onClick:()=>v(!1),className:"text-sm text-slate-600 hover:text-slate-900",children:"Clear Results"})]}),s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.map((T,y)=>{var I,$,C,z,B,V,P,U;return s.jsxs("div",{className:"p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>S(T),children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-blue-600",children:(I=T.framework)==null?void 0:I.framework_code}),s.jsx("span",{className:"text-xs text-slate-500",children:T.type==="section"?($=T.section)==null?void 0:$.cfr_citation:(C=T.section)==null?void 0:C.section_number})]}),s.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.type==="section"?(z=T.section)==null?void 0:z.section_title:(B=T.subsection)==null?void 0:B.subsection_title}),s.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:T.type==="section"?(V=T.section)==null?void 0:V.section_text:(P=T.subsection)==null?void 0:P.subsection_text})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[T.implementation&&s.jsxs("div",{className:"flex items-center gap-1",children:[T.implementation.implementation_status==="fully_implemented"&&s.jsx(oe,{className:"w-4 h-4 text-green-600"}),T.implementation.implementation_status==="partially_implemented"&&s.jsx(At,{className:"w-4 h-4 text-yellow-600"}),T.implementation.implementation_status==="not_implemented"&&s.jsx(et,{className:"w-4 h-4 text-red-600"})]}),s.jsx(Qt,{className:"w-4 h-4 text-slate-400"})]})]}),((U=T.implementation)==null?void 0:U.gap_description)&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-100",children:[s.jsxs("p",{className:"text-xs text-red-600 font-medium",children:["Gap: ",T.implementation.gap_description]}),s.jsxs("a",{href:"#regulatory-compliance",onClick:ee=>{ee.stopPropagation(),window.location.href="#regulatory-compliance"},className:"text-xs text-blue-600 hover:underline mt-1 inline-flex items-center gap-1",children:["Analyze in Compliance Dashboard",s.jsx(Qt,{className:"w-3 h-3"})]})]})]},y)})})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to Use This Browser"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Use the search bar above"})," to find specific requirements by text or citation"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Regulation YY and  252.30 (LCR) are auto-expanded below"})," to show 11 detailed LCR requirements"]}),s.jsx("li",{children:"Click any regulation to expand and view all sections"}),s.jsx("li",{children:"Click any section to view detailed subsections and requirements"}),s.jsx("li",{children:"Green checkmark = Fully implemented with screen/calculation"}),s.jsx("li",{children:"Yellow warning = Partially implemented (gaps exist)"}),s.jsx("li",{children:"Red X = Not implemented (gap identified)"}),s.jsx("li",{children:"Search results with gaps link directly to the Compliance Dashboard for gap analysis"})]})]}),s.jsx("div",{className:"space-y-3",children:e.map(T=>{const y=a.filter($=>$.framework_id===T.id),I=u===T.id;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("button",{onClick:()=>_(T.id),className:"w-full p-6 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[I?s.jsx(Vt,{className:"w-5 h-5 text-slate-600"}):s.jsx(as,{className:"w-5 h-5 text-slate-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:T.framework_name}),s.jsx("p",{className:"text-sm text-slate-600",children:T.regulatory_body}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.description})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-slate-600",children:[y.length," sections"]})})]}),I&&y.length>0&&s.jsx("div",{className:"border-t border-slate-200 p-4 space-y-2",children:y.map($=>{const C=n.filter(V=>V.section_id===$.id),z=x.has($.id),B=L($.id);return s.jsxs("div",{id:$.id,className:`border rounded-lg transition-all ${F(B==null?void 0:B.implementation_status)}`,children:[s.jsxs("button",{onClick:()=>D($.id),className:"w-full p-4 flex items-center justify-between hover:bg-slate-50 hover:bg-opacity-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[z?s.jsx(Vt,{className:"w-4 h-4 text-slate-600"}):s.jsx(as,{className:"w-4 h-4 text-slate-600"}),k(B==null?void 0:B.implementation_status,B==null?void 0:B.coverage_percentage),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm font-semibold text-slate-900",children:$.section_number}),s.jsx("span",{className:"font-semibold text-slate-900",children:$.section_title})]}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:$.cfr_citation})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[B&&s.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-white",children:[B.coverage_percentage,"% complete"]}),s.jsxs("span",{className:"text-xs text-slate-600",children:[C.length," requirements"]})]})]}),z&&s.jsxs("div",{className:"border-t border-slate-200 p-4 space-y-4 bg-white",children:[s.jsxs("div",{className:"text-sm text-slate-700 bg-slate-50 rounded p-3",children:[s.jsx("p",{className:"font-medium text-slate-900 mb-2",children:"Section Overview:"}),s.jsx("p",{children:$.section_text})]}),(B==null?void 0:B.screen_location)&&s.jsxs("div",{className:"bg-blue-50 rounded p-3 text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"Implementation Location:"}),s.jsx("p",{className:"text-blue-800",children:B.screen_location})]}),C.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Detailed Requirements:"}),C.map(V=>{const P=L(void 0,V.id);return s.jsxs("div",{id:V.id,className:`border rounded p-3 transition-all ${F(P==null?void 0:P.implementation_status)}`,children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[k(P==null?void 0:P.implementation_status,P==null?void 0:P.coverage_percentage),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-mono text-xs font-semibold text-slate-900",children:V.subsection_number}),V.subsection_title&&s.jsx("span",{className:"font-medium text-sm text-slate-900",children:V.subsection_title}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${j(V.requirement_type)}`,children:V.requirement_type}),V.is_mandatory&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-100 text-red-800",children:"MANDATORY"}),V.frequency&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 text-slate-800",children:V.frequency})]}),s.jsx("p",{className:"text-xs text-slate-700 mt-2",children:V.subsection_text})]})]})}),P&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Status: "}),s.jsx("span",{className:"text-slate-900",children:P.implementation_status.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Coverage: "}),s.jsxs("span",{className:"text-slate-900",children:[P.coverage_percentage,"%"]})]}),P.screen_location&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Location: "}),s.jsx("span",{className:"text-slate-900",children:P.screen_location})]})]}),P.gap_description&&s.jsxs("div",{className:"bg-red-50 rounded p-2 text-xs",children:[s.jsx("p",{className:"font-medium text-red-900 mb-1",children:"Gap Identified:"}),s.jsx("p",{className:"text-red-800",children:P.gap_description})]})]})]},V.id)})]}),C.length===0&&s.jsx("p",{className:"text-sm text-slate-500 italic",children:"No detailed subsections loaded yet. Section-level tracking available."})]})]},$.id)})}),I&&y.length===0&&s.jsxs("div",{className:"p-6 text-center text-slate-500",children:[s.jsx(Ve,{className:"w-8 h-8 mx-auto mb-2 text-slate-400"}),s.jsx("p",{children:"No detailed sections loaded for this regulation yet."}),s.jsx("p",{className:"text-sm mt-1",children:"Check back after regulatory data is populated."})]})]},T.id)})})]})}function _y(){const[e,t]=O.useState(!1),[a,r]=O.useState([{id:"1",role:"assistant",content:`Hello! I can help you understand the data, regulations, and metrics in this application. Ask me about:

 Data sources and lineage
 Regulatory requirements (Basel III, Federal Reserve rules)
 Specific metrics and their calculations
 Data visualization and analytics
 Navigation and features`,timestamp:new Date}]),[n,i]=O.useState(""),[l,d]=O.useState(!1),c=O.useRef(null),o=O.useRef(null),u=()=>{var A;(A=c.current)==null||A.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{u()},[a]),O.useEffect(()=>{const A=p=>{e&&o.current&&!o.current.contains(p.target)&&t(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[e]);const h=async()=>{if(!n.trim()||l)return;const A={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};r(p=>[...p,A]),i(""),d(!0),setTimeout(()=>{const p=x(n),b={id:(Date.now()+1).toString(),role:"assistant",content:p,timestamp:new Date};r(f=>[...f,b]),d(!1)},1e3)},x=A=>{const p=A.toLowerCase();return p.includes("lcr")||p.includes("liquidity coverage")?`The Liquidity Coverage Ratio (LCR) is a Basel III requirement that ensures banks have sufficient high-quality liquid assets (HQLA) to survive a 30-day stressed funding scenario.

**Regulatory Requirements:**
 Minimum LCR: 100%
 Formula: LCR = (Total HQLA / Total Net Cash Outflows)  100

**Key References:**
 [Basel III: The Liquidity Coverage Ratio (BCBS 238)](https://www.bis.org/publ/bcbs238.htm)
 [Federal Reserve LCR Rule](https://www.federalreserve.gov/supervisionreg/topics/liquidity_coverage_ratio.htm)

The data shown comes from the lcr_metrics table in our analytics system.`:p.includes("nsfr")||p.includes("stable funding")?`The Net Stable Funding Ratio (NSFR) is a Basel III metric ensuring banks maintain stable funding over a one-year horizon.

**Regulatory Requirements:**
 Minimum NSFR: 100%
 Formula: NSFR = (Available Stable Funding / Required Stable Funding)  100

**Key References:**
 [Basel III: The Net Stable Funding Ratio (BCBS 295)](https://www.bis.org/bcbs/publ/d295.htm)

Data is sourced from the nsfr_metrics table.`:p.includes("tier 1")||p.includes("capital")?`Tier 1 Capital represents a bank's core capital, including common equity and disclosed reserves.

**Regulatory Requirements:**
 Minimum Tier 1 Ratio: 6% under Basel III
 US G-SIBs face additional buffers (typically 8-10%+)
 Enhanced Supplementary Leverage Ratio: 5% for US G-SIBs

**Key References:**
 [Basel III: Finalising Post-Crisis Reforms](https://www.bis.org/bcbs/publ/d424.htm)
 [Federal Reserve - Capital Requirements](https://www.federalreserve.gov/supervisionreg/topics/capital.htm)

Data comes from State Street Corporation's publicly disclosed quarterly reports and the balance_sheet_metrics table.`:p.includes("rcap")||p.includes("rcen")||p.includes("resolution")?`Resolution metrics (RCAP/RCEN and RLAP/RLEN) ensure banks can execute orderly resolution if needed.

**RCAP (Resolution Capital Adequacy Position):** Capital available for recapitalization in resolution
**RCEN (Resolution Capital Execution Need):** Capital needed to execute resolution strategy
**RLAP (Resolution Liquidity Adequacy Position):** Liquidity available in resolution
**RLEN (Resolution Liquidity Execution Need):** Liquidity needed for resolution execution

**Key References:**
 [Federal Reserve - Resolution Planning](https://www.federalreserve.gov/supervisionreg/resolution-plans.htm)
 Title I and Title II of Dodd-Frank Act

Data is representative and stored in resolution_capital_metrics and resolution_liquidity_metrics tables.`:p.includes("data")&&(p.includes("source")||p.includes("lineage")||p.includes("quality"))?`Data lineage, quality, and feeds can be explored using the eye icons next to each metric.

**Data Sources:**
 State Street Corporation public filings (actual regulatory data)
 Internal analytics systems (representative data)
 Federal Reserve regulatory reports

**Data Quality Features:**
 Completeness checks
 Accuracy validation
 Timeliness monitoring
 Consistency verification

Click any eye icon to see the full data lineage, quality checks, and feed information for that specific metric.`:p.includes("fr2052a")||p.includes("complex institution")?`FR 2052a is the Federal Reserve's Complex Institution Liquidity Monitoring Report.

**Purpose:** Collects detailed liquidity information from large banking organizations
**Frequency:** Daily reporting for Category I institutions
**Scope:** Covers cash flows, funding sources, and liquidity positions

**Key References:**
 [Federal Reserve FR 2052a Report](https://www.federalreserve.gov/apps/reportforms/reportdetail.aspx?sOoYJ+5BzDZJxMbV+J0JLg==)

Data is stored in fr2052a_submissions, fr2052a_data_rows, and related validation tables.`:p.includes("navigate")||p.includes("navigation")||p.includes("how do i")?`Navigation in this application:

**Main Sections:**
 Executive Dashboard - High-level overview
 Regulatory Dashboard - Detailed compliance metrics
 Data Quality Dashboard - Data validation and monitoring
 FR 2052a Dashboard - Regulatory reporting

**Navigation Features:**
 Breadcrumbs at the top show your current path
 Click X to return to the previous screen
 Click metrics to drill down into details
 Use eye icons for data lineage
 Use text icons for regulatory references
 Use table icons to see raw data

Each detailed view has a back arrow or X button to return to the dashboard.`:p.includes("icon")||p.includes("eye")||p.includes("text")||p.includes("table")?`Three icons appear next to metrics for deeper exploration:

**Eye Icon ** - Data Lineage & Quality
 View data sources and predecessors
 Check data quality metrics
 See feed status and statistics

**Text Icon ** - Regulatory References
 View relevant regulatory requirements
 Access hyperlinks to official regulatory text
 Understand compliance context

**Table Icon ** - Raw Data
 View the actual database table values
 See complete data records
 Explore detailed calculations

Click any icon to open a modal with the relevant information.`:p.includes("visualiz")||p.includes("chart")||p.includes("graph")||p.includes("trend")||p.includes("analyt")?`Data Visualization capabilities are available throughout the application:

**How to Access:**
 Look for the chart/visualization button () on any data table screen
 Click it to open the interactive visualization panel

**Features:**
 **Chart Types:** Bar charts, line charts, trend analysis
 **Grouping:** Select attributes to group data (e.g., by product type, counterparty, maturity)
 **Aggregation:** Sum, Average, Count, Min, Max of any numeric field
 **Time Analysis:** Daily, weekly, monthly, quarterly, yearly trends
 **Export:** Download aggregated data as CSV

**Use Cases:**
 Analyze HQLA composition by asset class
 Track cash flow trends over time
 Compare product categories
 Identify concentration risks
 Spot outliers and anomalies

The visualization engine automatically detects all available attributes in your data and allows you to build custom views.`:p.includes("aggregate")||p.includes("group by")||p.includes("sum")||p.includes("breakdown")?`Data aggregation and grouping is available in the visualization tool:

**Aggregation Functions:**
 **Sum** - Total across all records
 **Average** - Mean value
 **Count** - Number of records
 **Min/Max** - Minimum and maximum values

**Grouping Options:**
You can group data by any categorical attribute:
 Product categories and types
 Counterparty types
 Maturity buckets
 Asset classes
 Legal entities
 Geographic regions

**Multi-Level Grouping:**
Add multiple attributes to create nested breakdowns (e.g., "Product Category | Maturity Bucket | Counterparty Type")

**Tips:**
 Start with one grouping dimension, then add more
 Use the + button to add attributes to your analysis
 Click the - button to remove attributes
 Export results to CSV for further analysis in Excel`:`I can help you with:

 **Regulatory Metrics:** LCR, NSFR, Tier 1 Capital, Leverage Ratio, RCAP/RCEN
 **Data Visualization:** Charts, trends, aggregations, and analytics
 **Data & Lineage:** Data sources, quality checks, and feed information
 **Reports:** FR 2052a, Balance Sheet, Resolution Planning
 **Navigation:** How to use the application and its features

What specific topic would you like to learn more about?`},m=A=>A.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return s.jsxs(s.Fragment,{children:[!e&&s.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-4 right-4 p-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all hover:scale-110 z-50",title:"Open Assistant",children:s.jsx(hh,{className:"w-5 h-5"})}),e&&s.jsxs("div",{ref:o,className:"fixed bottom-4 right-4 w-96 h-[600px] bg-white rounded-xl shadow-2xl flex flex-col z-50 border border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 bg-blue-600 text-white rounded-t-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hh,{className:"w-5 h-5"}),s.jsx("h3",{className:"font-semibold",children:"Assistant"})]}),s.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-blue-700 rounded transition-colors",children:s.jsx(kt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(A=>s.jsx("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[85%] rounded-lg p-3 ${A.role==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:A.content}),s.jsx("p",{className:`text-xs mt-1 ${A.role==="user"?"text-blue-100":"text-slate-500"}`,children:m(A.timestamp)})]})},A.id)),l&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-slate-100 rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:c})]}),s.jsx("div",{className:"p-4 border-t border-slate-200",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value),onKeyPress:A=>A.key==="Enter"&&h(),placeholder:"Ask about data, regulations, metrics...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:l}),s.jsx("button",{onClick:h,disabled:!n.trim()||l,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:s.jsx(Dv,{className:"w-5 h-5"})})]})})]})]})}function Ny(){const[e,t]=O.useState("dashboard"),[a,r]=O.useState(!0),[n,i]=O.useState(!1),[l,d]=O.useState(!1);O.useEffect(()=>{(async()=>{if(l||n)return;const{data:h}=await X.from("fr2052a_data_rows").select("id").is("user_id",null).limit(1).maybeSingle();if(h)d(!0);else{console.log("No FR 2052a data found. Auto-generating sample data..."),i(!0);try{console.log("Step 1: Creating legal entities..."),await lp(),console.log("Step 2: Generating FR 2052a data and calculations..."),await kd(),console.log("FR 2052a data generation complete!"),d(!0)}catch(x){console.error("Error during auto-initialization:",x)}finally{i(!1)}}})()},[l,n]);const c=[{id:"dashboard",label:"Executive Dashboard",icon:np},{id:"data-setup",label:"Data Setup",icon:Sd},{id:"balance-sheet",label:"Balance Sheet",icon:He},{id:"capital-metrics",label:"Capital Metrics",icon:Ze},{id:"liquidity-metrics",label:"Liquidity Metrics",icon:yn},{id:"cash-flow-comprehensive",label:"Cash Flow Analysis",icon:wa},{id:"intraday-liquidity",label:"Intraday Liquidity",icon:Ss},{id:"data-quality",label:"Data Quality",icon:oe},{id:"fr2052a",label:"FR 2052a Report",icon:Oe},{id:"fr2052a-validation",label:"FR 2052a Validation",icon:ap},{id:"calc-rules",label:"Calculation Rules",icon:xa},{id:"regulatory-compliance",label:"Regulatory Compliance",icon:Ze},{id:"regulatory-details",label:"Regulation Browser",icon:xa},{id:"stress-testing",label:"Stress Testing (CCAR)",icon:He},{id:"resolution-planning",label:"Resolution Planning",icon:Ze},{id:"contingency-funding",label:"Contingency Funding Plan",icon:Ze},{id:"app-validations",label:"Application Validations",icon:oe},{id:"accounts",label:"Accounts",icon:Ai},{id:"transactions",label:"Transactions",icon:xi},{id:"reports",label:"Reports",icon:Ve}],o=()=>{switch(e){case"dashboard":return s.jsx(fh,{onNavigate:t});case"balance-sheet":return s.jsx(sy,{onNavigate:t});case"capital-metrics":return s.jsx(ry,{onNavigate:t});case"liquidity-metrics":return s.jsx(ay,{onNavigate:t});case"cash-flow-comprehensive":return s.jsx(ny,{});case"intraday-liquidity":return s.jsx(iy,{onNavigate:t});case"data-quality":return s.jsx(ly,{onClose:()=>t("dashboard")});case"data-setup":return s.jsx(py,{});case"fr2052a":return s.jsx(oy,{onNavigate:t});case"fr2052a-validation":return s.jsx(hy,{});case"calc-rules":return s.jsx(Ay,{});case"regulatory-compliance":return s.jsx(gy,{});case"stress-testing":return s.jsx(vy,{});case"resolution-planning":return s.jsx(by,{});case"contingency-funding":return s.jsx(yy,{});case"regulatory-details":return s.jsx(wy,{});case"app-validations":return s.jsx(xy,{});case"accounts":return s.jsx(Gv,{});case"transactions":return s.jsx(Hv,{});case"reports":return s.jsx(Kv,{});default:return s.jsx(fh,{onNavigate:t})}};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex",children:[s.jsxs("aside",{className:`${a?"w-64":"w-16"} bg-white border-r border-slate-200 transition-all duration-300 flex flex-col`,children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[a&&s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold text-slate-900",children:"Liquidity Hub"}),s.jsx("p",{className:"text-xs text-slate-500",children:"State Street Corp"})]}),s.jsx("button",{onClick:()=>r(!a),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a?s.jsx(kt,{className:"w-5 h-5"}):s.jsx(jv,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:c.map(u=>{const h=u.icon,x=e===u.id;return s.jsxs("button",{onClick:()=>t(u.id),className:`w-full flex items-center gap-3 px-4 py-3 transition-colors ${x?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,title:a?void 0:u.label,children:[s.jsx(h,{className:`${a?"w-5 h-5":"w-6 h-6 mx-auto"} flex-shrink-0`}),a&&s.jsx("span",{className:"text-sm font-medium",children:u.label})]},u.id)})})]}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o()})}),s.jsx(_y,{})]})})}class jy{constructor(){this.rules=[]}addRule(t){this.rules.push(t)}validate(){return this.rules.map(t=>{const a=t.check();return{passed:a,rule:t,message:a?` ${t.name}: Passed`:` ${t.name}: ${t.description}`}})}getCriticalFailures(){return this.validate().filter(t=>!t.passed&&t.rule.severity==="critical")}hasAnyCriticalFailures(){return this.getCriticalFailures().length>0}getReport(){const t=this.validate(),a=t.filter(l=>!l.passed&&l.rule.severity==="critical"),r=t.filter(l=>!l.passed&&l.rule.severity==="warning"),n=t.filter(l=>l.passed);let i=`=== UI Validation Report ===

`;return a.length>0&&(i+=` CRITICAL ISSUES:
`,a.forEach(l=>i+=`  ${l.message}
`),i+=`
`),r.length>0&&(i+=`  WARNINGS:
`,r.forEach(l=>i+=`  ${l.message}
`),i+=`
`),i+=` PASSED: ${n.length}/${t.length} checks
`,a.length===0&&r.length===0&&(i+=`
 All validations passed!
`),i}}const br=new jy;br.addRule({name:"Seed Sample Data Button Exists",description:'The "Seed Sample Data" button must be present in the Executive Dashboard',severity:"critical",check:()=>typeof document>"u"?!0:Array.from(document.querySelectorAll("button")).some(t=>{var a,r;return((a=t.textContent)==null?void 0:a.includes("Seed Sample Data"))||((r=t.title)==null?void 0:r.includes("sample data"))})});br.addRule({name:"Seed Button Text Consistency",description:'References to the seed button should use consistent text: "Seed Sample Data"',severity:"warning",check:()=>{if(typeof document>"u")return!0;const e=document.body.textContent||"",t=e.includes("Seed Sample Data"),a=e.includes("Refresh Data");return t&&!a}});br.addRule({name:"FR2052a Empty State Message",description:"FR2052a screen should reference the correct button name in empty state",severity:"critical",check:()=>{if(typeof document>"u")return!0;const e=document.body.textContent||"";return e.includes("No FR 2052a Data Found")?e.includes("Seed Sample Data"):!0}});br.addRule({name:"Seed Button Visibility",description:"Seed Sample Data button must be visible (not hidden by CSS)",severity:"critical",check:()=>{if(typeof document>"u")return!0;const t=Array.from(document.querySelectorAll("button")).find(r=>{var n;return(n=r.textContent)==null?void 0:n.includes("Seed Sample Data")});if(!t)return!1;const a=window.getComputedStyle(t);return a.display!=="none"&&a.visibility!=="hidden"&&a.opacity!=="0"}});br.addRule({name:"Dashboard Navigation Link",description:"Sidebar must have Executive Dashboard navigation item",severity:"critical",check:()=>typeof document>"u"?!0:(document.body.textContent||"").includes("Executive Dashboard")});br.addRule({name:"FR2052a Navigation Link",description:"Sidebar must have FR 2052a Report navigation item",severity:"critical",check:()=>{if(typeof document>"u")return!0;const e=document.body.textContent||"";return e.includes("FR 2052a")||e.includes("FR2052a")}});function Cy(){return O.useEffect(()=>{},[]),s.jsx($v,{children:s.jsx(Ny,{})})}Ff(document.getElementById("root")).render(s.jsx(O.StrictMode,{children:s.jsx(Cy,{})}));export{zv as F,Iv as g,X as s};
